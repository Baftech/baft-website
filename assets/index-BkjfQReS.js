(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))n(r);new MutationObserver(r=>{for(const a of r)if(a.type==="childList")for(const s of a.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&n(s)}).observe(document,{childList:!0,subtree:!0});function t(r){const a={};return r.integrity&&(a.integrity=r.integrity),r.referrerPolicy&&(a.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?a.credentials="include":r.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function n(r){if(r.ep)return;r.ep=!0;const a=t(r);fetch(r.href,a)}})();function vg(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}function kF(i){if(Object.prototype.hasOwnProperty.call(i,"__esModule"))return i;var e=i.default;if(typeof e=="function"){var t=function n(){var r=!1;try{r=this instanceof n}catch{}return r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};t.prototype=e.prototype}else t={};return Object.defineProperty(t,"__esModule",{value:!0}),Object.keys(i).forEach(function(n){var r=Object.getOwnPropertyDescriptor(i,n);Object.defineProperty(t,n,r.get?r:{enumerable:!0,get:function(){return i[n]}})}),t}var P2={exports:{}},Wv={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var s5;function FF(){if(s5)return Wv;s5=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(n,r,a){var s=null;if(a!==void 0&&(s=""+a),r.key!==void 0&&(s=""+r.key),"key"in r){a={};for(var l in r)l!=="key"&&(a[l]=r[l])}else a=r;return r=a.ref,{$$typeof:i,type:n,key:s,ref:r!==void 0?r:null,props:a}}return Wv.Fragment=e,Wv.jsx=t,Wv.jsxs=t,Wv}var o5;function HF(){return o5||(o5=1,P2.exports=FF()),P2.exports}var I=HF(),L2={exports:{}},Pn={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var l5;function VF(){if(l5)return Pn;l5=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),r=Symbol.for("react.profiler"),a=Symbol.for("react.consumer"),s=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),g=Symbol.iterator;function v(F){return F===null||typeof F!="object"?null:(F=g&&F[g]||F["@@iterator"],typeof F=="function"?F:null)}var _={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},S=Object.assign,w={};function E(F,fe,Se){this.props=F,this.context=fe,this.refs=w,this.updater=Se||_}E.prototype.isReactComponent={},E.prototype.setState=function(F,fe){if(typeof F!="object"&&typeof F!="function"&&F!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,F,fe,"setState")},E.prototype.forceUpdate=function(F){this.updater.enqueueForceUpdate(this,F,"forceUpdate")};function b(){}b.prototype=E.prototype;function R(F,fe,Se){this.props=F,this.context=fe,this.refs=w,this.updater=Se||_}var C=R.prototype=new b;C.constructor=R,S(C,E.prototype),C.isPureReactComponent=!0;var A=Array.isArray,N={H:null,A:null,T:null,S:null,V:null},L=Object.prototype.hasOwnProperty;function B(F,fe,Se,Ce,ke,we){return Se=we.ref,{$$typeof:i,type:F,key:fe,ref:Se!==void 0?Se:null,props:we}}function U(F,fe){return B(F.type,fe,void 0,void 0,void 0,F.props)}function P(F){return typeof F=="object"&&F!==null&&F.$$typeof===i}function z(F){var fe={"=":"=0",":":"=2"};return"$"+F.replace(/[=:]/g,function(Se){return fe[Se]})}var X=/\/+/g;function te(F,fe){return typeof F=="object"&&F!==null&&F.key!=null?z(""+F.key):fe.toString(36)}function se(){}function ae(F){switch(F.status){case"fulfilled":return F.value;case"rejected":throw F.reason;default:switch(typeof F.status=="string"?F.then(se,se):(F.status="pending",F.then(function(fe){F.status==="pending"&&(F.status="fulfilled",F.value=fe)},function(fe){F.status==="pending"&&(F.status="rejected",F.reason=fe)})),F.status){case"fulfilled":return F.value;case"rejected":throw F.reason}}throw F}function ue(F,fe,Se,Ce,ke){var we=typeof F;(we==="undefined"||we==="boolean")&&(F=null);var ee=!1;if(F===null)ee=!0;else switch(we){case"bigint":case"string":case"number":ee=!0;break;case"object":switch(F.$$typeof){case i:case e:ee=!0;break;case p:return ee=F._init,ue(ee(F._payload),fe,Se,Ce,ke)}}if(ee)return ke=ke(F),ee=Ce===""?"."+te(F,0):Ce,A(ke)?(Se="",ee!=null&&(Se=ee.replace(X,"$&/")+"/"),ue(ke,fe,Se,"",function(Be){return Be})):ke!=null&&(P(ke)&&(ke=U(ke,Se+(ke.key==null||F&&F.key===ke.key?"":(""+ke.key).replace(X,"$&/")+"/")+ee)),fe.push(ke)),1;ee=0;var ie=Ce===""?".":Ce+":";if(A(F))for(var _e=0;_e<F.length;_e++)Ce=F[_e],we=ie+te(Ce,_e),ee+=ue(Ce,fe,Se,we,ke);else if(_e=v(F),typeof _e=="function")for(F=_e.call(F),_e=0;!(Ce=F.next()).done;)Ce=Ce.value,we=ie+te(Ce,_e++),ee+=ue(Ce,fe,Se,we,ke);else if(we==="object"){if(typeof F.then=="function")return ue(ae(F),fe,Se,Ce,ke);throw fe=String(F),Error("Objects are not valid as a React child (found: "+(fe==="[object Object]"?"object with keys {"+Object.keys(F).join(", ")+"}":fe)+"). If you meant to render a collection of children, use an array instead.")}return ee}function G(F,fe,Se){if(F==null)return F;var Ce=[],ke=0;return ue(F,Ce,"","",function(we){return fe.call(Se,we,ke++)}),Ce}function Y(F){if(F._status===-1){var fe=F._result;fe=fe(),fe.then(function(Se){(F._status===0||F._status===-1)&&(F._status=1,F._result=Se)},function(Se){(F._status===0||F._status===-1)&&(F._status=2,F._result=Se)}),F._status===-1&&(F._status=0,F._result=fe)}if(F._status===1)return F._result.default;throw F._result}var Q=typeof reportError=="function"?reportError:function(F){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var fe=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof F=="object"&&F!==null&&typeof F.message=="string"?String(F.message):String(F),error:F});if(!window.dispatchEvent(fe))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",F);return}console.error(F)};function ye(){}return Pn.Children={map:G,forEach:function(F,fe,Se){G(F,function(){fe.apply(this,arguments)},Se)},count:function(F){var fe=0;return G(F,function(){fe++}),fe},toArray:function(F){return G(F,function(fe){return fe})||[]},only:function(F){if(!P(F))throw Error("React.Children.only expected to receive a single React element child.");return F}},Pn.Component=E,Pn.Fragment=t,Pn.Profiler=r,Pn.PureComponent=R,Pn.StrictMode=n,Pn.Suspense=u,Pn.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=N,Pn.__COMPILER_RUNTIME={__proto__:null,c:function(F){return N.H.useMemoCache(F)}},Pn.cache=function(F){return function(){return F.apply(null,arguments)}},Pn.cloneElement=function(F,fe,Se){if(F==null)throw Error("The argument must be a React element, but you passed "+F+".");var Ce=S({},F.props),ke=F.key,we=void 0;if(fe!=null)for(ee in fe.ref!==void 0&&(we=void 0),fe.key!==void 0&&(ke=""+fe.key),fe)!L.call(fe,ee)||ee==="key"||ee==="__self"||ee==="__source"||ee==="ref"&&fe.ref===void 0||(Ce[ee]=fe[ee]);var ee=arguments.length-2;if(ee===1)Ce.children=Se;else if(1<ee){for(var ie=Array(ee),_e=0;_e<ee;_e++)ie[_e]=arguments[_e+2];Ce.children=ie}return B(F.type,ke,void 0,void 0,we,Ce)},Pn.createContext=function(F){return F={$$typeof:s,_currentValue:F,_currentValue2:F,_threadCount:0,Provider:null,Consumer:null},F.Provider=F,F.Consumer={$$typeof:a,_context:F},F},Pn.createElement=function(F,fe,Se){var Ce,ke={},we=null;if(fe!=null)for(Ce in fe.key!==void 0&&(we=""+fe.key),fe)L.call(fe,Ce)&&Ce!=="key"&&Ce!=="__self"&&Ce!=="__source"&&(ke[Ce]=fe[Ce]);var ee=arguments.length-2;if(ee===1)ke.children=Se;else if(1<ee){for(var ie=Array(ee),_e=0;_e<ee;_e++)ie[_e]=arguments[_e+2];ke.children=ie}if(F&&F.defaultProps)for(Ce in ee=F.defaultProps,ee)ke[Ce]===void 0&&(ke[Ce]=ee[Ce]);return B(F,we,void 0,void 0,null,ke)},Pn.createRef=function(){return{current:null}},Pn.forwardRef=function(F){return{$$typeof:l,render:F}},Pn.isValidElement=P,Pn.lazy=function(F){return{$$typeof:p,_payload:{_status:-1,_result:F},_init:Y}},Pn.memo=function(F,fe){return{$$typeof:f,type:F,compare:fe===void 0?null:fe}},Pn.startTransition=function(F){var fe=N.T,Se={};N.T=Se;try{var Ce=F(),ke=N.S;ke!==null&&ke(Se,Ce),typeof Ce=="object"&&Ce!==null&&typeof Ce.then=="function"&&Ce.then(ye,Q)}catch(we){Q(we)}finally{N.T=fe}},Pn.unstable_useCacheRefresh=function(){return N.H.useCacheRefresh()},Pn.use=function(F){return N.H.use(F)},Pn.useActionState=function(F,fe,Se){return N.H.useActionState(F,fe,Se)},Pn.useCallback=function(F,fe){return N.H.useCallback(F,fe)},Pn.useContext=function(F){return N.H.useContext(F)},Pn.useDebugValue=function(){},Pn.useDeferredValue=function(F,fe){return N.H.useDeferredValue(F,fe)},Pn.useEffect=function(F,fe,Se){var Ce=N.H;if(typeof Se=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return Ce.useEffect(F,fe)},Pn.useId=function(){return N.H.useId()},Pn.useImperativeHandle=function(F,fe,Se){return N.H.useImperativeHandle(F,fe,Se)},Pn.useInsertionEffect=function(F,fe){return N.H.useInsertionEffect(F,fe)},Pn.useLayoutEffect=function(F,fe){return N.H.useLayoutEffect(F,fe)},Pn.useMemo=function(F,fe){return N.H.useMemo(F,fe)},Pn.useOptimistic=function(F,fe){return N.H.useOptimistic(F,fe)},Pn.useReducer=function(F,fe,Se){return N.H.useReducer(F,fe,Se)},Pn.useRef=function(F){return N.H.useRef(F)},Pn.useState=function(F){return N.H.useState(F)},Pn.useSyncExternalStore=function(F,fe,Se){return N.H.useSyncExternalStore(F,fe,Se)},Pn.useTransition=function(){return N.H.useTransition()},Pn.version="19.1.1",Pn}var c5;function yg(){return c5||(c5=1,L2.exports=VF()),L2.exports}var H=yg();const Nr=vg(H);var U2={exports:{}},Xv={},I2={exports:{}},B2={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var u5;function jF(){return u5||(u5=1,(function(i){function e(G,Y){var Q=G.length;G.push(Y);e:for(;0<Q;){var ye=Q-1>>>1,F=G[ye];if(0<r(F,Y))G[ye]=Y,G[Q]=F,Q=ye;else break e}}function t(G){return G.length===0?null:G[0]}function n(G){if(G.length===0)return null;var Y=G[0],Q=G.pop();if(Q!==Y){G[0]=Q;e:for(var ye=0,F=G.length,fe=F>>>1;ye<fe;){var Se=2*(ye+1)-1,Ce=G[Se],ke=Se+1,we=G[ke];if(0>r(Ce,Q))ke<F&&0>r(we,Ce)?(G[ye]=we,G[ke]=Q,ye=ke):(G[ye]=Ce,G[Se]=Q,ye=Se);else if(ke<F&&0>r(we,Q))G[ye]=we,G[ke]=Q,ye=ke;else break e}}return Y}function r(G,Y){var Q=G.sortIndex-Y.sortIndex;return Q!==0?Q:G.id-Y.id}if(i.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var a=performance;i.unstable_now=function(){return a.now()}}else{var s=Date,l=s.now();i.unstable_now=function(){return s.now()-l}}var u=[],f=[],p=1,g=null,v=3,_=!1,S=!1,w=!1,E=!1,b=typeof setTimeout=="function"?setTimeout:null,R=typeof clearTimeout=="function"?clearTimeout:null,C=typeof setImmediate<"u"?setImmediate:null;function A(G){for(var Y=t(f);Y!==null;){if(Y.callback===null)n(f);else if(Y.startTime<=G)n(f),Y.sortIndex=Y.expirationTime,e(u,Y);else break;Y=t(f)}}function N(G){if(w=!1,A(G),!S)if(t(u)!==null)S=!0,L||(L=!0,te());else{var Y=t(f);Y!==null&&ue(N,Y.startTime-G)}}var L=!1,B=-1,U=5,P=-1;function z(){return E?!0:!(i.unstable_now()-P<U)}function X(){if(E=!1,L){var G=i.unstable_now();P=G;var Y=!0;try{e:{S=!1,w&&(w=!1,R(B),B=-1),_=!0;var Q=v;try{t:{for(A(G),g=t(u);g!==null&&!(g.expirationTime>G&&z());){var ye=g.callback;if(typeof ye=="function"){g.callback=null,v=g.priorityLevel;var F=ye(g.expirationTime<=G);if(G=i.unstable_now(),typeof F=="function"){g.callback=F,A(G),Y=!0;break t}g===t(u)&&n(u),A(G)}else n(u);g=t(u)}if(g!==null)Y=!0;else{var fe=t(f);fe!==null&&ue(N,fe.startTime-G),Y=!1}}break e}finally{g=null,v=Q,_=!1}Y=void 0}}finally{Y?te():L=!1}}}var te;if(typeof C=="function")te=function(){C(X)};else if(typeof MessageChannel<"u"){var se=new MessageChannel,ae=se.port2;se.port1.onmessage=X,te=function(){ae.postMessage(null)}}else te=function(){b(X,0)};function ue(G,Y){B=b(function(){G(i.unstable_now())},Y)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(G){G.callback=null},i.unstable_forceFrameRate=function(G){0>G||125<G?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):U=0<G?Math.floor(1e3/G):5},i.unstable_getCurrentPriorityLevel=function(){return v},i.unstable_next=function(G){switch(v){case 1:case 2:case 3:var Y=3;break;default:Y=v}var Q=v;v=Y;try{return G()}finally{v=Q}},i.unstable_requestPaint=function(){E=!0},i.unstable_runWithPriority=function(G,Y){switch(G){case 1:case 2:case 3:case 4:case 5:break;default:G=3}var Q=v;v=G;try{return Y()}finally{v=Q}},i.unstable_scheduleCallback=function(G,Y,Q){var ye=i.unstable_now();switch(typeof Q=="object"&&Q!==null?(Q=Q.delay,Q=typeof Q=="number"&&0<Q?ye+Q:ye):Q=ye,G){case 1:var F=-1;break;case 2:F=250;break;case 5:F=1073741823;break;case 4:F=1e4;break;default:F=5e3}return F=Q+F,G={id:p++,callback:Y,priorityLevel:G,startTime:Q,expirationTime:F,sortIndex:-1},Q>ye?(G.sortIndex=Q,e(f,G),t(u)===null&&G===t(f)&&(w?(R(B),B=-1):w=!0,ue(N,Q-ye))):(G.sortIndex=F,e(u,G),S||_||(S=!0,L||(L=!0,te()))),G},i.unstable_shouldYield=z,i.unstable_wrapCallback=function(G){var Y=v;return function(){var Q=v;v=Y;try{return G.apply(this,arguments)}finally{v=Q}}}})(B2)),B2}var f5;function GF(){return f5||(f5=1,I2.exports=jF()),I2.exports}var z2={exports:{}},Da={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var h5;function WF(){if(h5)return Da;h5=1;var i=yg();function e(u){var f="https://react.dev/errors/"+u;if(1<arguments.length){f+="?args[]="+encodeURIComponent(arguments[1]);for(var p=2;p<arguments.length;p++)f+="&args[]="+encodeURIComponent(arguments[p])}return"Minified React error #"+u+"; visit "+f+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var n={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},r=Symbol.for("react.portal");function a(u,f,p){var g=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:r,key:g==null?null:""+g,children:u,containerInfo:f,implementation:p}}var s=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function l(u,f){if(u==="font")return"";if(typeof f=="string")return f==="use-credentials"?f:""}return Da.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=n,Da.createPortal=function(u,f){var p=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!f||f.nodeType!==1&&f.nodeType!==9&&f.nodeType!==11)throw Error(e(299));return a(u,f,null,p)},Da.flushSync=function(u){var f=s.T,p=n.p;try{if(s.T=null,n.p=2,u)return u()}finally{s.T=f,n.p=p,n.d.f()}},Da.preconnect=function(u,f){typeof u=="string"&&(f?(f=f.crossOrigin,f=typeof f=="string"?f==="use-credentials"?f:"":void 0):f=null,n.d.C(u,f))},Da.prefetchDNS=function(u){typeof u=="string"&&n.d.D(u)},Da.preinit=function(u,f){if(typeof u=="string"&&f&&typeof f.as=="string"){var p=f.as,g=l(p,f.crossOrigin),v=typeof f.integrity=="string"?f.integrity:void 0,_=typeof f.fetchPriority=="string"?f.fetchPriority:void 0;p==="style"?n.d.S(u,typeof f.precedence=="string"?f.precedence:void 0,{crossOrigin:g,integrity:v,fetchPriority:_}):p==="script"&&n.d.X(u,{crossOrigin:g,integrity:v,fetchPriority:_,nonce:typeof f.nonce=="string"?f.nonce:void 0})}},Da.preinitModule=function(u,f){if(typeof u=="string")if(typeof f=="object"&&f!==null){if(f.as==null||f.as==="script"){var p=l(f.as,f.crossOrigin);n.d.M(u,{crossOrigin:p,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0})}}else f==null&&n.d.M(u)},Da.preload=function(u,f){if(typeof u=="string"&&typeof f=="object"&&f!==null&&typeof f.as=="string"){var p=f.as,g=l(p,f.crossOrigin);n.d.L(u,p,{crossOrigin:g,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0,type:typeof f.type=="string"?f.type:void 0,fetchPriority:typeof f.fetchPriority=="string"?f.fetchPriority:void 0,referrerPolicy:typeof f.referrerPolicy=="string"?f.referrerPolicy:void 0,imageSrcSet:typeof f.imageSrcSet=="string"?f.imageSrcSet:void 0,imageSizes:typeof f.imageSizes=="string"?f.imageSizes:void 0,media:typeof f.media=="string"?f.media:void 0})}},Da.preloadModule=function(u,f){if(typeof u=="string")if(f){var p=l(f.as,f.crossOrigin);n.d.m(u,{as:typeof f.as=="string"&&f.as!=="script"?f.as:void 0,crossOrigin:p,integrity:typeof f.integrity=="string"?f.integrity:void 0})}else n.d.m(u)},Da.requestFormReset=function(u){n.d.r(u)},Da.unstable_batchedUpdates=function(u,f){return u(f)},Da.useFormState=function(u,f,p){return s.H.useFormState(u,f,p)},Da.useFormStatus=function(){return s.H.useHostTransitionStatus()},Da.version="19.1.1",Da}var d5;function w4(){if(d5)return z2.exports;d5=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),z2.exports=WF(),z2.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var p5;function XF(){if(p5)return Xv;p5=1;var i=GF(),e=yg(),t=w4();function n(o){var c="https://react.dev/errors/"+o;if(1<arguments.length){c+="?args[]="+encodeURIComponent(arguments[1]);for(var m=2;m<arguments.length;m++)c+="&args[]="+encodeURIComponent(arguments[m])}return"Minified React error #"+o+"; visit "+c+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(o){return!(!o||o.nodeType!==1&&o.nodeType!==9&&o.nodeType!==11)}function a(o){var c=o,m=o;if(o.alternate)for(;c.return;)c=c.return;else{o=c;do c=o,(c.flags&4098)!==0&&(m=c.return),o=c.return;while(o)}return c.tag===3?m:null}function s(o){if(o.tag===13){var c=o.memoizedState;if(c===null&&(o=o.alternate,o!==null&&(c=o.memoizedState)),c!==null)return c.dehydrated}return null}function l(o){if(a(o)!==o)throw Error(n(188))}function u(o){var c=o.alternate;if(!c){if(c=a(o),c===null)throw Error(n(188));return c!==o?null:o}for(var m=o,y=c;;){var M=m.return;if(M===null)break;var D=M.alternate;if(D===null){if(y=M.return,y!==null){m=y;continue}break}if(M.child===D.child){for(D=M.child;D;){if(D===m)return l(M),o;if(D===y)return l(M),c;D=D.sibling}throw Error(n(188))}if(m.return!==y.return)m=M,y=D;else{for(var j=!1,K=M.child;K;){if(K===m){j=!0,m=M,y=D;break}if(K===y){j=!0,y=M,m=D;break}K=K.sibling}if(!j){for(K=D.child;K;){if(K===m){j=!0,m=D,y=M;break}if(K===y){j=!0,y=D,m=M;break}K=K.sibling}if(!j)throw Error(n(189))}}if(m.alternate!==y)throw Error(n(190))}if(m.tag!==3)throw Error(n(188));return m.stateNode.current===m?o:c}function f(o){var c=o.tag;if(c===5||c===26||c===27||c===6)return o;for(o=o.child;o!==null;){if(c=f(o),c!==null)return c;o=o.sibling}return null}var p=Object.assign,g=Symbol.for("react.element"),v=Symbol.for("react.transitional.element"),_=Symbol.for("react.portal"),S=Symbol.for("react.fragment"),w=Symbol.for("react.strict_mode"),E=Symbol.for("react.profiler"),b=Symbol.for("react.provider"),R=Symbol.for("react.consumer"),C=Symbol.for("react.context"),A=Symbol.for("react.forward_ref"),N=Symbol.for("react.suspense"),L=Symbol.for("react.suspense_list"),B=Symbol.for("react.memo"),U=Symbol.for("react.lazy"),P=Symbol.for("react.activity"),z=Symbol.for("react.memo_cache_sentinel"),X=Symbol.iterator;function te(o){return o===null||typeof o!="object"?null:(o=X&&o[X]||o["@@iterator"],typeof o=="function"?o:null)}var se=Symbol.for("react.client.reference");function ae(o){if(o==null)return null;if(typeof o=="function")return o.$$typeof===se?null:o.displayName||o.name||null;if(typeof o=="string")return o;switch(o){case S:return"Fragment";case E:return"Profiler";case w:return"StrictMode";case N:return"Suspense";case L:return"SuspenseList";case P:return"Activity"}if(typeof o=="object")switch(o.$$typeof){case _:return"Portal";case C:return(o.displayName||"Context")+".Provider";case R:return(o._context.displayName||"Context")+".Consumer";case A:var c=o.render;return o=o.displayName,o||(o=c.displayName||c.name||"",o=o!==""?"ForwardRef("+o+")":"ForwardRef"),o;case B:return c=o.displayName||null,c!==null?c:ae(o.type)||"Memo";case U:c=o._payload,o=o._init;try{return ae(o(c))}catch{}}return null}var ue=Array.isArray,G=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Y=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Q={pending:!1,data:null,method:null,action:null},ye=[],F=-1;function fe(o){return{current:o}}function Se(o){0>F||(o.current=ye[F],ye[F]=null,F--)}function Ce(o,c){F++,ye[F]=o.current,o.current=c}var ke=fe(null),we=fe(null),ee=fe(null),ie=fe(null);function _e(o,c){switch(Ce(ee,c),Ce(we,o),Ce(ke,null),c.nodeType){case 9:case 11:o=(o=c.documentElement)&&(o=o.namespaceURI)?LD(o):0;break;default:if(o=c.tagName,c=c.namespaceURI)c=LD(c),o=UD(c,o);else switch(o){case"svg":o=1;break;case"math":o=2;break;default:o=0}}Se(ke),Ce(ke,o)}function Be(){Se(ke),Se(we),Se(ee)}function Ze(o){o.memoizedState!==null&&Ce(ie,o);var c=ke.current,m=UD(c,o.type);c!==m&&(Ce(we,o),Ce(ke,m))}function gt(o){we.current===o&&(Se(ke),Se(we)),ie.current===o&&(Se(ie),Fv._currentValue=Q)}var pt=Object.prototype.hasOwnProperty,ne=i.unstable_scheduleCallback,be=i.unstable_cancelCallback,De=i.unstable_shouldYield,Ye=i.unstable_requestPaint,re=i.unstable_now,Ve=i.unstable_getCurrentPriorityLevel,Ke=i.unstable_ImmediatePriority,$e=i.unstable_UserBlockingPriority,_t=i.unstable_NormalPriority,vt=i.unstable_LowPriority,$=i.unstable_IdlePriority,q=i.log,xe=i.unstable_setDisableYieldValue,Ne=null,ze=null;function Ue(o){if(typeof q=="function"&&xe(o),ze&&typeof ze.setStrictMode=="function")try{ze.setStrictMode(Ne,o)}catch{}}var mt=Math.clz32?Math.clz32:wt,ht=Math.log,Dt=Math.LN2;function wt(o){return o>>>=0,o===0?32:31-(ht(o)/Dt|0)|0}var it=256,ct=4194304;function zt(o){var c=o&42;if(c!==0)return c;switch(o&-o){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return o&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return o}}function Rt(o,c,m){var y=o.pendingLanes;if(y===0)return 0;var M=0,D=o.suspendedLanes,j=o.pingedLanes;o=o.warmLanes;var K=y&134217727;return K!==0?(y=K&~D,y!==0?M=zt(y):(j&=K,j!==0?M=zt(j):m||(m=K&~o,m!==0&&(M=zt(m))))):(K=y&~D,K!==0?M=zt(K):j!==0?M=zt(j):m||(m=y&~o,m!==0&&(M=zt(m)))),M===0?0:c!==0&&c!==M&&(c&D)===0&&(D=M&-M,m=c&-c,D>=m||D===32&&(m&4194048)!==0)?c:M}function ft(o,c){return(o.pendingLanes&~(o.suspendedLanes&~o.pingedLanes)&c)===0}function Ut(o,c){switch(o){case 1:case 2:case 4:case 8:case 64:return c+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return c+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function de(){var o=it;return it<<=1,(it&4194048)===0&&(it=256),o}function Oe(){var o=ct;return ct<<=1,(ct&62914560)===0&&(ct=4194304),o}function dt(o){for(var c=[],m=0;31>m;m++)c.push(o);return c}function At(o,c){o.pendingLanes|=c,c!==268435456&&(o.suspendedLanes=0,o.pingedLanes=0,o.warmLanes=0)}function ot(o,c,m,y,M,D){var j=o.pendingLanes;o.pendingLanes=m,o.suspendedLanes=0,o.pingedLanes=0,o.warmLanes=0,o.expiredLanes&=m,o.entangledLanes&=m,o.errorRecoveryDisabledLanes&=m,o.shellSuspendCounter=0;var K=o.entanglements,me=o.expirationTimes,Ie=o.hiddenUpdates;for(m=j&~m;0<m;){var nt=31-mt(m),lt=1<<nt;K[nt]=0,me[nt]=-1;var je=Ie[nt];if(je!==null)for(Ie[nt]=null,nt=0;nt<je.length;nt++){var We=je[nt];We!==null&&(We.lane&=-536870913)}m&=~lt}y!==0&&et(o,y,0),D!==0&&M===0&&o.tag!==0&&(o.suspendedLanes|=D&~(j&~c))}function et(o,c,m){o.pendingLanes|=c,o.suspendedLanes&=~c;var y=31-mt(c);o.entangledLanes|=c,o.entanglements[y]=o.entanglements[y]|1073741824|m&4194090}function Lt(o,c){var m=o.entangledLanes|=c;for(o=o.entanglements;m;){var y=31-mt(m),M=1<<y;M&c|o[y]&c&&(o[y]|=c),m&=~M}}function Xt(o){switch(o){case 2:o=1;break;case 8:o=4;break;case 32:o=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:o=128;break;case 268435456:o=134217728;break;default:o=0}return o}function bn(o){return o&=-o,2<o?8<o?(o&134217727)!==0?32:268435456:8:2}function Ct(){var o=Y.p;return o!==0?o:(o=window.event,o===void 0?32:e5(o.type))}function Gt(o,c){var m=Y.p;try{return Y.p=o,c()}finally{Y.p=m}}var tn=Math.random().toString(36).slice(2),xt="__reactFiber$"+tn,kt="__reactProps$"+tn,Ft="__reactContainer$"+tn,Zt="__reactEvents$"+tn,si="__reactListeners$"+tn,Qt="__reactHandles$"+tn,It="__reactResources$"+tn,Zn="__reactMarker$"+tn;function sn(o){delete o[xt],delete o[kt],delete o[Zt],delete o[si],delete o[Qt]}function W(o){var c=o[xt];if(c)return c;for(var m=o.parentNode;m;){if(c=m[Ft]||m[xt]){if(m=c.alternate,c.child!==null||m!==null&&m.child!==null)for(o=kD(o);o!==null;){if(m=o[xt])return m;o=kD(o)}return c}o=m,m=o.parentNode}return null}function Z(o){if(o=o[xt]||o[Ft]){var c=o.tag;if(c===5||c===6||c===13||c===26||c===27||c===3)return o}return null}function ge(o){var c=o.tag;if(c===5||c===26||c===27||c===6)return o.stateNode;throw Error(n(33))}function Te(o){var c=o[It];return c||(c=o[It]={hoistableStyles:new Map,hoistableScripts:new Map}),c}function Pe(o){o[Zn]=!0}var Ge=new Set,at={};function V(o,c){oe(o,c),oe(o+"Capture",c)}function oe(o,c){for(at[o]=c,o=0;o<c.length;o++)Ge.add(c[o])}var he=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),pe={},ce={};function qe(o){return pt.call(ce,o)?!0:pt.call(pe,o)?!1:he.test(o)?ce[o]=!0:(pe[o]=!0,!1)}function Fe(o,c,m){if(qe(c))if(m===null)o.removeAttribute(c);else{switch(typeof m){case"undefined":case"function":case"symbol":o.removeAttribute(c);return;case"boolean":var y=c.toLowerCase().slice(0,5);if(y!=="data-"&&y!=="aria-"){o.removeAttribute(c);return}}o.setAttribute(c,""+m)}}function Je(o,c,m){if(m===null)o.removeAttribute(c);else{switch(typeof m){case"undefined":case"function":case"symbol":case"boolean":o.removeAttribute(c);return}o.setAttribute(c,""+m)}}function Qe(o,c,m,y){if(y===null)o.removeAttribute(m);else{switch(typeof y){case"undefined":case"function":case"symbol":case"boolean":o.removeAttribute(m);return}o.setAttributeNS(c,m,""+y)}}var yt,Et;function bt(o){if(yt===void 0)try{throw Error()}catch(m){var c=m.stack.trim().match(/\n( *(at )?)/);yt=c&&c[1]||"",Et=-1<m.stack.indexOf(`
    at`)?" (<anonymous>)":-1<m.stack.indexOf("@")?"@unknown:0:0":""}return`
`+yt+o+Et}var jt=!1;function Kt(o,c){if(!o||jt)return"";jt=!0;var m=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var y={DetermineComponentFrameRoot:function(){try{if(c){var lt=function(){throw Error()};if(Object.defineProperty(lt.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(lt,[])}catch(We){var je=We}Reflect.construct(o,[],lt)}else{try{lt.call()}catch(We){je=We}o.call(lt.prototype)}}else{try{throw Error()}catch(We){je=We}(lt=o())&&typeof lt.catch=="function"&&lt.catch(function(){})}}catch(We){if(We&&je&&typeof We.stack=="string")return[We.stack,je.stack]}return[null,null]}};y.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var M=Object.getOwnPropertyDescriptor(y.DetermineComponentFrameRoot,"name");M&&M.configurable&&Object.defineProperty(y.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var D=y.DetermineComponentFrameRoot(),j=D[0],K=D[1];if(j&&K){var me=j.split(`
`),Ie=K.split(`
`);for(M=y=0;y<me.length&&!me[y].includes("DetermineComponentFrameRoot");)y++;for(;M<Ie.length&&!Ie[M].includes("DetermineComponentFrameRoot");)M++;if(y===me.length||M===Ie.length)for(y=me.length-1,M=Ie.length-1;1<=y&&0<=M&&me[y]!==Ie[M];)M--;for(;1<=y&&0<=M;y--,M--)if(me[y]!==Ie[M]){if(y!==1||M!==1)do if(y--,M--,0>M||me[y]!==Ie[M]){var nt=`
`+me[y].replace(" at new "," at ");return o.displayName&&nt.includes("<anonymous>")&&(nt=nt.replace("<anonymous>",o.displayName)),nt}while(1<=y&&0<=M);break}}}finally{jt=!1,Error.prepareStackTrace=m}return(m=o?o.displayName||o.name:"")?bt(m):""}function an(o){switch(o.tag){case 26:case 27:case 5:return bt(o.type);case 16:return bt("Lazy");case 13:return bt("Suspense");case 19:return bt("SuspenseList");case 0:case 15:return Kt(o.type,!1);case 11:return Kt(o.type.render,!1);case 1:return Kt(o.type,!0);case 31:return bt("Activity");default:return""}}function Tn(o){try{var c="";do c+=an(o),o=o.return;while(o);return c}catch(m){return`
Error generating stack: `+m.message+`
`+m.stack}}function Ht(o){switch(typeof o){case"bigint":case"boolean":case"number":case"string":case"undefined":return o;case"object":return o;default:return""}}function Ot(o){var c=o.type;return(o=o.nodeName)&&o.toLowerCase()==="input"&&(c==="checkbox"||c==="radio")}function Gn(o){var c=Ot(o)?"checked":"value",m=Object.getOwnPropertyDescriptor(o.constructor.prototype,c),y=""+o[c];if(!o.hasOwnProperty(c)&&typeof m<"u"&&typeof m.get=="function"&&typeof m.set=="function"){var M=m.get,D=m.set;return Object.defineProperty(o,c,{configurable:!0,get:function(){return M.call(this)},set:function(j){y=""+j,D.call(this,j)}}),Object.defineProperty(o,c,{enumerable:m.enumerable}),{getValue:function(){return y},setValue:function(j){y=""+j},stopTracking:function(){o._valueTracker=null,delete o[c]}}}}function vn(o){o._valueTracker||(o._valueTracker=Gn(o))}function oi(o){if(!o)return!1;var c=o._valueTracker;if(!c)return!0;var m=c.getValue(),y="";return o&&(y=Ot(o)?o.checked?"true":"false":o.value),o=y,o!==m?(c.setValue(o),!0):!1}function An(o){if(o=o||(typeof document<"u"?document:void 0),typeof o>"u")return null;try{return o.activeElement||o.body}catch{return o.body}}var qn=/[\n"\\]/g;function yn(o){return o.replace(qn,function(c){return"\\"+c.charCodeAt(0).toString(16)+" "})}function $t(o,c,m,y,M,D,j,K){o.name="",j!=null&&typeof j!="function"&&typeof j!="symbol"&&typeof j!="boolean"?o.type=j:o.removeAttribute("type"),c!=null?j==="number"?(c===0&&o.value===""||o.value!=c)&&(o.value=""+Ht(c)):o.value!==""+Ht(c)&&(o.value=""+Ht(c)):j!=="submit"&&j!=="reset"||o.removeAttribute("value"),c!=null?Di(o,j,Ht(c)):m!=null?Di(o,j,Ht(m)):y!=null&&o.removeAttribute("value"),M==null&&D!=null&&(o.defaultChecked=!!D),M!=null&&(o.checked=M&&typeof M!="function"&&typeof M!="symbol"),K!=null&&typeof K!="function"&&typeof K!="symbol"&&typeof K!="boolean"?o.name=""+Ht(K):o.removeAttribute("name")}function hi(o,c,m,y,M,D,j,K){if(D!=null&&typeof D!="function"&&typeof D!="symbol"&&typeof D!="boolean"&&(o.type=D),c!=null||m!=null){if(!(D!=="submit"&&D!=="reset"||c!=null))return;m=m!=null?""+Ht(m):"",c=c!=null?""+Ht(c):m,K||c===o.value||(o.value=c),o.defaultValue=c}y=y??M,y=typeof y!="function"&&typeof y!="symbol"&&!!y,o.checked=K?o.checked:!!y,o.defaultChecked=!!y,j!=null&&typeof j!="function"&&typeof j!="symbol"&&typeof j!="boolean"&&(o.name=j)}function Di(o,c,m){c==="number"&&An(o.ownerDocument)===o||o.defaultValue===""+m||(o.defaultValue=""+m)}function In(o,c,m,y){if(o=o.options,c){c={};for(var M=0;M<m.length;M++)c["$"+m[M]]=!0;for(m=0;m<o.length;m++)M=c.hasOwnProperty("$"+o[m].value),o[m].selected!==M&&(o[m].selected=M),M&&y&&(o[m].defaultSelected=!0)}else{for(m=""+Ht(m),c=null,M=0;M<o.length;M++){if(o[M].value===m){o[M].selected=!0,y&&(o[M].defaultSelected=!0);return}c!==null||o[M].disabled||(c=o[M])}c!==null&&(c.selected=!0)}}function wi(o,c,m){if(c!=null&&(c=""+Ht(c),c!==o.value&&(o.value=c),m==null)){o.defaultValue!==c&&(o.defaultValue=c);return}o.defaultValue=m!=null?""+Ht(m):""}function Yc(o,c,m,y){if(c==null){if(y!=null){if(m!=null)throw Error(n(92));if(ue(y)){if(1<y.length)throw Error(n(93));y=y[0]}m=y}m==null&&(m=""),c=m}m=Ht(c),o.defaultValue=m,y=o.textContent,y===m&&y!==""&&y!==null&&(o.value=y)}function dr(o,c){if(c){var m=o.firstChild;if(m&&m===o.lastChild&&m.nodeType===3){m.nodeValue=c;return}}o.textContent=c}var mx=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Oh(o,c,m){var y=c.indexOf("--")===0;m==null||typeof m=="boolean"||m===""?y?o.setProperty(c,""):c==="float"?o.cssFloat="":o[c]="":y?o.setProperty(c,m):typeof m!="number"||m===0||mx.has(c)?c==="float"?o.cssFloat=m:o[c]=(""+m).trim():o[c]=m+"px"}function Nh(o,c,m){if(c!=null&&typeof c!="object")throw Error(n(62));if(o=o.style,m!=null){for(var y in m)!m.hasOwnProperty(y)||c!=null&&c.hasOwnProperty(y)||(y.indexOf("--")===0?o.setProperty(y,""):y==="float"?o.cssFloat="":o[y]="");for(var M in c)y=c[M],c.hasOwnProperty(M)&&m[M]!==y&&Oh(o,M,y)}else for(var D in c)c.hasOwnProperty(D)&&Oh(o,D,c[D])}function Lp(o){if(o.indexOf("-")===-1)return!1;switch(o){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ng=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),gx=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ph(o){return gx.test(""+o)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":o}var Up=null;function Ip(o){return o=o.target||o.srcElement||window,o.correspondingUseElement&&(o=o.correspondingUseElement),o.nodeType===3?o.parentNode:o}var Hl=null,Zc=null;function Pg(o){var c=Z(o);if(c&&(o=c.stateNode)){var m=o[kt]||null;e:switch(o=c.stateNode,c.type){case"input":if($t(o,m.value,m.defaultValue,m.defaultValue,m.checked,m.defaultChecked,m.type,m.name),c=m.name,m.type==="radio"&&c!=null){for(m=o;m.parentNode;)m=m.parentNode;for(m=m.querySelectorAll('input[name="'+yn(""+c)+'"][type="radio"]'),c=0;c<m.length;c++){var y=m[c];if(y!==o&&y.form===o.form){var M=y[kt]||null;if(!M)throw Error(n(90));$t(y,M.value,M.defaultValue,M.defaultValue,M.checked,M.defaultChecked,M.type,M.name)}}for(c=0;c<m.length;c++)y=m[c],y.form===o.form&&oi(y)}break e;case"textarea":wi(o,m.value,m.defaultValue);break e;case"select":c=m.value,c!=null&&In(o,!!m.multiple,c,!1)}}}var Lh=!1;function Lg(o,c,m){if(Lh)return o(c,m);Lh=!0;try{var y=o(c);return y}finally{if(Lh=!1,(Hl!==null||Zc!==null)&&(Bo(),Hl&&(c=Hl,o=Zc,Zc=Hl=null,Pg(c),o)))for(c=0;c<o.length;c++)Pg(o[c])}}function Yu(o,c){var m=o.stateNode;if(m===null)return null;var y=m[kt]||null;if(y===null)return null;m=y[c];e:switch(c){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(y=!y.disabled)||(o=o.type,y=!(o==="button"||o==="input"||o==="select"||o==="textarea")),o=!y;break e;default:o=!1}if(o)return null;if(m&&typeof m!="function")throw Error(n(231,c,typeof m));return m}var So=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Uh=!1;if(So)try{var Zu={};Object.defineProperty(Zu,"passive",{get:function(){Uh=!0}}),window.addEventListener("test",Zu,Zu),window.removeEventListener("test",Zu,Zu)}catch{Uh=!1}var el=null,Ug=null,Bp=null;function Ig(){if(Bp)return Bp;var o,c=Ug,m=c.length,y,M="value"in el?el.value:el.textContent,D=M.length;for(o=0;o<m&&c[o]===M[o];o++);var j=m-o;for(y=1;y<=j&&c[m-y]===M[D-y];y++);return Bp=M.slice(o,1<y?1-y:void 0)}function Vl(o){var c=o.keyCode;return"charCode"in o?(o=o.charCode,o===0&&c===13&&(o=13)):o=c,o===10&&(o=13),32<=o||o===13?o:0}function Ku(){return!0}function Ih(){return!1}function oa(o){function c(m,y,M,D,j){this._reactName=m,this._targetInst=M,this.type=y,this.nativeEvent=D,this.target=j,this.currentTarget=null;for(var K in o)o.hasOwnProperty(K)&&(m=o[K],this[K]=m?m(D):D[K]);return this.isDefaultPrevented=(D.defaultPrevented!=null?D.defaultPrevented:D.returnValue===!1)?Ku:Ih,this.isPropagationStopped=Ih,this}return p(c.prototype,{preventDefault:function(){this.defaultPrevented=!0;var m=this.nativeEvent;m&&(m.preventDefault?m.preventDefault():typeof m.returnValue!="unknown"&&(m.returnValue=!1),this.isDefaultPrevented=Ku)},stopPropagation:function(){var m=this.nativeEvent;m&&(m.stopPropagation?m.stopPropagation():typeof m.cancelBubble!="unknown"&&(m.cancelBubble=!0),this.isPropagationStopped=Ku)},persist:function(){},isPersistent:Ku}),c}var jl={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(o){return o.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},$u=oa(jl),Ju=p({},jl,{view:0,detail:0}),vx=oa(Ju),tl,Qu,ef,tf=p({},Ju,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:zh,button:0,buttons:0,relatedTarget:function(o){return o.relatedTarget===void 0?o.fromElement===o.srcElement?o.toElement:o.fromElement:o.relatedTarget},movementX:function(o){return"movementX"in o?o.movementX:(o!==ef&&(ef&&o.type==="mousemove"?(tl=o.screenX-ef.screenX,Qu=o.screenY-ef.screenY):Qu=tl=0,ef=o),tl)},movementY:function(o){return"movementY"in o?o.movementY:Qu}}),Bg=oa(tf),yx=p({},tf,{dataTransfer:0}),$E=oa(yx),Ur=p({},Ju,{relatedTarget:0}),zp=oa(Ur),_x=p({},jl,{animationName:0,elapsedTime:0,pseudoElement:0}),xx=oa(_x),bx=p({},jl,{clipboardData:function(o){return"clipboardData"in o?o.clipboardData:window.clipboardData}}),Sx=oa(bx),Bh=p({},jl,{data:0}),kp=oa(Bh),wx={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ex={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Mx={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function zg(o){var c=this.nativeEvent;return c.getModifierState?c.getModifierState(o):(o=Mx[o])?!!c[o]:!1}function zh(){return zg}var Tx=p({},Ju,{key:function(o){if(o.key){var c=wx[o.key]||o.key;if(c!=="Unidentified")return c}return o.type==="keypress"?(o=Vl(o),o===13?"Enter":String.fromCharCode(o)):o.type==="keydown"||o.type==="keyup"?Ex[o.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:zh,charCode:function(o){return o.type==="keypress"?Vl(o):0},keyCode:function(o){return o.type==="keydown"||o.type==="keyup"?o.keyCode:0},which:function(o){return o.type==="keypress"?Vl(o):o.type==="keydown"||o.type==="keyup"?o.keyCode:0}}),kg=oa(Tx),Fg=p({},tf,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Fp=oa(Fg),Ax=p({},Ju,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:zh}),Hg=oa(Ax),Cx=p({},jl,{propertyName:0,elapsedTime:0,pseudoElement:0}),nl=oa(Cx),Vg=p({},tf,{deltaX:function(o){return"deltaX"in o?o.deltaX:"wheelDeltaX"in o?-o.wheelDeltaX:0},deltaY:function(o){return"deltaY"in o?o.deltaY:"wheelDeltaY"in o?-o.wheelDeltaY:"wheelDelta"in o?-o.wheelDelta:0},deltaZ:0,deltaMode:0}),JE=oa(Vg),Rx=p({},jl,{newState:0,oldState:0}),Gl=oa(Rx),il=[9,13,27,32],kh=So&&"CompositionEvent"in window,Kc=null;So&&"documentMode"in document&&(Kc=document.documentMode);var Fh=So&&"TextEvent"in window&&!Kc,Hh=So&&(!kh||Kc&&8<Kc&&11>=Kc),Wl=" ",Ir=!1;function Vh(o,c){switch(o){case"keyup":return il.indexOf(c.keyCode)!==-1;case"keydown":return c.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function jg(o){return o=o.detail,typeof o=="object"&&"data"in o?o.data:null}var Xl=!1;function jh(o,c){switch(o){case"compositionend":return jg(c);case"keypress":return c.which!==32?null:(Ir=!0,Wl);case"textInput":return o=c.data,o===Wl&&Ir?null:o;default:return null}}function Gg(o,c){if(Xl)return o==="compositionend"||!kh&&Vh(o,c)?(o=Ig(),Bp=Ug=el=null,Xl=!1,o):null;switch(o){case"paste":return null;case"keypress":if(!(c.ctrlKey||c.altKey||c.metaKey)||c.ctrlKey&&c.altKey){if(c.char&&1<c.char.length)return c.char;if(c.which)return String.fromCharCode(c.which)}return null;case"compositionend":return Hh&&c.locale!=="ko"?null:c.data;default:return null}}var Hp={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Wg(o){var c=o&&o.nodeName&&o.nodeName.toLowerCase();return c==="input"?!!Hp[o.type]:c==="textarea"}function Sa(o,c,m,y){Hl?Zc?Zc.push(y):Zc=[y]:Hl=y,c=C1(c,"onChange"),0<c.length&&(m=new $u("onChange","change",null,m,y),o.push({event:m,listeners:c}))}var nf=null,$c=null;function Dx(o){RD(o,0)}function Gh(o){var c=ge(o);if(oi(c))return o}function Vp(o,c){if(o==="change")return c}var jp=!1;if(So){var Gp;if(So){var rf="oninput"in document;if(!rf){var af=document.createElement("div");af.setAttribute("oninput","return;"),rf=typeof af.oninput=="function"}Gp=rf}else Gp=!1;jp=Gp&&(!document.documentMode||9<document.documentMode)}function Ui(){nf&&(nf.detachEvent("onpropertychange",Ox),$c=nf=null)}function Ox(o){if(o.propertyName==="value"&&Gh($c)){var c=[];Sa(c,$c,o,Ip(o)),Lg(Dx,c)}}function QE(o,c,m){o==="focusin"?(Ui(),nf=c,$c=m,nf.attachEvent("onpropertychange",Ox)):o==="focusout"&&Ui()}function Nx(o){if(o==="selectionchange"||o==="keyup"||o==="keydown")return Gh($c)}function Wh(o,c){if(o==="click")return Gh(c)}function ql(o,c){if(o==="input"||o==="change")return Gh(c)}function Px(o,c){return o===c&&(o!==0||1/o===1/c)||o!==o&&c!==c}var wa=typeof Object.is=="function"?Object.is:Px;function Xs(o,c){if(wa(o,c))return!0;if(typeof o!="object"||o===null||typeof c!="object"||c===null)return!1;var m=Object.keys(o),y=Object.keys(c);if(m.length!==y.length)return!1;for(y=0;y<m.length;y++){var M=m[y];if(!pt.call(c,M)||!wa(o[M],c[M]))return!1}return!0}function Ea(o){for(;o&&o.firstChild;)o=o.firstChild;return o}function Xg(o,c){var m=Ea(o);o=0;for(var y;m;){if(m.nodeType===3){if(y=o+m.textContent.length,o<=c&&y>=c)return{node:m,offset:c-o};o=y}e:{for(;m;){if(m.nextSibling){m=m.nextSibling;break e}m=m.parentNode}m=void 0}m=Ea(m)}}function qg(o,c){return o&&c?o===c?!0:o&&o.nodeType===3?!1:c&&c.nodeType===3?qg(o,c.parentNode):"contains"in o?o.contains(c):o.compareDocumentPosition?!!(o.compareDocumentPosition(c)&16):!1:!1}function Yg(o){o=o!=null&&o.ownerDocument!=null&&o.ownerDocument.defaultView!=null?o.ownerDocument.defaultView:window;for(var c=An(o.document);c instanceof o.HTMLIFrameElement;){try{var m=typeof c.contentWindow.location.href=="string"}catch{m=!1}if(m)o=c.contentWindow;else break;c=An(o.document)}return c}function Xh(o){var c=o&&o.nodeName&&o.nodeName.toLowerCase();return c&&(c==="input"&&(o.type==="text"||o.type==="search"||o.type==="tel"||o.type==="url"||o.type==="password")||c==="textarea"||o.contentEditable==="true")}var Zg=So&&"documentMode"in document&&11>=document.documentMode,rl=null,Wp=null,qh=null,Xp=!1;function Kg(o,c,m){var y=m.window===m?m.document:m.nodeType===9?m:m.ownerDocument;Xp||rl==null||rl!==An(y)||(y=rl,"selectionStart"in y&&Xh(y)?y={start:y.selectionStart,end:y.selectionEnd}:(y=(y.ownerDocument&&y.ownerDocument.defaultView||window).getSelection(),y={anchorNode:y.anchorNode,anchorOffset:y.anchorOffset,focusNode:y.focusNode,focusOffset:y.focusOffset}),qh&&Xs(qh,y)||(qh=y,y=C1(Wp,"onSelect"),0<y.length&&(c=new $u("onSelect","select",null,c,m),o.push({event:c,listeners:y}),c.target=rl)))}function Br(o,c){var m={};return m[o.toLowerCase()]=c.toLowerCase(),m["Webkit"+o]="webkit"+c,m["Moz"+o]="moz"+c,m}var Yl={animationend:Br("Animation","AnimationEnd"),animationiteration:Br("Animation","AnimationIteration"),animationstart:Br("Animation","AnimationStart"),transitionrun:Br("Transition","TransitionRun"),transitionstart:Br("Transition","TransitionStart"),transitioncancel:Br("Transition","TransitionCancel"),transitionend:Br("Transition","TransitionEnd")},qp={},Lx={};So&&(Lx=document.createElement("div").style,"AnimationEvent"in window||(delete Yl.animationend.animation,delete Yl.animationiteration.animation,delete Yl.animationstart.animation),"TransitionEvent"in window||delete Yl.transitionend.transition);function al(o){if(qp[o])return qp[o];if(!Yl[o])return o;var c=Yl[o],m;for(m in c)if(c.hasOwnProperty(m)&&m in Lx)return qp[o]=c[m];return o}var la=al("animationend"),$g=al("animationiteration"),Ma=al("animationstart"),Ux=al("transitionrun"),sl=al("transitionstart"),sf=al("transitioncancel"),ol=al("transitionend"),Yp=new Map,Yh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Yh.push("scrollEnd");function wr(o,c){Yp.set(o,c),V(c,[o])}var Jg=new WeakMap;function zr(o,c){if(typeof o=="object"&&o!==null){var m=Jg.get(o);return m!==void 0?m:(c={value:o,source:c,stack:Tn(c)},Jg.set(o,c),c)}return{value:o,source:c,stack:Tn(c)}}var Zr=[],bs=0,Zp=0;function Zh(){for(var o=bs,c=Zp=bs=0;c<o;){var m=Zr[c];Zr[c++]=null;var y=Zr[c];Zr[c++]=null;var M=Zr[c];Zr[c++]=null;var D=Zr[c];if(Zr[c++]=null,y!==null&&M!==null){var j=y.pending;j===null?M.next=M:(M.next=j.next,j.next=M),y.pending=M}D!==0&&Qg(m,M,D)}}function Zl(o,c,m,y){Zr[bs++]=o,Zr[bs++]=c,Zr[bs++]=m,Zr[bs++]=y,Zp|=y,o.lanes|=y,o=o.alternate,o!==null&&(o.lanes|=y)}function Kp(o,c,m,y){return Zl(o,c,m,y),of(o)}function ll(o,c){return Zl(o,null,null,c),of(o)}function Qg(o,c,m){o.lanes|=m;var y=o.alternate;y!==null&&(y.lanes|=m);for(var M=!1,D=o.return;D!==null;)D.childLanes|=m,y=D.alternate,y!==null&&(y.childLanes|=m),D.tag===22&&(o=D.stateNode,o===null||o._visibility&1||(M=!0)),o=D,D=D.return;return o.tag===3?(D=o.stateNode,M&&c!==null&&(M=31-mt(m),o=D.hiddenUpdates,y=o[M],y===null?o[M]=[c]:y.push(c),c.lane=m|536870912),D):null}function of(o){if(50<Io)throw Io=0,mu=null,Error(n(185));for(var c=o.return;c!==null;)o=c,c=o.return;return o.tag===3?o.stateNode:null}var Kl={};function ev(o,c,m,y){this.tag=o,this.key=m,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=c,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=y,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ta(o,c,m,y){return new ev(o,c,m,y)}function Kh(o){return o=o.prototype,!(!o||!o.isReactComponent)}function Zi(o,c){var m=o.alternate;return m===null?(m=Ta(o.tag,c,o.key,o.mode),m.elementType=o.elementType,m.type=o.type,m.stateNode=o.stateNode,m.alternate=o,o.alternate=m):(m.pendingProps=c,m.type=o.type,m.flags=0,m.subtreeFlags=0,m.deletions=null),m.flags=o.flags&65011712,m.childLanes=o.childLanes,m.lanes=o.lanes,m.child=o.child,m.memoizedProps=o.memoizedProps,m.memoizedState=o.memoizedState,m.updateQueue=o.updateQueue,c=o.dependencies,m.dependencies=c===null?null:{lanes:c.lanes,firstContext:c.firstContext},m.sibling=o.sibling,m.index=o.index,m.ref=o.ref,m.refCleanup=o.refCleanup,m}function tv(o,c){o.flags&=65011714;var m=o.alternate;return m===null?(o.childLanes=0,o.lanes=c,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=m.childLanes,o.lanes=m.lanes,o.child=m.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=m.memoizedProps,o.memoizedState=m.memoizedState,o.updateQueue=m.updateQueue,o.type=m.type,c=m.dependencies,o.dependencies=c===null?null:{lanes:c.lanes,firstContext:c.firstContext}),o}function Er(o,c,m,y,M,D){var j=0;if(y=o,typeof o=="function")Kh(o)&&(j=1);else if(typeof o=="string")j=TF(o,m,ke.current)?26:o==="html"||o==="head"||o==="body"?27:5;else e:switch(o){case P:return o=Ta(31,m,c,M),o.elementType=P,o.lanes=D,o;case S:return $l(m.children,M,D,c);case w:j=8,M|=24;break;case E:return o=Ta(12,m,c,M|2),o.elementType=E,o.lanes=D,o;case N:return o=Ta(13,m,c,M),o.elementType=N,o.lanes=D,o;case L:return o=Ta(19,m,c,M),o.elementType=L,o.lanes=D,o;default:if(typeof o=="object"&&o!==null)switch(o.$$typeof){case b:case C:j=10;break e;case R:j=9;break e;case A:j=11;break e;case B:j=14;break e;case U:j=16,y=null;break e}j=29,m=Error(n(130,o===null?"null":typeof o,"")),y=null}return c=Ta(j,m,c,M),c.elementType=o,c.type=y,c.lanes=D,c}function $l(o,c,m,y){return o=Ta(7,o,y,c),o.lanes=m,o}function $h(o,c,m){return o=Ta(6,o,null,c),o.lanes=m,o}function $p(o,c,m){return c=Ta(4,o.children!==null?o.children:[],o.key,c),c.lanes=m,c.stateNode={containerInfo:o.containerInfo,pendingChildren:null,implementation:o.implementation},c}var lf=[],Aa=0,Jh=null,cf=0,kr=[],ja=0,Jl=null,wo=1,Eo="";function cl(o,c){lf[Aa++]=cf,lf[Aa++]=Jh,Jh=o,cf=c}function Jp(o,c,m){kr[ja++]=wo,kr[ja++]=Eo,kr[ja++]=Jl,Jl=o;var y=wo;o=Eo;var M=32-mt(y)-1;y&=~(1<<M),m+=1;var D=32-mt(c)+M;if(30<D){var j=M-M%5;D=(y&(1<<j)-1).toString(32),y>>=j,M-=j,wo=1<<32-mt(c)+M|m<<M|y,Eo=D+o}else wo=1<<D|m<<M|y,Eo=o}function nv(o){o.return!==null&&(cl(o,1),Jp(o,1,0))}function iv(o){for(;o===Jh;)Jh=lf[--Aa],lf[Aa]=null,cf=lf[--Aa],lf[Aa]=null;for(;o===Jl;)Jl=kr[--ja],kr[ja]=null,Eo=kr[--ja],kr[ja]=null,wo=kr[--ja],kr[ja]=null}var ca=null,zi=null,ti=!1,Ss=null,Ga=!1,Qp=Error(n(519));function Ql(o){var c=Error(n(418,""));throw Jc(zr(c,o)),Qp}function Ix(o){var c=o.stateNode,m=o.type,y=o.memoizedProps;switch(c[xt]=o,c[kt]=y,m){case"dialog":Wn("cancel",c),Wn("close",c);break;case"iframe":case"object":case"embed":Wn("load",c);break;case"video":case"audio":for(m=0;m<Lv.length;m++)Wn(Lv[m],c);break;case"source":Wn("error",c);break;case"img":case"image":case"link":Wn("error",c),Wn("load",c);break;case"details":Wn("toggle",c);break;case"input":Wn("invalid",c),hi(c,y.value,y.defaultValue,y.checked,y.defaultChecked,y.type,y.name,!0),vn(c);break;case"select":Wn("invalid",c);break;case"textarea":Wn("invalid",c),Yc(c,y.value,y.defaultValue,y.children),vn(c)}m=y.children,typeof m!="string"&&typeof m!="number"&&typeof m!="bigint"||c.textContent===""+m||y.suppressHydrationWarning===!0||PD(c.textContent,m)?(y.popover!=null&&(Wn("beforetoggle",c),Wn("toggle",c)),y.onScroll!=null&&Wn("scroll",c),y.onScrollEnd!=null&&Wn("scrollend",c),y.onClick!=null&&(c.onclick=R1),c=!0):c=!1,c||Ql(o)}function rv(o){for(ca=o.return;ca;)switch(ca.tag){case 5:case 13:Ga=!1;return;case 27:case 3:Ga=!0;return;default:ca=ca.return}}function qs(o){if(o!==ca)return!1;if(!ti)return rv(o),ti=!0,!1;var c=o.tag,m;if((m=c!==3&&c!==27)&&((m=c===5)&&(m=o.type,m=!(m!=="form"&&m!=="button")||_2(o.type,o.memoizedProps)),m=!m),m&&zi&&Ql(o),rv(o),c===13){if(o=o.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(n(317));e:{for(o=o.nextSibling,c=0;o;){if(o.nodeType===8)if(m=o.data,m==="/$"){if(c===0){zi=wl(o.nextSibling);break e}c--}else m!=="$"&&m!=="$!"&&m!=="$?"||c++;o=o.nextSibling}zi=null}}else c===27?(c=zi,Lf(o.type)?(o=w2,w2=null,zi=o):zi=c):zi=ca?wl(o.stateNode.nextSibling):null;return!0}function uf(){zi=ca=null,ti=!1}function li(){var o=Ss;return o!==null&&(ln===null?ln=o:ln.push.apply(ln,o),Ss=null),o}function Jc(o){Ss===null?Ss=[o]:Ss.push(o)}var av=fe(null),ec=null,ul=null;function tc(o,c,m){Ce(av,c._currentValue),c._currentValue=m}function fl(o){o._currentValue=av.current,Se(av)}function sv(o,c,m){for(;o!==null;){var y=o.alternate;if((o.childLanes&c)!==c?(o.childLanes|=c,y!==null&&(y.childLanes|=c)):y!==null&&(y.childLanes&c)!==c&&(y.childLanes|=c),o===m)break;o=o.return}}function Qh(o,c,m,y){var M=o.child;for(M!==null&&(M.return=o);M!==null;){var D=M.dependencies;if(D!==null){var j=M.child;D=D.firstContext;e:for(;D!==null;){var K=D;D=M;for(var me=0;me<c.length;me++)if(K.context===c[me]){D.lanes|=m,K=D.alternate,K!==null&&(K.lanes|=m),sv(D.return,m,o),y||(j=null);break e}D=K.next}}else if(M.tag===18){if(j=M.return,j===null)throw Error(n(341));j.lanes|=m,D=j.alternate,D!==null&&(D.lanes|=m),sv(j,m,o),j=null}else j=M.child;if(j!==null)j.return=M;else for(j=M;j!==null;){if(j===o){j=null;break}if(M=j.sibling,M!==null){M.return=j.return,j=M;break}j=j.return}M=j}}function ws(o,c,m,y){o=null;for(var M=c,D=!1;M!==null;){if(!D){if((M.flags&524288)!==0)D=!0;else if((M.flags&262144)!==0)break}if(M.tag===10){var j=M.alternate;if(j===null)throw Error(n(387));if(j=j.memoizedProps,j!==null){var K=M.type;wa(M.pendingProps.value,j.value)||(o!==null?o.push(K):o=[K])}}else if(M===ie.current){if(j=M.alternate,j===null)throw Error(n(387));j.memoizedState.memoizedState!==M.memoizedState.memoizedState&&(o!==null?o.push(Fv):o=[Fv])}M=M.return}o!==null&&Qh(c,o,m,y),c.flags|=262144}function ed(o){for(o=o.firstContext;o!==null;){if(!wa(o.context._currentValue,o.memoizedValue))return!0;o=o.next}return!1}function Mo(o){ec=o,ul=null,o=o.dependencies,o!==null&&(o.firstContext=null)}function Vi(o){return em(ec,o)}function td(o,c){return ec===null&&Mo(o),em(o,c)}function em(o,c){var m=c._currentValue;if(c={context:c,memoizedValue:m,next:null},ul===null){if(o===null)throw Error(n(308));ul=c,o.dependencies={lanes:0,firstContext:c},o.flags|=524288}else ul=ul.next=c;return m}var ov=typeof AbortController<"u"?AbortController:function(){var o=[],c=this.signal={aborted:!1,addEventListener:function(m,y){o.push(y)}};this.abort=function(){c.aborted=!0,o.forEach(function(m){return m()})}},e2=i.unstable_scheduleCallback,Bx=i.unstable_NormalPriority,or={$$typeof:C,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function tm(){return{controller:new ov,data:new Map,refCount:0}}function ff(o){o.refCount--,o.refCount===0&&e2(Bx,function(){o.controller.abort()})}var hf=null,nd=0,Sn=0,df=null;function Wa(o,c){if(hf===null){var m=hf=[];nd=0,Sn=u2(),df={status:"pending",value:void 0,then:function(y){m.push(y)}}}return nd++,c.then(nm,nm),c}function nm(){if(--nd===0&&hf!==null){df!==null&&(df.status="fulfilled");var o=hf;hf=null,Sn=0,df=null;for(var c=0;c<o.length;c++)(0,o[c])()}}function t2(o,c){var m=[],y={status:"pending",value:null,reason:null,then:function(M){m.push(M)}};return o.then(function(){y.status="fulfilled",y.value=c;for(var M=0;M<m.length;M++)(0,m[M])(c)},function(M){for(y.status="rejected",y.reason=M,M=0;M<m.length;M++)(0,m[M])(void 0)}),y}var id=G.S;G.S=function(o,c){typeof c=="object"&&c!==null&&typeof c.then=="function"&&Wa(o,c),id!==null&&id(o,c)};var Es=fe(null);function nc(){var o=Es.current;return o!==null?o:_n.pooledCache}function rd(o,c){c===null?Ce(Es,Es.current):Ce(Es,c.pool)}function im(){var o=nc();return o===null?null:{parent:or._currentValue,pool:o}}var ad=Error(n(460)),lv=Error(n(474)),Ys=Error(n(542)),sd={then:function(){}};function rm(o){return o=o.status,o==="fulfilled"||o==="rejected"}function pf(){}function am(o,c,m){switch(m=o[m],m===void 0?o.push(c):m!==c&&(c.then(pf,pf),c=m),c.status){case"fulfilled":return c.value;case"rejected":throw o=c.reason,zx(o),o;default:if(typeof c.status=="string")c.then(pf,pf);else{if(o=_n,o!==null&&100<o.shellSuspendCounter)throw Error(n(482));o=c,o.status="pending",o.then(function(y){if(c.status==="pending"){var M=c;M.status="fulfilled",M.value=y}},function(y){if(c.status==="pending"){var M=c;M.status="rejected",M.reason=y}})}switch(c.status){case"fulfilled":return c.value;case"rejected":throw o=c.reason,zx(o),o}throw Ms=c,ad}}var Ms=null;function cv(){if(Ms===null)throw Error(n(459));var o=Ms;return Ms=null,o}function zx(o){if(o===ad||o===Ys)throw Error(n(483))}var hl=!1;function uv(o){o.updateQueue={baseState:o.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function fn(o,c){o=o.updateQueue,c.updateQueue===o&&(c.updateQueue={baseState:o.baseState,firstBaseUpdate:o.firstBaseUpdate,lastBaseUpdate:o.lastBaseUpdate,shared:o.shared,callbacks:null})}function To(o){return{lane:o,tag:0,payload:null,callback:null,next:null}}function dl(o,c,m){var y=o.updateQueue;if(y===null)return null;if(y=y.shared,(ci&2)!==0){var M=y.pending;return M===null?c.next=c:(c.next=M.next,M.next=c),y.pending=c,c=of(o),Qg(o,null,m),c}return Zl(o,y,c,m),of(o)}function Qc(o,c,m){if(c=c.updateQueue,c!==null&&(c=c.shared,(m&4194048)!==0)){var y=c.lanes;y&=o.pendingLanes,m|=y,c.lanes=m,Lt(o,m)}}function mf(o,c){var m=o.updateQueue,y=o.alternate;if(y!==null&&(y=y.updateQueue,m===y)){var M=null,D=null;if(m=m.firstBaseUpdate,m!==null){do{var j={lane:m.lane,tag:m.tag,payload:m.payload,callback:null,next:null};D===null?M=D=j:D=D.next=j,m=m.next}while(m!==null);D===null?M=D=c:D=D.next=c}else M=D=c;m={baseState:y.baseState,firstBaseUpdate:M,lastBaseUpdate:D,shared:y.shared,callbacks:y.callbacks},o.updateQueue=m;return}o=m.lastBaseUpdate,o===null?m.firstBaseUpdate=c:o.next=c,m.lastBaseUpdate=c}var fv=!1;function od(){if(fv){var o=df;if(o!==null)throw o}}function gf(o,c,m,y){fv=!1;var M=o.updateQueue;hl=!1;var D=M.firstBaseUpdate,j=M.lastBaseUpdate,K=M.shared.pending;if(K!==null){M.shared.pending=null;var me=K,Ie=me.next;me.next=null,j===null?D=Ie:j.next=Ie,j=me;var nt=o.alternate;nt!==null&&(nt=nt.updateQueue,K=nt.lastBaseUpdate,K!==j&&(K===null?nt.firstBaseUpdate=Ie:K.next=Ie,nt.lastBaseUpdate=me))}if(D!==null){var lt=M.baseState;j=0,nt=Ie=me=null,K=D;do{var je=K.lane&-536870913,We=je!==K.lane;if(We?(nn&je)===je:(y&je)===je){je!==0&&je===Sn&&(fv=!0),nt!==null&&(nt=nt.next={lane:0,tag:K.tag,payload:K.payload,callback:null,next:null});e:{var pn=o,cn=K;je=c;var Ci=m;switch(cn.tag){case 1:if(pn=cn.payload,typeof pn=="function"){lt=pn.call(Ci,lt,je);break e}lt=pn;break e;case 3:pn.flags=pn.flags&-65537|128;case 0:if(pn=cn.payload,je=typeof pn=="function"?pn.call(Ci,lt,je):pn,je==null)break e;lt=p({},lt,je);break e;case 2:hl=!0}}je=K.callback,je!==null&&(o.flags|=64,We&&(o.flags|=8192),We=M.callbacks,We===null?M.callbacks=[je]:We.push(je))}else We={lane:je,tag:K.tag,payload:K.payload,callback:K.callback,next:null},nt===null?(Ie=nt=We,me=lt):nt=nt.next=We,j|=je;if(K=K.next,K===null){if(K=M.shared.pending,K===null)break;We=K,K=We.next,We.next=null,M.lastBaseUpdate=We,M.shared.pending=null}}while(!0);nt===null&&(me=lt),M.baseState=me,M.firstBaseUpdate=Ie,M.lastBaseUpdate=nt,D===null&&(M.shared.lanes=0),no|=j,o.lanes=j,o.memoizedState=lt}}function vf(o,c){if(typeof o!="function")throw Error(n(191,o));o.call(c)}function kx(o,c){var m=o.callbacks;if(m!==null)for(o.callbacks=null,o=0;o<m.length;o++)vf(m[o],c)}var yf=fe(null),sm=fe(0);function Fx(o,c){o=Os,Ce(sm,o),Ce(yf,c),Os=o|c.baseLanes}function hv(){Ce(sm,Os),Ce(yf,yf.current)}function ld(){Os=sm.current,Se(yf),Se(sm)}var pl=0,wn=null,di=null,lr=null,om=!1,ic=!1,ua=!1,pr=0,Ts=0,Fr=null,Hx=0;function Ki(){throw Error(n(321))}function Kr(o,c){if(c===null)return!1;for(var m=0;m<c.length&&m<o.length;m++)if(!wa(o[m],c[m]))return!1;return!0}function ml(o,c,m,y,M,D){return pl=D,wn=c,c.memoizedState=null,c.updateQueue=null,c.lanes=0,G.H=o===null||o.memoizedState===null?gm:Cv,ua=!1,D=m(y,M),ua=!1,ic&&(D=jx(c,m,y,M)),Vx(o),D}function Vx(o){G.H=fd;var c=di!==null&&di.next!==null;if(pl=0,lr=di=wn=null,om=!1,Ts=0,Fr=null,c)throw Error(n(300));o===null||Mr||(o=o.dependencies,o!==null&&ed(o)&&(Mr=!0))}function jx(o,c,m,y){wn=o;var M=0;do{if(ic&&(Fr=null),Ts=0,ic=!1,25<=M)throw Error(n(301));if(M+=1,lr=di=null,o.updateQueue!=null){var D=o.updateQueue;D.lastEffect=null,D.events=null,D.stores=null,D.memoCache!=null&&(D.memoCache.index=0)}G.H=m1,D=c(m,y)}while(ic);return D}function n2(){var o=G.H,c=o.useState()[0];return c=typeof c.then=="function"?Zs(c):c,o=o.useState()[0],(di!==null?di.memoizedState:null)!==o&&(wn.flags|=1024),c}function dv(){var o=pr!==0;return pr=0,o}function lm(o,c,m){c.updateQueue=o.updateQueue,c.flags&=-2053,o.lanes&=~m}function pv(o){if(om){for(o=o.memoizedState;o!==null;){var c=o.queue;c!==null&&(c.pending=null),o=o.next}om=!1}pl=0,lr=di=wn=null,ic=!1,Ts=pr=0,Fr=null}function fa(){var o={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return lr===null?wn.memoizedState=lr=o:lr=lr.next=o,lr}function cr(){if(di===null){var o=wn.alternate;o=o!==null?o.memoizedState:null}else o=di.next;var c=lr===null?wn.memoizedState:lr.next;if(c!==null)lr=c,di=o;else{if(o===null)throw wn.alternate===null?Error(n(467)):Error(n(310));di=o,o={memoizedState:di.memoizedState,baseState:di.baseState,baseQueue:di.baseQueue,queue:di.queue,next:null},lr===null?wn.memoizedState=lr=o:lr=lr.next=o}return lr}function rc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Zs(o){var c=Ts;return Ts+=1,Fr===null&&(Fr=[]),o=am(Fr,o,c),c=wn,(lr===null?c.memoizedState:lr.next)===null&&(c=c.alternate,G.H=c===null||c.memoizedState===null?gm:Cv),o}function cm(o){if(o!==null&&typeof o=="object"){if(typeof o.then=="function")return Zs(o);if(o.$$typeof===C)return Vi(o)}throw Error(n(438,String(o)))}function mv(o){var c=null,m=wn.updateQueue;if(m!==null&&(c=m.memoCache),c==null){var y=wn.alternate;y!==null&&(y=y.updateQueue,y!==null&&(y=y.memoCache,y!=null&&(c={data:y.data.map(function(M){return M.slice()}),index:0})))}if(c==null&&(c={data:[],index:0}),m===null&&(m=rc(),wn.updateQueue=m),m.memoCache=c,m=c.data[c.index],m===void 0)for(m=c.data[c.index]=Array(o),y=0;y<o;y++)m[y]=z;return c.index++,m}function gl(o,c){return typeof c=="function"?c(o):c}function ac(o){var c=cr();return gv(c,di,o)}function gv(o,c,m){var y=o.queue;if(y===null)throw Error(n(311));y.lastRenderedReducer=m;var M=o.baseQueue,D=y.pending;if(D!==null){if(M!==null){var j=M.next;M.next=D.next,D.next=j}c.baseQueue=M=D,y.pending=null}if(D=o.baseState,M===null)o.memoizedState=D;else{c=M.next;var K=j=null,me=null,Ie=c,nt=!1;do{var lt=Ie.lane&-536870913;if(lt!==Ie.lane?(nn&lt)===lt:(pl&lt)===lt){var je=Ie.revertLane;if(je===0)me!==null&&(me=me.next={lane:0,revertLane:0,action:Ie.action,hasEagerState:Ie.hasEagerState,eagerState:Ie.eagerState,next:null}),lt===Sn&&(nt=!0);else if((pl&je)===je){Ie=Ie.next,je===Sn&&(nt=!0);continue}else lt={lane:0,revertLane:Ie.revertLane,action:Ie.action,hasEagerState:Ie.hasEagerState,eagerState:Ie.eagerState,next:null},me===null?(K=me=lt,j=D):me=me.next=lt,wn.lanes|=je,no|=je;lt=Ie.action,ua&&m(D,lt),D=Ie.hasEagerState?Ie.eagerState:m(D,lt)}else je={lane:lt,revertLane:Ie.revertLane,action:Ie.action,hasEagerState:Ie.hasEagerState,eagerState:Ie.eagerState,next:null},me===null?(K=me=je,j=D):me=me.next=je,wn.lanes|=lt,no|=lt;Ie=Ie.next}while(Ie!==null&&Ie!==c);if(me===null?j=D:me.next=K,!wa(D,o.memoizedState)&&(Mr=!0,nt&&(m=df,m!==null)))throw m;o.memoizedState=D,o.baseState=j,o.baseQueue=me,y.lastRenderedState=D}return M===null&&(y.lanes=0),[o.memoizedState,y.dispatch]}function vv(o){var c=cr(),m=c.queue;if(m===null)throw Error(n(311));m.lastRenderedReducer=o;var y=m.dispatch,M=m.pending,D=c.memoizedState;if(M!==null){m.pending=null;var j=M=M.next;do D=o(D,j.action),j=j.next;while(j!==M);wa(D,c.memoizedState)||(Mr=!0),c.memoizedState=D,c.baseQueue===null&&(c.baseState=D),m.lastRenderedState=D}return[D,y]}function Gx(o,c,m){var y=wn,M=cr(),D=ti;if(D){if(m===void 0)throw Error(n(407));m=m()}else m=c();var j=!wa((di||M).memoizedState,m);j&&(M.memoizedState=m,Mr=!0),M=M.queue;var K=Xx.bind(null,y,M,o);if(bf(2048,8,K,[o]),M.getSnapshot!==c||j||lr!==null&&lr.memoizedState.tag&1){if(y.flags|=2048,xf(9,cd(),Wx.bind(null,y,M,m,c),null),_n===null)throw Error(n(349));D||(pl&124)!==0||_f(y,c,m)}return m}function _f(o,c,m){o.flags|=16384,o={getSnapshot:c,value:m},c=wn.updateQueue,c===null?(c=rc(),wn.updateQueue=c,c.stores=[o]):(m=c.stores,m===null?c.stores=[o]:m.push(o))}function Wx(o,c,m,y){c.value=m,c.getSnapshot=y,qx(c)&&Yx(o)}function Xx(o,c,m){return m(function(){qx(c)&&Yx(o)})}function qx(o){var c=o.getSnapshot;o=o.value;try{var m=c();return!wa(o,m)}catch{return!0}}function Yx(o){var c=ll(o,2);c!==null&&pa(c,o,2)}function yv(o){var c=fa();if(typeof o=="function"){var m=o;if(o=m(),ua){Ue(!0);try{m()}finally{Ue(!1)}}}return c.memoizedState=c.baseState=o,c.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:gl,lastRenderedState:o},c}function Zx(o,c,m,y){return o.baseState=m,gv(o,di,typeof y=="function"?y:gl)}function i2(o,c,m,y,M){if(mm(o))throw Error(n(485));if(o=c.action,o!==null){var D={payload:M,action:o,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(j){D.listeners.push(j)}};G.T!==null?m(!0):D.isTransition=!1,y(D),m=c.pending,m===null?(D.next=c.pending=D,Kx(c,D)):(D.next=m.next,c.pending=m.next=D)}}function Kx(o,c){var m=c.action,y=c.payload,M=o.state;if(c.isTransition){var D=G.T,j={};G.T=j;try{var K=m(M,y),me=G.S;me!==null&&me(j,K),$x(o,c,K)}catch(Ie){_v(o,c,Ie)}finally{G.T=D}}else try{D=m(M,y),$x(o,c,D)}catch(Ie){_v(o,c,Ie)}}function $x(o,c,m){m!==null&&typeof m=="object"&&typeof m.then=="function"?m.then(function(y){Jx(o,c,y)},function(y){return _v(o,c,y)}):Jx(o,c,m)}function Jx(o,c,m){c.status="fulfilled",c.value=m,Qx(c),o.state=m,c=o.pending,c!==null&&(m=c.next,m===c?o.pending=null:(m=m.next,c.next=m,Kx(o,m)))}function _v(o,c,m){var y=o.pending;if(o.pending=null,y!==null){y=y.next;do c.status="rejected",c.reason=m,Qx(c),c=c.next;while(c!==y)}o.action=null}function Qx(o){o=o.listeners;for(var c=0;c<o.length;c++)(0,o[c])()}function xv(o,c){return c}function e1(o,c){if(ti){var m=_n.formState;if(m!==null){e:{var y=wn;if(ti){if(zi){t:{for(var M=zi,D=Ga;M.nodeType!==8;){if(!D){M=null;break t}if(M=wl(M.nextSibling),M===null){M=null;break t}}D=M.data,M=D==="F!"||D==="F"?M:null}if(M){zi=wl(M.nextSibling),y=M.data==="F!";break e}}Ql(y)}y=!1}y&&(c=m[0])}}return m=fa(),m.memoizedState=m.baseState=c,y={pending:null,lanes:0,dispatch:null,lastRenderedReducer:xv,lastRenderedState:c},m.queue=y,m=d1.bind(null,wn,y),y.dispatch=m,y=yv(!1),D=pm.bind(null,wn,!1,y.queue),y=fa(),M={state:c,dispatch:null,action:o,pending:null},y.queue=M,m=i2.bind(null,wn,M,D,m),M.dispatch=m,y.memoizedState=o,[c,m,!1]}function t1(o){var c=cr();return n1(c,di,o)}function n1(o,c,m){if(c=gv(o,c,xv)[0],o=ac(gl)[0],typeof c=="object"&&c!==null&&typeof c.then=="function")try{var y=Zs(c)}catch(j){throw j===ad?Ys:j}else y=c;c=cr();var M=c.queue,D=M.dispatch;return m!==c.memoizedState&&(wn.flags|=2048,xf(9,cd(),r2.bind(null,M,m),null)),[y,D,o]}function r2(o,c){o.action=c}function i1(o){var c=cr(),m=di;if(m!==null)return n1(c,m,o);cr(),c=c.memoizedState,m=cr();var y=m.queue.dispatch;return m.memoizedState=o,[c,y,!1]}function xf(o,c,m,y){return o={tag:o,create:m,deps:y,inst:c,next:null},c=wn.updateQueue,c===null&&(c=rc(),wn.updateQueue=c),m=c.lastEffect,m===null?c.lastEffect=o.next=o:(y=m.next,m.next=o,o.next=y,c.lastEffect=o),o}function cd(){return{destroy:void 0,resource:void 0}}function bv(){return cr().memoizedState}function um(o,c,m,y){var M=fa();y=y===void 0?null:y,wn.flags|=o,M.memoizedState=xf(1|c,cd(),m,y)}function bf(o,c,m,y){var M=cr();y=y===void 0?null:y;var D=M.memoizedState.inst;di!==null&&y!==null&&Kr(y,di.memoizedState.deps)?M.memoizedState=xf(c,D,m,y):(wn.flags|=o,M.memoizedState=xf(1|c,D,m,y))}function Sv(o,c){um(8390656,8,o,c)}function wv(o,c){bf(2048,8,o,c)}function fm(o,c){return bf(4,2,o,c)}function hm(o,c){return bf(4,4,o,c)}function r1(o,c){if(typeof c=="function"){o=o();var m=c(o);return function(){typeof m=="function"?m():c(null)}}if(c!=null)return o=o(),c.current=o,function(){c.current=null}}function a1(o,c,m){m=m!=null?m.concat([o]):null,bf(4,4,r1.bind(null,c,o),m)}function Ev(){}function s1(o,c){var m=cr();c=c===void 0?null:c;var y=m.memoizedState;return c!==null&&Kr(c,y[1])?y[0]:(m.memoizedState=[o,c],o)}function Mv(o,c){var m=cr();c=c===void 0?null:c;var y=m.memoizedState;if(c!==null&&Kr(c,y[1]))return y[0];if(y=o(),ua){Ue(!0);try{o()}finally{Ue(!1)}}return m.memoizedState=[y,c],y}function dm(o,c,m){return m===void 0||(pl&1073741824)!==0?o.memoizedState=c:(o.memoizedState=m,o=Am(),wn.lanes|=o,no|=o,m)}function o1(o,c,m,y){return wa(m,c)?m:yf.current!==null?(o=dm(o,m,y),wa(o,c)||(Mr=!0),o):(pl&42)===0?(Mr=!0,o.memoizedState=m):(o=Am(),wn.lanes|=o,no|=o,c)}function l1(o,c,m,y,M){var D=Y.p;Y.p=D!==0&&8>D?D:8;var j=G.T,K={};G.T=K,pm(o,!1,c,m);try{var me=M(),Ie=G.S;if(Ie!==null&&Ie(K,me),me!==null&&typeof me=="object"&&typeof me.then=="function"){var nt=t2(me,y);ud(o,c,nt,Wi(o))}else ud(o,c,y,Wi(o))}catch(lt){ud(o,c,{then:function(){},status:"rejected",reason:lt},Wi())}finally{Y.p=D,G.T=j}}function a2(){}function Tv(o,c,m,y){if(o.tag!==5)throw Error(n(476));var M=c1(o).queue;l1(o,M,c,Q,m===null?a2:function(){return u1(o),m(y)})}function c1(o){var c=o.memoizedState;if(c!==null)return c;c={memoizedState:Q,baseState:Q,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:gl,lastRenderedState:Q},next:null};var m={};return c.next={memoizedState:m,baseState:m,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:gl,lastRenderedState:m},next:null},o.memoizedState=c,o=o.alternate,o!==null&&(o.memoizedState=c),c}function u1(o){var c=c1(o).next.queue;ud(o,c,{},Wi())}function Av(){return Vi(Fv)}function f1(){return cr().memoizedState}function h1(){return cr().memoizedState}function s2(o){for(var c=o.return;c!==null;){switch(c.tag){case 24:case 3:var m=Wi();o=To(m);var y=dl(c,o,m);y!==null&&(pa(y,c,m),Qc(y,c,m)),c={cache:tm()},o.payload=c;return}c=c.return}}function o2(o,c,m){var y=Wi();m={lane:y,revertLane:0,action:m,hasEagerState:!1,eagerState:null,next:null},mm(o)?p1(c,m):(m=Kp(o,c,m,y),m!==null&&(pa(m,o,y),Xa(m,c,y)))}function d1(o,c,m){var y=Wi();ud(o,c,m,y)}function ud(o,c,m,y){var M={lane:y,revertLane:0,action:m,hasEagerState:!1,eagerState:null,next:null};if(mm(o))p1(c,M);else{var D=o.alternate;if(o.lanes===0&&(D===null||D.lanes===0)&&(D=c.lastRenderedReducer,D!==null))try{var j=c.lastRenderedState,K=D(j,m);if(M.hasEagerState=!0,M.eagerState=K,wa(K,j))return Zl(o,c,M,0),_n===null&&Zh(),!1}catch{}finally{}if(m=Kp(o,c,M,y),m!==null)return pa(m,o,y),Xa(m,c,y),!0}return!1}function pm(o,c,m,y){if(y={lane:2,revertLane:u2(),action:y,hasEagerState:!1,eagerState:null,next:null},mm(o)){if(c)throw Error(n(479))}else c=Kp(o,m,y,2),c!==null&&pa(c,o,2)}function mm(o){var c=o.alternate;return o===wn||c!==null&&c===wn}function p1(o,c){ic=om=!0;var m=o.pending;m===null?c.next=c:(c.next=m.next,m.next=c),o.pending=c}function Xa(o,c,m){if((m&4194048)!==0){var y=c.lanes;y&=o.pendingLanes,m|=y,c.lanes=m,Lt(o,m)}}var fd={readContext:Vi,use:cm,useCallback:Ki,useContext:Ki,useEffect:Ki,useImperativeHandle:Ki,useLayoutEffect:Ki,useInsertionEffect:Ki,useMemo:Ki,useReducer:Ki,useRef:Ki,useState:Ki,useDebugValue:Ki,useDeferredValue:Ki,useTransition:Ki,useSyncExternalStore:Ki,useId:Ki,useHostTransitionStatus:Ki,useFormState:Ki,useActionState:Ki,useOptimistic:Ki,useMemoCache:Ki,useCacheRefresh:Ki},gm={readContext:Vi,use:cm,useCallback:function(o,c){return fa().memoizedState=[o,c===void 0?null:c],o},useContext:Vi,useEffect:Sv,useImperativeHandle:function(o,c,m){m=m!=null?m.concat([o]):null,um(4194308,4,r1.bind(null,c,o),m)},useLayoutEffect:function(o,c){return um(4194308,4,o,c)},useInsertionEffect:function(o,c){um(4,2,o,c)},useMemo:function(o,c){var m=fa();c=c===void 0?null:c;var y=o();if(ua){Ue(!0);try{o()}finally{Ue(!1)}}return m.memoizedState=[y,c],y},useReducer:function(o,c,m){var y=fa();if(m!==void 0){var M=m(c);if(ua){Ue(!0);try{m(c)}finally{Ue(!1)}}}else M=c;return y.memoizedState=y.baseState=M,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:o,lastRenderedState:M},y.queue=o,o=o.dispatch=o2.bind(null,wn,o),[y.memoizedState,o]},useRef:function(o){var c=fa();return o={current:o},c.memoizedState=o},useState:function(o){o=yv(o);var c=o.queue,m=d1.bind(null,wn,c);return c.dispatch=m,[o.memoizedState,m]},useDebugValue:Ev,useDeferredValue:function(o,c){var m=fa();return dm(m,o,c)},useTransition:function(){var o=yv(!1);return o=l1.bind(null,wn,o.queue,!0,!1),fa().memoizedState=o,[!1,o]},useSyncExternalStore:function(o,c,m){var y=wn,M=fa();if(ti){if(m===void 0)throw Error(n(407));m=m()}else{if(m=c(),_n===null)throw Error(n(349));(nn&124)!==0||_f(y,c,m)}M.memoizedState=m;var D={value:m,getSnapshot:c};return M.queue=D,Sv(Xx.bind(null,y,D,o),[o]),y.flags|=2048,xf(9,cd(),Wx.bind(null,y,D,m,c),null),m},useId:function(){var o=fa(),c=_n.identifierPrefix;if(ti){var m=Eo,y=wo;m=(y&~(1<<32-mt(y)-1)).toString(32)+m,c="«"+c+"R"+m,m=pr++,0<m&&(c+="H"+m.toString(32)),c+="»"}else m=Hx++,c="«"+c+"r"+m.toString(32)+"»";return o.memoizedState=c},useHostTransitionStatus:Av,useFormState:e1,useActionState:e1,useOptimistic:function(o){var c=fa();c.memoizedState=c.baseState=o;var m={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return c.queue=m,c=pm.bind(null,wn,!0,m),m.dispatch=c,[o,c]},useMemoCache:mv,useCacheRefresh:function(){return fa().memoizedState=s2.bind(null,wn)}},Cv={readContext:Vi,use:cm,useCallback:s1,useContext:Vi,useEffect:wv,useImperativeHandle:a1,useInsertionEffect:fm,useLayoutEffect:hm,useMemo:Mv,useReducer:ac,useRef:bv,useState:function(){return ac(gl)},useDebugValue:Ev,useDeferredValue:function(o,c){var m=cr();return o1(m,di.memoizedState,o,c)},useTransition:function(){var o=ac(gl)[0],c=cr().memoizedState;return[typeof o=="boolean"?o:Zs(o),c]},useSyncExternalStore:Gx,useId:f1,useHostTransitionStatus:Av,useFormState:t1,useActionState:t1,useOptimistic:function(o,c){var m=cr();return Zx(m,di,o,c)},useMemoCache:mv,useCacheRefresh:h1},m1={readContext:Vi,use:cm,useCallback:s1,useContext:Vi,useEffect:wv,useImperativeHandle:a1,useInsertionEffect:fm,useLayoutEffect:hm,useMemo:Mv,useReducer:vv,useRef:bv,useState:function(){return vv(gl)},useDebugValue:Ev,useDeferredValue:function(o,c){var m=cr();return di===null?dm(m,o,c):o1(m,di.memoizedState,o,c)},useTransition:function(){var o=vv(gl)[0],c=cr().memoizedState;return[typeof o=="boolean"?o:Zs(o),c]},useSyncExternalStore:Gx,useId:f1,useHostTransitionStatus:Av,useFormState:i1,useActionState:i1,useOptimistic:function(o,c){var m=cr();return di!==null?Zx(m,di,o,c):(m.baseState=o,[o,m.queue.dispatch])},useMemoCache:mv,useCacheRefresh:h1},eu=null,hd=0;function dd(o){var c=hd;return hd+=1,eu===null&&(eu=[]),am(eu,o,c)}function Sf(o,c){c=c.props.ref,o.ref=c!==void 0?c:null}function vm(o,c){throw c.$$typeof===g?Error(n(525)):(o=Object.prototype.toString.call(c),Error(n(31,o==="[object Object]"?"object with keys {"+Object.keys(c).join(", ")+"}":o)))}function g1(o){var c=o._init;return c(o._payload)}function v1(o){function c(Ae,Me){if(o){var Le=Ae.deletions;Le===null?(Ae.deletions=[Me],Ae.flags|=16):Le.push(Me)}}function m(Ae,Me){if(!o)return null;for(;Me!==null;)c(Ae,Me),Me=Me.sibling;return null}function y(Ae){for(var Me=new Map;Ae!==null;)Ae.key!==null?Me.set(Ae.key,Ae):Me.set(Ae.index,Ae),Ae=Ae.sibling;return Me}function M(Ae,Me){return Ae=Zi(Ae,Me),Ae.index=0,Ae.sibling=null,Ae}function D(Ae,Me,Le){return Ae.index=Le,o?(Le=Ae.alternate,Le!==null?(Le=Le.index,Le<Me?(Ae.flags|=67108866,Me):Le):(Ae.flags|=67108866,Me)):(Ae.flags|=1048576,Me)}function j(Ae){return o&&Ae.alternate===null&&(Ae.flags|=67108866),Ae}function K(Ae,Me,Le,rt){return Me===null||Me.tag!==6?(Me=$h(Le,Ae.mode,rt),Me.return=Ae,Me):(Me=M(Me,Le),Me.return=Ae,Me)}function me(Ae,Me,Le,rt){var qt=Le.type;return qt===S?nt(Ae,Me,Le.props.children,rt,Le.key):Me!==null&&(Me.elementType===qt||typeof qt=="object"&&qt!==null&&qt.$$typeof===U&&g1(qt)===Me.type)?(Me=M(Me,Le.props),Sf(Me,Le),Me.return=Ae,Me):(Me=Er(Le.type,Le.key,Le.props,null,Ae.mode,rt),Sf(Me,Le),Me.return=Ae,Me)}function Ie(Ae,Me,Le,rt){return Me===null||Me.tag!==4||Me.stateNode.containerInfo!==Le.containerInfo||Me.stateNode.implementation!==Le.implementation?(Me=$p(Le,Ae.mode,rt),Me.return=Ae,Me):(Me=M(Me,Le.children||[]),Me.return=Ae,Me)}function nt(Ae,Me,Le,rt,qt){return Me===null||Me.tag!==7?(Me=$l(Le,Ae.mode,rt,qt),Me.return=Ae,Me):(Me=M(Me,Le),Me.return=Ae,Me)}function lt(Ae,Me,Le){if(typeof Me=="string"&&Me!==""||typeof Me=="number"||typeof Me=="bigint")return Me=$h(""+Me,Ae.mode,Le),Me.return=Ae,Me;if(typeof Me=="object"&&Me!==null){switch(Me.$$typeof){case v:return Le=Er(Me.type,Me.key,Me.props,null,Ae.mode,Le),Sf(Le,Me),Le.return=Ae,Le;case _:return Me=$p(Me,Ae.mode,Le),Me.return=Ae,Me;case U:var rt=Me._init;return Me=rt(Me._payload),lt(Ae,Me,Le)}if(ue(Me)||te(Me))return Me=$l(Me,Ae.mode,Le,null),Me.return=Ae,Me;if(typeof Me.then=="function")return lt(Ae,dd(Me),Le);if(Me.$$typeof===C)return lt(Ae,td(Ae,Me),Le);vm(Ae,Me)}return null}function je(Ae,Me,Le,rt){var qt=Me!==null?Me.key:null;if(typeof Le=="string"&&Le!==""||typeof Le=="number"||typeof Le=="bigint")return qt!==null?null:K(Ae,Me,""+Le,rt);if(typeof Le=="object"&&Le!==null){switch(Le.$$typeof){case v:return Le.key===qt?me(Ae,Me,Le,rt):null;case _:return Le.key===qt?Ie(Ae,Me,Le,rt):null;case U:return qt=Le._init,Le=qt(Le._payload),je(Ae,Me,Le,rt)}if(ue(Le)||te(Le))return qt!==null?null:nt(Ae,Me,Le,rt,null);if(typeof Le.then=="function")return je(Ae,Me,dd(Le),rt);if(Le.$$typeof===C)return je(Ae,Me,td(Ae,Le),rt);vm(Ae,Le)}return null}function We(Ae,Me,Le,rt,qt){if(typeof rt=="string"&&rt!==""||typeof rt=="number"||typeof rt=="bigint")return Ae=Ae.get(Le)||null,K(Me,Ae,""+rt,qt);if(typeof rt=="object"&&rt!==null){switch(rt.$$typeof){case v:return Ae=Ae.get(rt.key===null?Le:rt.key)||null,me(Me,Ae,rt,qt);case _:return Ae=Ae.get(rt.key===null?Le:rt.key)||null,Ie(Me,Ae,rt,qt);case U:var Hn=rt._init;return rt=Hn(rt._payload),We(Ae,Me,Le,rt,qt)}if(ue(rt)||te(rt))return Ae=Ae.get(Le)||null,nt(Me,Ae,rt,qt,null);if(typeof rt.then=="function")return We(Ae,Me,Le,dd(rt),qt);if(rt.$$typeof===C)return We(Ae,Me,Le,td(Me,rt),qt);vm(Me,rt)}return null}function pn(Ae,Me,Le,rt){for(var qt=null,Hn=null,en=Me,un=Me=0,Qr=null;en!==null&&un<Le.length;un++){en.index>un?(Qr=en,en=null):Qr=en.sibling;var fi=je(Ae,en,Le[un],rt);if(fi===null){en===null&&(en=Qr);break}o&&en&&fi.alternate===null&&c(Ae,en),Me=D(fi,Me,un),Hn===null?qt=fi:Hn.sibling=fi,Hn=fi,en=Qr}if(un===Le.length)return m(Ae,en),ti&&cl(Ae,un),qt;if(en===null){for(;un<Le.length;un++)en=lt(Ae,Le[un],rt),en!==null&&(Me=D(en,Me,un),Hn===null?qt=en:Hn.sibling=en,Hn=en);return ti&&cl(Ae,un),qt}for(en=y(en);un<Le.length;un++)Qr=We(en,Ae,un,Le[un],rt),Qr!==null&&(o&&Qr.alternate!==null&&en.delete(Qr.key===null?un:Qr.key),Me=D(Qr,Me,un),Hn===null?qt=Qr:Hn.sibling=Qr,Hn=Qr);return o&&en.forEach(function(kf){return c(Ae,kf)}),ti&&cl(Ae,un),qt}function cn(Ae,Me,Le,rt){if(Le==null)throw Error(n(151));for(var qt=null,Hn=null,en=Me,un=Me=0,Qr=null,fi=Le.next();en!==null&&!fi.done;un++,fi=Le.next()){en.index>un?(Qr=en,en=null):Qr=en.sibling;var kf=je(Ae,en,fi.value,rt);if(kf===null){en===null&&(en=Qr);break}o&&en&&kf.alternate===null&&c(Ae,en),Me=D(kf,Me,un),Hn===null?qt=kf:Hn.sibling=kf,Hn=kf,en=Qr}if(fi.done)return m(Ae,en),ti&&cl(Ae,un),qt;if(en===null){for(;!fi.done;un++,fi=Le.next())fi=lt(Ae,fi.value,rt),fi!==null&&(Me=D(fi,Me,un),Hn===null?qt=fi:Hn.sibling=fi,Hn=fi);return ti&&cl(Ae,un),qt}for(en=y(en);!fi.done;un++,fi=Le.next())fi=We(en,Ae,un,fi.value,rt),fi!==null&&(o&&fi.alternate!==null&&en.delete(fi.key===null?un:fi.key),Me=D(fi,Me,un),Hn===null?qt=fi:Hn.sibling=fi,Hn=fi);return o&&en.forEach(function(zF){return c(Ae,zF)}),ti&&cl(Ae,un),qt}function Ci(Ae,Me,Le,rt){if(typeof Le=="object"&&Le!==null&&Le.type===S&&Le.key===null&&(Le=Le.props.children),typeof Le=="object"&&Le!==null){switch(Le.$$typeof){case v:e:{for(var qt=Le.key;Me!==null;){if(Me.key===qt){if(qt=Le.type,qt===S){if(Me.tag===7){m(Ae,Me.sibling),rt=M(Me,Le.props.children),rt.return=Ae,Ae=rt;break e}}else if(Me.elementType===qt||typeof qt=="object"&&qt!==null&&qt.$$typeof===U&&g1(qt)===Me.type){m(Ae,Me.sibling),rt=M(Me,Le.props),Sf(rt,Le),rt.return=Ae,Ae=rt;break e}m(Ae,Me);break}else c(Ae,Me);Me=Me.sibling}Le.type===S?(rt=$l(Le.props.children,Ae.mode,rt,Le.key),rt.return=Ae,Ae=rt):(rt=Er(Le.type,Le.key,Le.props,null,Ae.mode,rt),Sf(rt,Le),rt.return=Ae,Ae=rt)}return j(Ae);case _:e:{for(qt=Le.key;Me!==null;){if(Me.key===qt)if(Me.tag===4&&Me.stateNode.containerInfo===Le.containerInfo&&Me.stateNode.implementation===Le.implementation){m(Ae,Me.sibling),rt=M(Me,Le.children||[]),rt.return=Ae,Ae=rt;break e}else{m(Ae,Me);break}else c(Ae,Me);Me=Me.sibling}rt=$p(Le,Ae.mode,rt),rt.return=Ae,Ae=rt}return j(Ae);case U:return qt=Le._init,Le=qt(Le._payload),Ci(Ae,Me,Le,rt)}if(ue(Le))return pn(Ae,Me,Le,rt);if(te(Le)){if(qt=te(Le),typeof qt!="function")throw Error(n(150));return Le=qt.call(Le),cn(Ae,Me,Le,rt)}if(typeof Le.then=="function")return Ci(Ae,Me,dd(Le),rt);if(Le.$$typeof===C)return Ci(Ae,Me,td(Ae,Le),rt);vm(Ae,Le)}return typeof Le=="string"&&Le!==""||typeof Le=="number"||typeof Le=="bigint"?(Le=""+Le,Me!==null&&Me.tag===6?(m(Ae,Me.sibling),rt=M(Me,Le),rt.return=Ae,Ae=rt):(m(Ae,Me),rt=$h(Le,Ae.mode,rt),rt.return=Ae,Ae=rt),j(Ae)):m(Ae,Me)}return function(Ae,Me,Le,rt){try{hd=0;var qt=Ci(Ae,Me,Le,rt);return eu=null,qt}catch(en){if(en===ad||en===Ys)throw en;var Hn=Ta(29,en,null,Ae.mode);return Hn.lanes=rt,Hn.return=Ae,Hn}finally{}}}var tu=v1(!0),y1=v1(!1),vi=fe(null),Ks=null;function sc(o){var c=o.alternate;Ce($i,$i.current&1),Ce(vi,o),Ks===null&&(c===null||yf.current!==null||c.memoizedState!==null)&&(Ks=o)}function _1(o){if(o.tag===22){if(Ce($i,$i.current),Ce(vi,o),Ks===null){var c=o.alternate;c!==null&&c.memoizedState!==null&&(Ks=o)}}else oc()}function oc(){Ce($i,$i.current),Ce(vi,vi.current)}function Ao(o){Se(vi),Ks===o&&(Ks=null),Se($i)}var $i=fe(0);function vl(o){for(var c=o;c!==null;){if(c.tag===13){var m=c.memoizedState;if(m!==null&&(m=m.dehydrated,m===null||m.data==="$?"||S2(m)))return c}else if(c.tag===19&&c.memoizedProps.revealOrder!==void 0){if((c.flags&128)!==0)return c}else if(c.child!==null){c.child.return=c,c=c.child;continue}if(c===o)break;for(;c.sibling===null;){if(c.return===null||c.return===o)return null;c=c.return}c.sibling.return=c.return,c=c.sibling}return null}function lc(o,c,m,y){c=o.memoizedState,m=m(y,c),m=m==null?c:p({},c,m),o.memoizedState=m,o.lanes===0&&(o.updateQueue.baseState=m)}var ha={enqueueSetState:function(o,c,m){o=o._reactInternals;var y=Wi(),M=To(y);M.payload=c,m!=null&&(M.callback=m),c=dl(o,M,y),c!==null&&(pa(c,o,y),Qc(c,o,y))},enqueueReplaceState:function(o,c,m){o=o._reactInternals;var y=Wi(),M=To(y);M.tag=1,M.payload=c,m!=null&&(M.callback=m),c=dl(o,M,y),c!==null&&(pa(c,o,y),Qc(c,o,y))},enqueueForceUpdate:function(o,c){o=o._reactInternals;var m=Wi(),y=To(m);y.tag=2,c!=null&&(y.callback=c),c=dl(o,y,m),c!==null&&(pa(c,o,m),Qc(c,o,m))}};function x1(o,c,m,y,M,D,j){return o=o.stateNode,typeof o.shouldComponentUpdate=="function"?o.shouldComponentUpdate(y,D,j):c.prototype&&c.prototype.isPureReactComponent?!Xs(m,y)||!Xs(M,D):!0}function b1(o,c,m,y){o=c.state,typeof c.componentWillReceiveProps=="function"&&c.componentWillReceiveProps(m,y),typeof c.UNSAFE_componentWillReceiveProps=="function"&&c.UNSAFE_componentWillReceiveProps(m,y),c.state!==o&&ha.enqueueReplaceState(c,c.state,null)}function Co(o,c){var m=c;if("ref"in c){m={};for(var y in c)y!=="ref"&&(m[y]=c[y])}if(o=o.defaultProps){m===c&&(m=p({},m));for(var M in o)m[M]===void 0&&(m[M]=o[M])}return m}var nu=typeof reportError=="function"?reportError:function(o){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var c=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof o=="object"&&o!==null&&typeof o.message=="string"?String(o.message):String(o),error:o});if(!window.dispatchEvent(c))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",o);return}console.error(o)};function pd(o){nu(o)}function ym(o){console.error(o)}function S1(o){nu(o)}function _m(o,c){try{var m=o.onUncaughtError;m(c.value,{componentStack:c.stack})}catch(y){setTimeout(function(){throw y})}}function As(o,c,m){try{var y=o.onCaughtError;y(m.value,{componentStack:m.stack,errorBoundary:c.tag===1?c.stateNode:null})}catch(M){setTimeout(function(){throw M})}}function xm(o,c,m){return m=To(m),m.tag=3,m.payload={element:null},m.callback=function(){_m(o,c)},m}function w1(o){return o=To(o),o.tag=3,o}function bm(o,c,m,y){var M=m.type.getDerivedStateFromError;if(typeof M=="function"){var D=y.value;o.payload=function(){return M(D)},o.callback=function(){As(c,m,y)}}var j=m.stateNode;j!==null&&typeof j.componentDidCatch=="function"&&(o.callback=function(){As(c,m,y),typeof M!="function"&&(es===null?es=new Set([this]):es.add(this));var K=y.stack;this.componentDidCatch(y.value,{componentStack:K!==null?K:""})})}function l2(o,c,m,y,M){if(m.flags|=32768,y!==null&&typeof y=="object"&&typeof y.then=="function"){if(c=m.alternate,c!==null&&ws(c,m,M,!0),m=vi.current,m!==null){switch(m.tag){case 13:return Ks===null?h():m.alternate===null&&Oi===0&&(Oi=3),m.flags&=-257,m.flags|=65536,m.lanes=M,y===sd?m.flags|=16384:(c=m.updateQueue,c===null?m.updateQueue=new Set([y]):c.add(y),Xe(o,y,M)),!1;case 22:return m.flags|=65536,y===sd?m.flags|=16384:(c=m.updateQueue,c===null?(c={transitions:null,markerInstances:null,retryQueue:new Set([y])},m.updateQueue=c):(m=c.retryQueue,m===null?c.retryQueue=new Set([y]):m.add(y)),Xe(o,y,M)),!1}throw Error(n(435,m.tag))}return Xe(o,y,M),h(),!1}if(ti)return c=vi.current,c!==null?((c.flags&65536)===0&&(c.flags|=256),c.flags|=65536,c.lanes=M,y!==Qp&&(o=Error(n(422),{cause:y}),Jc(zr(o,m)))):(y!==Qp&&(c=Error(n(423),{cause:y}),Jc(zr(c,m))),o=o.current.alternate,o.flags|=65536,M&=-M,o.lanes|=M,y=zr(y,m),M=xm(o.stateNode,y,M),mf(o,M),Oi!==4&&(Oi=2)),!1;var D=Error(n(520),{cause:y});if(D=zr(D,m),ui===null?ui=[D]:ui.push(D),Oi!==4&&(Oi=2),c===null)return!0;y=zr(y,m),m=c;do{switch(m.tag){case 3:return m.flags|=65536,o=M&-M,m.lanes|=o,o=xm(m.stateNode,y,o),mf(m,o),!1;case 1:if(c=m.type,D=m.stateNode,(m.flags&128)===0&&(typeof c.getDerivedStateFromError=="function"||D!==null&&typeof D.componentDidCatch=="function"&&(es===null||!es.has(D))))return m.flags|=65536,M&=-M,m.lanes|=M,M=w1(M),bm(M,o,m,y),mf(m,M),!1}m=m.return}while(m!==null);return!1}var E1=Error(n(461)),Mr=!1;function Ji(o,c,m,y){c.child=o===null?y1(c,null,m,y):tu(c,o.child,m,y)}function Ca(o,c,m,y,M){m=m.render;var D=c.ref;if("ref"in y){var j={};for(var K in y)K!=="ref"&&(j[K]=y[K])}else j=y;return Mo(c),y=ml(o,c,m,j,D,M),K=dv(),o!==null&&!Mr?(lm(o,c,M),Tr(o,c,M)):(ti&&K&&nv(c),c.flags|=1,Ji(o,c,y,M),c.child)}function Ra(o,c,m,y,M){if(o===null){var D=m.type;return typeof D=="function"&&!Kh(D)&&D.defaultProps===void 0&&m.compare===null?(c.tag=15,c.type=D,Rv(o,c,D,y,M)):(o=Er(m.type,null,y,c,c.mode,M),o.ref=c.ref,o.return=c,c.child=o)}if(D=o.child,!md(o,M)){var j=D.memoizedProps;if(m=m.compare,m=m!==null?m:Xs,m(j,y)&&o.ref===c.ref)return Tr(o,c,M)}return c.flags|=1,o=Zi(D,y),o.ref=c.ref,o.return=c,c.child=o}function Rv(o,c,m,y,M){if(o!==null){var D=o.memoizedProps;if(Xs(D,y)&&o.ref===c.ref)if(Mr=!1,c.pendingProps=y=D,md(o,M))(o.flags&131072)!==0&&(Mr=!0);else return c.lanes=o.lanes,Tr(o,c,M)}return wf(o,c,m,y,M)}function iu(o,c,m){var y=c.pendingProps,M=y.children,D=o!==null?o.memoizedState:null;if(y.mode==="hidden"){if((c.flags&128)!==0){if(y=D!==null?D.baseLanes|m:m,o!==null){for(M=c.child=o.child,D=0;M!==null;)D=D|M.lanes|M.childLanes,M=M.sibling;c.childLanes=D&~y}else c.childLanes=0,c.child=null;return ru(o,c,y,m)}if((m&536870912)!==0)c.memoizedState={baseLanes:0,cachePool:null},o!==null&&rd(c,D!==null?D.cachePool:null),D!==null?Fx(c,D):hv(),_1(c);else return c.lanes=c.childLanes=536870912,ru(o,c,D!==null?D.baseLanes|m:m,m)}else D!==null?(rd(c,D.cachePool),Fx(c,D),oc(),c.memoizedState=null):(o!==null&&rd(c,null),hv(),oc());return Ji(o,c,M,m),c.child}function ru(o,c,m,y){var M=nc();return M=M===null?null:{parent:or._currentValue,pool:M},c.memoizedState={baseLanes:m,cachePool:M},o!==null&&rd(c,null),hv(),_1(c),o!==null&&ws(o,c,y,!0),null}function au(o,c){var m=c.ref;if(m===null)o!==null&&o.ref!==null&&(c.flags|=4194816);else{if(typeof m!="function"&&typeof m!="object")throw Error(n(284));(o===null||o.ref!==m)&&(c.flags|=4194816)}}function wf(o,c,m,y,M){return Mo(c),m=ml(o,c,m,y,void 0,M),y=dv(),o!==null&&!Mr?(lm(o,c,M),Tr(o,c,M)):(ti&&y&&nv(c),c.flags|=1,Ji(o,c,m,M),c.child)}function qa(o,c,m,y,M,D){return Mo(c),c.updateQueue=null,m=jx(c,y,m,M),Vx(o),y=dv(),o!==null&&!Mr?(lm(o,c,D),Tr(o,c,D)):(ti&&y&&nv(c),c.flags|=1,Ji(o,c,m,D),c.child)}function Ya(o,c,m,y,M){if(Mo(c),c.stateNode===null){var D=Kl,j=m.contextType;typeof j=="object"&&j!==null&&(D=Vi(j)),D=new m(y,D),c.memoizedState=D.state!==null&&D.state!==void 0?D.state:null,D.updater=ha,c.stateNode=D,D._reactInternals=c,D=c.stateNode,D.props=y,D.state=c.memoizedState,D.refs={},uv(c),j=m.contextType,D.context=typeof j=="object"&&j!==null?Vi(j):Kl,D.state=c.memoizedState,j=m.getDerivedStateFromProps,typeof j=="function"&&(lc(c,m,j,y),D.state=c.memoizedState),typeof m.getDerivedStateFromProps=="function"||typeof D.getSnapshotBeforeUpdate=="function"||typeof D.UNSAFE_componentWillMount!="function"&&typeof D.componentWillMount!="function"||(j=D.state,typeof D.componentWillMount=="function"&&D.componentWillMount(),typeof D.UNSAFE_componentWillMount=="function"&&D.UNSAFE_componentWillMount(),j!==D.state&&ha.enqueueReplaceState(D,D.state,null),gf(c,y,D,M),od(),D.state=c.memoizedState),typeof D.componentDidMount=="function"&&(c.flags|=4194308),y=!0}else if(o===null){D=c.stateNode;var K=c.memoizedProps,me=Co(m,K);D.props=me;var Ie=D.context,nt=m.contextType;j=Kl,typeof nt=="object"&&nt!==null&&(j=Vi(nt));var lt=m.getDerivedStateFromProps;nt=typeof lt=="function"||typeof D.getSnapshotBeforeUpdate=="function",K=c.pendingProps!==K,nt||typeof D.UNSAFE_componentWillReceiveProps!="function"&&typeof D.componentWillReceiveProps!="function"||(K||Ie!==j)&&b1(c,D,y,j),hl=!1;var je=c.memoizedState;D.state=je,gf(c,y,D,M),od(),Ie=c.memoizedState,K||je!==Ie||hl?(typeof lt=="function"&&(lc(c,m,lt,y),Ie=c.memoizedState),(me=hl||x1(c,m,me,y,je,Ie,j))?(nt||typeof D.UNSAFE_componentWillMount!="function"&&typeof D.componentWillMount!="function"||(typeof D.componentWillMount=="function"&&D.componentWillMount(),typeof D.UNSAFE_componentWillMount=="function"&&D.UNSAFE_componentWillMount()),typeof D.componentDidMount=="function"&&(c.flags|=4194308)):(typeof D.componentDidMount=="function"&&(c.flags|=4194308),c.memoizedProps=y,c.memoizedState=Ie),D.props=y,D.state=Ie,D.context=j,y=me):(typeof D.componentDidMount=="function"&&(c.flags|=4194308),y=!1)}else{D=c.stateNode,fn(o,c),j=c.memoizedProps,nt=Co(m,j),D.props=nt,lt=c.pendingProps,je=D.context,Ie=m.contextType,me=Kl,typeof Ie=="object"&&Ie!==null&&(me=Vi(Ie)),K=m.getDerivedStateFromProps,(Ie=typeof K=="function"||typeof D.getSnapshotBeforeUpdate=="function")||typeof D.UNSAFE_componentWillReceiveProps!="function"&&typeof D.componentWillReceiveProps!="function"||(j!==lt||je!==me)&&b1(c,D,y,me),hl=!1,je=c.memoizedState,D.state=je,gf(c,y,D,M),od();var We=c.memoizedState;j!==lt||je!==We||hl||o!==null&&o.dependencies!==null&&ed(o.dependencies)?(typeof K=="function"&&(lc(c,m,K,y),We=c.memoizedState),(nt=hl||x1(c,m,nt,y,je,We,me)||o!==null&&o.dependencies!==null&&ed(o.dependencies))?(Ie||typeof D.UNSAFE_componentWillUpdate!="function"&&typeof D.componentWillUpdate!="function"||(typeof D.componentWillUpdate=="function"&&D.componentWillUpdate(y,We,me),typeof D.UNSAFE_componentWillUpdate=="function"&&D.UNSAFE_componentWillUpdate(y,We,me)),typeof D.componentDidUpdate=="function"&&(c.flags|=4),typeof D.getSnapshotBeforeUpdate=="function"&&(c.flags|=1024)):(typeof D.componentDidUpdate!="function"||j===o.memoizedProps&&je===o.memoizedState||(c.flags|=4),typeof D.getSnapshotBeforeUpdate!="function"||j===o.memoizedProps&&je===o.memoizedState||(c.flags|=1024),c.memoizedProps=y,c.memoizedState=We),D.props=y,D.state=We,D.context=me,y=nt):(typeof D.componentDidUpdate!="function"||j===o.memoizedProps&&je===o.memoizedState||(c.flags|=4),typeof D.getSnapshotBeforeUpdate!="function"||j===o.memoizedProps&&je===o.memoizedState||(c.flags|=1024),y=!1)}return D=y,au(o,c),y=(c.flags&128)!==0,D||y?(D=c.stateNode,m=y&&typeof m.getDerivedStateFromError!="function"?null:D.render(),c.flags|=1,o!==null&&y?(c.child=tu(c,o.child,null,M),c.child=tu(c,null,m,M)):Ji(o,c,m,M),c.memoizedState=D.state,o=c.child):o=Tr(o,c,M),o}function cc(o,c,m,y){return uf(),c.flags|=256,Ji(o,c,m,y),c.child}var $s={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Js(o){return{baseLanes:o,cachePool:im()}}function mr(o,c,m){return o=o!==null?o.childLanes&~m:0,c&&(o|=Ns),o}function Ef(o,c,m){var y=c.pendingProps,M=!1,D=(c.flags&128)!==0,j;if((j=D)||(j=o!==null&&o.memoizedState===null?!1:($i.current&2)!==0),j&&(M=!0,c.flags&=-129),j=(c.flags&32)!==0,c.flags&=-33,o===null){if(ti){if(M?sc(c):oc(),ti){var K=zi,me;if(me=K){e:{for(me=K,K=Ga;me.nodeType!==8;){if(!K){K=null;break e}if(me=wl(me.nextSibling),me===null){K=null;break e}}K=me}K!==null?(c.memoizedState={dehydrated:K,treeContext:Jl!==null?{id:wo,overflow:Eo}:null,retryLane:536870912,hydrationErrors:null},me=Ta(18,null,null,0),me.stateNode=K,me.return=c,c.child=me,ca=c,zi=null,me=!0):me=!1}me||Ql(c)}if(K=c.memoizedState,K!==null&&(K=K.dehydrated,K!==null))return S2(K)?c.lanes=32:c.lanes=536870912,null;Ao(c)}return K=y.children,y=y.fallback,M?(oc(),M=c.mode,K=su({mode:"hidden",children:K},M),y=$l(y,M,m,null),K.return=c,y.return=c,K.sibling=y,c.child=K,M=c.child,M.memoizedState=Js(m),M.childLanes=mr(o,j,m),c.memoizedState=$s,y):(sc(c),Ro(c,K))}if(me=o.memoizedState,me!==null&&(K=me.dehydrated,K!==null)){if(D)c.flags&256?(sc(c),c.flags&=-257,c=Hr(o,c,m)):c.memoizedState!==null?(oc(),c.child=o.child,c.flags|=128,c=null):(oc(),M=y.fallback,K=c.mode,y=su({mode:"visible",children:y.children},K),M=$l(M,K,m,null),M.flags|=2,y.return=c,M.return=c,y.sibling=M,c.child=y,tu(c,o.child,null,m),y=c.child,y.memoizedState=Js(m),y.childLanes=mr(o,j,m),c.memoizedState=$s,c=M);else if(sc(c),S2(K)){if(j=K.nextSibling&&K.nextSibling.dataset,j)var Ie=j.dgst;j=Ie,y=Error(n(419)),y.stack="",y.digest=j,Jc({value:y,source:null,stack:null}),c=Hr(o,c,m)}else if(Mr||ws(o,c,m,!1),j=(m&o.childLanes)!==0,Mr||j){if(j=_n,j!==null&&(y=m&-m,y=(y&42)!==0?1:Xt(y),y=(y&(j.suspendedLanes|m))!==0?0:y,y!==0&&y!==me.retryLane))throw me.retryLane=y,ll(o,y),pa(j,o,y),E1;K.data==="$?"||h(),c=Hr(o,c,m)}else K.data==="$?"?(c.flags|=192,c.child=o.child,c=null):(o=me.treeContext,zi=wl(K.nextSibling),ca=c,ti=!0,Ss=null,Ga=!1,o!==null&&(kr[ja++]=wo,kr[ja++]=Eo,kr[ja++]=Jl,wo=o.id,Eo=o.overflow,Jl=c),c=Ro(c,y.children),c.flags|=4096);return c}return M?(oc(),M=y.fallback,K=c.mode,me=o.child,Ie=me.sibling,y=Zi(me,{mode:"hidden",children:y.children}),y.subtreeFlags=me.subtreeFlags&65011712,Ie!==null?M=Zi(Ie,M):(M=$l(M,K,m,null),M.flags|=2),M.return=c,y.return=c,y.sibling=M,c.child=y,y=M,M=c.child,K=o.child.memoizedState,K===null?K=Js(m):(me=K.cachePool,me!==null?(Ie=or._currentValue,me=me.parent!==Ie?{parent:Ie,pool:Ie}:me):me=im(),K={baseLanes:K.baseLanes|m,cachePool:me}),M.memoizedState=K,M.childLanes=mr(o,j,m),c.memoizedState=$s,y):(sc(c),m=o.child,o=m.sibling,m=Zi(m,{mode:"visible",children:y.children}),m.return=c,m.sibling=null,o!==null&&(j=c.deletions,j===null?(c.deletions=[o],c.flags|=16):j.push(o)),c.child=m,c.memoizedState=null,m)}function Ro(o,c){return c=su({mode:"visible",children:c},o.mode),c.return=o,o.child=c}function su(o,c){return o=Ta(22,o,null,c),o.lanes=0,o.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},o}function Hr(o,c,m){return tu(c,o.child,null,m),o=Ro(c,c.pendingProps.children),o.flags|=2,c.memoizedState=null,o}function Vr(o,c,m){o.lanes|=c;var y=o.alternate;y!==null&&(y.lanes|=c),sv(o.return,c,m)}function Yn(o,c,m,y,M){var D=o.memoizedState;D===null?o.memoizedState={isBackwards:c,rendering:null,renderingStartTime:0,last:y,tail:m,tailMode:M}:(D.isBackwards=c,D.rendering=null,D.renderingStartTime=0,D.last=y,D.tail=m,D.tailMode=M)}function Cs(o,c,m){var y=c.pendingProps,M=y.revealOrder,D=y.tail;if(Ji(o,c,y.children,m),y=$i.current,(y&2)!==0)y=y&1|2,c.flags|=128;else{if(o!==null&&(o.flags&128)!==0)e:for(o=c.child;o!==null;){if(o.tag===13)o.memoizedState!==null&&Vr(o,m,c);else if(o.tag===19)Vr(o,m,c);else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===c)break e;for(;o.sibling===null;){if(o.return===null||o.return===c)break e;o=o.return}o.sibling.return=o.return,o=o.sibling}y&=1}switch(Ce($i,y),M){case"forwards":for(m=c.child,M=null;m!==null;)o=m.alternate,o!==null&&vl(o)===null&&(M=m),m=m.sibling;m=M,m===null?(M=c.child,c.child=null):(M=m.sibling,m.sibling=null),Yn(c,!1,M,m,D);break;case"backwards":for(m=null,M=c.child,c.child=null;M!==null;){if(o=M.alternate,o!==null&&vl(o)===null){c.child=M;break}o=M.sibling,M.sibling=m,m=M,M=o}Yn(c,!0,m,null,D);break;case"together":Yn(c,!1,null,null,void 0);break;default:c.memoizedState=null}return c.child}function Tr(o,c,m){if(o!==null&&(c.dependencies=o.dependencies),no|=c.lanes,(m&c.childLanes)===0)if(o!==null){if(ws(o,c,m,!1),(m&c.childLanes)===0)return null}else return null;if(o!==null&&c.child!==o.child)throw Error(n(153));if(c.child!==null){for(o=c.child,m=Zi(o,o.pendingProps),c.child=m,m.return=c;o.sibling!==null;)o=o.sibling,m=m.sibling=Zi(o,o.pendingProps),m.return=c;m.sibling=null}return c.child}function md(o,c){return(o.lanes&c)!==0?!0:(o=o.dependencies,!!(o!==null&&ed(o)))}function Rs(o,c,m){switch(c.tag){case 3:_e(c,c.stateNode.containerInfo),tc(c,or,o.memoizedState.cache),uf();break;case 27:case 5:Ze(c);break;case 4:_e(c,c.stateNode.containerInfo);break;case 10:tc(c,c.type,c.memoizedProps.value);break;case 13:var y=c.memoizedState;if(y!==null)return y.dehydrated!==null?(sc(c),c.flags|=128,null):(m&c.child.childLanes)!==0?Ef(o,c,m):(sc(c),o=Tr(o,c,m),o!==null?o.sibling:null);sc(c);break;case 19:var M=(o.flags&128)!==0;if(y=(m&c.childLanes)!==0,y||(ws(o,c,m,!1),y=(m&c.childLanes)!==0),M){if(y)return Cs(o,c,m);c.flags|=128}if(M=c.memoizedState,M!==null&&(M.rendering=null,M.tail=null,M.lastEffect=null),Ce($i,$i.current),y)break;return null;case 22:case 23:return c.lanes=0,iu(o,c,m);case 24:tc(c,or,o.memoizedState.cache)}return Tr(o,c,m)}function ou(o,c,m){if(o!==null)if(o.memoizedProps!==c.pendingProps)Mr=!0;else{if(!md(o,m)&&(c.flags&128)===0)return Mr=!1,Rs(o,c,m);Mr=(o.flags&131072)!==0}else Mr=!1,ti&&(c.flags&1048576)!==0&&Jp(c,cf,c.index);switch(c.lanes=0,c.tag){case 16:e:{o=c.pendingProps;var y=c.elementType,M=y._init;if(y=M(y._payload),c.type=y,typeof y=="function")Kh(y)?(o=Co(y,o),c.tag=1,c=Ya(null,c,y,o,m)):(c.tag=0,c=wf(null,c,y,o,m));else{if(y!=null){if(M=y.$$typeof,M===A){c.tag=11,c=Ca(null,c,y,o,m);break e}else if(M===B){c.tag=14,c=Ra(null,c,y,o,m);break e}}throw c=ae(y)||y,Error(n(306,c,""))}}return c;case 0:return wf(o,c,c.type,c.pendingProps,m);case 1:return y=c.type,M=Co(y,c.pendingProps),Ya(o,c,y,M,m);case 3:e:{if(_e(c,c.stateNode.containerInfo),o===null)throw Error(n(387));y=c.pendingProps;var D=c.memoizedState;M=D.element,fn(o,c),gf(c,y,null,m);var j=c.memoizedState;if(y=j.cache,tc(c,or,y),y!==D.cache&&Qh(c,[or],m,!0),od(),y=j.element,D.isDehydrated)if(D={element:y,isDehydrated:!1,cache:j.cache},c.updateQueue.baseState=D,c.memoizedState=D,c.flags&256){c=cc(o,c,y,m);break e}else if(y!==M){M=zr(Error(n(424)),c),Jc(M),c=cc(o,c,y,m);break e}else{switch(o=c.stateNode.containerInfo,o.nodeType){case 9:o=o.body;break;default:o=o.nodeName==="HTML"?o.ownerDocument.body:o}for(zi=wl(o.firstChild),ca=c,ti=!0,Ss=null,Ga=!0,m=y1(c,null,y,m),c.child=m;m;)m.flags=m.flags&-3|4096,m=m.sibling}else{if(uf(),y===M){c=Tr(o,c,m);break e}Ji(o,c,y,m)}c=c.child}return c;case 26:return au(o,c),o===null?(m=jD(c.type,null,c.pendingProps,null))?c.memoizedState=m:ti||(m=c.type,o=c.pendingProps,y=D1(ee.current).createElement(m),y[xt]=c,y[kt]=o,ma(y,m,o),Pe(y),c.stateNode=y):c.memoizedState=jD(c.type,o.memoizedProps,c.pendingProps,o.memoizedState),null;case 27:return Ze(c),o===null&&ti&&(y=c.stateNode=FD(c.type,c.pendingProps,ee.current),ca=c,Ga=!0,M=zi,Lf(c.type)?(w2=M,zi=wl(y.firstChild)):zi=M),Ji(o,c,c.pendingProps.children,m),au(o,c),o===null&&(c.flags|=4194304),c.child;case 5:return o===null&&ti&&((M=y=zi)&&(y=dF(y,c.type,c.pendingProps,Ga),y!==null?(c.stateNode=y,ca=c,zi=wl(y.firstChild),Ga=!1,M=!0):M=!1),M||Ql(c)),Ze(c),M=c.type,D=c.pendingProps,j=o!==null?o.memoizedProps:null,y=D.children,_2(M,D)?y=null:j!==null&&_2(M,j)&&(c.flags|=32),c.memoizedState!==null&&(M=ml(o,c,n2,null,null,m),Fv._currentValue=M),au(o,c),Ji(o,c,y,m),c.child;case 6:return o===null&&ti&&((o=m=zi)&&(m=pF(m,c.pendingProps,Ga),m!==null?(c.stateNode=m,ca=c,zi=null,o=!0):o=!1),o||Ql(c)),null;case 13:return Ef(o,c,m);case 4:return _e(c,c.stateNode.containerInfo),y=c.pendingProps,o===null?c.child=tu(c,null,y,m):Ji(o,c,y,m),c.child;case 11:return Ca(o,c,c.type,c.pendingProps,m);case 7:return Ji(o,c,c.pendingProps,m),c.child;case 8:return Ji(o,c,c.pendingProps.children,m),c.child;case 12:return Ji(o,c,c.pendingProps.children,m),c.child;case 10:return y=c.pendingProps,tc(c,c.type,y.value),Ji(o,c,y.children,m),c.child;case 9:return M=c.type._context,y=c.pendingProps.children,Mo(c),M=Vi(M),y=y(M),c.flags|=1,Ji(o,c,y,m),c.child;case 14:return Ra(o,c,c.type,c.pendingProps,m);case 15:return Rv(o,c,c.type,c.pendingProps,m);case 19:return Cs(o,c,m);case 31:return y=c.pendingProps,m=c.mode,y={mode:y.mode,children:y.children},o===null?(m=su(y,m),m.ref=c.ref,c.child=m,m.return=c,c=m):(m=Zi(o.child,y),m.ref=c.ref,c.child=m,m.return=c,c=m),c;case 22:return iu(o,c,m);case 24:return Mo(c),y=Vi(or),o===null?(M=nc(),M===null&&(M=_n,D=tm(),M.pooledCache=D,D.refCount++,D!==null&&(M.pooledCacheLanes|=m),M=D),c.memoizedState={parent:y,cache:M},uv(c),tc(c,or,M)):((o.lanes&m)!==0&&(fn(o,c),gf(c,null,null,m),od()),M=o.memoizedState,D=c.memoizedState,M.parent!==y?(M={parent:y,cache:y},c.memoizedState=M,c.lanes===0&&(c.memoizedState=c.updateQueue.baseState=M),tc(c,or,y)):(y=D.cache,tc(c,or,y),y!==M.cache&&Qh(c,[or],m,!0))),Ji(o,c,c.pendingProps.children,m),c.child;case 29:throw c.pendingProps}throw Error(n(156,c.tag))}function Qs(o){o.flags|=4}function gd(o,c){if(c.type!=="stylesheet"||(c.state.loading&4)!==0)o.flags&=-16777217;else if(o.flags|=16777216,!YD(c)){if(c=vi.current,c!==null&&((nn&4194048)===nn?Ks!==null:(nn&62914560)!==nn&&(nn&536870912)===0||c!==Ks))throw Ms=sd,lv;o.flags|=8192}}function yl(o,c){c!==null&&(o.flags|=4),o.flags&16384&&(c=o.tag!==22?Oe():536870912,o.lanes|=c,$n|=c)}function lu(o,c){if(!ti)switch(o.tailMode){case"hidden":c=o.tail;for(var m=null;c!==null;)c.alternate!==null&&(m=c),c=c.sibling;m===null?o.tail=null:m.sibling=null;break;case"collapsed":m=o.tail;for(var y=null;m!==null;)m.alternate!==null&&(y=m),m=m.sibling;y===null?c||o.tail===null?o.tail=null:o.tail.sibling=null:y.sibling=null}}function Ei(o){var c=o.alternate!==null&&o.alternate.child===o.child,m=0,y=0;if(c)for(var M=o.child;M!==null;)m|=M.lanes|M.childLanes,y|=M.subtreeFlags&65011712,y|=M.flags&65011712,M.return=o,M=M.sibling;else for(M=o.child;M!==null;)m|=M.lanes|M.childLanes,y|=M.subtreeFlags,y|=M.flags,M.return=o,M=M.sibling;return o.subtreeFlags|=y,o.childLanes=m,c}function Dv(o,c,m){var y=c.pendingProps;switch(iv(c),c.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ei(c),null;case 1:return Ei(c),null;case 3:return m=c.stateNode,y=null,o!==null&&(y=o.memoizedState.cache),c.memoizedState.cache!==y&&(c.flags|=2048),fl(or),Be(),m.pendingContext&&(m.context=m.pendingContext,m.pendingContext=null),(o===null||o.child===null)&&(qs(c)?Qs(c):o===null||o.memoizedState.isDehydrated&&(c.flags&256)===0||(c.flags|=1024,li())),Ei(c),null;case 26:return m=c.memoizedState,o===null?(Qs(c),m!==null?(Ei(c),gd(c,m)):(Ei(c),c.flags&=-16777217)):m?m!==o.memoizedState?(Qs(c),Ei(c),gd(c,m)):(Ei(c),c.flags&=-16777217):(o.memoizedProps!==y&&Qs(c),Ei(c),c.flags&=-16777217),null;case 27:gt(c),m=ee.current;var M=c.type;if(o!==null&&c.stateNode!=null)o.memoizedProps!==y&&Qs(c);else{if(!y){if(c.stateNode===null)throw Error(n(166));return Ei(c),null}o=ke.current,qs(c)?Ix(c):(o=FD(M,y,m),c.stateNode=o,Qs(c))}return Ei(c),null;case 5:if(gt(c),m=c.type,o!==null&&c.stateNode!=null)o.memoizedProps!==y&&Qs(c);else{if(!y){if(c.stateNode===null)throw Error(n(166));return Ei(c),null}if(o=ke.current,qs(c))Ix(c);else{switch(M=D1(ee.current),o){case 1:o=M.createElementNS("http://www.w3.org/2000/svg",m);break;case 2:o=M.createElementNS("http://www.w3.org/1998/Math/MathML",m);break;default:switch(m){case"svg":o=M.createElementNS("http://www.w3.org/2000/svg",m);break;case"math":o=M.createElementNS("http://www.w3.org/1998/Math/MathML",m);break;case"script":o=M.createElement("div"),o.innerHTML="<script><\/script>",o=o.removeChild(o.firstChild);break;case"select":o=typeof y.is=="string"?M.createElement("select",{is:y.is}):M.createElement("select"),y.multiple?o.multiple=!0:y.size&&(o.size=y.size);break;default:o=typeof y.is=="string"?M.createElement(m,{is:y.is}):M.createElement(m)}}o[xt]=c,o[kt]=y;e:for(M=c.child;M!==null;){if(M.tag===5||M.tag===6)o.appendChild(M.stateNode);else if(M.tag!==4&&M.tag!==27&&M.child!==null){M.child.return=M,M=M.child;continue}if(M===c)break e;for(;M.sibling===null;){if(M.return===null||M.return===c)break e;M=M.return}M.sibling.return=M.return,M=M.sibling}c.stateNode=o;e:switch(ma(o,m,y),m){case"button":case"input":case"select":case"textarea":o=!!y.autoFocus;break e;case"img":o=!0;break e;default:o=!1}o&&Qs(c)}}return Ei(c),c.flags&=-16777217,null;case 6:if(o&&c.stateNode!=null)o.memoizedProps!==y&&Qs(c);else{if(typeof y!="string"&&c.stateNode===null)throw Error(n(166));if(o=ee.current,qs(c)){if(o=c.stateNode,m=c.memoizedProps,y=null,M=ca,M!==null)switch(M.tag){case 27:case 5:y=M.memoizedProps}o[xt]=c,o=!!(o.nodeValue===m||y!==null&&y.suppressHydrationWarning===!0||PD(o.nodeValue,m)),o||Ql(c)}else o=D1(o).createTextNode(y),o[xt]=c,c.stateNode=o}return Ei(c),null;case 13:if(y=c.memoizedState,o===null||o.memoizedState!==null&&o.memoizedState.dehydrated!==null){if(M=qs(c),y!==null&&y.dehydrated!==null){if(o===null){if(!M)throw Error(n(318));if(M=c.memoizedState,M=M!==null?M.dehydrated:null,!M)throw Error(n(317));M[xt]=c}else uf(),(c.flags&128)===0&&(c.memoizedState=null),c.flags|=4;Ei(c),M=!1}else M=li(),o!==null&&o.memoizedState!==null&&(o.memoizedState.hydrationErrors=M),M=!0;if(!M)return c.flags&256?(Ao(c),c):(Ao(c),null)}if(Ao(c),(c.flags&128)!==0)return c.lanes=m,c;if(m=y!==null,o=o!==null&&o.memoizedState!==null,m){y=c.child,M=null,y.alternate!==null&&y.alternate.memoizedState!==null&&y.alternate.memoizedState.cachePool!==null&&(M=y.alternate.memoizedState.cachePool.pool);var D=null;y.memoizedState!==null&&y.memoizedState.cachePool!==null&&(D=y.memoizedState.cachePool.pool),D!==M&&(y.flags|=2048)}return m!==o&&m&&(c.child.flags|=8192),yl(c,c.updateQueue),Ei(c),null;case 4:return Be(),o===null&&p2(c.stateNode.containerInfo),Ei(c),null;case 10:return fl(c.type),Ei(c),null;case 19:if(Se($i),M=c.memoizedState,M===null)return Ei(c),null;if(y=(c.flags&128)!==0,D=M.rendering,D===null)if(y)lu(M,!1);else{if(Oi!==0||o!==null&&(o.flags&128)!==0)for(o=c.child;o!==null;){if(D=vl(o),D!==null){for(c.flags|=128,lu(M,!1),o=D.updateQueue,c.updateQueue=o,yl(c,o),c.subtreeFlags=0,o=m,m=c.child;m!==null;)tv(m,o),m=m.sibling;return Ce($i,$i.current&1|2),c.child}o=o.sibling}M.tail!==null&&re()>$r&&(c.flags|=128,y=!0,lu(M,!1),c.lanes=4194304)}else{if(!y)if(o=vl(D),o!==null){if(c.flags|=128,y=!0,o=o.updateQueue,c.updateQueue=o,yl(c,o),lu(M,!0),M.tail===null&&M.tailMode==="hidden"&&!D.alternate&&!ti)return Ei(c),null}else 2*re()-M.renderingStartTime>$r&&m!==536870912&&(c.flags|=128,y=!0,lu(M,!1),c.lanes=4194304);M.isBackwards?(D.sibling=c.child,c.child=D):(o=M.last,o!==null?o.sibling=D:c.child=D,M.last=D)}return M.tail!==null?(c=M.tail,M.rendering=c,M.tail=c.sibling,M.renderingStartTime=re(),c.sibling=null,o=$i.current,Ce($i,y?o&1|2:o&1),c):(Ei(c),null);case 22:case 23:return Ao(c),ld(),y=c.memoizedState!==null,o!==null?o.memoizedState!==null!==y&&(c.flags|=8192):y&&(c.flags|=8192),y?(m&536870912)!==0&&(c.flags&128)===0&&(Ei(c),c.subtreeFlags&6&&(c.flags|=8192)):Ei(c),m=c.updateQueue,m!==null&&yl(c,m.retryQueue),m=null,o!==null&&o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(m=o.memoizedState.cachePool.pool),y=null,c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(y=c.memoizedState.cachePool.pool),y!==m&&(c.flags|=2048),o!==null&&Se(Es),null;case 24:return m=null,o!==null&&(m=o.memoizedState.cache),c.memoizedState.cache!==m&&(c.flags|=2048),fl(or),Ei(c),null;case 25:return null;case 30:return null}throw Error(n(156,c.tag))}function Mf(o,c){switch(iv(c),c.tag){case 1:return o=c.flags,o&65536?(c.flags=o&-65537|128,c):null;case 3:return fl(or),Be(),o=c.flags,(o&65536)!==0&&(o&128)===0?(c.flags=o&-65537|128,c):null;case 26:case 27:case 5:return gt(c),null;case 13:if(Ao(c),o=c.memoizedState,o!==null&&o.dehydrated!==null){if(c.alternate===null)throw Error(n(340));uf()}return o=c.flags,o&65536?(c.flags=o&-65537|128,c):null;case 19:return Se($i),null;case 4:return Be(),null;case 10:return fl(c.type),null;case 22:case 23:return Ao(c),ld(),o!==null&&Se(Es),o=c.flags,o&65536?(c.flags=o&-65537|128,c):null;case 24:return fl(or),null;case 25:return null;default:return null}}function Tf(o,c){switch(iv(c),c.tag){case 3:fl(or),Be();break;case 26:case 27:case 5:gt(c);break;case 4:Be();break;case 13:Ao(c);break;case 19:Se($i);break;case 10:fl(c.type);break;case 22:case 23:Ao(c),ld(),o!==null&&Se(Es);break;case 24:fl(or)}}function cu(o,c){try{var m=c.updateQueue,y=m!==null?m.lastEffect:null;if(y!==null){var M=y.next;m=M;do{if((m.tag&o)===o){y=void 0;var D=m.create,j=m.inst;y=D(),j.destroy=y}m=m.next}while(m!==M)}}catch(K){Ee(c,c.return,K)}}function Za(o,c,m){try{var y=c.updateQueue,M=y!==null?y.lastEffect:null;if(M!==null){var D=M.next;y=D;do{if((y.tag&o)===o){var j=y.inst,K=j.destroy;if(K!==void 0){j.destroy=void 0,M=c;var me=m,Ie=K;try{Ie()}catch(nt){Ee(M,me,nt)}}}y=y.next}while(y!==D)}}catch(nt){Ee(c,c.return,nt)}}function uu(o){var c=o.updateQueue;if(c!==null){var m=o.stateNode;try{kx(c,m)}catch(y){Ee(o,o.return,y)}}}function _l(o,c,m){m.props=Co(o.type,o.memoizedProps),m.state=o.memoizedState;try{m.componentWillUnmount()}catch(y){Ee(o,c,y)}}function fu(o,c){try{var m=o.ref;if(m!==null){switch(o.tag){case 26:case 27:case 5:var y=o.stateNode;break;case 30:y=o.stateNode;break;default:y=o.stateNode}typeof m=="function"?o.refCleanup=m(y):m.current=y}}catch(M){Ee(o,c,M)}}function Do(o,c){var m=o.ref,y=o.refCleanup;if(m!==null)if(typeof y=="function")try{y()}catch(M){Ee(o,c,M)}finally{o.refCleanup=null,o=o.alternate,o!=null&&(o.refCleanup=null)}else if(typeof m=="function")try{m(null)}catch(M){Ee(o,c,M)}else m.current=null}function Af(o){var c=o.type,m=o.memoizedProps,y=o.stateNode;try{e:switch(c){case"button":case"input":case"select":case"textarea":m.autoFocus&&y.focus();break e;case"img":m.src?y.src=m.src:m.srcSet&&(y.srcset=m.srcSet)}}catch(M){Ee(o,o.return,M)}}function vd(o,c,m){try{var y=o.stateNode;lF(y,o.type,m,c),y[kt]=c}catch(M){Ee(o,o.return,M)}}function yd(o){return o.tag===5||o.tag===3||o.tag===26||o.tag===27&&Lf(o.type)||o.tag===4}function uc(o){e:for(;;){for(;o.sibling===null;){if(o.return===null||yd(o.return))return null;o=o.return}for(o.sibling.return=o.return,o=o.sibling;o.tag!==5&&o.tag!==6&&o.tag!==18;){if(o.tag===27&&Lf(o.type)||o.flags&2||o.child===null||o.tag===4)continue e;o.child.return=o,o=o.child}if(!(o.flags&2))return o.stateNode}}function fc(o,c,m){var y=o.tag;if(y===5||y===6)o=o.stateNode,c?(m.nodeType===9?m.body:m.nodeName==="HTML"?m.ownerDocument.body:m).insertBefore(o,c):(c=m.nodeType===9?m.body:m.nodeName==="HTML"?m.ownerDocument.body:m,c.appendChild(o),m=m._reactRootContainer,m!=null||c.onclick!==null||(c.onclick=R1));else if(y!==4&&(y===27&&Lf(o.type)&&(m=o.stateNode,c=null),o=o.child,o!==null))for(fc(o,c,m),o=o.sibling;o!==null;)fc(o,c,m),o=o.sibling}function hc(o,c,m){var y=o.tag;if(y===5||y===6)o=o.stateNode,c?m.insertBefore(o,c):m.appendChild(o);else if(y!==4&&(y===27&&Lf(o.type)&&(m=o.stateNode),o=o.child,o!==null))for(hc(o,c,m),o=o.sibling;o!==null;)hc(o,c,m),o=o.sibling}function dc(o){var c=o.stateNode,m=o.memoizedProps;try{for(var y=o.type,M=c.attributes;M.length;)c.removeAttributeNode(M[0]);ma(c,y,m),c[xt]=o,c[kt]=m}catch(D){Ee(o,o.return,D)}}var Oo=!1,Mi=!1,Cf=!1,Ka=typeof WeakSet=="function"?WeakSet:Set,yi=null;function gr(o,c){if(o=o.containerInfo,v2=I1,o=Yg(o),Xh(o)){if("selectionStart"in o)var m={start:o.selectionStart,end:o.selectionEnd};else e:{m=(m=o.ownerDocument)&&m.defaultView||window;var y=m.getSelection&&m.getSelection();if(y&&y.rangeCount!==0){m=y.anchorNode;var M=y.anchorOffset,D=y.focusNode;y=y.focusOffset;try{m.nodeType,D.nodeType}catch{m=null;break e}var j=0,K=-1,me=-1,Ie=0,nt=0,lt=o,je=null;t:for(;;){for(var We;lt!==m||M!==0&&lt.nodeType!==3||(K=j+M),lt!==D||y!==0&&lt.nodeType!==3||(me=j+y),lt.nodeType===3&&(j+=lt.nodeValue.length),(We=lt.firstChild)!==null;)je=lt,lt=We;for(;;){if(lt===o)break t;if(je===m&&++Ie===M&&(K=j),je===D&&++nt===y&&(me=j),(We=lt.nextSibling)!==null)break;lt=je,je=lt.parentNode}lt=We}m=K===-1||me===-1?null:{start:K,end:me}}else m=null}m=m||{start:0,end:0}}else m=null;for(y2={focusedElem:o,selectionRange:m},I1=!1,yi=c;yi!==null;)if(c=yi,o=c.child,(c.subtreeFlags&1024)!==0&&o!==null)o.return=c,yi=o;else for(;yi!==null;){switch(c=yi,D=c.alternate,o=c.flags,c.tag){case 0:break;case 11:case 15:break;case 1:if((o&1024)!==0&&D!==null){o=void 0,m=c,M=D.memoizedProps,D=D.memoizedState,y=m.stateNode;try{var pn=Co(m.type,M,m.elementType===m.type);o=y.getSnapshotBeforeUpdate(pn,D),y.__reactInternalSnapshotBeforeUpdate=o}catch(cn){Ee(m,m.return,cn)}}break;case 3:if((o&1024)!==0){if(o=c.stateNode.containerInfo,m=o.nodeType,m===9)b2(o);else if(m===1)switch(o.nodeName){case"HEAD":case"HTML":case"BODY":b2(o);break;default:o.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((o&1024)!==0)throw Error(n(163))}if(o=c.sibling,o!==null){o.return=c.return,yi=o;break}yi=c.return}}function xl(o,c,m){var y=m.flags;switch(m.tag){case 0:case 11:case 15:da(o,m),y&4&&cu(5,m);break;case 1:if(da(o,m),y&4)if(o=m.stateNode,c===null)try{o.componentDidMount()}catch(j){Ee(m,m.return,j)}else{var M=Co(m.type,c.memoizedProps);c=c.memoizedState;try{o.componentDidUpdate(M,c,o.__reactInternalSnapshotBeforeUpdate)}catch(j){Ee(m,m.return,j)}}y&64&&uu(m),y&512&&fu(m,m.return);break;case 3:if(da(o,m),y&64&&(o=m.updateQueue,o!==null)){if(c=null,m.child!==null)switch(m.child.tag){case 27:case 5:c=m.child.stateNode;break;case 1:c=m.child.stateNode}try{kx(o,c)}catch(j){Ee(m,m.return,j)}}break;case 27:c===null&&y&4&&dc(m);case 26:case 5:da(o,m),c===null&&y&4&&Af(m),y&512&&fu(m,m.return);break;case 12:da(o,m);break;case 13:da(o,m),y&4&&pc(o,m),y&64&&(o=m.memoizedState,o!==null&&(o=o.dehydrated,o!==null&&(m=Ni.bind(null,m),mF(o,m))));break;case 22:if(y=m.memoizedState!==null||Oo,!y){c=c!==null&&c.memoizedState!==null||Mi,M=Oo;var D=Mi;Oo=y,(Mi=c)&&!D?No(o,m,(m.subtreeFlags&8772)!==0):da(o,m),Oo=M,Mi=D}break;case 30:break;default:da(o,m)}}function Cn(o){var c=o.alternate;c!==null&&(o.alternate=null,Cn(c)),o.child=null,o.deletions=null,o.sibling=null,o.tag===5&&(c=o.stateNode,c!==null&&sn(c)),o.stateNode=null,o.return=null,o.dependencies=null,o.memoizedProps=null,o.memoizedState=null,o.pendingProps=null,o.stateNode=null,o.updateQueue=null}var on=null,Kn=!1;function Ds(o,c,m){for(m=m.child;m!==null;)hu(o,c,m),m=m.sibling}function hu(o,c,m){if(ze&&typeof ze.onCommitFiberUnmount=="function")try{ze.onCommitFiberUnmount(Ne,m)}catch{}switch(m.tag){case 26:Mi||Do(m,c),Ds(o,c,m),m.memoizedState?m.memoizedState.count--:m.stateNode&&(m=m.stateNode,m.parentNode.removeChild(m));break;case 27:Mi||Do(m,c);var y=on,M=Kn;Lf(m.type)&&(on=m.stateNode,Kn=!1),Ds(o,c,m),Iv(m.stateNode),on=y,Kn=M;break;case 5:Mi||Do(m,c);case 6:if(y=on,M=Kn,on=null,Ds(o,c,m),on=y,Kn=M,on!==null)if(Kn)try{(on.nodeType===9?on.body:on.nodeName==="HTML"?on.ownerDocument.body:on).removeChild(m.stateNode)}catch(D){Ee(m,c,D)}else try{on.removeChild(m.stateNode)}catch(D){Ee(m,c,D)}break;case 18:on!==null&&(Kn?(o=on,zD(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,m.stateNode),Gv(o)):zD(on,m.stateNode));break;case 4:y=on,M=Kn,on=m.stateNode.containerInfo,Kn=!0,Ds(o,c,m),on=y,Kn=M;break;case 0:case 11:case 14:case 15:Mi||Za(2,m,c),Mi||Za(4,m,c),Ds(o,c,m);break;case 1:Mi||(Do(m,c),y=m.stateNode,typeof y.componentWillUnmount=="function"&&_l(m,c,y)),Ds(o,c,m);break;case 21:Ds(o,c,m);break;case 22:Mi=(y=Mi)||m.memoizedState!==null,Ds(o,c,m),Mi=y;break;default:Ds(o,c,m)}}function pc(o,c){if(c.memoizedState===null&&(o=c.alternate,o!==null&&(o=o.memoizedState,o!==null&&(o=o.dehydrated,o!==null))))try{Gv(o)}catch(m){Ee(c,c.return,m)}}function Sm(o){switch(o.tag){case 13:case 19:var c=o.stateNode;return c===null&&(c=o.stateNode=new Ka),c;case 22:return o=o.stateNode,c=o._retryCache,c===null&&(c=o._retryCache=new Ka),c;default:throw Error(n(435,o.tag))}}function du(o,c){var m=Sm(o);c.forEach(function(y){var M=hn.bind(null,o,y);m.has(y)||(m.add(y),y.then(M,M))})}function Ar(o,c){var m=c.deletions;if(m!==null)for(var y=0;y<m.length;y++){var M=m[y],D=o,j=c,K=j;e:for(;K!==null;){switch(K.tag){case 27:if(Lf(K.type)){on=K.stateNode,Kn=!1;break e}break;case 5:on=K.stateNode,Kn=!1;break e;case 3:case 4:on=K.stateNode.containerInfo,Kn=!0;break e}K=K.return}if(on===null)throw Error(n(160));hu(D,j,M),on=null,Kn=!1,D=M.alternate,D!==null&&(D.return=null),M.return=null}if(c.subtreeFlags&13878)for(c=c.child;c!==null;)wm(c,o),c=c.sibling}var eo=null;function wm(o,c){var m=o.alternate,y=o.flags;switch(o.tag){case 0:case 11:case 14:case 15:Ar(c,o),ji(o),y&4&&(Za(3,o,o.return),cu(3,o),Za(5,o,o.return));break;case 1:Ar(c,o),ji(o),y&512&&(Mi||m===null||Do(m,m.return)),y&64&&Oo&&(o=o.updateQueue,o!==null&&(y=o.callbacks,y!==null&&(m=o.shared.hiddenCallbacks,o.shared.hiddenCallbacks=m===null?y:m.concat(y))));break;case 26:var M=eo;if(Ar(c,o),ji(o),y&512&&(Mi||m===null||Do(m,m.return)),y&4){var D=m!==null?m.memoizedState:null;if(y=o.memoizedState,m===null)if(y===null)if(o.stateNode===null){e:{y=o.type,m=o.memoizedProps,M=M.ownerDocument||M;t:switch(y){case"title":D=M.getElementsByTagName("title")[0],(!D||D[Zn]||D[xt]||D.namespaceURI==="http://www.w3.org/2000/svg"||D.hasAttribute("itemprop"))&&(D=M.createElement(y),M.head.insertBefore(D,M.querySelector("head > title"))),ma(D,y,m),D[xt]=o,Pe(D),y=D;break e;case"link":var j=XD("link","href",M).get(y+(m.href||""));if(j){for(var K=0;K<j.length;K++)if(D=j[K],D.getAttribute("href")===(m.href==null||m.href===""?null:m.href)&&D.getAttribute("rel")===(m.rel==null?null:m.rel)&&D.getAttribute("title")===(m.title==null?null:m.title)&&D.getAttribute("crossorigin")===(m.crossOrigin==null?null:m.crossOrigin)){j.splice(K,1);break t}}D=M.createElement(y),ma(D,y,m),M.head.appendChild(D);break;case"meta":if(j=XD("meta","content",M).get(y+(m.content||""))){for(K=0;K<j.length;K++)if(D=j[K],D.getAttribute("content")===(m.content==null?null:""+m.content)&&D.getAttribute("name")===(m.name==null?null:m.name)&&D.getAttribute("property")===(m.property==null?null:m.property)&&D.getAttribute("http-equiv")===(m.httpEquiv==null?null:m.httpEquiv)&&D.getAttribute("charset")===(m.charSet==null?null:m.charSet)){j.splice(K,1);break t}}D=M.createElement(y),ma(D,y,m),M.head.appendChild(D);break;default:throw Error(n(468,y))}D[xt]=o,Pe(D),y=D}o.stateNode=y}else qD(M,o.type,o.stateNode);else o.stateNode=WD(M,y,o.memoizedProps);else D!==y?(D===null?m.stateNode!==null&&(m=m.stateNode,m.parentNode.removeChild(m)):D.count--,y===null?qD(M,o.type,o.stateNode):WD(M,y,o.memoizedProps)):y===null&&o.stateNode!==null&&vd(o,o.memoizedProps,m.memoizedProps)}break;case 27:Ar(c,o),ji(o),y&512&&(Mi||m===null||Do(m,m.return)),m!==null&&y&4&&vd(o,o.memoizedProps,m.memoizedProps);break;case 5:if(Ar(c,o),ji(o),y&512&&(Mi||m===null||Do(m,m.return)),o.flags&32){M=o.stateNode;try{dr(M,"")}catch(We){Ee(o,o.return,We)}}y&4&&o.stateNode!=null&&(M=o.memoizedProps,vd(o,M,m!==null?m.memoizedProps:M)),y&1024&&(Cf=!0);break;case 6:if(Ar(c,o),ji(o),y&4){if(o.stateNode===null)throw Error(n(162));y=o.memoizedProps,m=o.stateNode;try{m.nodeValue=y}catch(We){Ee(o,o.return,We)}}break;case 3:if(P1=null,M=eo,eo=O1(c.containerInfo),Ar(c,o),eo=M,ji(o),y&4&&m!==null&&m.memoizedState.isDehydrated)try{Gv(c.containerInfo)}catch(We){Ee(o,o.return,We)}Cf&&(Cf=!1,mc(o));break;case 4:y=eo,eo=O1(o.stateNode.containerInfo),Ar(c,o),ji(o),eo=y;break;case 12:Ar(c,o),ji(o);break;case 13:Ar(c,o),ji(o),o.child.flags&8192&&o.memoizedState!==null!=(m!==null&&m.memoizedState!==null)&&(pi=re()),y&4&&(y=o.updateQueue,y!==null&&(o.updateQueue=null,du(o,y)));break;case 22:M=o.memoizedState!==null;var me=m!==null&&m.memoizedState!==null,Ie=Oo,nt=Mi;if(Oo=Ie||M,Mi=nt||me,Ar(c,o),Mi=nt,Oo=Ie,ji(o),y&8192)e:for(c=o.stateNode,c._visibility=M?c._visibility&-2:c._visibility|1,M&&(m===null||me||Oo||Mi||$a(o)),m=null,c=o;;){if(c.tag===5||c.tag===26){if(m===null){me=m=c;try{if(D=me.stateNode,M)j=D.style,typeof j.setProperty=="function"?j.setProperty("display","none","important"):j.display="none";else{K=me.stateNode;var lt=me.memoizedProps.style,je=lt!=null&&lt.hasOwnProperty("display")?lt.display:null;K.style.display=je==null||typeof je=="boolean"?"":(""+je).trim()}}catch(We){Ee(me,me.return,We)}}}else if(c.tag===6){if(m===null){me=c;try{me.stateNode.nodeValue=M?"":me.memoizedProps}catch(We){Ee(me,me.return,We)}}}else if((c.tag!==22&&c.tag!==23||c.memoizedState===null||c===o)&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===o)break e;for(;c.sibling===null;){if(c.return===null||c.return===o)break e;m===c&&(m=null),c=c.return}m===c&&(m=null),c.sibling.return=c.return,c=c.sibling}y&4&&(y=o.updateQueue,y!==null&&(m=y.retryQueue,m!==null&&(y.retryQueue=null,du(o,m))));break;case 19:Ar(c,o),ji(o),y&4&&(y=o.updateQueue,y!==null&&(o.updateQueue=null,du(o,y)));break;case 30:break;case 21:break;default:Ar(c,o),ji(o)}}function ji(o){var c=o.flags;if(c&2){try{for(var m,y=o.return;y!==null;){if(yd(y)){m=y;break}y=y.return}if(m==null)throw Error(n(160));switch(m.tag){case 27:var M=m.stateNode,D=uc(o);hc(o,D,M);break;case 5:var j=m.stateNode;m.flags&32&&(dr(j,""),m.flags&=-33);var K=uc(o);hc(o,K,j);break;case 3:case 4:var me=m.stateNode.containerInfo,Ie=uc(o);fc(o,Ie,me);break;default:throw Error(n(161))}}catch(nt){Ee(o,o.return,nt)}o.flags&=-3}c&4096&&(o.flags&=-4097)}function mc(o){if(o.subtreeFlags&1024)for(o=o.child;o!==null;){var c=o;mc(c),c.tag===5&&c.flags&1024&&c.stateNode.reset(),o=o.sibling}}function da(o,c){if(c.subtreeFlags&8772)for(c=c.child;c!==null;)xl(o,c.alternate,c),c=c.sibling}function $a(o){for(o=o.child;o!==null;){var c=o;switch(c.tag){case 0:case 11:case 14:case 15:Za(4,c,c.return),$a(c);break;case 1:Do(c,c.return);var m=c.stateNode;typeof m.componentWillUnmount=="function"&&_l(c,c.return,m),$a(c);break;case 27:Iv(c.stateNode);case 26:case 5:Do(c,c.return),$a(c);break;case 22:c.memoizedState===null&&$a(c);break;case 30:$a(c);break;default:$a(c)}o=o.sibling}}function No(o,c,m){for(m=m&&(c.subtreeFlags&8772)!==0,c=c.child;c!==null;){var y=c.alternate,M=o,D=c,j=D.flags;switch(D.tag){case 0:case 11:case 15:No(M,D,m),cu(4,D);break;case 1:if(No(M,D,m),y=D,M=y.stateNode,typeof M.componentDidMount=="function")try{M.componentDidMount()}catch(Ie){Ee(y,y.return,Ie)}if(y=D,M=y.updateQueue,M!==null){var K=y.stateNode;try{var me=M.shared.hiddenCallbacks;if(me!==null)for(M.shared.hiddenCallbacks=null,M=0;M<me.length;M++)vf(me[M],K)}catch(Ie){Ee(y,y.return,Ie)}}m&&j&64&&uu(D),fu(D,D.return);break;case 27:dc(D);case 26:case 5:No(M,D,m),m&&y===null&&j&4&&Af(D),fu(D,D.return);break;case 12:No(M,D,m);break;case 13:No(M,D,m),m&&j&4&&pc(M,D);break;case 22:D.memoizedState===null&&No(M,D,m),fu(D,D.return);break;case 30:break;default:No(M,D,m)}c=c.sibling}}function Em(o,c){var m=null;o!==null&&o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(m=o.memoizedState.cachePool.pool),o=null,c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(o=c.memoizedState.cachePool.pool),o!==m&&(o!=null&&o.refCount++,m!=null&&ff(m))}function Mm(o,c){o=null,c.alternate!==null&&(o=c.alternate.memoizedState.cache),c=c.memoizedState.cache,c!==o&&(c.refCount++,o!=null&&ff(o))}function _i(o,c,m,y){if(c.subtreeFlags&10256)for(c=c.child;c!==null;)Tm(o,c,m,y),c=c.sibling}function Tm(o,c,m,y){var M=c.flags;switch(c.tag){case 0:case 11:case 15:_i(o,c,m,y),M&2048&&cu(9,c);break;case 1:_i(o,c,m,y);break;case 3:_i(o,c,m,y),M&2048&&(o=null,c.alternate!==null&&(o=c.alternate.memoizedState.cache),c=c.memoizedState.cache,c!==o&&(c.refCount++,o!=null&&ff(o)));break;case 12:if(M&2048){_i(o,c,m,y),o=c.stateNode;try{var D=c.memoizedProps,j=D.id,K=D.onPostCommit;typeof K=="function"&&K(j,c.alternate===null?"mount":"update",o.passiveEffectDuration,-0)}catch(me){Ee(c,c.return,me)}}else _i(o,c,m,y);break;case 13:_i(o,c,m,y);break;case 23:break;case 22:D=c.stateNode,j=c.alternate,c.memoizedState!==null?D._visibility&2?_i(o,c,m,y):to(o,c):D._visibility&2?_i(o,c,m,y):(D._visibility|=2,bl(o,c,m,y,(c.subtreeFlags&10256)!==0)),M&2048&&Em(j,c);break;case 24:_i(o,c,m,y),M&2048&&Mm(c.alternate,c);break;default:_i(o,c,m,y)}}function bl(o,c,m,y,M){for(M=M&&(c.subtreeFlags&10256)!==0,c=c.child;c!==null;){var D=o,j=c,K=m,me=y,Ie=j.flags;switch(j.tag){case 0:case 11:case 15:bl(D,j,K,me,M),cu(8,j);break;case 23:break;case 22:var nt=j.stateNode;j.memoizedState!==null?nt._visibility&2?bl(D,j,K,me,M):to(D,j):(nt._visibility|=2,bl(D,j,K,me,M)),M&&Ie&2048&&Em(j.alternate,j);break;case 24:bl(D,j,K,me,M),M&&Ie&2048&&Mm(j.alternate,j);break;default:bl(D,j,K,me,M)}c=c.sibling}}function to(o,c){if(c.subtreeFlags&10256)for(c=c.child;c!==null;){var m=o,y=c,M=y.flags;switch(y.tag){case 22:to(m,y),M&2048&&Em(y.alternate,y);break;case 24:to(m,y),M&2048&&Mm(y.alternate,y);break;default:to(m,y)}c=c.sibling}}var Ja=8192;function Rf(o){if(o.subtreeFlags&Ja)for(o=o.child;o!==null;)M1(o),o=o.sibling}function M1(o){switch(o.tag){case 26:Rf(o),o.flags&Ja&&o.memoizedState!==null&&CF(eo,o.memoizedState,o.memoizedProps);break;case 5:Rf(o);break;case 3:case 4:var c=eo;eo=O1(o.stateNode.containerInfo),Rf(o),eo=c;break;case 22:o.memoizedState===null&&(c=o.alternate,c!==null&&c.memoizedState!==null?(c=Ja,Ja=16777216,Rf(o),Ja=c):Rf(o));break;default:Rf(o)}}function T1(o){var c=o.alternate;if(c!==null&&(o=c.child,o!==null)){c.child=null;do c=o.sibling,o.sibling=null,o=c;while(o!==null)}}function Ti(o){var c=o.deletions;if((o.flags&16)!==0){if(c!==null)for(var m=0;m<c.length;m++){var y=c[m];yi=y,Lo(y,o)}T1(o)}if(o.subtreeFlags&10256)for(o=o.child;o!==null;)Ov(o),o=o.sibling}function Ov(o){switch(o.tag){case 0:case 11:case 15:Ti(o),o.flags&2048&&Za(9,o,o.return);break;case 3:Ti(o);break;case 12:Ti(o);break;case 22:var c=o.stateNode;o.memoizedState!==null&&c._visibility&2&&(o.return===null||o.return.tag!==13)?(c._visibility&=-3,Po(o)):Ti(o);break;default:Ti(o)}}function Po(o){var c=o.deletions;if((o.flags&16)!==0){if(c!==null)for(var m=0;m<c.length;m++){var y=c[m];yi=y,Lo(y,o)}T1(o)}for(o=o.child;o!==null;){switch(c=o,c.tag){case 0:case 11:case 15:Za(8,c,c.return),Po(c);break;case 22:m=c.stateNode,m._visibility&2&&(m._visibility&=-3,Po(c));break;default:Po(c)}o=o.sibling}}function Lo(o,c){for(;yi!==null;){var m=yi;switch(m.tag){case 0:case 11:case 15:Za(8,m,c);break;case 23:case 22:if(m.memoizedState!==null&&m.memoizedState.cachePool!==null){var y=m.memoizedState.cachePool.pool;y!=null&&y.refCount++}break;case 24:ff(m.memoizedState.cache)}if(y=m.child,y!==null)y.return=m,yi=y;else e:for(m=o;yi!==null;){y=yi;var M=y.sibling,D=y.return;if(Cn(y),y===m){yi=null;break e}if(M!==null){M.return=D,yi=M;break e}yi=D}}}var Gi={getCacheForType:function(o){var c=Vi(or),m=c.data.get(o);return m===void 0&&(m=o(),c.data.set(o,m)),m}},Nv=typeof WeakMap=="function"?WeakMap:Map,ci=0,_n=null,Un=null,nn=0,En=0,ki=null,Qa=!1,Df=!1,Of=!1,Os=0,Oi=0,no=0,Uo=0,pu=0,Ns=0,$n=0,ui=null,ln=null,Fn=!1,pi=0,$r=1/0,Ps=null,es=null,vr=0,Jr=null,xi=null,ts=0,Sl=0,_d=null,ns=null,Io=0,mu=null;function Wi(){if((ci&2)!==0&&nn!==0)return nn&-nn;if(G.T!==null){var o=Sn;return o!==0?o:u2()}return Ct()}function Am(){Ns===0&&(Ns=(nn&536870912)===0||ti?de():536870912);var o=vi.current;return o!==null&&(o.flags|=32),Ns}function pa(o,c,m){(o===_n&&(En===2||En===9)||o.cancelPendingCommit!==null)&&(vc(o,0),io(o,nn,Ns,!1)),At(o,m),((ci&2)===0||o!==_n)&&(o===_n&&((ci&2)===0&&(Uo|=m),Oi===4&&io(o,nn,Ns,!1)),xc(o))}function Nf(o,c,m){if((ci&6)!==0)throw Error(n(327));var y=!m&&(c&124)===0&&(c&o.expiredLanes)===0||ft(o,c),M=y?T(o,c):d(o,c,!0),D=y;do{if(M===0){Df&&!y&&io(o,c,0,!1);break}else{if(m=o.current.alternate,D&&!gc(m)){M=d(o,c,!1),D=!1;continue}if(M===2){if(D=c,o.errorRecoveryDisabledLanes&D)var j=0;else j=o.pendingLanes&-536870913,j=j!==0?j:j&536870912?536870912:0;if(j!==0){c=j;e:{var K=o;M=ui;var me=K.current.memoizedState.isDehydrated;if(me&&(vc(K,j).flags|=256),j=d(K,j,!1),j!==2){if(Of&&!me){K.errorRecoveryDisabledLanes|=D,Uo|=D,M=4;break e}D=ln,ln=M,D!==null&&(ln===null?ln=D:ln.push.apply(ln,D))}M=j}if(D=!1,M!==2)continue}}if(M===1){vc(o,0),io(o,c,0,!0);break}e:{switch(y=o,D=M,D){case 0:case 1:throw Error(n(345));case 4:if((c&4194048)!==c)break;case 6:io(y,c,Ns,!Qa);break e;case 2:ln=null;break;case 3:case 5:break;default:throw Error(n(329))}if((c&62914560)===c&&(M=pi+300-re(),10<M)){if(io(y,c,Ns,!Qa),Rt(y,0,!0)!==0)break e;y.timeoutHandle=ID(xd.bind(null,y,m,ln,Ps,Fn,c,Ns,Uo,$n,Qa,D,2,-0,0),M);break e}xd(y,m,ln,Ps,Fn,c,Ns,Uo,$n,Qa,D,0,-0,0)}}break}while(!0);xc(o)}function xd(o,c,m,y,M,D,j,K,me,Ie,nt,lt,je,We){if(o.timeoutHandle=-1,lt=c.subtreeFlags,(lt&8192||(lt&16785408)===16785408)&&(kv={stylesheets:null,count:0,unsuspend:AF},M1(c),lt=RF(),lt!==null)){o.cancelPendingCommit=lt(Mt.bind(null,o,c,D,m,y,M,j,K,me,nt,1,je,We)),io(o,D,j,!Ie);return}Mt(o,c,D,m,y,M,j,K,me)}function gc(o){for(var c=o;;){var m=c.tag;if((m===0||m===11||m===15)&&c.flags&16384&&(m=c.updateQueue,m!==null&&(m=m.stores,m!==null)))for(var y=0;y<m.length;y++){var M=m[y],D=M.getSnapshot;M=M.value;try{if(!wa(D(),M))return!1}catch{return!1}}if(m=c.child,c.subtreeFlags&16384&&m!==null)m.return=c,c=m;else{if(c===o)break;for(;c.sibling===null;){if(c.return===null||c.return===o)return!0;c=c.return}c.sibling.return=c.return,c=c.sibling}}return!0}function io(o,c,m,y){c&=~pu,c&=~Uo,o.suspendedLanes|=c,o.pingedLanes&=~c,y&&(o.warmLanes|=c),y=o.expirationTimes;for(var M=c;0<M;){var D=31-mt(M),j=1<<D;y[D]=-1,M&=~j}m!==0&&et(o,m,c)}function Bo(){return(ci&6)===0?(Pv(0),!1):!0}function gu(){if(Un!==null){if(En===0)var o=Un.return;else o=Un,ul=ec=null,pv(o),eu=null,hd=0,o=Un;for(;o!==null;)Tf(o.alternate,o),o=o.return;Un=null}}function vc(o,c){var m=o.timeoutHandle;m!==-1&&(o.timeoutHandle=-1,uF(m)),m=o.cancelPendingCommit,m!==null&&(o.cancelPendingCommit=null,m()),gu(),_n=o,Un=m=Zi(o.current,null),nn=c,En=0,ki=null,Qa=!1,Df=ft(o,c),Of=!1,$n=Ns=pu=Uo=no=Oi=0,ln=ui=null,Fn=!1,(c&8)!==0&&(c|=c&32);var y=o.entangledLanes;if(y!==0)for(o=o.entanglements,y&=c;0<y;){var M=31-mt(y),D=1<<M;c|=o[M],y&=~D}return Os=c,Zh(),m}function Cm(o,c){wn=null,G.H=fd,c===ad||c===Ys?(c=cv(),En=3):c===lv?(c=cv(),En=4):En=c===E1?8:c!==null&&typeof c=="object"&&typeof c.then=="function"?6:1,ki=c,Un===null&&(Oi=1,_m(o,zr(c,o.current)))}function Pf(){var o=G.H;return G.H=fd,o===null?fd:o}function Rm(){var o=G.A;return G.A=Gi,o}function h(){Oi=4,Qa||(nn&4194048)!==nn&&vi.current!==null||(Df=!0),(no&134217727)===0&&(Uo&134217727)===0||_n===null||io(_n,nn,Ns,!1)}function d(o,c,m){var y=ci;ci|=2;var M=Pf(),D=Rm();(_n!==o||nn!==c)&&(Ps=null,vc(o,c)),c=!1;var j=Oi;e:do try{if(En!==0&&Un!==null){var K=Un,me=ki;switch(En){case 8:gu(),j=6;break e;case 3:case 2:case 9:case 6:vi.current===null&&(c=!0);var Ie=En;if(En=0,ki=null,ve(o,K,me,Ie),m&&Df){j=0;break e}break;default:Ie=En,En=0,ki=null,ve(o,K,me,Ie)}}x(),j=Oi;break}catch(nt){Cm(o,nt)}while(!0);return c&&o.shellSuspendCounter++,ul=ec=null,ci=y,G.H=M,G.A=D,Un===null&&(_n=null,nn=0,Zh()),j}function x(){for(;Un!==null;)k(Un)}function T(o,c){var m=ci;ci|=2;var y=Pf(),M=Rm();_n!==o||nn!==c?(Ps=null,$r=re()+500,vc(o,c)):Df=ft(o,c);e:do try{if(En!==0&&Un!==null){c=Un;var D=ki;t:switch(En){case 1:En=0,ki=null,ve(o,c,D,1);break;case 2:case 9:if(rm(D)){En=0,ki=null,J(c);break}c=function(){En!==2&&En!==9||_n!==o||(En=7),xc(o)},D.then(c,c);break e;case 3:En=7;break e;case 4:En=5;break e;case 7:rm(D)?(En=0,ki=null,J(c)):(En=0,ki=null,ve(o,c,D,7));break;case 5:var j=null;switch(Un.tag){case 26:j=Un.memoizedState;case 5:case 27:var K=Un;if(!j||YD(j)){En=0,ki=null;var me=K.sibling;if(me!==null)Un=me;else{var Ie=K.return;Ie!==null?(Un=Ie,Re(Ie)):Un=null}break t}}En=0,ki=null,ve(o,c,D,5);break;case 6:En=0,ki=null,ve(o,c,D,6);break;case 8:gu(),Oi=6;break e;default:throw Error(n(462))}}O();break}catch(nt){Cm(o,nt)}while(!0);return ul=ec=null,G.H=y,G.A=M,ci=m,Un!==null?0:(_n=null,nn=0,Zh(),Oi)}function O(){for(;Un!==null&&!De();)k(Un)}function k(o){var c=ou(o.alternate,o,Os);o.memoizedProps=o.pendingProps,c===null?Re(o):Un=c}function J(o){var c=o,m=c.alternate;switch(c.tag){case 15:case 0:c=qa(m,c,c.pendingProps,c.type,void 0,nn);break;case 11:c=qa(m,c,c.pendingProps,c.type.render,c.ref,nn);break;case 5:pv(c);default:Tf(m,c),c=Un=tv(c,Os),c=ou(m,c,Os)}o.memoizedProps=o.pendingProps,c===null?Re(o):Un=c}function ve(o,c,m,y){ul=ec=null,pv(c),eu=null,hd=0;var M=c.return;try{if(l2(o,M,c,m,nn)){Oi=1,_m(o,zr(m,o.current)),Un=null;return}}catch(D){if(M!==null)throw Un=M,D;Oi=1,_m(o,zr(m,o.current)),Un=null;return}c.flags&32768?(ti||y===1?o=!0:Df||(nn&536870912)!==0?o=!1:(Qa=o=!0,(y===2||y===9||y===3||y===6)&&(y=vi.current,y!==null&&y.tag===13&&(y.flags|=16384))),tt(c,o)):Re(c)}function Re(o){var c=o;do{if((c.flags&32768)!==0){tt(c,Qa);return}o=c.return;var m=Dv(c.alternate,c,Os);if(m!==null){Un=m;return}if(c=c.sibling,c!==null){Un=c;return}Un=c=o}while(c!==null);Oi===0&&(Oi=5)}function tt(o,c){do{var m=Mf(o.alternate,o);if(m!==null){m.flags&=32767,Un=m;return}if(m=o.return,m!==null&&(m.flags|=32768,m.subtreeFlags=0,m.deletions=null),!c&&(o=o.sibling,o!==null)){Un=o;return}Un=o=m}while(o!==null);Oi=6,Un=null}function Mt(o,c,m,y,M,D,j,K,me){o.cancelPendingCommit=null;do yc();while(vr!==0);if((ci&6)!==0)throw Error(n(327));if(c!==null){if(c===o.current)throw Error(n(177));if(D=c.lanes|c.childLanes,D|=Zp,ot(o,m,D,j,K,me),o===_n&&(Un=_n=null,nn=0),xi=c,Jr=o,ts=m,Sl=D,_d=M,ns=y,(c.subtreeFlags&10256)!==0||(c.flags&10256)!==0?(o.callbackNode=null,o.callbackPriority=0,ni(_t,function(){return _c(),null})):(o.callbackNode=null,o.callbackPriority=0),y=(c.flags&13878)!==0,(c.subtreeFlags&13878)!==0||y){y=G.T,G.T=null,M=Y.p,Y.p=2,j=ci,ci|=4;try{gr(o,c,m)}finally{ci=j,Y.p=M,G.T=y}}vr=1,Nt(),Bt(),xn()}}function Nt(){if(vr===1){vr=0;var o=Jr,c=xi,m=(c.flags&13878)!==0;if((c.subtreeFlags&13878)!==0||m){m=G.T,G.T=null;var y=Y.p;Y.p=2;var M=ci;ci|=4;try{wm(c,o);var D=y2,j=Yg(o.containerInfo),K=D.focusedElem,me=D.selectionRange;if(j!==K&&K&&K.ownerDocument&&qg(K.ownerDocument.documentElement,K)){if(me!==null&&Xh(K)){var Ie=me.start,nt=me.end;if(nt===void 0&&(nt=Ie),"selectionStart"in K)K.selectionStart=Ie,K.selectionEnd=Math.min(nt,K.value.length);else{var lt=K.ownerDocument||document,je=lt&&lt.defaultView||window;if(je.getSelection){var We=je.getSelection(),pn=K.textContent.length,cn=Math.min(me.start,pn),Ci=me.end===void 0?cn:Math.min(me.end,pn);!We.extend&&cn>Ci&&(j=Ci,Ci=cn,cn=j);var Ae=Xg(K,cn),Me=Xg(K,Ci);if(Ae&&Me&&(We.rangeCount!==1||We.anchorNode!==Ae.node||We.anchorOffset!==Ae.offset||We.focusNode!==Me.node||We.focusOffset!==Me.offset)){var Le=lt.createRange();Le.setStart(Ae.node,Ae.offset),We.removeAllRanges(),cn>Ci?(We.addRange(Le),We.extend(Me.node,Me.offset)):(Le.setEnd(Me.node,Me.offset),We.addRange(Le))}}}}for(lt=[],We=K;We=We.parentNode;)We.nodeType===1&&lt.push({element:We,left:We.scrollLeft,top:We.scrollTop});for(typeof K.focus=="function"&&K.focus(),K=0;K<lt.length;K++){var rt=lt[K];rt.element.scrollLeft=rt.left,rt.element.scrollTop=rt.top}}I1=!!v2,y2=v2=null}finally{ci=M,Y.p=y,G.T=m}}o.current=c,vr=2}}function Bt(){if(vr===2){vr=0;var o=Jr,c=xi,m=(c.flags&8772)!==0;if((c.subtreeFlags&8772)!==0||m){m=G.T,G.T=null;var y=Y.p;Y.p=2;var M=ci;ci|=4;try{xl(o,c.alternate,c)}finally{ci=M,Y.p=y,G.T=m}}vr=3}}function xn(){if(vr===4||vr===3){vr=0,Ye();var o=Jr,c=xi,m=ts,y=ns;(c.subtreeFlags&10256)!==0||(c.flags&10256)!==0?vr=5:(vr=0,xi=Jr=null,is(o,o.pendingLanes));var M=o.pendingLanes;if(M===0&&(es=null),bn(m),c=c.stateNode,ze&&typeof ze.onCommitFiberRoot=="function")try{ze.onCommitFiberRoot(Ne,c,void 0,(c.current.flags&128)===128)}catch{}if(y!==null){c=G.T,M=Y.p,Y.p=2,G.T=null;try{for(var D=o.onRecoverableError,j=0;j<y.length;j++){var K=y[j];D(K.value,{componentStack:K.stack})}}finally{G.T=c,Y.p=M}}(ts&3)!==0&&yc(),xc(o),M=o.pendingLanes,(m&4194090)!==0&&(M&42)!==0?o===mu?Io++:(Io=0,mu=o):Io=0,Pv(0)}}function is(o,c){(o.pooledCacheLanes&=c)===0&&(c=o.pooledCache,c!=null&&(o.pooledCache=null,ff(c)))}function yc(o){return Nt(),Bt(),xn(),_c()}function _c(){if(vr!==5)return!1;var o=Jr,c=Sl;Sl=0;var m=bn(ts),y=G.T,M=Y.p;try{Y.p=32>m?32:m,G.T=null,m=_d,_d=null;var D=Jr,j=ts;if(vr=0,xi=Jr=null,ts=0,(ci&6)!==0)throw Error(n(331));var K=ci;if(ci|=4,Ov(D.current),Tm(D,D.current,j,m),ci=K,Pv(0,!1),ze&&typeof ze.onPostCommitFiberRoot=="function")try{ze.onPostCommitFiberRoot(Ne,D)}catch{}return!0}finally{Y.p=M,G.T=y,is(o,c)}}function He(o,c,m){c=zr(m,c),c=xm(o.stateNode,c,2),o=dl(o,c,2),o!==null&&(At(o,2),xc(o))}function Ee(o,c,m){if(o.tag===3)He(o,o,m);else for(;c!==null;){if(c.tag===3){He(c,o,m);break}else if(c.tag===1){var y=c.stateNode;if(typeof c.type.getDerivedStateFromError=="function"||typeof y.componentDidCatch=="function"&&(es===null||!es.has(y))){o=zr(m,o),m=w1(2),y=dl(c,m,2),y!==null&&(bm(m,y,c,o),At(y,2),xc(y));break}}c=c.return}}function Xe(o,c,m){var y=o.pingCache;if(y===null){y=o.pingCache=new Nv;var M=new Set;y.set(c,M)}else M=y.get(c),M===void 0&&(M=new Set,y.set(c,M));M.has(m)||(Of=!0,M.add(m),o=St.bind(null,o,c,m),c.then(o,o))}function St(o,c,m){var y=o.pingCache;y!==null&&y.delete(c),o.pingedLanes|=o.suspendedLanes&m,o.warmLanes&=~m,_n===o&&(nn&m)===m&&(Oi===4||Oi===3&&(nn&62914560)===nn&&300>re()-pi?(ci&2)===0&&vc(o,0):pu|=m,$n===nn&&($n=0)),xc(o)}function Jt(o,c){c===0&&(c=Oe()),o=ll(o,c),o!==null&&(At(o,c),xc(o))}function Ni(o){var c=o.memoizedState,m=0;c!==null&&(m=c.retryLane),Jt(o,m)}function hn(o,c){var m=0;switch(o.tag){case 13:var y=o.stateNode,M=o.memoizedState;M!==null&&(m=M.retryLane);break;case 19:y=o.stateNode;break;case 22:y=o.stateNode._retryCache;break;default:throw Error(n(314))}y!==null&&y.delete(c),Jt(o,m)}function ni(o,c){return ne(o,c)}var Qi=null,Bn=null,zo=!1,Dm=!1,c2=!1,bd=0;function xc(o){o!==Bn&&o.next===null&&(Bn===null?Qi=Bn=o:Bn=Bn.next=o),Dm=!0,zo||(zo=!0,tF())}function Pv(o,c){if(!c2&&Dm){c2=!0;do for(var m=!1,y=Qi;y!==null;){if(o!==0){var M=y.pendingLanes;if(M===0)var D=0;else{var j=y.suspendedLanes,K=y.pingedLanes;D=(1<<31-mt(42|o)+1)-1,D&=M&~(j&~K),D=D&201326741?D&201326741|1:D?D|2:0}D!==0&&(m=!0,TD(y,D))}else D=nn,D=Rt(y,y===_n?D:0,y.cancelPendingCommit!==null||y.timeoutHandle!==-1),(D&3)===0||ft(y,D)||(m=!0,TD(y,D));y=y.next}while(m);c2=!1}}function eF(){wD()}function wD(){Dm=zo=!1;var o=0;bd!==0&&(cF()&&(o=bd),bd=0);for(var c=re(),m=null,y=Qi;y!==null;){var M=y.next,D=ED(y,c);D===0?(y.next=null,m===null?Qi=M:m.next=M,M===null&&(Bn=m)):(m=y,(o!==0||(D&3)!==0)&&(Dm=!0)),y=M}Pv(o)}function ED(o,c){for(var m=o.suspendedLanes,y=o.pingedLanes,M=o.expirationTimes,D=o.pendingLanes&-62914561;0<D;){var j=31-mt(D),K=1<<j,me=M[j];me===-1?((K&m)===0||(K&y)!==0)&&(M[j]=Ut(K,c)):me<=c&&(o.expiredLanes|=K),D&=~K}if(c=_n,m=nn,m=Rt(o,o===c?m:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),y=o.callbackNode,m===0||o===c&&(En===2||En===9)||o.cancelPendingCommit!==null)return y!==null&&y!==null&&be(y),o.callbackNode=null,o.callbackPriority=0;if((m&3)===0||ft(o,m)){if(c=m&-m,c===o.callbackPriority)return c;switch(y!==null&&be(y),bn(m)){case 2:case 8:m=$e;break;case 32:m=_t;break;case 268435456:m=$;break;default:m=_t}return y=MD.bind(null,o),m=ne(m,y),o.callbackPriority=c,o.callbackNode=m,c}return y!==null&&y!==null&&be(y),o.callbackPriority=2,o.callbackNode=null,2}function MD(o,c){if(vr!==0&&vr!==5)return o.callbackNode=null,o.callbackPriority=0,null;var m=o.callbackNode;if(yc()&&o.callbackNode!==m)return null;var y=nn;return y=Rt(o,o===_n?y:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),y===0?null:(Nf(o,y,c),ED(o,re()),o.callbackNode!=null&&o.callbackNode===m?MD.bind(null,o):null)}function TD(o,c){if(yc())return null;Nf(o,c,!0)}function tF(){fF(function(){(ci&6)!==0?ne(Ke,eF):wD()})}function u2(){return bd===0&&(bd=de()),bd}function AD(o){return o==null||typeof o=="symbol"||typeof o=="boolean"?null:typeof o=="function"?o:Ph(""+o)}function CD(o,c){var m=c.ownerDocument.createElement("input");return m.name=c.name,m.value=c.value,o.id&&m.setAttribute("form",o.id),c.parentNode.insertBefore(m,c),o=new FormData(o),m.parentNode.removeChild(m),o}function nF(o,c,m,y,M){if(c==="submit"&&m&&m.stateNode===M){var D=AD((M[kt]||null).action),j=y.submitter;j&&(c=(c=j[kt]||null)?AD(c.formAction):j.getAttribute("formAction"),c!==null&&(D=c,j=null));var K=new $u("action","action",null,y,M);o.push({event:K,listeners:[{instance:null,listener:function(){if(y.defaultPrevented){if(bd!==0){var me=j?CD(M,j):new FormData(M);Tv(m,{pending:!0,data:me,method:M.method,action:D},null,me)}}else typeof D=="function"&&(K.preventDefault(),me=j?CD(M,j):new FormData(M),Tv(m,{pending:!0,data:me,method:M.method,action:D},D,me))},currentTarget:M}]})}}for(var f2=0;f2<Yh.length;f2++){var h2=Yh[f2],iF=h2.toLowerCase(),rF=h2[0].toUpperCase()+h2.slice(1);wr(iF,"on"+rF)}wr(la,"onAnimationEnd"),wr($g,"onAnimationIteration"),wr(Ma,"onAnimationStart"),wr("dblclick","onDoubleClick"),wr("focusin","onFocus"),wr("focusout","onBlur"),wr(Ux,"onTransitionRun"),wr(sl,"onTransitionStart"),wr(sf,"onTransitionCancel"),wr(ol,"onTransitionEnd"),oe("onMouseEnter",["mouseout","mouseover"]),oe("onMouseLeave",["mouseout","mouseover"]),oe("onPointerEnter",["pointerout","pointerover"]),oe("onPointerLeave",["pointerout","pointerover"]),V("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),V("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),V("onBeforeInput",["compositionend","keypress","textInput","paste"]),V("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),V("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),V("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Lv="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),aF=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Lv));function RD(o,c){c=(c&4)!==0;for(var m=0;m<o.length;m++){var y=o[m],M=y.event;y=y.listeners;e:{var D=void 0;if(c)for(var j=y.length-1;0<=j;j--){var K=y[j],me=K.instance,Ie=K.currentTarget;if(K=K.listener,me!==D&&M.isPropagationStopped())break e;D=K,M.currentTarget=Ie;try{D(M)}catch(nt){nu(nt)}M.currentTarget=null,D=me}else for(j=0;j<y.length;j++){if(K=y[j],me=K.instance,Ie=K.currentTarget,K=K.listener,me!==D&&M.isPropagationStopped())break e;D=K,M.currentTarget=Ie;try{D(M)}catch(nt){nu(nt)}M.currentTarget=null,D=me}}}}function Wn(o,c){var m=c[Zt];m===void 0&&(m=c[Zt]=new Set);var y=o+"__bubble";m.has(y)||(DD(c,o,2,!1),m.add(y))}function d2(o,c,m){var y=0;c&&(y|=4),DD(m,o,y,c)}var A1="_reactListening"+Math.random().toString(36).slice(2);function p2(o){if(!o[A1]){o[A1]=!0,Ge.forEach(function(m){m!=="selectionchange"&&(aF.has(m)||d2(m,!1,o),d2(m,!0,o))});var c=o.nodeType===9?o:o.ownerDocument;c===null||c[A1]||(c[A1]=!0,d2("selectionchange",!1,c))}}function DD(o,c,m,y){switch(e5(c)){case 2:var M=NF;break;case 8:M=PF;break;default:M=C2}m=M.bind(null,c,m,o),M=void 0,!Uh||c!=="touchstart"&&c!=="touchmove"&&c!=="wheel"||(M=!0),y?M!==void 0?o.addEventListener(c,m,{capture:!0,passive:M}):o.addEventListener(c,m,!0):M!==void 0?o.addEventListener(c,m,{passive:M}):o.addEventListener(c,m,!1)}function m2(o,c,m,y,M){var D=y;if((c&1)===0&&(c&2)===0&&y!==null)e:for(;;){if(y===null)return;var j=y.tag;if(j===3||j===4){var K=y.stateNode.containerInfo;if(K===M)break;if(j===4)for(j=y.return;j!==null;){var me=j.tag;if((me===3||me===4)&&j.stateNode.containerInfo===M)return;j=j.return}for(;K!==null;){if(j=W(K),j===null)return;if(me=j.tag,me===5||me===6||me===26||me===27){y=D=j;continue e}K=K.parentNode}}y=y.return}Lg(function(){var Ie=D,nt=Ip(m),lt=[];e:{var je=Yp.get(o);if(je!==void 0){var We=$u,pn=o;switch(o){case"keypress":if(Vl(m)===0)break e;case"keydown":case"keyup":We=kg;break;case"focusin":pn="focus",We=zp;break;case"focusout":pn="blur",We=zp;break;case"beforeblur":case"afterblur":We=zp;break;case"click":if(m.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":We=Bg;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":We=$E;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":We=Hg;break;case la:case $g:case Ma:We=xx;break;case ol:We=nl;break;case"scroll":case"scrollend":We=vx;break;case"wheel":We=JE;break;case"copy":case"cut":case"paste":We=Sx;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":We=Fp;break;case"toggle":case"beforetoggle":We=Gl}var cn=(c&4)!==0,Ci=!cn&&(o==="scroll"||o==="scrollend"),Ae=cn?je!==null?je+"Capture":null:je;cn=[];for(var Me=Ie,Le;Me!==null;){var rt=Me;if(Le=rt.stateNode,rt=rt.tag,rt!==5&&rt!==26&&rt!==27||Le===null||Ae===null||(rt=Yu(Me,Ae),rt!=null&&cn.push(Uv(Me,rt,Le))),Ci)break;Me=Me.return}0<cn.length&&(je=new We(je,pn,null,m,nt),lt.push({event:je,listeners:cn}))}}if((c&7)===0){e:{if(je=o==="mouseover"||o==="pointerover",We=o==="mouseout"||o==="pointerout",je&&m!==Up&&(pn=m.relatedTarget||m.fromElement)&&(W(pn)||pn[Ft]))break e;if((We||je)&&(je=nt.window===nt?nt:(je=nt.ownerDocument)?je.defaultView||je.parentWindow:window,We?(pn=m.relatedTarget||m.toElement,We=Ie,pn=pn?W(pn):null,pn!==null&&(Ci=a(pn),cn=pn.tag,pn!==Ci||cn!==5&&cn!==27&&cn!==6)&&(pn=null)):(We=null,pn=Ie),We!==pn)){if(cn=Bg,rt="onMouseLeave",Ae="onMouseEnter",Me="mouse",(o==="pointerout"||o==="pointerover")&&(cn=Fp,rt="onPointerLeave",Ae="onPointerEnter",Me="pointer"),Ci=We==null?je:ge(We),Le=pn==null?je:ge(pn),je=new cn(rt,Me+"leave",We,m,nt),je.target=Ci,je.relatedTarget=Le,rt=null,W(nt)===Ie&&(cn=new cn(Ae,Me+"enter",pn,m,nt),cn.target=Le,cn.relatedTarget=Ci,rt=cn),Ci=rt,We&&pn)t:{for(cn=We,Ae=pn,Me=0,Le=cn;Le;Le=Om(Le))Me++;for(Le=0,rt=Ae;rt;rt=Om(rt))Le++;for(;0<Me-Le;)cn=Om(cn),Me--;for(;0<Le-Me;)Ae=Om(Ae),Le--;for(;Me--;){if(cn===Ae||Ae!==null&&cn===Ae.alternate)break t;cn=Om(cn),Ae=Om(Ae)}cn=null}else cn=null;We!==null&&OD(lt,je,We,cn,!1),pn!==null&&Ci!==null&&OD(lt,Ci,pn,cn,!0)}}e:{if(je=Ie?ge(Ie):window,We=je.nodeName&&je.nodeName.toLowerCase(),We==="select"||We==="input"&&je.type==="file")var qt=Vp;else if(Wg(je))if(jp)qt=ql;else{qt=Nx;var Hn=QE}else We=je.nodeName,!We||We.toLowerCase()!=="input"||je.type!=="checkbox"&&je.type!=="radio"?Ie&&Lp(Ie.elementType)&&(qt=Vp):qt=Wh;if(qt&&(qt=qt(o,Ie))){Sa(lt,qt,m,nt);break e}Hn&&Hn(o,je,Ie),o==="focusout"&&Ie&&je.type==="number"&&Ie.memoizedProps.value!=null&&Di(je,"number",je.value)}switch(Hn=Ie?ge(Ie):window,o){case"focusin":(Wg(Hn)||Hn.contentEditable==="true")&&(rl=Hn,Wp=Ie,qh=null);break;case"focusout":qh=Wp=rl=null;break;case"mousedown":Xp=!0;break;case"contextmenu":case"mouseup":case"dragend":Xp=!1,Kg(lt,m,nt);break;case"selectionchange":if(Zg)break;case"keydown":case"keyup":Kg(lt,m,nt)}var en;if(kh)e:{switch(o){case"compositionstart":var un="onCompositionStart";break e;case"compositionend":un="onCompositionEnd";break e;case"compositionupdate":un="onCompositionUpdate";break e}un=void 0}else Xl?Vh(o,m)&&(un="onCompositionEnd"):o==="keydown"&&m.keyCode===229&&(un="onCompositionStart");un&&(Hh&&m.locale!=="ko"&&(Xl||un!=="onCompositionStart"?un==="onCompositionEnd"&&Xl&&(en=Ig()):(el=nt,Ug="value"in el?el.value:el.textContent,Xl=!0)),Hn=C1(Ie,un),0<Hn.length&&(un=new kp(un,o,null,m,nt),lt.push({event:un,listeners:Hn}),en?un.data=en:(en=jg(m),en!==null&&(un.data=en)))),(en=Fh?jh(o,m):Gg(o,m))&&(un=C1(Ie,"onBeforeInput"),0<un.length&&(Hn=new kp("onBeforeInput","beforeinput",null,m,nt),lt.push({event:Hn,listeners:un}),Hn.data=en)),nF(lt,o,Ie,m,nt)}RD(lt,c)})}function Uv(o,c,m){return{instance:o,listener:c,currentTarget:m}}function C1(o,c){for(var m=c+"Capture",y=[];o!==null;){var M=o,D=M.stateNode;if(M=M.tag,M!==5&&M!==26&&M!==27||D===null||(M=Yu(o,m),M!=null&&y.unshift(Uv(o,M,D)),M=Yu(o,c),M!=null&&y.push(Uv(o,M,D))),o.tag===3)return y;o=o.return}return[]}function Om(o){if(o===null)return null;do o=o.return;while(o&&o.tag!==5&&o.tag!==27);return o||null}function OD(o,c,m,y,M){for(var D=c._reactName,j=[];m!==null&&m!==y;){var K=m,me=K.alternate,Ie=K.stateNode;if(K=K.tag,me!==null&&me===y)break;K!==5&&K!==26&&K!==27||Ie===null||(me=Ie,M?(Ie=Yu(m,D),Ie!=null&&j.unshift(Uv(m,Ie,me))):M||(Ie=Yu(m,D),Ie!=null&&j.push(Uv(m,Ie,me)))),m=m.return}j.length!==0&&o.push({event:c,listeners:j})}var sF=/\r\n?/g,oF=/\u0000|\uFFFD/g;function ND(o){return(typeof o=="string"?o:""+o).replace(sF,`
`).replace(oF,"")}function PD(o,c){return c=ND(c),ND(o)===c}function R1(){}function Ai(o,c,m,y,M,D){switch(m){case"children":typeof y=="string"?c==="body"||c==="textarea"&&y===""||dr(o,y):(typeof y=="number"||typeof y=="bigint")&&c!=="body"&&dr(o,""+y);break;case"className":Je(o,"class",y);break;case"tabIndex":Je(o,"tabindex",y);break;case"dir":case"role":case"viewBox":case"width":case"height":Je(o,m,y);break;case"style":Nh(o,y,D);break;case"data":if(c!=="object"){Je(o,"data",y);break}case"src":case"href":if(y===""&&(c!=="a"||m!=="href")){o.removeAttribute(m);break}if(y==null||typeof y=="function"||typeof y=="symbol"||typeof y=="boolean"){o.removeAttribute(m);break}y=Ph(""+y),o.setAttribute(m,y);break;case"action":case"formAction":if(typeof y=="function"){o.setAttribute(m,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof D=="function"&&(m==="formAction"?(c!=="input"&&Ai(o,c,"name",M.name,M,null),Ai(o,c,"formEncType",M.formEncType,M,null),Ai(o,c,"formMethod",M.formMethod,M,null),Ai(o,c,"formTarget",M.formTarget,M,null)):(Ai(o,c,"encType",M.encType,M,null),Ai(o,c,"method",M.method,M,null),Ai(o,c,"target",M.target,M,null)));if(y==null||typeof y=="symbol"||typeof y=="boolean"){o.removeAttribute(m);break}y=Ph(""+y),o.setAttribute(m,y);break;case"onClick":y!=null&&(o.onclick=R1);break;case"onScroll":y!=null&&Wn("scroll",o);break;case"onScrollEnd":y!=null&&Wn("scrollend",o);break;case"dangerouslySetInnerHTML":if(y!=null){if(typeof y!="object"||!("__html"in y))throw Error(n(61));if(m=y.__html,m!=null){if(M.children!=null)throw Error(n(60));o.innerHTML=m}}break;case"multiple":o.multiple=y&&typeof y!="function"&&typeof y!="symbol";break;case"muted":o.muted=y&&typeof y!="function"&&typeof y!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(y==null||typeof y=="function"||typeof y=="boolean"||typeof y=="symbol"){o.removeAttribute("xlink:href");break}m=Ph(""+y),o.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",m);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":y!=null&&typeof y!="function"&&typeof y!="symbol"?o.setAttribute(m,""+y):o.removeAttribute(m);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":y&&typeof y!="function"&&typeof y!="symbol"?o.setAttribute(m,""):o.removeAttribute(m);break;case"capture":case"download":y===!0?o.setAttribute(m,""):y!==!1&&y!=null&&typeof y!="function"&&typeof y!="symbol"?o.setAttribute(m,y):o.removeAttribute(m);break;case"cols":case"rows":case"size":case"span":y!=null&&typeof y!="function"&&typeof y!="symbol"&&!isNaN(y)&&1<=y?o.setAttribute(m,y):o.removeAttribute(m);break;case"rowSpan":case"start":y==null||typeof y=="function"||typeof y=="symbol"||isNaN(y)?o.removeAttribute(m):o.setAttribute(m,y);break;case"popover":Wn("beforetoggle",o),Wn("toggle",o),Fe(o,"popover",y);break;case"xlinkActuate":Qe(o,"http://www.w3.org/1999/xlink","xlink:actuate",y);break;case"xlinkArcrole":Qe(o,"http://www.w3.org/1999/xlink","xlink:arcrole",y);break;case"xlinkRole":Qe(o,"http://www.w3.org/1999/xlink","xlink:role",y);break;case"xlinkShow":Qe(o,"http://www.w3.org/1999/xlink","xlink:show",y);break;case"xlinkTitle":Qe(o,"http://www.w3.org/1999/xlink","xlink:title",y);break;case"xlinkType":Qe(o,"http://www.w3.org/1999/xlink","xlink:type",y);break;case"xmlBase":Qe(o,"http://www.w3.org/XML/1998/namespace","xml:base",y);break;case"xmlLang":Qe(o,"http://www.w3.org/XML/1998/namespace","xml:lang",y);break;case"xmlSpace":Qe(o,"http://www.w3.org/XML/1998/namespace","xml:space",y);break;case"is":Fe(o,"is",y);break;case"innerText":case"textContent":break;default:(!(2<m.length)||m[0]!=="o"&&m[0]!=="O"||m[1]!=="n"&&m[1]!=="N")&&(m=Ng.get(m)||m,Fe(o,m,y))}}function g2(o,c,m,y,M,D){switch(m){case"style":Nh(o,y,D);break;case"dangerouslySetInnerHTML":if(y!=null){if(typeof y!="object"||!("__html"in y))throw Error(n(61));if(m=y.__html,m!=null){if(M.children!=null)throw Error(n(60));o.innerHTML=m}}break;case"children":typeof y=="string"?dr(o,y):(typeof y=="number"||typeof y=="bigint")&&dr(o,""+y);break;case"onScroll":y!=null&&Wn("scroll",o);break;case"onScrollEnd":y!=null&&Wn("scrollend",o);break;case"onClick":y!=null&&(o.onclick=R1);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!at.hasOwnProperty(m))e:{if(m[0]==="o"&&m[1]==="n"&&(M=m.endsWith("Capture"),c=m.slice(2,M?m.length-7:void 0),D=o[kt]||null,D=D!=null?D[m]:null,typeof D=="function"&&o.removeEventListener(c,D,M),typeof y=="function")){typeof D!="function"&&D!==null&&(m in o?o[m]=null:o.hasAttribute(m)&&o.removeAttribute(m)),o.addEventListener(c,y,M);break e}m in o?o[m]=y:y===!0?o.setAttribute(m,""):Fe(o,m,y)}}}function ma(o,c,m){switch(c){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Wn("error",o),Wn("load",o);var y=!1,M=!1,D;for(D in m)if(m.hasOwnProperty(D)){var j=m[D];if(j!=null)switch(D){case"src":y=!0;break;case"srcSet":M=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(n(137,c));default:Ai(o,c,D,j,m,null)}}M&&Ai(o,c,"srcSet",m.srcSet,m,null),y&&Ai(o,c,"src",m.src,m,null);return;case"input":Wn("invalid",o);var K=D=j=M=null,me=null,Ie=null;for(y in m)if(m.hasOwnProperty(y)){var nt=m[y];if(nt!=null)switch(y){case"name":M=nt;break;case"type":j=nt;break;case"checked":me=nt;break;case"defaultChecked":Ie=nt;break;case"value":D=nt;break;case"defaultValue":K=nt;break;case"children":case"dangerouslySetInnerHTML":if(nt!=null)throw Error(n(137,c));break;default:Ai(o,c,y,nt,m,null)}}hi(o,D,K,me,Ie,j,M,!1),vn(o);return;case"select":Wn("invalid",o),y=j=D=null;for(M in m)if(m.hasOwnProperty(M)&&(K=m[M],K!=null))switch(M){case"value":D=K;break;case"defaultValue":j=K;break;case"multiple":y=K;default:Ai(o,c,M,K,m,null)}c=D,m=j,o.multiple=!!y,c!=null?In(o,!!y,c,!1):m!=null&&In(o,!!y,m,!0);return;case"textarea":Wn("invalid",o),D=M=y=null;for(j in m)if(m.hasOwnProperty(j)&&(K=m[j],K!=null))switch(j){case"value":y=K;break;case"defaultValue":M=K;break;case"children":D=K;break;case"dangerouslySetInnerHTML":if(K!=null)throw Error(n(91));break;default:Ai(o,c,j,K,m,null)}Yc(o,y,M,D),vn(o);return;case"option":for(me in m)if(m.hasOwnProperty(me)&&(y=m[me],y!=null))switch(me){case"selected":o.selected=y&&typeof y!="function"&&typeof y!="symbol";break;default:Ai(o,c,me,y,m,null)}return;case"dialog":Wn("beforetoggle",o),Wn("toggle",o),Wn("cancel",o),Wn("close",o);break;case"iframe":case"object":Wn("load",o);break;case"video":case"audio":for(y=0;y<Lv.length;y++)Wn(Lv[y],o);break;case"image":Wn("error",o),Wn("load",o);break;case"details":Wn("toggle",o);break;case"embed":case"source":case"link":Wn("error",o),Wn("load",o);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Ie in m)if(m.hasOwnProperty(Ie)&&(y=m[Ie],y!=null))switch(Ie){case"children":case"dangerouslySetInnerHTML":throw Error(n(137,c));default:Ai(o,c,Ie,y,m,null)}return;default:if(Lp(c)){for(nt in m)m.hasOwnProperty(nt)&&(y=m[nt],y!==void 0&&g2(o,c,nt,y,m,void 0));return}}for(K in m)m.hasOwnProperty(K)&&(y=m[K],y!=null&&Ai(o,c,K,y,m,null))}function lF(o,c,m,y){switch(c){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var M=null,D=null,j=null,K=null,me=null,Ie=null,nt=null;for(We in m){var lt=m[We];if(m.hasOwnProperty(We)&&lt!=null)switch(We){case"checked":break;case"value":break;case"defaultValue":me=lt;default:y.hasOwnProperty(We)||Ai(o,c,We,null,y,lt)}}for(var je in y){var We=y[je];if(lt=m[je],y.hasOwnProperty(je)&&(We!=null||lt!=null))switch(je){case"type":D=We;break;case"name":M=We;break;case"checked":Ie=We;break;case"defaultChecked":nt=We;break;case"value":j=We;break;case"defaultValue":K=We;break;case"children":case"dangerouslySetInnerHTML":if(We!=null)throw Error(n(137,c));break;default:We!==lt&&Ai(o,c,je,We,y,lt)}}$t(o,j,K,me,Ie,nt,D,M);return;case"select":We=j=K=je=null;for(D in m)if(me=m[D],m.hasOwnProperty(D)&&me!=null)switch(D){case"value":break;case"multiple":We=me;default:y.hasOwnProperty(D)||Ai(o,c,D,null,y,me)}for(M in y)if(D=y[M],me=m[M],y.hasOwnProperty(M)&&(D!=null||me!=null))switch(M){case"value":je=D;break;case"defaultValue":K=D;break;case"multiple":j=D;default:D!==me&&Ai(o,c,M,D,y,me)}c=K,m=j,y=We,je!=null?In(o,!!m,je,!1):!!y!=!!m&&(c!=null?In(o,!!m,c,!0):In(o,!!m,m?[]:"",!1));return;case"textarea":We=je=null;for(K in m)if(M=m[K],m.hasOwnProperty(K)&&M!=null&&!y.hasOwnProperty(K))switch(K){case"value":break;case"children":break;default:Ai(o,c,K,null,y,M)}for(j in y)if(M=y[j],D=m[j],y.hasOwnProperty(j)&&(M!=null||D!=null))switch(j){case"value":je=M;break;case"defaultValue":We=M;break;case"children":break;case"dangerouslySetInnerHTML":if(M!=null)throw Error(n(91));break;default:M!==D&&Ai(o,c,j,M,y,D)}wi(o,je,We);return;case"option":for(var pn in m)if(je=m[pn],m.hasOwnProperty(pn)&&je!=null&&!y.hasOwnProperty(pn))switch(pn){case"selected":o.selected=!1;break;default:Ai(o,c,pn,null,y,je)}for(me in y)if(je=y[me],We=m[me],y.hasOwnProperty(me)&&je!==We&&(je!=null||We!=null))switch(me){case"selected":o.selected=je&&typeof je!="function"&&typeof je!="symbol";break;default:Ai(o,c,me,je,y,We)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var cn in m)je=m[cn],m.hasOwnProperty(cn)&&je!=null&&!y.hasOwnProperty(cn)&&Ai(o,c,cn,null,y,je);for(Ie in y)if(je=y[Ie],We=m[Ie],y.hasOwnProperty(Ie)&&je!==We&&(je!=null||We!=null))switch(Ie){case"children":case"dangerouslySetInnerHTML":if(je!=null)throw Error(n(137,c));break;default:Ai(o,c,Ie,je,y,We)}return;default:if(Lp(c)){for(var Ci in m)je=m[Ci],m.hasOwnProperty(Ci)&&je!==void 0&&!y.hasOwnProperty(Ci)&&g2(o,c,Ci,void 0,y,je);for(nt in y)je=y[nt],We=m[nt],!y.hasOwnProperty(nt)||je===We||je===void 0&&We===void 0||g2(o,c,nt,je,y,We);return}}for(var Ae in m)je=m[Ae],m.hasOwnProperty(Ae)&&je!=null&&!y.hasOwnProperty(Ae)&&Ai(o,c,Ae,null,y,je);for(lt in y)je=y[lt],We=m[lt],!y.hasOwnProperty(lt)||je===We||je==null&&We==null||Ai(o,c,lt,je,y,We)}var v2=null,y2=null;function D1(o){return o.nodeType===9?o:o.ownerDocument}function LD(o){switch(o){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function UD(o,c){if(o===0)switch(c){case"svg":return 1;case"math":return 2;default:return 0}return o===1&&c==="foreignObject"?0:o}function _2(o,c){return o==="textarea"||o==="noscript"||typeof c.children=="string"||typeof c.children=="number"||typeof c.children=="bigint"||typeof c.dangerouslySetInnerHTML=="object"&&c.dangerouslySetInnerHTML!==null&&c.dangerouslySetInnerHTML.__html!=null}var x2=null;function cF(){var o=window.event;return o&&o.type==="popstate"?o===x2?!1:(x2=o,!0):(x2=null,!1)}var ID=typeof setTimeout=="function"?setTimeout:void 0,uF=typeof clearTimeout=="function"?clearTimeout:void 0,BD=typeof Promise=="function"?Promise:void 0,fF=typeof queueMicrotask=="function"?queueMicrotask:typeof BD<"u"?function(o){return BD.resolve(null).then(o).catch(hF)}:ID;function hF(o){setTimeout(function(){throw o})}function Lf(o){return o==="head"}function zD(o,c){var m=c,y=0,M=0;do{var D=m.nextSibling;if(o.removeChild(m),D&&D.nodeType===8)if(m=D.data,m==="/$"){if(0<y&&8>y){m=y;var j=o.ownerDocument;if(m&1&&Iv(j.documentElement),m&2&&Iv(j.body),m&4)for(m=j.head,Iv(m),j=m.firstChild;j;){var K=j.nextSibling,me=j.nodeName;j[Zn]||me==="SCRIPT"||me==="STYLE"||me==="LINK"&&j.rel.toLowerCase()==="stylesheet"||m.removeChild(j),j=K}}if(M===0){o.removeChild(D),Gv(c);return}M--}else m==="$"||m==="$?"||m==="$!"?M++:y=m.charCodeAt(0)-48;else y=0;m=D}while(m);Gv(c)}function b2(o){var c=o.firstChild;for(c&&c.nodeType===10&&(c=c.nextSibling);c;){var m=c;switch(c=c.nextSibling,m.nodeName){case"HTML":case"HEAD":case"BODY":b2(m),sn(m);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(m.rel.toLowerCase()==="stylesheet")continue}o.removeChild(m)}}function dF(o,c,m,y){for(;o.nodeType===1;){var M=m;if(o.nodeName.toLowerCase()!==c.toLowerCase()){if(!y&&(o.nodeName!=="INPUT"||o.type!=="hidden"))break}else if(y){if(!o[Zn])switch(c){case"meta":if(!o.hasAttribute("itemprop"))break;return o;case"link":if(D=o.getAttribute("rel"),D==="stylesheet"&&o.hasAttribute("data-precedence"))break;if(D!==M.rel||o.getAttribute("href")!==(M.href==null||M.href===""?null:M.href)||o.getAttribute("crossorigin")!==(M.crossOrigin==null?null:M.crossOrigin)||o.getAttribute("title")!==(M.title==null?null:M.title))break;return o;case"style":if(o.hasAttribute("data-precedence"))break;return o;case"script":if(D=o.getAttribute("src"),(D!==(M.src==null?null:M.src)||o.getAttribute("type")!==(M.type==null?null:M.type)||o.getAttribute("crossorigin")!==(M.crossOrigin==null?null:M.crossOrigin))&&D&&o.hasAttribute("async")&&!o.hasAttribute("itemprop"))break;return o;default:return o}}else if(c==="input"&&o.type==="hidden"){var D=M.name==null?null:""+M.name;if(M.type==="hidden"&&o.getAttribute("name")===D)return o}else return o;if(o=wl(o.nextSibling),o===null)break}return null}function pF(o,c,m){if(c==="")return null;for(;o.nodeType!==3;)if((o.nodeType!==1||o.nodeName!=="INPUT"||o.type!=="hidden")&&!m||(o=wl(o.nextSibling),o===null))return null;return o}function S2(o){return o.data==="$!"||o.data==="$?"&&o.ownerDocument.readyState==="complete"}function mF(o,c){var m=o.ownerDocument;if(o.data!=="$?"||m.readyState==="complete")c();else{var y=function(){c(),m.removeEventListener("DOMContentLoaded",y)};m.addEventListener("DOMContentLoaded",y),o._reactRetry=y}}function wl(o){for(;o!=null;o=o.nextSibling){var c=o.nodeType;if(c===1||c===3)break;if(c===8){if(c=o.data,c==="$"||c==="$!"||c==="$?"||c==="F!"||c==="F")break;if(c==="/$")return null}}return o}var w2=null;function kD(o){o=o.previousSibling;for(var c=0;o;){if(o.nodeType===8){var m=o.data;if(m==="$"||m==="$!"||m==="$?"){if(c===0)return o;c--}else m==="/$"&&c++}o=o.previousSibling}return null}function FD(o,c,m){switch(c=D1(m),o){case"html":if(o=c.documentElement,!o)throw Error(n(452));return o;case"head":if(o=c.head,!o)throw Error(n(453));return o;case"body":if(o=c.body,!o)throw Error(n(454));return o;default:throw Error(n(451))}}function Iv(o){for(var c=o.attributes;c.length;)o.removeAttributeNode(c[0]);sn(o)}var ko=new Map,HD=new Set;function O1(o){return typeof o.getRootNode=="function"?o.getRootNode():o.nodeType===9?o:o.ownerDocument}var vu=Y.d;Y.d={f:gF,r:vF,D:yF,C:_F,L:xF,m:bF,X:wF,S:SF,M:EF};function gF(){var o=vu.f(),c=Bo();return o||c}function vF(o){var c=Z(o);c!==null&&c.tag===5&&c.type==="form"?u1(c):vu.r(o)}var Nm=typeof document>"u"?null:document;function VD(o,c,m){var y=Nm;if(y&&typeof c=="string"&&c){var M=yn(c);M='link[rel="'+o+'"][href="'+M+'"]',typeof m=="string"&&(M+='[crossorigin="'+m+'"]'),HD.has(M)||(HD.add(M),o={rel:o,crossOrigin:m,href:c},y.querySelector(M)===null&&(c=y.createElement("link"),ma(c,"link",o),Pe(c),y.head.appendChild(c)))}}function yF(o){vu.D(o),VD("dns-prefetch",o,null)}function _F(o,c){vu.C(o,c),VD("preconnect",o,c)}function xF(o,c,m){vu.L(o,c,m);var y=Nm;if(y&&o&&c){var M='link[rel="preload"][as="'+yn(c)+'"]';c==="image"&&m&&m.imageSrcSet?(M+='[imagesrcset="'+yn(m.imageSrcSet)+'"]',typeof m.imageSizes=="string"&&(M+='[imagesizes="'+yn(m.imageSizes)+'"]')):M+='[href="'+yn(o)+'"]';var D=M;switch(c){case"style":D=Pm(o);break;case"script":D=Lm(o)}ko.has(D)||(o=p({rel:"preload",href:c==="image"&&m&&m.imageSrcSet?void 0:o,as:c},m),ko.set(D,o),y.querySelector(M)!==null||c==="style"&&y.querySelector(Bv(D))||c==="script"&&y.querySelector(zv(D))||(c=y.createElement("link"),ma(c,"link",o),Pe(c),y.head.appendChild(c)))}}function bF(o,c){vu.m(o,c);var m=Nm;if(m&&o){var y=c&&typeof c.as=="string"?c.as:"script",M='link[rel="modulepreload"][as="'+yn(y)+'"][href="'+yn(o)+'"]',D=M;switch(y){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":D=Lm(o)}if(!ko.has(D)&&(o=p({rel:"modulepreload",href:o},c),ko.set(D,o),m.querySelector(M)===null)){switch(y){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(m.querySelector(zv(D)))return}y=m.createElement("link"),ma(y,"link",o),Pe(y),m.head.appendChild(y)}}}function SF(o,c,m){vu.S(o,c,m);var y=Nm;if(y&&o){var M=Te(y).hoistableStyles,D=Pm(o);c=c||"default";var j=M.get(D);if(!j){var K={loading:0,preload:null};if(j=y.querySelector(Bv(D)))K.loading=5;else{o=p({rel:"stylesheet",href:o,"data-precedence":c},m),(m=ko.get(D))&&E2(o,m);var me=j=y.createElement("link");Pe(me),ma(me,"link",o),me._p=new Promise(function(Ie,nt){me.onload=Ie,me.onerror=nt}),me.addEventListener("load",function(){K.loading|=1}),me.addEventListener("error",function(){K.loading|=2}),K.loading|=4,N1(j,c,y)}j={type:"stylesheet",instance:j,count:1,state:K},M.set(D,j)}}}function wF(o,c){vu.X(o,c);var m=Nm;if(m&&o){var y=Te(m).hoistableScripts,M=Lm(o),D=y.get(M);D||(D=m.querySelector(zv(M)),D||(o=p({src:o,async:!0},c),(c=ko.get(M))&&M2(o,c),D=m.createElement("script"),Pe(D),ma(D,"link",o),m.head.appendChild(D)),D={type:"script",instance:D,count:1,state:null},y.set(M,D))}}function EF(o,c){vu.M(o,c);var m=Nm;if(m&&o){var y=Te(m).hoistableScripts,M=Lm(o),D=y.get(M);D||(D=m.querySelector(zv(M)),D||(o=p({src:o,async:!0,type:"module"},c),(c=ko.get(M))&&M2(o,c),D=m.createElement("script"),Pe(D),ma(D,"link",o),m.head.appendChild(D)),D={type:"script",instance:D,count:1,state:null},y.set(M,D))}}function jD(o,c,m,y){var M=(M=ee.current)?O1(M):null;if(!M)throw Error(n(446));switch(o){case"meta":case"title":return null;case"style":return typeof m.precedence=="string"&&typeof m.href=="string"?(c=Pm(m.href),m=Te(M).hoistableStyles,y=m.get(c),y||(y={type:"style",instance:null,count:0,state:null},m.set(c,y)),y):{type:"void",instance:null,count:0,state:null};case"link":if(m.rel==="stylesheet"&&typeof m.href=="string"&&typeof m.precedence=="string"){o=Pm(m.href);var D=Te(M).hoistableStyles,j=D.get(o);if(j||(M=M.ownerDocument||M,j={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},D.set(o,j),(D=M.querySelector(Bv(o)))&&!D._p&&(j.instance=D,j.state.loading=5),ko.has(o)||(m={rel:"preload",as:"style",href:m.href,crossOrigin:m.crossOrigin,integrity:m.integrity,media:m.media,hrefLang:m.hrefLang,referrerPolicy:m.referrerPolicy},ko.set(o,m),D||MF(M,o,m,j.state))),c&&y===null)throw Error(n(528,""));return j}if(c&&y!==null)throw Error(n(529,""));return null;case"script":return c=m.async,m=m.src,typeof m=="string"&&c&&typeof c!="function"&&typeof c!="symbol"?(c=Lm(m),m=Te(M).hoistableScripts,y=m.get(c),y||(y={type:"script",instance:null,count:0,state:null},m.set(c,y)),y):{type:"void",instance:null,count:0,state:null};default:throw Error(n(444,o))}}function Pm(o){return'href="'+yn(o)+'"'}function Bv(o){return'link[rel="stylesheet"]['+o+"]"}function GD(o){return p({},o,{"data-precedence":o.precedence,precedence:null})}function MF(o,c,m,y){o.querySelector('link[rel="preload"][as="style"]['+c+"]")?y.loading=1:(c=o.createElement("link"),y.preload=c,c.addEventListener("load",function(){return y.loading|=1}),c.addEventListener("error",function(){return y.loading|=2}),ma(c,"link",m),Pe(c),o.head.appendChild(c))}function Lm(o){return'[src="'+yn(o)+'"]'}function zv(o){return"script[async]"+o}function WD(o,c,m){if(c.count++,c.instance===null)switch(c.type){case"style":var y=o.querySelector('style[data-href~="'+yn(m.href)+'"]');if(y)return c.instance=y,Pe(y),y;var M=p({},m,{"data-href":m.href,"data-precedence":m.precedence,href:null,precedence:null});return y=(o.ownerDocument||o).createElement("style"),Pe(y),ma(y,"style",M),N1(y,m.precedence,o),c.instance=y;case"stylesheet":M=Pm(m.href);var D=o.querySelector(Bv(M));if(D)return c.state.loading|=4,c.instance=D,Pe(D),D;y=GD(m),(M=ko.get(M))&&E2(y,M),D=(o.ownerDocument||o).createElement("link"),Pe(D);var j=D;return j._p=new Promise(function(K,me){j.onload=K,j.onerror=me}),ma(D,"link",y),c.state.loading|=4,N1(D,m.precedence,o),c.instance=D;case"script":return D=Lm(m.src),(M=o.querySelector(zv(D)))?(c.instance=M,Pe(M),M):(y=m,(M=ko.get(D))&&(y=p({},m),M2(y,M)),o=o.ownerDocument||o,M=o.createElement("script"),Pe(M),ma(M,"link",y),o.head.appendChild(M),c.instance=M);case"void":return null;default:throw Error(n(443,c.type))}else c.type==="stylesheet"&&(c.state.loading&4)===0&&(y=c.instance,c.state.loading|=4,N1(y,m.precedence,o));return c.instance}function N1(o,c,m){for(var y=m.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),M=y.length?y[y.length-1]:null,D=M,j=0;j<y.length;j++){var K=y[j];if(K.dataset.precedence===c)D=K;else if(D!==M)break}D?D.parentNode.insertBefore(o,D.nextSibling):(c=m.nodeType===9?m.head:m,c.insertBefore(o,c.firstChild))}function E2(o,c){o.crossOrigin==null&&(o.crossOrigin=c.crossOrigin),o.referrerPolicy==null&&(o.referrerPolicy=c.referrerPolicy),o.title==null&&(o.title=c.title)}function M2(o,c){o.crossOrigin==null&&(o.crossOrigin=c.crossOrigin),o.referrerPolicy==null&&(o.referrerPolicy=c.referrerPolicy),o.integrity==null&&(o.integrity=c.integrity)}var P1=null;function XD(o,c,m){if(P1===null){var y=new Map,M=P1=new Map;M.set(m,y)}else M=P1,y=M.get(m),y||(y=new Map,M.set(m,y));if(y.has(o))return y;for(y.set(o,null),m=m.getElementsByTagName(o),M=0;M<m.length;M++){var D=m[M];if(!(D[Zn]||D[xt]||o==="link"&&D.getAttribute("rel")==="stylesheet")&&D.namespaceURI!=="http://www.w3.org/2000/svg"){var j=D.getAttribute(c)||"";j=o+j;var K=y.get(j);K?K.push(D):y.set(j,[D])}}return y}function qD(o,c,m){o=o.ownerDocument||o,o.head.insertBefore(m,c==="title"?o.querySelector("head > title"):null)}function TF(o,c,m){if(m===1||c.itemProp!=null)return!1;switch(o){case"meta":case"title":return!0;case"style":if(typeof c.precedence!="string"||typeof c.href!="string"||c.href==="")break;return!0;case"link":if(typeof c.rel!="string"||typeof c.href!="string"||c.href===""||c.onLoad||c.onError)break;switch(c.rel){case"stylesheet":return o=c.disabled,typeof c.precedence=="string"&&o==null;default:return!0}case"script":if(c.async&&typeof c.async!="function"&&typeof c.async!="symbol"&&!c.onLoad&&!c.onError&&c.src&&typeof c.src=="string")return!0}return!1}function YD(o){return!(o.type==="stylesheet"&&(o.state.loading&3)===0)}var kv=null;function AF(){}function CF(o,c,m){if(kv===null)throw Error(n(475));var y=kv;if(c.type==="stylesheet"&&(typeof m.media!="string"||matchMedia(m.media).matches!==!1)&&(c.state.loading&4)===0){if(c.instance===null){var M=Pm(m.href),D=o.querySelector(Bv(M));if(D){o=D._p,o!==null&&typeof o=="object"&&typeof o.then=="function"&&(y.count++,y=L1.bind(y),o.then(y,y)),c.state.loading|=4,c.instance=D,Pe(D);return}D=o.ownerDocument||o,m=GD(m),(M=ko.get(M))&&E2(m,M),D=D.createElement("link"),Pe(D);var j=D;j._p=new Promise(function(K,me){j.onload=K,j.onerror=me}),ma(D,"link",m),c.instance=D}y.stylesheets===null&&(y.stylesheets=new Map),y.stylesheets.set(c,o),(o=c.state.preload)&&(c.state.loading&3)===0&&(y.count++,c=L1.bind(y),o.addEventListener("load",c),o.addEventListener("error",c))}}function RF(){if(kv===null)throw Error(n(475));var o=kv;return o.stylesheets&&o.count===0&&T2(o,o.stylesheets),0<o.count?function(c){var m=setTimeout(function(){if(o.stylesheets&&T2(o,o.stylesheets),o.unsuspend){var y=o.unsuspend;o.unsuspend=null,y()}},6e4);return o.unsuspend=c,function(){o.unsuspend=null,clearTimeout(m)}}:null}function L1(){if(this.count--,this.count===0){if(this.stylesheets)T2(this,this.stylesheets);else if(this.unsuspend){var o=this.unsuspend;this.unsuspend=null,o()}}}var U1=null;function T2(o,c){o.stylesheets=null,o.unsuspend!==null&&(o.count++,U1=new Map,c.forEach(DF,o),U1=null,L1.call(o))}function DF(o,c){if(!(c.state.loading&4)){var m=U1.get(o);if(m)var y=m.get(null);else{m=new Map,U1.set(o,m);for(var M=o.querySelectorAll("link[data-precedence],style[data-precedence]"),D=0;D<M.length;D++){var j=M[D];(j.nodeName==="LINK"||j.getAttribute("media")!=="not all")&&(m.set(j.dataset.precedence,j),y=j)}y&&m.set(null,y)}M=c.instance,j=M.getAttribute("data-precedence"),D=m.get(j)||y,D===y&&m.set(null,M),m.set(j,M),this.count++,y=L1.bind(this),M.addEventListener("load",y),M.addEventListener("error",y),D?D.parentNode.insertBefore(M,D.nextSibling):(o=o.nodeType===9?o.head:o,o.insertBefore(M,o.firstChild)),c.state.loading|=4}}var Fv={$$typeof:C,Provider:null,Consumer:null,_currentValue:Q,_currentValue2:Q,_threadCount:0};function OF(o,c,m,y,M,D,j,K){this.tag=1,this.containerInfo=o,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=dt(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=dt(0),this.hiddenUpdates=dt(null),this.identifierPrefix=y,this.onUncaughtError=M,this.onCaughtError=D,this.onRecoverableError=j,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=K,this.incompleteTransitions=new Map}function ZD(o,c,m,y,M,D,j,K,me,Ie,nt,lt){return o=new OF(o,c,m,j,K,me,Ie,lt),c=1,D===!0&&(c|=24),D=Ta(3,null,null,c),o.current=D,D.stateNode=o,c=tm(),c.refCount++,o.pooledCache=c,c.refCount++,D.memoizedState={element:y,isDehydrated:m,cache:c},uv(D),o}function KD(o){return o?(o=Kl,o):Kl}function $D(o,c,m,y,M,D){M=KD(M),y.context===null?y.context=M:y.pendingContext=M,y=To(c),y.payload={element:m},D=D===void 0?null:D,D!==null&&(y.callback=D),m=dl(o,y,c),m!==null&&(pa(m,o,c),Qc(m,o,c))}function JD(o,c){if(o=o.memoizedState,o!==null&&o.dehydrated!==null){var m=o.retryLane;o.retryLane=m!==0&&m<c?m:c}}function A2(o,c){JD(o,c),(o=o.alternate)&&JD(o,c)}function QD(o){if(o.tag===13){var c=ll(o,67108864);c!==null&&pa(c,o,67108864),A2(o,67108864)}}var I1=!0;function NF(o,c,m,y){var M=G.T;G.T=null;var D=Y.p;try{Y.p=2,C2(o,c,m,y)}finally{Y.p=D,G.T=M}}function PF(o,c,m,y){var M=G.T;G.T=null;var D=Y.p;try{Y.p=8,C2(o,c,m,y)}finally{Y.p=D,G.T=M}}function C2(o,c,m,y){if(I1){var M=R2(y);if(M===null)m2(o,c,y,B1,m),t5(o,y);else if(UF(M,o,c,m,y))y.stopPropagation();else if(t5(o,y),c&4&&-1<LF.indexOf(o)){for(;M!==null;){var D=Z(M);if(D!==null)switch(D.tag){case 3:if(D=D.stateNode,D.current.memoizedState.isDehydrated){var j=zt(D.pendingLanes);if(j!==0){var K=D;for(K.pendingLanes|=2,K.entangledLanes|=2;j;){var me=1<<31-mt(j);K.entanglements[1]|=me,j&=~me}xc(D),(ci&6)===0&&($r=re()+500,Pv(0))}}break;case 13:K=ll(D,2),K!==null&&pa(K,D,2),Bo(),A2(D,2)}if(D=R2(y),D===null&&m2(o,c,y,B1,m),D===M)break;M=D}M!==null&&y.stopPropagation()}else m2(o,c,y,null,m)}}function R2(o){return o=Ip(o),D2(o)}var B1=null;function D2(o){if(B1=null,o=W(o),o!==null){var c=a(o);if(c===null)o=null;else{var m=c.tag;if(m===13){if(o=s(c),o!==null)return o;o=null}else if(m===3){if(c.stateNode.current.memoizedState.isDehydrated)return c.tag===3?c.stateNode.containerInfo:null;o=null}else c!==o&&(o=null)}}return B1=o,null}function e5(o){switch(o){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Ve()){case Ke:return 2;case $e:return 8;case _t:case vt:return 32;case $:return 268435456;default:return 32}default:return 32}}var O2=!1,Uf=null,If=null,Bf=null,Hv=new Map,Vv=new Map,zf=[],LF="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function t5(o,c){switch(o){case"focusin":case"focusout":Uf=null;break;case"dragenter":case"dragleave":If=null;break;case"mouseover":case"mouseout":Bf=null;break;case"pointerover":case"pointerout":Hv.delete(c.pointerId);break;case"gotpointercapture":case"lostpointercapture":Vv.delete(c.pointerId)}}function jv(o,c,m,y,M,D){return o===null||o.nativeEvent!==D?(o={blockedOn:c,domEventName:m,eventSystemFlags:y,nativeEvent:D,targetContainers:[M]},c!==null&&(c=Z(c),c!==null&&QD(c)),o):(o.eventSystemFlags|=y,c=o.targetContainers,M!==null&&c.indexOf(M)===-1&&c.push(M),o)}function UF(o,c,m,y,M){switch(c){case"focusin":return Uf=jv(Uf,o,c,m,y,M),!0;case"dragenter":return If=jv(If,o,c,m,y,M),!0;case"mouseover":return Bf=jv(Bf,o,c,m,y,M),!0;case"pointerover":var D=M.pointerId;return Hv.set(D,jv(Hv.get(D)||null,o,c,m,y,M)),!0;case"gotpointercapture":return D=M.pointerId,Vv.set(D,jv(Vv.get(D)||null,o,c,m,y,M)),!0}return!1}function n5(o){var c=W(o.target);if(c!==null){var m=a(c);if(m!==null){if(c=m.tag,c===13){if(c=s(m),c!==null){o.blockedOn=c,Gt(o.priority,function(){if(m.tag===13){var y=Wi();y=Xt(y);var M=ll(m,y);M!==null&&pa(M,m,y),A2(m,y)}});return}}else if(c===3&&m.stateNode.current.memoizedState.isDehydrated){o.blockedOn=m.tag===3?m.stateNode.containerInfo:null;return}}}o.blockedOn=null}function z1(o){if(o.blockedOn!==null)return!1;for(var c=o.targetContainers;0<c.length;){var m=R2(o.nativeEvent);if(m===null){m=o.nativeEvent;var y=new m.constructor(m.type,m);Up=y,m.target.dispatchEvent(y),Up=null}else return c=Z(m),c!==null&&QD(c),o.blockedOn=m,!1;c.shift()}return!0}function i5(o,c,m){z1(o)&&m.delete(c)}function IF(){O2=!1,Uf!==null&&z1(Uf)&&(Uf=null),If!==null&&z1(If)&&(If=null),Bf!==null&&z1(Bf)&&(Bf=null),Hv.forEach(i5),Vv.forEach(i5)}function k1(o,c){o.blockedOn===c&&(o.blockedOn=null,O2||(O2=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,IF)))}var F1=null;function r5(o){F1!==o&&(F1=o,i.unstable_scheduleCallback(i.unstable_NormalPriority,function(){F1===o&&(F1=null);for(var c=0;c<o.length;c+=3){var m=o[c],y=o[c+1],M=o[c+2];if(typeof y!="function"){if(D2(y||m)===null)continue;break}var D=Z(m);D!==null&&(o.splice(c,3),c-=3,Tv(D,{pending:!0,data:M,method:m.method,action:y},y,M))}}))}function Gv(o){function c(me){return k1(me,o)}Uf!==null&&k1(Uf,o),If!==null&&k1(If,o),Bf!==null&&k1(Bf,o),Hv.forEach(c),Vv.forEach(c);for(var m=0;m<zf.length;m++){var y=zf[m];y.blockedOn===o&&(y.blockedOn=null)}for(;0<zf.length&&(m=zf[0],m.blockedOn===null);)n5(m),m.blockedOn===null&&zf.shift();if(m=(o.ownerDocument||o).$$reactFormReplay,m!=null)for(y=0;y<m.length;y+=3){var M=m[y],D=m[y+1],j=M[kt]||null;if(typeof D=="function")j||r5(m);else if(j){var K=null;if(D&&D.hasAttribute("formAction")){if(M=D,j=D[kt]||null)K=j.formAction;else if(D2(M)!==null)continue}else K=j.action;typeof K=="function"?m[y+1]=K:(m.splice(y,3),y-=3),r5(m)}}}function N2(o){this._internalRoot=o}H1.prototype.render=N2.prototype.render=function(o){var c=this._internalRoot;if(c===null)throw Error(n(409));var m=c.current,y=Wi();$D(m,y,o,c,null,null)},H1.prototype.unmount=N2.prototype.unmount=function(){var o=this._internalRoot;if(o!==null){this._internalRoot=null;var c=o.containerInfo;$D(o.current,2,null,o,null,null),Bo(),c[Ft]=null}};function H1(o){this._internalRoot=o}H1.prototype.unstable_scheduleHydration=function(o){if(o){var c=Ct();o={blockedOn:null,target:o,priority:c};for(var m=0;m<zf.length&&c!==0&&c<zf[m].priority;m++);zf.splice(m,0,o),m===0&&n5(o)}};var a5=e.version;if(a5!=="19.1.1")throw Error(n(527,a5,"19.1.1"));Y.findDOMNode=function(o){var c=o._reactInternals;if(c===void 0)throw typeof o.render=="function"?Error(n(188)):(o=Object.keys(o).join(","),Error(n(268,o)));return o=u(c),o=o!==null?f(o):null,o=o===null?null:o.stateNode,o};var BF={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:G,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var V1=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!V1.isDisabled&&V1.supportsFiber)try{Ne=V1.inject(BF),ze=V1}catch{}}return Xv.createRoot=function(o,c){if(!r(o))throw Error(n(299));var m=!1,y="",M=pd,D=ym,j=S1,K=null;return c!=null&&(c.unstable_strictMode===!0&&(m=!0),c.identifierPrefix!==void 0&&(y=c.identifierPrefix),c.onUncaughtError!==void 0&&(M=c.onUncaughtError),c.onCaughtError!==void 0&&(D=c.onCaughtError),c.onRecoverableError!==void 0&&(j=c.onRecoverableError),c.unstable_transitionCallbacks!==void 0&&(K=c.unstable_transitionCallbacks)),c=ZD(o,1,!1,null,null,m,y,M,D,j,K,null),o[Ft]=c.current,p2(o),new N2(c)},Xv.hydrateRoot=function(o,c,m){if(!r(o))throw Error(n(299));var y=!1,M="",D=pd,j=ym,K=S1,me=null,Ie=null;return m!=null&&(m.unstable_strictMode===!0&&(y=!0),m.identifierPrefix!==void 0&&(M=m.identifierPrefix),m.onUncaughtError!==void 0&&(D=m.onUncaughtError),m.onCaughtError!==void 0&&(j=m.onCaughtError),m.onRecoverableError!==void 0&&(K=m.onRecoverableError),m.unstable_transitionCallbacks!==void 0&&(me=m.unstable_transitionCallbacks),m.formState!==void 0&&(Ie=m.formState)),c=ZD(o,1,!0,c,m??null,y,M,D,j,K,me,Ie),c.context=KD(null),m=c.current,y=Wi(),y=Xt(y),M=To(y),M.callback=null,dl(m,M,y),m=y,c.current.lanes=m,At(c,m),xc(c),o[Ft]=c.current,p2(o),new H1(c)},Xv.version="19.1.1",Xv}var m5;function qF(){if(m5)return U2.exports;m5=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),U2.exports=XF(),U2.exports}var YF=qF();/**
 * react-router v7.8.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var g5="popstate";function ZF(i={}){function e(n,r){let{pathname:a,search:s,hash:l}=n.location;return KT("",{pathname:a,search:s,hash:l},r.state&&r.state.usr||null,r.state&&r.state.key||"default")}function t(n,r){return typeof r=="string"?r:a_(r)}return $F(e,t,null,i)}function sr(i,e){if(i===!1||i===null||typeof i>"u")throw new Error(e)}function Hc(i,e){if(!i){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function KF(){return Math.random().toString(36).substring(2,10)}function v5(i,e){return{usr:i.state,key:i.key,idx:e}}function KT(i,e,t=null,n){return{pathname:typeof i=="string"?i:i.pathname,search:"",hash:"",...typeof e=="string"?_g(e):e,state:t,key:e&&e.key||n||KF()}}function a_({pathname:i="/",search:e="",hash:t=""}){return e&&e!=="?"&&(i+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(i+=t.charAt(0)==="#"?t:"#"+t),i}function _g(i){let e={};if(i){let t=i.indexOf("#");t>=0&&(e.hash=i.substring(t),i=i.substring(0,t));let n=i.indexOf("?");n>=0&&(e.search=i.substring(n),i=i.substring(0,n)),i&&(e.pathname=i)}return e}function $F(i,e,t,n={}){let{window:r=document.defaultView,v5Compat:a=!1}=n,s=r.history,l="POP",u=null,f=p();f==null&&(f=0,s.replaceState({...s.state,idx:f},""));function p(){return(s.state||{idx:null}).idx}function g(){l="POP";let E=p(),b=E==null?null:E-f;f=E,u&&u({action:l,location:w.location,delta:b})}function v(E,b){l="PUSH";let R=KT(w.location,E,b);f=p()+1;let C=v5(R,f),A=w.createHref(R);try{s.pushState(C,"",A)}catch(N){if(N instanceof DOMException&&N.name==="DataCloneError")throw N;r.location.assign(A)}a&&u&&u({action:l,location:w.location,delta:1})}function _(E,b){l="REPLACE";let R=KT(w.location,E,b);f=p();let C=v5(R,f),A=w.createHref(R);s.replaceState(C,"",A),a&&u&&u({action:l,location:w.location,delta:0})}function S(E){return JF(E)}let w={get action(){return l},get location(){return i(r,s)},listen(E){if(u)throw new Error("A history only accepts one active listener");return r.addEventListener(g5,g),u=E,()=>{r.removeEventListener(g5,g),u=null}},createHref(E){return e(r,E)},createURL:S,encodeLocation(E){let b=S(E);return{pathname:b.pathname,search:b.search,hash:b.hash}},push:v,replace:_,go(E){return s.go(E)}};return w}function JF(i,e=!1){let t="http://localhost";typeof window<"u"&&(t=window.location.origin!=="null"?window.location.origin:window.location.href),sr(t,"No window.location.(origin|href) available to create URL");let n=typeof i=="string"?i:a_(i);return n=n.replace(/ $/,"%20"),!e&&n.startsWith("//")&&(n=t+n),new URL(n,t)}function E4(i,e,t="/"){return QF(i,e,t,!1)}function QF(i,e,t,n){let r=typeof e=="string"?_g(e):e,a=Iu(r.pathname||"/",t);if(a==null)return null;let s=M4(i);eH(s);let l=null;for(let u=0;l==null&&u<s.length;++u){let f=fH(a);l=cH(s[u],f,n)}return l}function M4(i,e=[],t=[],n="",r=!1){let a=(s,l,u=r,f)=>{let p={relativePath:f===void 0?s.path||"":f,caseSensitive:s.caseSensitive===!0,childrenIndex:l,route:s};if(p.relativePath.startsWith("/")){if(!p.relativePath.startsWith(n)&&u)return;sr(p.relativePath.startsWith(n),`Absolute route path "${p.relativePath}" nested under path "${n}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),p.relativePath=p.relativePath.slice(n.length)}let g=Pu([n,p.relativePath]),v=t.concat(p);s.children&&s.children.length>0&&(sr(s.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${g}".`),M4(s.children,e,v,g,u)),!(s.path==null&&!s.index)&&e.push({path:g,score:oH(g,s.index),routesMeta:v})};return i.forEach((s,l)=>{if(s.path===""||!s.path?.includes("?"))a(s,l);else for(let u of T4(s.path))a(s,l,!0,u)}),e}function T4(i){let e=i.split("/");if(e.length===0)return[];let[t,...n]=e,r=t.endsWith("?"),a=t.replace(/\?$/,"");if(n.length===0)return r?[a,""]:[a];let s=T4(n.join("/")),l=[];return l.push(...s.map(u=>u===""?a:[a,u].join("/"))),r&&l.push(...s),l.map(u=>i.startsWith("/")&&u===""?"/":u)}function eH(i){i.sort((e,t)=>e.score!==t.score?t.score-e.score:lH(e.routesMeta.map(n=>n.childrenIndex),t.routesMeta.map(n=>n.childrenIndex)))}var tH=/^:[\w-]+$/,nH=3,iH=2,rH=1,aH=10,sH=-2,y5=i=>i==="*";function oH(i,e){let t=i.split("/"),n=t.length;return t.some(y5)&&(n+=sH),e&&(n+=iH),t.filter(r=>!y5(r)).reduce((r,a)=>r+(tH.test(a)?nH:a===""?rH:aH),n)}function lH(i,e){return i.length===e.length&&i.slice(0,-1).every((n,r)=>n===e[r])?i[i.length-1]-e[e.length-1]:0}function cH(i,e,t=!1){let{routesMeta:n}=i,r={},a="/",s=[];for(let l=0;l<n.length;++l){let u=n[l],f=l===n.length-1,p=a==="/"?e:e.slice(a.length)||"/",g=NS({path:u.relativePath,caseSensitive:u.caseSensitive,end:f},p),v=u.route;if(!g&&f&&t&&!n[n.length-1].route.index&&(g=NS({path:u.relativePath,caseSensitive:u.caseSensitive,end:!1},p)),!g)return null;Object.assign(r,g.params),s.push({params:r,pathname:Pu([a,g.pathname]),pathnameBase:mH(Pu([a,g.pathnameBase])),route:v}),g.pathnameBase!=="/"&&(a=Pu([a,g.pathnameBase]))}return s}function NS(i,e){typeof i=="string"&&(i={path:i,caseSensitive:!1,end:!0});let[t,n]=uH(i.path,i.caseSensitive,i.end),r=e.match(t);if(!r)return null;let a=r[0],s=a.replace(/(.)\/+$/,"$1"),l=r.slice(1);return{params:n.reduce((f,{paramName:p,isOptional:g},v)=>{if(p==="*"){let S=l[v]||"";s=a.slice(0,a.length-S.length).replace(/(.)\/+$/,"$1")}const _=l[v];return g&&!_?f[p]=void 0:f[p]=(_||"").replace(/%2F/g,"/"),f},{}),pathname:a,pathnameBase:s,pattern:i}}function uH(i,e=!1,t=!0){Hc(i==="*"||!i.endsWith("*")||i.endsWith("/*"),`Route path "${i}" will be treated as if it were "${i.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${i.replace(/\*$/,"/*")}".`);let n=[],r="^"+i.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(s,l,u)=>(n.push({paramName:l,isOptional:u!=null}),u?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return i.endsWith("*")?(n.push({paramName:"*"}),r+=i==="*"||i==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?r+="\\/*$":i!==""&&i!=="/"&&(r+="(?:(?=\\/|$))"),[new RegExp(r,e?void 0:"i"),n]}function fH(i){try{return i.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Hc(!1,`The URL path "${i}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),i}}function Iu(i,e){if(e==="/")return i;if(!i.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,n=i.charAt(t);return n&&n!=="/"?null:i.slice(t)||"/"}function hH(i,e="/"){let{pathname:t,search:n="",hash:r=""}=typeof i=="string"?_g(i):i;return{pathname:t?t.startsWith("/")?t:dH(t,e):e,search:gH(n),hash:vH(r)}}function dH(i,e){let t=e.replace(/\/+$/,"").split("/");return i.split("/").forEach(r=>{r===".."?t.length>1&&t.pop():r!=="."&&t.push(r)}),t.length>1?t.join("/"):"/"}function k2(i,e,t,n){return`Cannot include a '${i}' character in a manually specified \`to.${e}\` field [${JSON.stringify(n)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function pH(i){return i.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function A4(i){let e=pH(i);return e.map((t,n)=>n===e.length-1?t.pathname:t.pathnameBase)}function C4(i,e,t,n=!1){let r;typeof i=="string"?r=_g(i):(r={...i},sr(!r.pathname||!r.pathname.includes("?"),k2("?","pathname","search",r)),sr(!r.pathname||!r.pathname.includes("#"),k2("#","pathname","hash",r)),sr(!r.search||!r.search.includes("#"),k2("#","search","hash",r)));let a=i===""||r.pathname==="",s=a?"/":r.pathname,l;if(s==null)l=t;else{let g=e.length-1;if(!n&&s.startsWith("..")){let v=s.split("/");for(;v[0]==="..";)v.shift(),g-=1;r.pathname=v.join("/")}l=g>=0?e[g]:"/"}let u=hH(r,l),f=s&&s!=="/"&&s.endsWith("/"),p=(a||s===".")&&t.endsWith("/");return!u.pathname.endsWith("/")&&(f||p)&&(u.pathname+="/"),u}var Pu=i=>i.join("/").replace(/\/\/+/g,"/"),mH=i=>i.replace(/\/+$/,"").replace(/^\/*/,"/"),gH=i=>!i||i==="?"?"":i.startsWith("?")?i:"?"+i,vH=i=>!i||i==="#"?"":i.startsWith("#")?i:"#"+i;function yH(i){return i!=null&&typeof i.status=="number"&&typeof i.statusText=="string"&&typeof i.internal=="boolean"&&"data"in i}var R4=["POST","PUT","PATCH","DELETE"];new Set(R4);var _H=["GET",...R4];new Set(_H);var xg=H.createContext(null);xg.displayName="DataRouter";var $w=H.createContext(null);$w.displayName="DataRouterState";H.createContext(!1);var D4=H.createContext({isTransitioning:!1});D4.displayName="ViewTransition";var xH=H.createContext(new Map);xH.displayName="Fetchers";var bH=H.createContext(null);bH.displayName="Await";var Wc=H.createContext(null);Wc.displayName="Navigation";var F_=H.createContext(null);F_.displayName="Location";var Wu=H.createContext({outlet:null,matches:[],isDataRoute:!1});Wu.displayName="Route";var ZC=H.createContext(null);ZC.displayName="RouteError";function SH(i,{relative:e}={}){sr(H_(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:n}=H.useContext(Wc),{hash:r,pathname:a,search:s}=V_(i,{relative:e}),l=a;return t!=="/"&&(l=a==="/"?t:Pu([t,a])),n.createHref({pathname:l,search:s,hash:r})}function H_(){return H.useContext(F_)!=null}function Cp(){return sr(H_(),"useLocation() may be used only in the context of a <Router> component."),H.useContext(F_).location}var O4="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function N4(i){H.useContext(Wc).static||H.useLayoutEffect(i)}function wH(){let{isDataRoute:i}=H.useContext(Wu);return i?IH():EH()}function EH(){sr(H_(),"useNavigate() may be used only in the context of a <Router> component.");let i=H.useContext(xg),{basename:e,navigator:t}=H.useContext(Wc),{matches:n}=H.useContext(Wu),{pathname:r}=Cp(),a=JSON.stringify(A4(n)),s=H.useRef(!1);return N4(()=>{s.current=!0}),H.useCallback((u,f={})=>{if(Hc(s.current,O4),!s.current)return;if(typeof u=="number"){t.go(u);return}let p=C4(u,JSON.parse(a),r,f.relative==="path");i==null&&e!=="/"&&(p.pathname=p.pathname==="/"?e:Pu([e,p.pathname])),(f.replace?t.replace:t.push)(p,f.state,f)},[e,t,a,r,i])}H.createContext(null);function V_(i,{relative:e}={}){let{matches:t}=H.useContext(Wu),{pathname:n}=Cp(),r=JSON.stringify(A4(t));return H.useMemo(()=>C4(i,JSON.parse(r),n,e==="path"),[i,r,n,e])}function MH(i,e){return P4(i,e)}function P4(i,e,t,n){sr(H_(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:r}=H.useContext(Wc),{matches:a}=H.useContext(Wu),s=a[a.length-1],l=s?s.params:{},u=s?s.pathname:"/",f=s?s.pathnameBase:"/",p=s&&s.route;{let b=p&&p.path||"";L4(u,!p||b.endsWith("*")||b.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${u}" (under <Route path="${b}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${b}"> to <Route path="${b==="/"?"*":`${b}/*`}">.`)}let g=Cp(),v;if(e){let b=typeof e=="string"?_g(e):e;sr(f==="/"||b.pathname?.startsWith(f),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${f}" but pathname "${b.pathname}" was given in the \`location\` prop.`),v=b}else v=g;let _=v.pathname||"/",S=_;if(f!=="/"){let b=f.replace(/^\//,"").split("/");S="/"+_.replace(/^\//,"").split("/").slice(b.length).join("/")}let w=E4(i,{pathname:S});Hc(p||w!=null,`No routes matched location "${v.pathname}${v.search}${v.hash}" `),Hc(w==null||w[w.length-1].route.element!==void 0||w[w.length-1].route.Component!==void 0||w[w.length-1].route.lazy!==void 0,`Matched leaf route at location "${v.pathname}${v.search}${v.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let E=DH(w&&w.map(b=>Object.assign({},b,{params:Object.assign({},l,b.params),pathname:Pu([f,r.encodeLocation?r.encodeLocation(b.pathname).pathname:b.pathname]),pathnameBase:b.pathnameBase==="/"?f:Pu([f,r.encodeLocation?r.encodeLocation(b.pathnameBase).pathname:b.pathnameBase])})),a,t,n);return e&&E?H.createElement(F_.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...v},navigationType:"POP"}},E):E}function TH(){let i=UH(),e=yH(i)?`${i.status} ${i.statusText}`:i instanceof Error?i.message:JSON.stringify(i),t=i instanceof Error?i.stack:null,n="rgba(200,200,200, 0.5)",r={padding:"0.5rem",backgroundColor:n},a={padding:"2px 4px",backgroundColor:n},s=null;return console.error("Error handled by React Router default ErrorBoundary:",i),s=H.createElement(H.Fragment,null,H.createElement("p",null,"💿 Hey developer 👋"),H.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",H.createElement("code",{style:a},"ErrorBoundary")," or"," ",H.createElement("code",{style:a},"errorElement")," prop on your route.")),H.createElement(H.Fragment,null,H.createElement("h2",null,"Unexpected Application Error!"),H.createElement("h3",{style:{fontStyle:"italic"}},e),t?H.createElement("pre",{style:r},t):null,s)}var AH=H.createElement(TH,null),CH=class extends H.Component{constructor(i){super(i),this.state={location:i.location,revalidation:i.revalidation,error:i.error}}static getDerivedStateFromError(i){return{error:i}}static getDerivedStateFromProps(i,e){return e.location!==i.location||e.revalidation!=="idle"&&i.revalidation==="idle"?{error:i.error,location:i.location,revalidation:i.revalidation}:{error:i.error!==void 0?i.error:e.error,location:e.location,revalidation:i.revalidation||e.revalidation}}componentDidCatch(i,e){console.error("React Router caught the following error during render",i,e)}render(){return this.state.error!==void 0?H.createElement(Wu.Provider,{value:this.props.routeContext},H.createElement(ZC.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function RH({routeContext:i,match:e,children:t}){let n=H.useContext(xg);return n&&n.static&&n.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(n.staticContext._deepestRenderedBoundaryId=e.route.id),H.createElement(Wu.Provider,{value:i},t)}function DH(i,e=[],t=null,n=null){if(i==null){if(!t)return null;if(t.errors)i=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)i=t.matches;else return null}let r=i,a=t?.errors;if(a!=null){let u=r.findIndex(f=>f.route.id&&a?.[f.route.id]!==void 0);sr(u>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(a).join(",")}`),r=r.slice(0,Math.min(r.length,u+1))}let s=!1,l=-1;if(t)for(let u=0;u<r.length;u++){let f=r[u];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(l=u),f.route.id){let{loaderData:p,errors:g}=t,v=f.route.loader&&!p.hasOwnProperty(f.route.id)&&(!g||g[f.route.id]===void 0);if(f.route.lazy||v){s=!0,l>=0?r=r.slice(0,l+1):r=[r[0]];break}}}return r.reduceRight((u,f,p)=>{let g,v=!1,_=null,S=null;t&&(g=a&&f.route.id?a[f.route.id]:void 0,_=f.route.errorElement||AH,s&&(l<0&&p===0?(L4("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),v=!0,S=null):l===p&&(v=!0,S=f.route.hydrateFallbackElement||null)));let w=e.concat(r.slice(0,p+1)),E=()=>{let b;return g?b=_:v?b=S:f.route.Component?b=H.createElement(f.route.Component,null):f.route.element?b=f.route.element:b=u,H.createElement(RH,{match:f,routeContext:{outlet:u,matches:w,isDataRoute:t!=null},children:b})};return t&&(f.route.ErrorBoundary||f.route.errorElement||p===0)?H.createElement(CH,{location:t.location,revalidation:t.revalidation,component:_,error:g,children:E(),routeContext:{outlet:null,matches:w,isDataRoute:!0}}):E()},null)}function KC(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function OH(i){let e=H.useContext(xg);return sr(e,KC(i)),e}function NH(i){let e=H.useContext($w);return sr(e,KC(i)),e}function PH(i){let e=H.useContext(Wu);return sr(e,KC(i)),e}function $C(i){let e=PH(i),t=e.matches[e.matches.length-1];return sr(t.route.id,`${i} can only be used on routes that contain a unique "id"`),t.route.id}function LH(){return $C("useRouteId")}function UH(){let i=H.useContext(ZC),e=NH("useRouteError"),t=$C("useRouteError");return i!==void 0?i:e.errors?.[t]}function IH(){let{router:i}=OH("useNavigate"),e=$C("useNavigate"),t=H.useRef(!1);return N4(()=>{t.current=!0}),H.useCallback(async(r,a={})=>{Hc(t.current,O4),t.current&&(typeof r=="number"?i.navigate(r):await i.navigate(r,{fromRouteId:e,...a}))},[i,e])}var _5={};function L4(i,e,t){!e&&!_5[i]&&(_5[i]=!0,Hc(!1,t))}H.memo(BH);function BH({routes:i,future:e,state:t}){return P4(i,void 0,t,e)}function $T(i){sr(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function zH({basename:i="/",children:e=null,location:t,navigationType:n="POP",navigator:r,static:a=!1}){sr(!H_(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let s=i.replace(/^\/*/,"/"),l=H.useMemo(()=>({basename:s,navigator:r,static:a,future:{}}),[s,r,a]);typeof t=="string"&&(t=_g(t));let{pathname:u="/",search:f="",hash:p="",state:g=null,key:v="default"}=t,_=H.useMemo(()=>{let S=Iu(u,s);return S==null?null:{location:{pathname:S,search:f,hash:p,state:g,key:v},navigationType:n}},[s,u,f,p,g,v,n]);return Hc(_!=null,`<Router basename="${s}"> is not able to match the URL "${u}${f}${p}" because it does not start with the basename, so the <Router> won't render anything.`),_==null?null:H.createElement(Wc.Provider,{value:l},H.createElement(F_.Provider,{children:e,value:_}))}function kH({children:i,location:e}){return MH(JT(i),e)}function JT(i,e=[]){let t=[];return H.Children.forEach(i,(n,r)=>{if(!H.isValidElement(n))return;let a=[...e,r];if(n.type===H.Fragment){t.push.apply(t,JT(n.props.children,a));return}sr(n.type===$T,`[${typeof n.type=="string"?n.type:n.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),sr(!n.props.index||!n.props.children,"An index route cannot have child routes.");let s={id:n.props.id||a.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,hydrateFallbackElement:n.props.hydrateFallbackElement,HydrateFallback:n.props.HydrateFallback,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.hasErrorBoundary===!0||n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(s.children=JT(n.props.children,a)),t.push(s)}),t}var cS="get",uS="application/x-www-form-urlencoded";function Jw(i){return i!=null&&typeof i.tagName=="string"}function FH(i){return Jw(i)&&i.tagName.toLowerCase()==="button"}function HH(i){return Jw(i)&&i.tagName.toLowerCase()==="form"}function VH(i){return Jw(i)&&i.tagName.toLowerCase()==="input"}function jH(i){return!!(i.metaKey||i.altKey||i.ctrlKey||i.shiftKey)}function GH(i,e){return i.button===0&&(!e||e==="_self")&&!jH(i)}var j1=null;function WH(){if(j1===null)try{new FormData(document.createElement("form"),0),j1=!1}catch{j1=!0}return j1}var XH=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function F2(i){return i!=null&&!XH.has(i)?(Hc(!1,`"${i}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${uS}"`),null):i}function qH(i,e){let t,n,r,a,s;if(HH(i)){let l=i.getAttribute("action");n=l?Iu(l,e):null,t=i.getAttribute("method")||cS,r=F2(i.getAttribute("enctype"))||uS,a=new FormData(i)}else if(FH(i)||VH(i)&&(i.type==="submit"||i.type==="image")){let l=i.form;if(l==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let u=i.getAttribute("formaction")||l.getAttribute("action");if(n=u?Iu(u,e):null,t=i.getAttribute("formmethod")||l.getAttribute("method")||cS,r=F2(i.getAttribute("formenctype"))||F2(l.getAttribute("enctype"))||uS,a=new FormData(l,i),!WH()){let{name:f,type:p,value:g}=i;if(p==="image"){let v=f?`${f}.`:"";a.append(`${v}x`,"0"),a.append(`${v}y`,"0")}else f&&a.append(f,g)}}else{if(Jw(i))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=cS,n=null,r=uS,s=i}return a&&r==="text/plain"&&(s=a,a=void 0),{action:n,method:t.toLowerCase(),encType:r,formData:a,body:s}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function JC(i,e){if(i===!1||i===null||typeof i>"u")throw new Error(e)}function YH(i,e,t){let n=typeof i=="string"?new URL(i,typeof window>"u"?"server://singlefetch/":window.location.origin):i;return n.pathname==="/"?n.pathname=`_root.${t}`:e&&Iu(n.pathname,e)==="/"?n.pathname=`${e.replace(/\/$/,"")}/_root.${t}`:n.pathname=`${n.pathname.replace(/\/$/,"")}.${t}`,n}async function ZH(i,e){if(i.id in e)return e[i.id];try{let t=await import(i.module);return e[i.id]=t,t}catch(t){return console.error(`Error loading route module \`${i.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function KH(i){return i==null?!1:i.href==null?i.rel==="preload"&&typeof i.imageSrcSet=="string"&&typeof i.imageSizes=="string":typeof i.rel=="string"&&typeof i.href=="string"}async function $H(i,e,t){let n=await Promise.all(i.map(async r=>{let a=e.routes[r.route.id];if(a){let s=await ZH(a,t);return s.links?s.links():[]}return[]}));return tV(n.flat(1).filter(KH).filter(r=>r.rel==="stylesheet"||r.rel==="preload").map(r=>r.rel==="stylesheet"?{...r,rel:"prefetch",as:"style"}:{...r,rel:"prefetch"}))}function x5(i,e,t,n,r,a){let s=(u,f)=>t[f]?u.route.id!==t[f].route.id:!0,l=(u,f)=>t[f].pathname!==u.pathname||t[f].route.path?.endsWith("*")&&t[f].params["*"]!==u.params["*"];return a==="assets"?e.filter((u,f)=>s(u,f)||l(u,f)):a==="data"?e.filter((u,f)=>{let p=n.routes[u.route.id];if(!p||!p.hasLoader)return!1;if(s(u,f)||l(u,f))return!0;if(u.route.shouldRevalidate){let g=u.route.shouldRevalidate({currentUrl:new URL(r.pathname+r.search+r.hash,window.origin),currentParams:t[0]?.params||{},nextUrl:new URL(i,window.origin),nextParams:u.params,defaultShouldRevalidate:!0});if(typeof g=="boolean")return g}return!0}):[]}function JH(i,e,{includeHydrateFallback:t}={}){return QH(i.map(n=>{let r=e.routes[n.route.id];if(!r)return[];let a=[r.module];return r.clientActionModule&&(a=a.concat(r.clientActionModule)),r.clientLoaderModule&&(a=a.concat(r.clientLoaderModule)),t&&r.hydrateFallbackModule&&(a=a.concat(r.hydrateFallbackModule)),r.imports&&(a=a.concat(r.imports)),a}).flat(1))}function QH(i){return[...new Set(i)]}function eV(i){let e={},t=Object.keys(i).sort();for(let n of t)e[n]=i[n];return e}function tV(i,e){let t=new Set;return new Set(e),i.reduce((n,r)=>{let a=JSON.stringify(eV(r));return t.has(a)||(t.add(a),n.push({key:a,link:r})),n},[])}function U4(){let i=H.useContext(xg);return JC(i,"You must render this element inside a <DataRouterContext.Provider> element"),i}function nV(){let i=H.useContext($w);return JC(i,"You must render this element inside a <DataRouterStateContext.Provider> element"),i}var QC=H.createContext(void 0);QC.displayName="FrameworkContext";function I4(){let i=H.useContext(QC);return JC(i,"You must render this element inside a <HydratedRouter> element"),i}function iV(i,e){let t=H.useContext(QC),[n,r]=H.useState(!1),[a,s]=H.useState(!1),{onFocus:l,onBlur:u,onMouseEnter:f,onMouseLeave:p,onTouchStart:g}=e,v=H.useRef(null);H.useEffect(()=>{if(i==="render"&&s(!0),i==="viewport"){let w=b=>{b.forEach(R=>{s(R.isIntersecting)})},E=new IntersectionObserver(w,{threshold:.5});return v.current&&E.observe(v.current),()=>{E.disconnect()}}},[i]),H.useEffect(()=>{if(n){let w=setTimeout(()=>{s(!0)},100);return()=>{clearTimeout(w)}}},[n]);let _=()=>{r(!0)},S=()=>{r(!1),s(!1)};return t?i!=="intent"?[a,v,{}]:[a,v,{onFocus:qv(l,_),onBlur:qv(u,S),onMouseEnter:qv(f,_),onMouseLeave:qv(p,S),onTouchStart:qv(g,_)}]:[!1,v,{}]}function qv(i,e){return t=>{i&&i(t),t.defaultPrevented||e(t)}}function rV({page:i,...e}){let{router:t}=U4(),n=H.useMemo(()=>E4(t.routes,i,t.basename),[t.routes,i,t.basename]);return n?H.createElement(sV,{page:i,matches:n,...e}):null}function aV(i){let{manifest:e,routeModules:t}=I4(),[n,r]=H.useState([]);return H.useEffect(()=>{let a=!1;return $H(i,e,t).then(s=>{a||r(s)}),()=>{a=!0}},[i,e,t]),n}function sV({page:i,matches:e,...t}){let n=Cp(),{manifest:r,routeModules:a}=I4(),{basename:s}=U4(),{loaderData:l,matches:u}=nV(),f=H.useMemo(()=>x5(i,e,u,r,n,"data"),[i,e,u,r,n]),p=H.useMemo(()=>x5(i,e,u,r,n,"assets"),[i,e,u,r,n]),g=H.useMemo(()=>{if(i===n.pathname+n.search+n.hash)return[];let S=new Set,w=!1;if(e.forEach(b=>{let R=r.routes[b.route.id];!R||!R.hasLoader||(!f.some(C=>C.route.id===b.route.id)&&b.route.id in l&&a[b.route.id]?.shouldRevalidate||R.hasClientLoader?w=!0:S.add(b.route.id))}),S.size===0)return[];let E=YH(i,s,"data");return w&&S.size>0&&E.searchParams.set("_routes",e.filter(b=>S.has(b.route.id)).map(b=>b.route.id).join(",")),[E.pathname+E.search]},[s,l,n,r,f,e,i,a]),v=H.useMemo(()=>JH(p,r),[p,r]),_=aV(p);return H.createElement(H.Fragment,null,g.map(S=>H.createElement("link",{key:S,rel:"prefetch",as:"fetch",href:S,...t})),v.map(S=>H.createElement("link",{key:S,rel:"modulepreload",href:S,...t})),_.map(({key:S,link:w})=>H.createElement("link",{key:S,nonce:t.nonce,...w})))}function oV(...i){return e=>{i.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var B4=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{B4&&(window.__reactRouterVersion="7.8.1")}catch{}function lV({basename:i,children:e,window:t}){let n=H.useRef();n.current==null&&(n.current=ZF({window:t,v5Compat:!0}));let r=n.current,[a,s]=H.useState({action:r.action,location:r.location}),l=H.useCallback(u=>{H.startTransition(()=>s(u))},[s]);return H.useLayoutEffect(()=>r.listen(l),[r,l]),H.createElement(zH,{basename:i,children:e,location:a.location,navigationType:a.action,navigator:r})}var z4=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,k4=H.forwardRef(function({onClick:e,discover:t="render",prefetch:n="none",relative:r,reloadDocument:a,replace:s,state:l,target:u,to:f,preventScrollReset:p,viewTransition:g,...v},_){let{basename:S}=H.useContext(Wc),w=typeof f=="string"&&z4.test(f),E,b=!1;if(typeof f=="string"&&w&&(E=f,B4))try{let P=new URL(window.location.href),z=f.startsWith("//")?new URL(P.protocol+f):new URL(f),X=Iu(z.pathname,S);z.origin===P.origin&&X!=null?f=X+z.search+z.hash:b=!0}catch{Hc(!1,`<Link to="${f}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let R=SH(f,{relative:r}),[C,A,N]=iV(n,v),L=hV(f,{replace:s,state:l,target:u,preventScrollReset:p,relative:r,viewTransition:g});function B(P){e&&e(P),P.defaultPrevented||L(P)}let U=H.createElement("a",{...v,...N,href:E||R,onClick:b||a?e:B,ref:oV(_,A),target:u,"data-discover":!w&&t==="render"?"true":void 0});return C&&!w?H.createElement(H.Fragment,null,U,H.createElement(rV,{page:R})):U});k4.displayName="Link";var cV=H.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:n="",end:r=!1,style:a,to:s,viewTransition:l,children:u,...f},p){let g=V_(s,{relative:f.relative}),v=Cp(),_=H.useContext($w),{navigator:S,basename:w}=H.useContext(Wc),E=_!=null&&vV(g)&&l===!0,b=S.encodeLocation?S.encodeLocation(g).pathname:g.pathname,R=v.pathname,C=_&&_.navigation&&_.navigation.location?_.navigation.location.pathname:null;t||(R=R.toLowerCase(),C=C?C.toLowerCase():null,b=b.toLowerCase()),C&&w&&(C=Iu(C,w)||C);const A=b!=="/"&&b.endsWith("/")?b.length-1:b.length;let N=R===b||!r&&R.startsWith(b)&&R.charAt(A)==="/",L=C!=null&&(C===b||!r&&C.startsWith(b)&&C.charAt(b.length)==="/"),B={isActive:N,isPending:L,isTransitioning:E},U=N?e:void 0,P;typeof n=="function"?P=n(B):P=[n,N?"active":null,L?"pending":null,E?"transitioning":null].filter(Boolean).join(" ");let z=typeof a=="function"?a(B):a;return H.createElement(k4,{...f,"aria-current":U,className:P,ref:p,style:z,to:s,viewTransition:l},typeof u=="function"?u(B):u)});cV.displayName="NavLink";var uV=H.forwardRef(({discover:i="render",fetcherKey:e,navigate:t,reloadDocument:n,replace:r,state:a,method:s=cS,action:l,onSubmit:u,relative:f,preventScrollReset:p,viewTransition:g,...v},_)=>{let S=mV(),w=gV(l,{relative:f}),E=s.toLowerCase()==="get"?"get":"post",b=typeof l=="string"&&z4.test(l),R=C=>{if(u&&u(C),C.defaultPrevented)return;C.preventDefault();let A=C.nativeEvent.submitter,N=A?.getAttribute("formmethod")||s;S(A||C.currentTarget,{fetcherKey:e,method:N,navigate:t,replace:r,state:a,relative:f,preventScrollReset:p,viewTransition:g})};return H.createElement("form",{ref:_,method:E,action:w,onSubmit:n?u:R,...v,"data-discover":!b&&i==="render"?"true":void 0})});uV.displayName="Form";function fV(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function F4(i){let e=H.useContext(xg);return sr(e,fV(i)),e}function hV(i,{target:e,replace:t,state:n,preventScrollReset:r,relative:a,viewTransition:s}={}){let l=wH(),u=Cp(),f=V_(i,{relative:a});return H.useCallback(p=>{if(GH(p,e)){p.preventDefault();let g=t!==void 0?t:a_(u)===a_(f);l(i,{replace:g,state:n,preventScrollReset:r,relative:a,viewTransition:s})}},[u,l,f,t,n,e,i,r,a,s])}var dV=0,pV=()=>`__${String(++dV)}__`;function mV(){let{router:i}=F4("useSubmit"),{basename:e}=H.useContext(Wc),t=LH();return H.useCallback(async(n,r={})=>{let{action:a,method:s,encType:l,formData:u,body:f}=qH(n,e);if(r.navigate===!1){let p=r.fetcherKey||pV();await i.fetch(p,t,r.action||a,{preventScrollReset:r.preventScrollReset,formData:u,body:f,formMethod:r.method||s,formEncType:r.encType||l,flushSync:r.flushSync})}else await i.navigate(r.action||a,{preventScrollReset:r.preventScrollReset,formData:u,body:f,formMethod:r.method||s,formEncType:r.encType||l,replace:r.replace,state:r.state,fromRouteId:t,flushSync:r.flushSync,viewTransition:r.viewTransition})},[i,e,t])}function gV(i,{relative:e}={}){let{basename:t}=H.useContext(Wc),n=H.useContext(Wu);sr(n,"useFormAction must be used inside a RouteContext");let[r]=n.matches.slice(-1),a={...V_(i||".",{relative:e})},s=Cp();if(i==null){a.search=s.search;let l=new URLSearchParams(a.search),u=l.getAll("index");if(u.some(p=>p==="")){l.delete("index"),u.filter(g=>g).forEach(g=>l.append("index",g));let p=l.toString();a.search=p?`?${p}`:""}}return(!i||i===".")&&r.route.index&&(a.search=a.search?a.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(a.pathname=a.pathname==="/"?t:Pu([t,a.pathname])),a_(a)}function vV(i,{relative:e}={}){let t=H.useContext(D4);sr(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:n}=F4("useViewTransitionState"),r=V_(i,{relative:e});if(!t.isTransitioning)return!1;let a=Iu(t.currentLocation.pathname,n)||t.currentLocation.pathname,s=Iu(t.nextLocation.pathname,n)||t.nextLocation.pathname;return NS(r.pathname,s)!=null||NS(r.pathname,a)!=null}var yV=w4();const _V=vg(yV),xV="modulepreload",bV=function(i){return"/"+i},b5={},j_=function(e,t,n){let r=Promise.resolve();if(t&&t.length>0){let f=function(p){return Promise.all(p.map(g=>Promise.resolve(g).then(v=>({status:"fulfilled",value:v}),v=>({status:"rejected",reason:v}))))};var s=f;document.getElementsByTagName("link");const l=document.querySelector("meta[property=csp-nonce]"),u=l?.nonce||l?.getAttribute("nonce");r=f(t.map(p=>{if(p=bV(p),p in b5)return;b5[p]=!0;const g=p.endsWith(".css"),v=g?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${p}"]${v}`))return;const _=document.createElement("link");if(_.rel=g?"stylesheet":xV,g||(_.as="script"),_.crossOrigin="",_.href=p,u&&_.setAttribute("nonce",u),document.head.appendChild(_),g)return new Promise((S,w)=>{_.addEventListener("load",S),_.addEventListener("error",()=>w(new Error(`Unable to preload CSS for ${p}`)))})}))}function a(l){const u=new Event("vite:preloadError",{cancelable:!0});if(u.payload=l,window.dispatchEvent(u),!u.defaultPrevented)throw l}return r.then(l=>{for(const u of l||[])u.status==="rejected"&&a(u.reason);return e().catch(a)})},SV=i=>{let e;return i?e=i:typeof fetch>"u"?e=(...t)=>j_(async()=>{const{default:n}=await Promise.resolve().then(()=>bg);return{default:n}},[]).then(({default:n})=>n(...t)):e=fetch,(...t)=>e(...t)};class eR extends Error{constructor(e,t="FunctionsError",n){super(e),this.name=t,this.context=n}}class wV extends eR{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class S5 extends eR{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class w5 extends eR{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var QT;(function(i){i.Any="any",i.ApNortheast1="ap-northeast-1",i.ApNortheast2="ap-northeast-2",i.ApSouth1="ap-south-1",i.ApSoutheast1="ap-southeast-1",i.ApSoutheast2="ap-southeast-2",i.CaCentral1="ca-central-1",i.EuCentral1="eu-central-1",i.EuWest1="eu-west-1",i.EuWest2="eu-west-2",i.EuWest3="eu-west-3",i.SaEast1="sa-east-1",i.UsEast1="us-east-1",i.UsWest1="us-west-1",i.UsWest2="us-west-2"})(QT||(QT={}));var EV=function(i,e,t,n){function r(a){return a instanceof t?a:new t(function(s){s(a)})}return new(t||(t=Promise))(function(a,s){function l(p){try{f(n.next(p))}catch(g){s(g)}}function u(p){try{f(n.throw(p))}catch(g){s(g)}}function f(p){p.done?a(p.value):r(p.value).then(l,u)}f((n=n.apply(i,e||[])).next())})};class MV{constructor(e,{headers:t={},customFetch:n,region:r=QT.Any}={}){this.url=e,this.headers=t,this.region=r,this.fetch=SV(n)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e,t={}){var n;return EV(this,void 0,void 0,function*(){try{const{headers:r,method:a,body:s}=t;let l={},{region:u}=t;u||(u=this.region);const f=new URL(`${this.url}/${e}`);u&&u!=="any"&&(l["x-region"]=u,f.searchParams.set("forceFunctionRegion",u));let p;s&&(r&&!Object.prototype.hasOwnProperty.call(r,"Content-Type")||!r)&&(typeof Blob<"u"&&s instanceof Blob||s instanceof ArrayBuffer?(l["Content-Type"]="application/octet-stream",p=s):typeof s=="string"?(l["Content-Type"]="text/plain",p=s):typeof FormData<"u"&&s instanceof FormData?p=s:(l["Content-Type"]="application/json",p=JSON.stringify(s)));const g=yield this.fetch(f.toString(),{method:a||"POST",headers:Object.assign(Object.assign(Object.assign({},l),this.headers),r),body:p}).catch(w=>{throw new wV(w)}),v=g.headers.get("x-relay-error");if(v&&v==="true")throw new S5(g);if(!g.ok)throw new w5(g);let _=((n=g.headers.get("Content-Type"))!==null&&n!==void 0?n:"text/plain").split(";")[0].trim(),S;return _==="application/json"?S=yield g.json():_==="application/octet-stream"?S=yield g.blob():_==="text/event-stream"?S=g:_==="multipart/form-data"?S=yield g.formData():S=yield g.text(),{data:S,error:null,response:g}}catch(r){return{data:null,error:r,response:r instanceof w5||r instanceof S5?r.context:void 0}}})}}var ea={},Um={},Im={},Bm={},zm={},km={},TV=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},q0=TV();const AV=q0.fetch,H4=q0.fetch.bind(q0),V4=q0.Headers,CV=q0.Request,RV=q0.Response,bg=Object.freeze(Object.defineProperty({__proto__:null,Headers:V4,Request:CV,Response:RV,default:H4,fetch:AV},Symbol.toStringTag,{value:"Module"})),DV=kF(bg);var G1={},E5;function j4(){if(E5)return G1;E5=1,Object.defineProperty(G1,"__esModule",{value:!0});class i extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}}return G1.default=i,G1}var M5;function G4(){if(M5)return km;M5=1;var i=km&&km.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(km,"__esModule",{value:!0});const e=i(DV),t=i(j4());class n{constructor(a){var s,l;this.shouldThrowOnError=!1,this.method=a.method,this.url=a.url,this.headers=new Headers(a.headers),this.schema=a.schema,this.body=a.body,this.shouldThrowOnError=(s=a.shouldThrowOnError)!==null&&s!==void 0?s:!1,this.signal=a.signal,this.isMaybeSingle=(l=a.isMaybeSingle)!==null&&l!==void 0?l:!1,a.fetch?this.fetch=a.fetch:typeof fetch>"u"?this.fetch=e.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(a,s){return this.headers=new Headers(this.headers),this.headers.set(a,s),this}then(a,s){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const l=this.fetch;let u=l(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async f=>{var p,g,v,_;let S=null,w=null,E=null,b=f.status,R=f.statusText;if(f.ok){if(this.method!=="HEAD"){const L=await f.text();L===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((p=this.headers.get("Accept"))===null||p===void 0)&&p.includes("application/vnd.pgrst.plan+text"))?w=L:w=JSON.parse(L))}const A=(g=this.headers.get("Prefer"))===null||g===void 0?void 0:g.match(/count=(exact|planned|estimated)/),N=(v=f.headers.get("content-range"))===null||v===void 0?void 0:v.split("/");A&&N&&N.length>1&&(E=parseInt(N[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(w)&&(w.length>1?(S={code:"PGRST116",details:`Results contain ${w.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},w=null,E=null,b=406,R="Not Acceptable"):w.length===1?w=w[0]:w=null)}else{const A=await f.text();try{S=JSON.parse(A),Array.isArray(S)&&f.status===404&&(w=[],S=null,b=200,R="OK")}catch{f.status===404&&A===""?(b=204,R="No Content"):S={message:A}}if(S&&this.isMaybeSingle&&(!((_=S?.details)===null||_===void 0)&&_.includes("0 rows"))&&(S=null,b=200,R="OK"),S&&this.shouldThrowOnError)throw new t.default(S)}return{error:S,data:w,count:E,status:b,statusText:R}});return this.shouldThrowOnError||(u=u.catch(f=>{var p,g,v;return{error:{message:`${(p=f?.name)!==null&&p!==void 0?p:"FetchError"}: ${f?.message}`,details:`${(g=f?.stack)!==null&&g!==void 0?g:""}`,hint:"",code:`${(v=f?.code)!==null&&v!==void 0?v:""}`},data:null,count:null,status:0,statusText:""}})),u.then(a,s)}returns(){return this}overrideTypes(){return this}}return km.default=n,km}var T5;function W4(){if(T5)return zm;T5=1;var i=zm&&zm.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(zm,"__esModule",{value:!0});const e=i(G4());class t extends e.default{select(r){let a=!1;const s=(r??"*").split("").map(l=>/\s/.test(l)&&!a?"":(l==='"'&&(a=!a),l)).join("");return this.url.searchParams.set("select",s),this.headers.append("Prefer","return=representation"),this}order(r,{ascending:a=!0,nullsFirst:s,foreignTable:l,referencedTable:u=l}={}){const f=u?`${u}.order`:"order",p=this.url.searchParams.get(f);return this.url.searchParams.set(f,`${p?`${p},`:""}${r}.${a?"asc":"desc"}${s===void 0?"":s?".nullsfirst":".nullslast"}`),this}limit(r,{foreignTable:a,referencedTable:s=a}={}){const l=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(l,`${r}`),this}range(r,a,{foreignTable:s,referencedTable:l=s}={}){const u=typeof l>"u"?"offset":`${l}.offset`,f=typeof l>"u"?"limit":`${l}.limit`;return this.url.searchParams.set(u,`${r}`),this.url.searchParams.set(f,`${a-r+1}`),this}abortSignal(r){return this.signal=r,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:r=!1,verbose:a=!1,settings:s=!1,buffers:l=!1,wal:u=!1,format:f="text"}={}){var p;const g=[r?"analyze":null,a?"verbose":null,s?"settings":null,l?"buffers":null,u?"wal":null].filter(Boolean).join("|"),v=(p=this.headers.get("Accept"))!==null&&p!==void 0?p:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${f}; for="${v}"; options=${g};`),f==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(r){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${r}`),this}}return zm.default=t,zm}var A5;function tR(){if(A5)return Bm;A5=1;var i=Bm&&Bm.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(Bm,"__esModule",{value:!0});const e=i(W4());class t extends e.default{eq(r,a){return this.url.searchParams.append(r,`eq.${a}`),this}neq(r,a){return this.url.searchParams.append(r,`neq.${a}`),this}gt(r,a){return this.url.searchParams.append(r,`gt.${a}`),this}gte(r,a){return this.url.searchParams.append(r,`gte.${a}`),this}lt(r,a){return this.url.searchParams.append(r,`lt.${a}`),this}lte(r,a){return this.url.searchParams.append(r,`lte.${a}`),this}like(r,a){return this.url.searchParams.append(r,`like.${a}`),this}likeAllOf(r,a){return this.url.searchParams.append(r,`like(all).{${a.join(",")}}`),this}likeAnyOf(r,a){return this.url.searchParams.append(r,`like(any).{${a.join(",")}}`),this}ilike(r,a){return this.url.searchParams.append(r,`ilike.${a}`),this}ilikeAllOf(r,a){return this.url.searchParams.append(r,`ilike(all).{${a.join(",")}}`),this}ilikeAnyOf(r,a){return this.url.searchParams.append(r,`ilike(any).{${a.join(",")}}`),this}is(r,a){return this.url.searchParams.append(r,`is.${a}`),this}in(r,a){const s=Array.from(new Set(a)).map(l=>typeof l=="string"&&new RegExp("[,()]").test(l)?`"${l}"`:`${l}`).join(",");return this.url.searchParams.append(r,`in.(${s})`),this}contains(r,a){return typeof a=="string"?this.url.searchParams.append(r,`cs.${a}`):Array.isArray(a)?this.url.searchParams.append(r,`cs.{${a.join(",")}}`):this.url.searchParams.append(r,`cs.${JSON.stringify(a)}`),this}containedBy(r,a){return typeof a=="string"?this.url.searchParams.append(r,`cd.${a}`):Array.isArray(a)?this.url.searchParams.append(r,`cd.{${a.join(",")}}`):this.url.searchParams.append(r,`cd.${JSON.stringify(a)}`),this}rangeGt(r,a){return this.url.searchParams.append(r,`sr.${a}`),this}rangeGte(r,a){return this.url.searchParams.append(r,`nxl.${a}`),this}rangeLt(r,a){return this.url.searchParams.append(r,`sl.${a}`),this}rangeLte(r,a){return this.url.searchParams.append(r,`nxr.${a}`),this}rangeAdjacent(r,a){return this.url.searchParams.append(r,`adj.${a}`),this}overlaps(r,a){return typeof a=="string"?this.url.searchParams.append(r,`ov.${a}`):this.url.searchParams.append(r,`ov.{${a.join(",")}}`),this}textSearch(r,a,{config:s,type:l}={}){let u="";l==="plain"?u="pl":l==="phrase"?u="ph":l==="websearch"&&(u="w");const f=s===void 0?"":`(${s})`;return this.url.searchParams.append(r,`${u}fts${f}.${a}`),this}match(r){return Object.entries(r).forEach(([a,s])=>{this.url.searchParams.append(a,`eq.${s}`)}),this}not(r,a,s){return this.url.searchParams.append(r,`not.${a}.${s}`),this}or(r,{foreignTable:a,referencedTable:s=a}={}){const l=s?`${s}.or`:"or";return this.url.searchParams.append(l,`(${r})`),this}filter(r,a,s){return this.url.searchParams.append(r,`${a}.${s}`),this}}return Bm.default=t,Bm}var C5;function X4(){if(C5)return Im;C5=1;var i=Im&&Im.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(Im,"__esModule",{value:!0});const e=i(tR());class t{constructor(r,{headers:a={},schema:s,fetch:l}){this.url=r,this.headers=new Headers(a),this.schema=s,this.fetch=l}select(r,{head:a=!1,count:s}={}){const l=a?"HEAD":"GET";let u=!1;const f=(r??"*").split("").map(p=>/\s/.test(p)&&!u?"":(p==='"'&&(u=!u),p)).join("");return this.url.searchParams.set("select",f),s&&this.headers.append("Prefer",`count=${s}`),new e.default({method:l,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(r,{count:a,defaultToNull:s=!0}={}){var l;const u="POST";if(a&&this.headers.append("Prefer",`count=${a}`),s||this.headers.append("Prefer","missing=default"),Array.isArray(r)){const f=r.reduce((p,g)=>p.concat(Object.keys(g)),[]);if(f.length>0){const p=[...new Set(f)].map(g=>`"${g}"`);this.url.searchParams.set("columns",p.join(","))}}return new e.default({method:u,url:this.url,headers:this.headers,schema:this.schema,body:r,fetch:(l=this.fetch)!==null&&l!==void 0?l:fetch})}upsert(r,{onConflict:a,ignoreDuplicates:s=!1,count:l,defaultToNull:u=!0}={}){var f;const p="POST";if(this.headers.append("Prefer",`resolution=${s?"ignore":"merge"}-duplicates`),a!==void 0&&this.url.searchParams.set("on_conflict",a),l&&this.headers.append("Prefer",`count=${l}`),u||this.headers.append("Prefer","missing=default"),Array.isArray(r)){const g=r.reduce((v,_)=>v.concat(Object.keys(_)),[]);if(g.length>0){const v=[...new Set(g)].map(_=>`"${_}"`);this.url.searchParams.set("columns",v.join(","))}}return new e.default({method:p,url:this.url,headers:this.headers,schema:this.schema,body:r,fetch:(f=this.fetch)!==null&&f!==void 0?f:fetch})}update(r,{count:a}={}){var s;const l="PATCH";return a&&this.headers.append("Prefer",`count=${a}`),new e.default({method:l,url:this.url,headers:this.headers,schema:this.schema,body:r,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch})}delete({count:r}={}){var a;const s="DELETE";return r&&this.headers.append("Prefer",`count=${r}`),new e.default({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch})}}return Im.default=t,Im}var R5;function OV(){if(R5)return Um;R5=1;var i=Um&&Um.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Um,"__esModule",{value:!0});const e=i(X4()),t=i(tR());class n{constructor(a,{headers:s={},schema:l,fetch:u}={}){this.url=a,this.headers=new Headers(s),this.schemaName=l,this.fetch=u}from(a){const s=new URL(`${this.url}/${a}`);return new e.default(s,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(a){return new n(this.url,{headers:this.headers,schema:a,fetch:this.fetch})}rpc(a,s={},{head:l=!1,get:u=!1,count:f}={}){var p;let g;const v=new URL(`${this.url}/rpc/${a}`);let _;l||u?(g=l?"HEAD":"GET",Object.entries(s).filter(([w,E])=>E!==void 0).map(([w,E])=>[w,Array.isArray(E)?`{${E.join(",")}}`:`${E}`]).forEach(([w,E])=>{v.searchParams.append(w,E)})):(g="POST",_=s);const S=new Headers(this.headers);return f&&S.set("Prefer",`count=${f}`),new t.default({method:g,url:v,headers:S,schema:this.schemaName,body:_,fetch:(p=this.fetch)!==null&&p!==void 0?p:fetch})}}return Um.default=n,Um}var D5;function NV(){if(D5)return ea;D5=1;var i=ea&&ea.__importDefault||function(l){return l&&l.__esModule?l:{default:l}};Object.defineProperty(ea,"__esModule",{value:!0}),ea.PostgrestError=ea.PostgrestBuilder=ea.PostgrestTransformBuilder=ea.PostgrestFilterBuilder=ea.PostgrestQueryBuilder=ea.PostgrestClient=void 0;const e=i(OV());ea.PostgrestClient=e.default;const t=i(X4());ea.PostgrestQueryBuilder=t.default;const n=i(tR());ea.PostgrestFilterBuilder=n.default;const r=i(W4());ea.PostgrestTransformBuilder=r.default;const a=i(G4());ea.PostgrestBuilder=a.default;const s=i(j4());return ea.PostgrestError=s.default,ea.default={PostgrestClient:e.default,PostgrestQueryBuilder:t.default,PostgrestFilterBuilder:n.default,PostgrestTransformBuilder:r.default,PostgrestBuilder:a.default,PostgrestError:s.default},ea}var PV=NV();const LV=vg(PV),{PostgrestClient:UV,PostgrestQueryBuilder:cce,PostgrestFilterBuilder:uce,PostgrestTransformBuilder:fce,PostgrestBuilder:hce,PostgrestError:dce}=LV;class IV{static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const t=process.versions;if(t&&t.node){const n=t.node,r=parseInt(n.replace(/^v/,"").split(".")[0]);return r>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${r} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${r} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let t=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(t+=`

Suggested solution: ${e.workaround}`),new Error(t)}static createWebSocket(e,t){const n=this.getWebSocketConstructor();return new n(e,t)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const BV="2.15.5",zV=`realtime-js/${BV}`,kV="1.0.0",eA=1e4,FV=1e3,HV=100;var My;(function(i){i[i.connecting=0]="connecting",i[i.open=1]="open",i[i.closing=2]="closing",i[i.closed=3]="closed"})(My||(My={}));var jr;(function(i){i.closed="closed",i.errored="errored",i.joined="joined",i.joining="joining",i.leaving="leaving"})(jr||(jr={}));var Nl;(function(i){i.close="phx_close",i.error="phx_error",i.join="phx_join",i.reply="phx_reply",i.leave="phx_leave",i.access_token="access_token"})(Nl||(Nl={}));var tA;(function(i){i.websocket="websocket"})(tA||(tA={}));var Yd;(function(i){i.Connecting="connecting",i.Open="open",i.Closing="closing",i.Closed="closed"})(Yd||(Yd={}));class VV{constructor(){this.HEADER_LENGTH=1}decode(e,t){return e.constructor===ArrayBuffer?t(this._binaryDecode(e)):t(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const t=new DataView(e),n=new TextDecoder;return this._decodeBroadcast(e,t,n)}_decodeBroadcast(e,t,n){const r=t.getUint8(1),a=t.getUint8(2);let s=this.HEADER_LENGTH+2;const l=n.decode(e.slice(s,s+r));s=s+r;const u=n.decode(e.slice(s,s+a));s=s+a;const f=JSON.parse(n.decode(e.slice(s,e.byteLength)));return{ref:null,topic:l,event:u,payload:f}}}let q4=class{constructor(e,t){this.callback=e,this.timerCalc=t,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=t}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}};var Ii;(function(i){i.abstime="abstime",i.bool="bool",i.date="date",i.daterange="daterange",i.float4="float4",i.float8="float8",i.int2="int2",i.int4="int4",i.int4range="int4range",i.int8="int8",i.int8range="int8range",i.json="json",i.jsonb="jsonb",i.money="money",i.numeric="numeric",i.oid="oid",i.reltime="reltime",i.text="text",i.time="time",i.timestamp="timestamp",i.timestamptz="timestamptz",i.timetz="timetz",i.tsrange="tsrange",i.tstzrange="tstzrange"})(Ii||(Ii={}));const O5=(i,e,t={})=>{var n;const r=(n=t.skipTypes)!==null&&n!==void 0?n:[];return Object.keys(e).reduce((a,s)=>(a[s]=jV(s,i,e,r),a),{})},jV=(i,e,t,n)=>{const r=e.find(l=>l.name===i),a=r?.type,s=t[i];return a&&!n.includes(a)?Y4(a,s):nA(s)},Y4=(i,e)=>{if(i.charAt(0)==="_"){const t=i.slice(1,i.length);return qV(e,t)}switch(i){case Ii.bool:return GV(e);case Ii.float4:case Ii.float8:case Ii.int2:case Ii.int4:case Ii.int8:case Ii.numeric:case Ii.oid:return WV(e);case Ii.json:case Ii.jsonb:return XV(e);case Ii.timestamp:return YV(e);case Ii.abstime:case Ii.date:case Ii.daterange:case Ii.int4range:case Ii.int8range:case Ii.money:case Ii.reltime:case Ii.text:case Ii.time:case Ii.timestamptz:case Ii.timetz:case Ii.tsrange:case Ii.tstzrange:return nA(e);default:return nA(e)}},nA=i=>i,GV=i=>{switch(i){case"t":return!0;case"f":return!1;default:return i}},WV=i=>{if(typeof i=="string"){const e=parseFloat(i);if(!Number.isNaN(e))return e}return i},XV=i=>{if(typeof i=="string")try{return JSON.parse(i)}catch(e){return console.log(`JSON parse error: ${e}`),i}return i},qV=(i,e)=>{if(typeof i!="string")return i;const t=i.length-1,n=i[t];if(i[0]==="{"&&n==="}"){let a;const s=i.slice(1,t);try{a=JSON.parse("["+s+"]")}catch{a=s?s.split(","):[]}return a.map(l=>Y4(e,l))}return i},YV=i=>typeof i=="string"?i.replace(" ","T"):i,Z4=i=>{let e=i;return e=e.replace(/^ws/i,"http"),e=e.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),e.replace(/\/+$/,"")+"/api/broadcast"};class H2{constructor(e,t,n={},r=eA){this.channel=e,this.event=t,this.payload=n,this.timeout=r,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,t){var n;return this._hasReceived(e)&&t((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:e,callback:t}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=t=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=t,this._matchReceive(t)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,t){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:t})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:t}){this.recHooks.filter(n=>n.status===e).forEach(n=>n.callback(t))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var N5;(function(i){i.SYNC="sync",i.JOIN="join",i.LEAVE="leave"})(N5||(N5={}));class Ty{constructor(e,t){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=t?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},r=>{const{onJoin:a,onLeave:s,onSync:l}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Ty.syncState(this.state,r,a,s),this.pendingDiffs.forEach(u=>{this.state=Ty.syncDiff(this.state,u,a,s)}),this.pendingDiffs=[],l()}),this.channel._on(n.diff,{},r=>{const{onJoin:a,onLeave:s,onSync:l}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(r):(this.state=Ty.syncDiff(this.state,r,a,s),l())}),this.onJoin((r,a,s)=>{this.channel._trigger("presence",{event:"join",key:r,currentPresences:a,newPresences:s})}),this.onLeave((r,a,s)=>{this.channel._trigger("presence",{event:"leave",key:r,currentPresences:a,leftPresences:s})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,t,n,r){const a=this.cloneDeep(e),s=this.transformState(t),l={},u={};return this.map(a,(f,p)=>{s[f]||(u[f]=p)}),this.map(s,(f,p)=>{const g=a[f];if(g){const v=p.map(E=>E.presence_ref),_=g.map(E=>E.presence_ref),S=p.filter(E=>_.indexOf(E.presence_ref)<0),w=g.filter(E=>v.indexOf(E.presence_ref)<0);S.length>0&&(l[f]=S),w.length>0&&(u[f]=w)}else l[f]=p}),this.syncDiff(a,{joins:l,leaves:u},n,r)}static syncDiff(e,t,n,r){const{joins:a,leaves:s}={joins:this.transformState(t.joins),leaves:this.transformState(t.leaves)};return n||(n=()=>{}),r||(r=()=>{}),this.map(a,(l,u)=>{var f;const p=(f=e[l])!==null&&f!==void 0?f:[];if(e[l]=this.cloneDeep(u),p.length>0){const g=e[l].map(_=>_.presence_ref),v=p.filter(_=>g.indexOf(_.presence_ref)<0);e[l].unshift(...v)}n(l,p,u)}),this.map(s,(l,u)=>{let f=e[l];if(!f)return;const p=u.map(g=>g.presence_ref);f=f.filter(g=>p.indexOf(g.presence_ref)<0),e[l]=f,r(l,f,u),f.length===0&&delete e[l]}),e}static map(e,t){return Object.getOwnPropertyNames(e).map(n=>t(n,e[n]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((t,n)=>{const r=e[n];return"metas"in r?t[n]=r.metas.map(a=>(a.presence_ref=a.phx_ref,delete a.phx_ref,delete a.phx_ref_prev,a)):t[n]=r,t},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var P5;(function(i){i.ALL="*",i.INSERT="INSERT",i.UPDATE="UPDATE",i.DELETE="DELETE"})(P5||(P5={}));var Ay;(function(i){i.BROADCAST="broadcast",i.PRESENCE="presence",i.POSTGRES_CHANGES="postgres_changes",i.SYSTEM="system"})(Ay||(Ay={}));var Tu;(function(i){i.SUBSCRIBED="SUBSCRIBED",i.TIMED_OUT="TIMED_OUT",i.CLOSED="CLOSED",i.CHANNEL_ERROR="CHANNEL_ERROR"})(Tu||(Tu={}));class nR{constructor(e,t={config:{}},n){this.topic=e,this.params=t,this.socket=n,this.bindings={},this.state=jr.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},t.config),this.timeout=this.socket.timeout,this.joinPush=new H2(this,Nl.join,this.params,this.timeout),this.rejoinTimer=new q4(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=jr.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(r=>r.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=jr.closed,this.socket._remove(this)}),this._onError(r=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,r),this.state=jr.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=jr.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",r=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,r),this.state=jr.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Nl.reply,{},(r,a)=>{this._trigger(this._replyEventName(a),r)}),this.presence=new Ty(this),this.broadcastEndpointURL=Z4(this.socket.endPoint),this.private=this.params.config.private||!1}subscribe(e,t=this.timeout){var n,r,a;if(this.socket.isConnected()||this.socket.connect(),this.state==jr.closed){const{config:{broadcast:s,presence:l,private:u}}=this.params,f=(r=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(_=>_.filter))!==null&&r!==void 0?r:[],p=!!this.bindings[Ay.PRESENCE]&&this.bindings[Ay.PRESENCE].length>0||((a=this.params.config.presence)===null||a===void 0?void 0:a.enabled)===!0,g={},v={broadcast:s,presence:Object.assign(Object.assign({},l),{enabled:p}),postgres_changes:f,private:u};this.socket.accessTokenValue&&(g.access_token=this.socket.accessTokenValue),this._onError(_=>e?.(Tu.CHANNEL_ERROR,_)),this._onClose(()=>e?.(Tu.CLOSED)),this.updateJoinPayload(Object.assign({config:v},g)),this.joinedOnce=!0,this._rejoin(t),this.joinPush.receive("ok",async({postgres_changes:_})=>{var S;if(this.socket.setAuth(),_===void 0){e?.(Tu.SUBSCRIBED);return}else{const w=this.bindings.postgres_changes,E=(S=w?.length)!==null&&S!==void 0?S:0,b=[];for(let R=0;R<E;R++){const C=w[R],{filter:{event:A,schema:N,table:L,filter:B}}=C,U=_&&_[R];if(U&&U.event===A&&U.schema===N&&U.table===L&&U.filter===B)b.push(Object.assign(Object.assign({},C),{id:U.id}));else{this.unsubscribe(),this.state=jr.errored,e?.(Tu.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=b,e&&e(Tu.SUBSCRIBED);return}}).receive("error",_=>{this.state=jr.errored,e?.(Tu.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(_).join(", ")||"error")))}).receive("timeout",()=>{e?.(Tu.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,t={}){return await this.send({type:"presence",event:"track",payload:e},t.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,t,n){return this.state===jr.joined&&e===Ay.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(e,t,n)}async send(e,t={}){var n,r;if(!this._canPush()&&e.type==="broadcast"){const{event:a,payload:s}=e,u={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:a,payload:s,private:this.private}]})};try{const f=await this._fetchWithTimeout(this.broadcastEndpointURL,u,(n=t.timeout)!==null&&n!==void 0?n:this.timeout);return await((r=f.body)===null||r===void 0?void 0:r.cancel()),f.ok?"ok":"error"}catch(f){return f.name==="AbortError"?"timed out":"error"}}else return new Promise(a=>{var s,l,u;const f=this._push(e.type,e,t.timeout||this.timeout);e.type==="broadcast"&&!(!((u=(l=(s=this.params)===null||s===void 0?void 0:s.config)===null||l===void 0?void 0:l.broadcast)===null||u===void 0)&&u.ack)&&a("ok"),f.receive("ok",()=>a("ok")),f.receive("error",()=>a("error")),f.receive("timeout",()=>a("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=jr.leaving;const t=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Nl.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(r=>{n=new H2(this,Nl.leave,{},e),n.receive("ok",()=>{t(),r("ok")}).receive("timeout",()=>{t(),r("timed out")}).receive("error",()=>{r("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n?.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=jr.closed,this.bindings={}}async _fetchWithTimeout(e,t,n){const r=new AbortController,a=setTimeout(()=>r.abort(),n),s=await this.socket.fetch(e,Object.assign(Object.assign({},t),{signal:r.signal}));return clearTimeout(a),s}_push(e,t,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let r=new H2(this,e,t,n);return this._canPush()?r.send():this._addToPushBuffer(r),r}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>HV){const t=this.pushBuffer.shift();t&&(t.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${t.event}`,t.payload))}}_onMessage(e,t,n){return t}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,t,n){var r,a;const s=e.toLocaleLowerCase(),{close:l,error:u,leave:f,join:p}=Nl;if(n&&[l,u,f,p].indexOf(s)>=0&&n!==this._joinRef())return;let v=this._onMessage(s,t,n);if(t&&!v)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(s)?(r=this.bindings.postgres_changes)===null||r===void 0||r.filter(_=>{var S,w,E;return((S=_.filter)===null||S===void 0?void 0:S.event)==="*"||((E=(w=_.filter)===null||w===void 0?void 0:w.event)===null||E===void 0?void 0:E.toLocaleLowerCase())===s}).map(_=>_.callback(v,n)):(a=this.bindings[s])===null||a===void 0||a.filter(_=>{var S,w,E,b,R,C;if(["broadcast","presence","postgres_changes"].includes(s))if("id"in _){const A=_.id,N=(S=_.filter)===null||S===void 0?void 0:S.event;return A&&((w=t.ids)===null||w===void 0?void 0:w.includes(A))&&(N==="*"||N?.toLocaleLowerCase()===((E=t.data)===null||E===void 0?void 0:E.type.toLocaleLowerCase()))}else{const A=(R=(b=_?.filter)===null||b===void 0?void 0:b.event)===null||R===void 0?void 0:R.toLocaleLowerCase();return A==="*"||A===((C=t?.event)===null||C===void 0?void 0:C.toLocaleLowerCase())}else return _.type.toLocaleLowerCase()===s}).map(_=>{if(typeof v=="object"&&"ids"in v){const S=v.data,{schema:w,table:E,commit_timestamp:b,type:R,errors:C}=S;v=Object.assign(Object.assign({},{schema:w,table:E,commit_timestamp:b,eventType:R,new:{},old:{},errors:C}),this._getPayloadRecords(S))}_.callback(v,n)})}_isClosed(){return this.state===jr.closed}_isJoined(){return this.state===jr.joined}_isJoining(){return this.state===jr.joining}_isLeaving(){return this.state===jr.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,t,n){const r=e.toLocaleLowerCase(),a={type:r,filter:t,callback:n};return this.bindings[r]?this.bindings[r].push(a):this.bindings[r]=[a],this}_off(e,t){const n=e.toLocaleLowerCase();return this.bindings[n]&&(this.bindings[n]=this.bindings[n].filter(r=>{var a;return!(((a=r.type)===null||a===void 0?void 0:a.toLocaleLowerCase())===n&&nR.isEqual(r.filter,t))})),this}static isEqual(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(e[n]!==t[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(Nl.close,{},e)}_onError(e){this._on(Nl.error,{},t=>e(t))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=jr.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const t={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(t.new=O5(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(t.old=O5(e.columns,e.old_record)),t}}const V2=()=>{},W1={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},ZV=[1e3,2e3,5e3,1e4],KV=1e4,$V=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class JV{constructor(e,t){var n;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=eA,this.transport=null,this.heartbeatIntervalMs=W1.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=V2,this.ref=0,this.reconnectTimer=null,this.logger=V2,this.conn=null,this.sendBuffer=[],this.serializer=new VV,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=r=>{let a;return r?a=r:typeof fetch>"u"?a=(...s)=>j_(async()=>{const{default:l}=await Promise.resolve().then(()=>bg);return{default:l}},void 0).then(({default:l})=>l(...s)).catch(l=>{throw new Error(`Failed to load @supabase/node-fetch: ${l.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):a=fetch,(...s)=>a(...s)},!(!((n=t?.params)===null||n===void 0)&&n.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=t.params.apikey,this.endPoint=`${e}/${tA.websocket}`,this.httpEndpoint=Z4(e),this._initializeOptions(t),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(t?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=IV.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const t=e.message;throw t.includes("Node.js")?new Error(`${t}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${t}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:kV}))}disconnect(e,t){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const n=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(n),this._setConnectionState("disconnected")},e?this.conn.close(e,t??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const t=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),t}async removeAllChannels(){const e=await Promise.all(this.channels.map(t=>t.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,t,n){this.logger(e,t,n)}connectionState(){switch(this.conn&&this.conn.readyState){case My.connecting:return Yd.Connecting;case My.open:return Yd.Open;case My.closing:return Yd.Closing;default:return Yd.Closed}}isConnected(){return this.connectionState()===Yd.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,t={config:{}}){const n=`realtime:${e}`,r=this.getChannels().find(a=>a.topic===n);if(r)return r;{const a=new nR(`realtime:${e}`,t,this);return this.channels.push(a),a}}push(e){const{topic:t,event:n,payload:r,ref:a}=e,s=()=>{this.encode(e,l=>{var u;(u=this.conn)===null||u===void 0||u.send(l)})};this.log("push",`${t} ${n} (${a})`,r),this.isConnected()?s():this.sendBuffer.push(s)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(t){this.log("error","error in heartbeat callback",t)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(t){this.log("error","error in heartbeat callback",t)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(FV,"heartbeat timeout"),setTimeout(()=>{var t;this.isConnected()||(t=this.reconnectTimer)===null||t===void 0||t.scheduleTimeout()},W1.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(t){this.log("error","error in heartbeat callback",t)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let t=this.channels.find(n=>n.topic===e&&(n._isJoined()||n._isJoining()));t&&(this.log("transport",`leaving duplicate topic "${e}"`),t.unsubscribe())}_remove(e){this.channels=this.channels.filter(t=>t.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,t=>{if(t.topic==="phoenix"&&t.event==="phx_reply")try{this.heartbeatCallback(t.payload.status==="ok"?"ok":"error")}catch(f){this.log("error","error in heartbeat callback",f)}t.ref&&t.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:n,event:r,payload:a,ref:s}=t,l=s?`(${s})`:"",u=a.status||"";this.log("receive",`${u} ${n} ${r} ${l}`.trim(),a),this.channels.filter(f=>f._isMember(n)).forEach(f=>f._trigger(r,a,s)),this._triggerStateCallbacks("message",t)})}_clearTimer(e){var t;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((t=this.reconnectTimer)===null||t===void 0||t.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=t=>{this.log("worker","worker error",t.message),this.workerRef.terminate()},this.workerRef.onmessage=t=>{t.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){var t;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(t=this.reconnectTimer)===null||t===void 0||t.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(Nl.error))}_appendParams(e,t){if(Object.keys(t).length===0)return e;const n=e.match(/\?/)?"&":"?",r=new URLSearchParams(t);return`${e}${n}${r}`}_workerObjectUrl(e){let t;if(e)t=e;else{const n=new Blob([$V],{type:"application/javascript"});t=URL.createObjectURL(n)}return t}_setConnectionState(e,t=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=t)}async _performAuth(e=null){let t;e?t=e:this.accessToken?t=await this.accessToken():t=this.accessTokenValue,this.accessTokenValue!=t&&(this.accessTokenValue=t,this.channels.forEach(n=>{const r={access_token:t,version:zV};t&&n.updateJoinPayload(r),n.joinedOnce&&n._isJoined()&&n._push(Nl.access_token,{access_token:t})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this.setAuth().catch(t=>{this.log("error",`error setting auth in ${e}`,t)})}_triggerStateCallbacks(e,t){try{this.stateChangeCallbacks[e].forEach(n=>{try{n(t)}catch(r){this.log("error",`error in ${e} callback`,r)}})}catch(n){this.log("error",`error triggering ${e} callbacks`,n)}}_setupReconnectionTimer(){this.reconnectTimer=new q4(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},W1.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var t,n,r,a,s,l,u,f,p;if(this.transport=(t=e?.transport)!==null&&t!==void 0?t:null,this.timeout=(n=e?.timeout)!==null&&n!==void 0?n:eA,this.heartbeatIntervalMs=(r=e?.heartbeatIntervalMs)!==null&&r!==void 0?r:W1.HEARTBEAT_INTERVAL,this.worker=(a=e?.worker)!==null&&a!==void 0?a:!1,this.accessToken=(s=e?.accessToken)!==null&&s!==void 0?s:null,this.heartbeatCallback=(l=e?.heartbeatCallback)!==null&&l!==void 0?l:V2,e?.params&&(this.params=e.params),e?.logger&&(this.logger=e.logger),(e?.logLevel||e?.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(u=e?.reconnectAfterMs)!==null&&u!==void 0?u:(g=>ZV[g-1]||KV),this.encode=(f=e?.encode)!==null&&f!==void 0?f:((g,v)=>v(JSON.stringify(g))),this.decode=(p=e?.decode)!==null&&p!==void 0?p:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e?.workerUrl}}}class iR extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function Wr(i){return typeof i=="object"&&i!==null&&"__isStorageError"in i}class QV extends iR{constructor(e,t,n){super(e),this.name="StorageApiError",this.status=t,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class iA extends iR{constructor(e,t){super(e),this.name="StorageUnknownError",this.originalError=t}}var e9=function(i,e,t,n){function r(a){return a instanceof t?a:new t(function(s){s(a)})}return new(t||(t=Promise))(function(a,s){function l(p){try{f(n.next(p))}catch(g){s(g)}}function u(p){try{f(n.throw(p))}catch(g){s(g)}}function f(p){p.done?a(p.value):r(p.value).then(l,u)}f((n=n.apply(i,e||[])).next())})};const K4=i=>{let e;return i?e=i:typeof fetch>"u"?e=(...t)=>j_(async()=>{const{default:n}=await Promise.resolve().then(()=>bg);return{default:n}},void 0).then(({default:n})=>n(...t)):e=fetch,(...t)=>e(...t)},t9=()=>e9(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield j_(()=>Promise.resolve().then(()=>bg),void 0)).Response:Response}),rA=i=>{if(Array.isArray(i))return i.map(t=>rA(t));if(typeof i=="function"||i!==Object(i))return i;const e={};return Object.entries(i).forEach(([t,n])=>{const r=t.replace(/([-_][a-z])/gi,a=>a.toUpperCase().replace(/[-_]/g,""));e[r]=rA(n)}),e},n9=i=>{if(typeof i!="object"||i===null)return!1;const e=Object.getPrototypeOf(i);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in i)&&!(Symbol.iterator in i)};var Rp=function(i,e,t,n){function r(a){return a instanceof t?a:new t(function(s){s(a)})}return new(t||(t=Promise))(function(a,s){function l(p){try{f(n.next(p))}catch(g){s(g)}}function u(p){try{f(n.throw(p))}catch(g){s(g)}}function f(p){p.done?a(p.value):r(p.value).then(l,u)}f((n=n.apply(i,e||[])).next())})};const j2=i=>i.msg||i.message||i.error_description||i.error||JSON.stringify(i),i9=(i,e,t)=>Rp(void 0,void 0,void 0,function*(){const n=yield t9();i instanceof n&&!t?.noResolveJson?i.json().then(r=>{const a=i.status||500,s=r?.statusCode||a+"";e(new QV(j2(r),a,s))}).catch(r=>{e(new iA(j2(r),r))}):e(new iA(j2(i),i))}),r9=(i,e,t,n)=>{const r={method:i,headers:e?.headers||{}};return i==="GET"||!n?r:(n9(n)?(r.headers=Object.assign({"Content-Type":"application/json"},e?.headers),r.body=JSON.stringify(n)):r.body=n,e?.duplex&&(r.duplex=e.duplex),Object.assign(Object.assign({},r),t))};function G_(i,e,t,n,r,a){return Rp(this,void 0,void 0,function*(){return new Promise((s,l)=>{i(t,r9(e,n,r,a)).then(u=>{if(!u.ok)throw u;return n?.noResolveJson?u:u.json()}).then(u=>s(u)).catch(u=>i9(u,l,n))})})}function PS(i,e,t,n){return Rp(this,void 0,void 0,function*(){return G_(i,"GET",e,t,n)})}function wc(i,e,t,n,r){return Rp(this,void 0,void 0,function*(){return G_(i,"POST",e,n,r,t)})}function aA(i,e,t,n,r){return Rp(this,void 0,void 0,function*(){return G_(i,"PUT",e,n,r,t)})}function a9(i,e,t,n){return Rp(this,void 0,void 0,function*(){return G_(i,"HEAD",e,Object.assign(Object.assign({},t),{noResolveJson:!0}),n)})}function $4(i,e,t,n,r){return Rp(this,void 0,void 0,function*(){return G_(i,"DELETE",e,n,r,t)})}var rs=function(i,e,t,n){function r(a){return a instanceof t?a:new t(function(s){s(a)})}return new(t||(t=Promise))(function(a,s){function l(p){try{f(n.next(p))}catch(g){s(g)}}function u(p){try{f(n.throw(p))}catch(g){s(g)}}function f(p){p.done?a(p.value):r(p.value).then(l,u)}f((n=n.apply(i,e||[])).next())})};const s9={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},L5={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class o9{constructor(e,t={},n,r){this.url=e,this.headers=t,this.bucketId=n,this.fetch=K4(r)}uploadOrUpdate(e,t,n,r){return rs(this,void 0,void 0,function*(){try{let a;const s=Object.assign(Object.assign({},L5),r);let l=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(s.upsert)});const u=s.metadata;typeof Blob<"u"&&n instanceof Blob?(a=new FormData,a.append("cacheControl",s.cacheControl),u&&a.append("metadata",this.encodeMetadata(u)),a.append("",n)):typeof FormData<"u"&&n instanceof FormData?(a=n,a.append("cacheControl",s.cacheControl),u&&a.append("metadata",this.encodeMetadata(u))):(a=n,l["cache-control"]=`max-age=${s.cacheControl}`,l["content-type"]=s.contentType,u&&(l["x-metadata"]=this.toBase64(this.encodeMetadata(u)))),r?.headers&&(l=Object.assign(Object.assign({},l),r.headers));const f=this._removeEmptyFolders(t),p=this._getFinalPath(f),g=yield(e=="PUT"?aA:wc)(this.fetch,`${this.url}/object/${p}`,a,Object.assign({headers:l},s?.duplex?{duplex:s.duplex}:{}));return{data:{path:f,id:g.Id,fullPath:g.Key},error:null}}catch(a){if(Wr(a))return{data:null,error:a};throw a}})}upload(e,t,n){return rs(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,t,n)})}uploadToSignedUrl(e,t,n,r){return rs(this,void 0,void 0,function*(){const a=this._removeEmptyFolders(e),s=this._getFinalPath(a),l=new URL(this.url+`/object/upload/sign/${s}`);l.searchParams.set("token",t);try{let u;const f=Object.assign({upsert:L5.upsert},r),p=Object.assign(Object.assign({},this.headers),{"x-upsert":String(f.upsert)});typeof Blob<"u"&&n instanceof Blob?(u=new FormData,u.append("cacheControl",f.cacheControl),u.append("",n)):typeof FormData<"u"&&n instanceof FormData?(u=n,u.append("cacheControl",f.cacheControl)):(u=n,p["cache-control"]=`max-age=${f.cacheControl}`,p["content-type"]=f.contentType);const g=yield aA(this.fetch,l.toString(),u,{headers:p});return{data:{path:a,fullPath:g.Key},error:null}}catch(u){if(Wr(u))return{data:null,error:u};throw u}})}createSignedUploadUrl(e,t){return rs(this,void 0,void 0,function*(){try{let n=this._getFinalPath(e);const r=Object.assign({},this.headers);t?.upsert&&(r["x-upsert"]="true");const a=yield wc(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:r}),s=new URL(this.url+a.url),l=s.searchParams.get("token");if(!l)throw new iR("No token returned by API");return{data:{signedUrl:s.toString(),path:e,token:l},error:null}}catch(n){if(Wr(n))return{data:null,error:n};throw n}})}update(e,t,n){return rs(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,t,n)})}move(e,t,n){return rs(this,void 0,void 0,function*(){try{return{data:yield wc(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:t,destinationBucket:n?.destinationBucket},{headers:this.headers}),error:null}}catch(r){if(Wr(r))return{data:null,error:r};throw r}})}copy(e,t,n){return rs(this,void 0,void 0,function*(){try{return{data:{path:(yield wc(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:t,destinationBucket:n?.destinationBucket},{headers:this.headers})).Key},error:null}}catch(r){if(Wr(r))return{data:null,error:r};throw r}})}createSignedUrl(e,t,n){return rs(this,void 0,void 0,function*(){try{let r=this._getFinalPath(e),a=yield wc(this.fetch,`${this.url}/object/sign/${r}`,Object.assign({expiresIn:t},n?.transform?{transform:n.transform}:{}),{headers:this.headers});const s=n?.download?`&download=${n.download===!0?"":n.download}`:"";return a={signedUrl:encodeURI(`${this.url}${a.signedURL}${s}`)},{data:a,error:null}}catch(r){if(Wr(r))return{data:null,error:r};throw r}})}createSignedUrls(e,t,n){return rs(this,void 0,void 0,function*(){try{const r=yield wc(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:t,paths:e},{headers:this.headers}),a=n?.download?`&download=${n.download===!0?"":n.download}`:"";return{data:r.map(s=>Object.assign(Object.assign({},s),{signedUrl:s.signedURL?encodeURI(`${this.url}${s.signedURL}${a}`):null})),error:null}}catch(r){if(Wr(r))return{data:null,error:r};throw r}})}download(e,t){return rs(this,void 0,void 0,function*(){const r=typeof t?.transform<"u"?"render/image/authenticated":"object",a=this.transformOptsToQueryString(t?.transform||{}),s=a?`?${a}`:"";try{const l=this._getFinalPath(e);return{data:yield(yield PS(this.fetch,`${this.url}/${r}/${l}${s}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(l){if(Wr(l))return{data:null,error:l};throw l}})}info(e){return rs(this,void 0,void 0,function*(){const t=this._getFinalPath(e);try{const n=yield PS(this.fetch,`${this.url}/object/info/${t}`,{headers:this.headers});return{data:rA(n),error:null}}catch(n){if(Wr(n))return{data:null,error:n};throw n}})}exists(e){return rs(this,void 0,void 0,function*(){const t=this._getFinalPath(e);try{return yield a9(this.fetch,`${this.url}/object/${t}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(Wr(n)&&n instanceof iA){const r=n.originalError;if([400,404].includes(r?.status))return{data:!1,error:n}}throw n}})}getPublicUrl(e,t){const n=this._getFinalPath(e),r=[],a=t?.download?`download=${t.download===!0?"":t.download}`:"";a!==""&&r.push(a);const l=typeof t?.transform<"u"?"render/image":"object",u=this.transformOptsToQueryString(t?.transform||{});u!==""&&r.push(u);let f=r.join("&");return f!==""&&(f=`?${f}`),{data:{publicUrl:encodeURI(`${this.url}/${l}/public/${n}${f}`)}}}remove(e){return rs(this,void 0,void 0,function*(){try{return{data:yield $4(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(t){if(Wr(t))return{data:null,error:t};throw t}})}list(e,t,n){return rs(this,void 0,void 0,function*(){try{const r=Object.assign(Object.assign(Object.assign({},s9),t),{prefix:e||""});return{data:yield wc(this.fetch,`${this.url}/object/list/${this.bucketId}`,r,{headers:this.headers},n),error:null}}catch(r){if(Wr(r))return{data:null,error:r};throw r}})}listV2(e,t){return rs(this,void 0,void 0,function*(){try{const n=Object.assign({},e);return{data:yield wc(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,n,{headers:this.headers},t),error:null}}catch(n){if(Wr(n))return{data:null,error:n};throw n}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const t=[];return e.width&&t.push(`width=${e.width}`),e.height&&t.push(`height=${e.height}`),e.resize&&t.push(`resize=${e.resize}`),e.format&&t.push(`format=${e.format}`),e.quality&&t.push(`quality=${e.quality}`),t.join("&")}}const l9="2.11.0",c9={"X-Client-Info":`storage-js/${l9}`};var Fm=function(i,e,t,n){function r(a){return a instanceof t?a:new t(function(s){s(a)})}return new(t||(t=Promise))(function(a,s){function l(p){try{f(n.next(p))}catch(g){s(g)}}function u(p){try{f(n.throw(p))}catch(g){s(g)}}function f(p){p.done?a(p.value):r(p.value).then(l,u)}f((n=n.apply(i,e||[])).next())})};class u9{constructor(e,t={},n,r){const a=new URL(e);r?.useNewHostname&&/supabase\.(co|in|red)$/.test(a.hostname)&&!a.hostname.includes("storage.supabase.")&&(a.hostname=a.hostname.replace("supabase.","storage.supabase.")),this.url=a.href,this.headers=Object.assign(Object.assign({},c9),t),this.fetch=K4(n)}listBuckets(){return Fm(this,void 0,void 0,function*(){try{return{data:yield PS(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(Wr(e))return{data:null,error:e};throw e}})}getBucket(e){return Fm(this,void 0,void 0,function*(){try{return{data:yield PS(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(t){if(Wr(t))return{data:null,error:t};throw t}})}createBucket(e,t={public:!1}){return Fm(this,void 0,void 0,function*(){try{return{data:yield wc(this.fetch,`${this.url}/bucket`,{id:e,name:e,type:t.type,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(Wr(n))return{data:null,error:n};throw n}})}updateBucket(e,t){return Fm(this,void 0,void 0,function*(){try{return{data:yield aA(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(Wr(n))return{data:null,error:n};throw n}})}emptyBucket(e){return Fm(this,void 0,void 0,function*(){try{return{data:yield wc(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(t){if(Wr(t))return{data:null,error:t};throw t}})}deleteBucket(e){return Fm(this,void 0,void 0,function*(){try{return{data:yield $4(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(t){if(Wr(t))return{data:null,error:t};throw t}})}}class f9 extends u9{constructor(e,t={},n,r){super(e,t,n,r)}from(e){return new o9(this.url,this.headers,e,this.fetch)}}const h9="2.57.2";let hy="";typeof Deno<"u"?hy="deno":typeof document<"u"?hy="web":typeof navigator<"u"&&navigator.product==="ReactNative"?hy="react-native":hy="node";const d9={"X-Client-Info":`supabase-js-${hy}/${h9}`},p9={headers:d9},m9={schema:"public"},g9={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},v9={};var y9=function(i,e,t,n){function r(a){return a instanceof t?a:new t(function(s){s(a)})}return new(t||(t=Promise))(function(a,s){function l(p){try{f(n.next(p))}catch(g){s(g)}}function u(p){try{f(n.throw(p))}catch(g){s(g)}}function f(p){p.done?a(p.value):r(p.value).then(l,u)}f((n=n.apply(i,e||[])).next())})};const _9=i=>{let e;return i?e=i:typeof fetch>"u"?e=H4:e=fetch,(...t)=>e(...t)},x9=()=>typeof Headers>"u"?V4:Headers,b9=(i,e,t)=>{const n=_9(t),r=x9();return(a,s)=>y9(void 0,void 0,void 0,function*(){var l;const u=(l=yield e())!==null&&l!==void 0?l:i;let f=new r(s?.headers);return f.has("apikey")||f.set("apikey",i),f.has("Authorization")||f.set("Authorization",`Bearer ${u}`),n(a,Object.assign(Object.assign({},s),{headers:f}))})};var S9=function(i,e,t,n){function r(a){return a instanceof t?a:new t(function(s){s(a)})}return new(t||(t=Promise))(function(a,s){function l(p){try{f(n.next(p))}catch(g){s(g)}}function u(p){try{f(n.throw(p))}catch(g){s(g)}}function f(p){p.done?a(p.value):r(p.value).then(l,u)}f((n=n.apply(i,e||[])).next())})};function w9(i){return i.endsWith("/")?i:i+"/"}function E9(i,e){var t,n;const{db:r,auth:a,realtime:s,global:l}=i,{db:u,auth:f,realtime:p,global:g}=e,v={db:Object.assign(Object.assign({},u),r),auth:Object.assign(Object.assign({},f),a),realtime:Object.assign(Object.assign({},p),s),storage:{},global:Object.assign(Object.assign(Object.assign({},g),l),{headers:Object.assign(Object.assign({},(t=g?.headers)!==null&&t!==void 0?t:{}),(n=l?.headers)!==null&&n!==void 0?n:{})}),accessToken:()=>S9(this,void 0,void 0,function*(){return""})};return i.accessToken?v.accessToken=i.accessToken:delete v.accessToken,v}const J4="2.71.1",_0=30*1e3,sA=3,G2=sA*_0,M9="http://localhost:9999",T9="supabase.auth.token",A9={"X-Client-Info":`gotrue-js/${J4}`},oA="X-Supabase-Api-Version",Q4={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},C9=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,R9=600*1e3;class rR extends Error{constructor(e,t,n){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=t,this.code=n}}function Rn(i){return typeof i=="object"&&i!==null&&"__isAuthError"in i}class D9 extends rR{constructor(e,t,n){super(e,t,n),this.name="AuthApiError",this.status=t,this.code=n}}function O9(i){return Rn(i)&&i.name==="AuthApiError"}class eU extends rR{constructor(e,t){super(e),this.name="AuthUnknownError",this.originalError=t}}class Eh extends rR{constructor(e,t,n,r){super(e,n,r),this.name=t,this.status=n}}class Zf extends Eh{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function N9(i){return Rn(i)&&i.name==="AuthSessionMissingError"}class X1 extends Eh{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class q1 extends Eh{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class Y1 extends Eh{constructor(e,t=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function P9(i){return Rn(i)&&i.name==="AuthImplicitGrantRedirectError"}class U5 extends Eh{constructor(e,t=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class lA extends Eh{constructor(e,t){super(e,"AuthRetryableFetchError",t,void 0)}}function W2(i){return Rn(i)&&i.name==="AuthRetryableFetchError"}class I5 extends Eh{constructor(e,t,n){super(e,"AuthWeakPasswordError",t,"weak_password"),this.reasons=n}}class cA extends Eh{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const LS="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),B5=` 	
\r=`.split(""),L9=(()=>{const i=new Array(128);for(let e=0;e<i.length;e+=1)i[e]=-1;for(let e=0;e<B5.length;e+=1)i[B5[e].charCodeAt(0)]=-2;for(let e=0;e<LS.length;e+=1)i[LS[e].charCodeAt(0)]=e;return i})();function z5(i,e,t){if(i!==null)for(e.queue=e.queue<<8|i,e.queuedBits+=8;e.queuedBits>=6;){const n=e.queue>>e.queuedBits-6&63;t(LS[n]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const n=e.queue>>e.queuedBits-6&63;t(LS[n]),e.queuedBits-=6}}function tU(i,e,t){const n=L9[i];if(n>-1)for(e.queue=e.queue<<6|n,e.queuedBits+=6;e.queuedBits>=8;)t(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(i)}"`)}}function k5(i){const e=[],t=s=>{e.push(String.fromCodePoint(s))},n={utf8seq:0,codepoint:0},r={queue:0,queuedBits:0},a=s=>{B9(s,n,t)};for(let s=0;s<i.length;s+=1)tU(i.charCodeAt(s),r,a);return e.join("")}function U9(i,e){if(i<=127){e(i);return}else if(i<=2047){e(192|i>>6),e(128|i&63);return}else if(i<=65535){e(224|i>>12),e(128|i>>6&63),e(128|i&63);return}else if(i<=1114111){e(240|i>>18),e(128|i>>12&63),e(128|i>>6&63),e(128|i&63);return}throw new Error(`Unrecognized Unicode codepoint: ${i.toString(16)}`)}function I9(i,e){for(let t=0;t<i.length;t+=1){let n=i.charCodeAt(t);if(n>55295&&n<=56319){const r=(n-55296)*1024&65535;n=(i.charCodeAt(t+1)-56320&65535|r)+65536,t+=1}U9(n,e)}}function B9(i,e,t){if(e.utf8seq===0){if(i<=127){t(i);return}for(let n=1;n<6;n+=1)if((i>>7-n&1)===0){e.utf8seq=n;break}if(e.utf8seq===2)e.codepoint=i&31;else if(e.utf8seq===3)e.codepoint=i&15;else if(e.utf8seq===4)e.codepoint=i&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(i<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|i&63,e.utf8seq-=1,e.utf8seq===0&&t(e.codepoint)}}function z9(i){const e=[],t={queue:0,queuedBits:0},n=r=>{e.push(r)};for(let r=0;r<i.length;r+=1)tU(i.charCodeAt(r),t,n);return new Uint8Array(e)}function k9(i){const e=[];return I9(i,t=>e.push(t)),new Uint8Array(e)}function F9(i){const e=[],t={queue:0,queuedBits:0},n=r=>{e.push(r)};return i.forEach(r=>z5(r,t,n)),z5(null,t,n),e.join("")}function H9(i){return Math.round(Date.now()/1e3)+i}function V9(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(i){const e=Math.random()*16|0;return(i=="x"?e:e&3|8).toString(16)})}const Cl=()=>typeof window<"u"&&typeof document<"u",Sd={tested:!1,writable:!1},nU=()=>{if(!Cl())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Sd.tested)return Sd.writable;const i=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(i,i),globalThis.localStorage.removeItem(i),Sd.tested=!0,Sd.writable=!0}catch{Sd.tested=!0,Sd.writable=!1}return Sd.writable};function j9(i){const e={},t=new URL(i);if(t.hash&&t.hash[0]==="#")try{new URLSearchParams(t.hash.substring(1)).forEach((r,a)=>{e[a]=r})}catch{}return t.searchParams.forEach((n,r)=>{e[r]=n}),e}const iU=i=>{let e;return i?e=i:typeof fetch>"u"?e=(...t)=>j_(async()=>{const{default:n}=await Promise.resolve().then(()=>bg);return{default:n}},void 0).then(({default:n})=>n(...t)):e=fetch,(...t)=>e(...t)},G9=i=>typeof i=="object"&&i!==null&&"status"in i&&"ok"in i&&"json"in i&&typeof i.json=="function",x0=async(i,e,t)=>{await i.setItem(e,JSON.stringify(t))},wd=async(i,e)=>{const t=await i.getItem(e);if(!t)return null;try{return JSON.parse(t)}catch{return t}},Ff=async(i,e)=>{await i.removeItem(e)};class Qw{constructor(){this.promise=new Qw.promiseConstructor((e,t)=>{this.resolve=e,this.reject=t})}}Qw.promiseConstructor=Promise;function X2(i){const e=i.split(".");if(e.length!==3)throw new cA("Invalid JWT structure");for(let n=0;n<e.length;n++)if(!C9.test(e[n]))throw new cA("JWT not in base64url format");return{header:JSON.parse(k5(e[0])),payload:JSON.parse(k5(e[1])),signature:z9(e[2]),raw:{header:e[0],payload:e[1]}}}async function W9(i){return await new Promise(e=>{setTimeout(()=>e(null),i)})}function X9(i,e){return new Promise((n,r)=>{(async()=>{for(let a=0;a<1/0;a++)try{const s=await i(a);if(!e(a,null,s)){n(s);return}}catch(s){if(!e(a,s)){r(s);return}}})()})}function q9(i){return("0"+i.toString(16)).substr(-2)}function Y9(){const e=new Uint32Array(56);if(typeof crypto>"u"){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=t.length;let r="";for(let a=0;a<56;a++)r+=t.charAt(Math.floor(Math.random()*n));return r}return crypto.getRandomValues(e),Array.from(e,q9).join("")}async function Z9(i){const t=new TextEncoder().encode(i),n=await crypto.subtle.digest("SHA-256",t),r=new Uint8Array(n);return Array.from(r).map(a=>String.fromCharCode(a)).join("")}async function K9(i){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),i;const t=await Z9(i);return btoa(t).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Hm(i,e,t=!1){const n=Y9();let r=n;t&&(r+="/PASSWORD_RECOVERY"),await x0(i,`${e}-code-verifier`,r);const a=await K9(n);return[a,n===a?"plain":"s256"]}const $9=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function J9(i){const e=i.headers.get(oA);if(!e||!e.match($9))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function Q9(i){if(!i)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(i<=e)throw new Error("JWT has expired")}function e7(i){switch(i){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const t7=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Vm(i){if(!t7.test(i))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function q2(){const i={};return new Proxy(i,{get:(e,t)=>{if(t==="__isUserNotAvailableProxy")return!0;if(typeof t=="symbol"){const n=t.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${t}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,t)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${t}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,t)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${t}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function F5(i){return JSON.parse(JSON.stringify(i))}var n7=function(i,e){var t={};for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&e.indexOf(n)<0&&(t[n]=i[n]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,n=Object.getOwnPropertySymbols(i);r<n.length;r++)e.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(i,n[r])&&(t[n[r]]=i[n[r]]);return t};const Hd=i=>i.msg||i.message||i.error_description||i.error||JSON.stringify(i),i7=[502,503,504];async function H5(i){var e;if(!G9(i))throw new lA(Hd(i),0);if(i7.includes(i.status))throw new lA(Hd(i),i.status);let t;try{t=await i.json()}catch(a){throw new eU(Hd(a),a)}let n;const r=J9(i);if(r&&r.getTime()>=Q4["2024-01-01"].timestamp&&typeof t=="object"&&t&&typeof t.code=="string"?n=t.code:typeof t=="object"&&t&&typeof t.error_code=="string"&&(n=t.error_code),n){if(n==="weak_password")throw new I5(Hd(t),i.status,((e=t.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(n==="session_not_found")throw new Zf}else if(typeof t=="object"&&t&&typeof t.weak_password=="object"&&t.weak_password&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.reasons.reduce((a,s)=>a&&typeof s=="string",!0))throw new I5(Hd(t),i.status,t.weak_password.reasons);throw new D9(Hd(t),i.status||500,n)}const r7=(i,e,t,n)=>{const r={method:i,headers:e?.headers||{}};return i==="GET"?r:(r.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e?.headers),r.body=JSON.stringify(n),Object.assign(Object.assign({},r),t))};async function Xn(i,e,t,n){var r;const a=Object.assign({},n?.headers);a[oA]||(a[oA]=Q4["2024-01-01"].name),n?.jwt&&(a.Authorization=`Bearer ${n.jwt}`);const s=(r=n?.query)!==null&&r!==void 0?r:{};n?.redirectTo&&(s.redirect_to=n.redirectTo);const l=Object.keys(s).length?"?"+new URLSearchParams(s).toString():"",u=await a7(i,e,t+l,{headers:a,noResolveJson:n?.noResolveJson},{},n?.body);return n?.xform?n?.xform(u):{data:Object.assign({},u),error:null}}async function a7(i,e,t,n,r,a){const s=r7(e,n,r,a);let l;try{l=await i(t,Object.assign({},s))}catch(u){throw console.error(u),new lA(Hd(u),0)}if(l.ok||await H5(l),n?.noResolveJson)return l;try{return await l.json()}catch(u){await H5(u)}}function Mu(i){var e;let t=null;c7(i)&&(t=Object.assign({},i),i.expires_at||(t.expires_at=H9(i.expires_in)));const n=(e=i.user)!==null&&e!==void 0?e:i;return{data:{session:t,user:n},error:null}}function V5(i){const e=Mu(i);return!e.error&&i.weak_password&&typeof i.weak_password=="object"&&Array.isArray(i.weak_password.reasons)&&i.weak_password.reasons.length&&i.weak_password.message&&typeof i.weak_password.message=="string"&&i.weak_password.reasons.reduce((t,n)=>t&&typeof n=="string",!0)&&(e.data.weak_password=i.weak_password),e}function eh(i){var e;return{data:{user:(e=i.user)!==null&&e!==void 0?e:i},error:null}}function s7(i){return{data:i,error:null}}function o7(i){const{action_link:e,email_otp:t,hashed_token:n,redirect_to:r,verification_type:a}=i,s=n7(i,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),l={action_link:e,email_otp:t,hashed_token:n,redirect_to:r,verification_type:a},u=Object.assign({},s);return{data:{properties:l,user:u},error:null}}function l7(i){return i}function c7(i){return i.access_token&&i.refresh_token&&i.expires_in}const Y2=["global","local","others"];var u7=function(i,e){var t={};for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&e.indexOf(n)<0&&(t[n]=i[n]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,n=Object.getOwnPropertySymbols(i);r<n.length;r++)e.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(i,n[r])&&(t[n[r]]=i[n[r]]);return t};class f7{constructor({url:e="",headers:t={},fetch:n}){this.url=e,this.headers=t,this.fetch=iU(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(e,t=Y2[0]){if(Y2.indexOf(t)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Y2.join(", ")}`);try{return await Xn(this.fetch,"POST",`${this.url}/logout?scope=${t}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(n){if(Rn(n))return{data:null,error:n};throw n}}async inviteUserByEmail(e,t={}){try{return await Xn(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:t.data},headers:this.headers,redirectTo:t.redirectTo,xform:eh})}catch(n){if(Rn(n))return{data:{user:null},error:n};throw n}}async generateLink(e){try{const{options:t}=e,n=u7(e,["options"]),r=Object.assign(Object.assign({},n),t);return"newEmail"in n&&(r.new_email=n?.newEmail,delete r.newEmail),await Xn(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:r,headers:this.headers,xform:o7,redirectTo:t?.redirectTo})}catch(t){if(Rn(t))return{data:{properties:null,user:null},error:t};throw t}}async createUser(e){try{return await Xn(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:eh})}catch(t){if(Rn(t))return{data:{user:null},error:t};throw t}}async listUsers(e){var t,n,r,a,s,l,u;try{const f={nextPage:null,lastPage:0,total:0},p=await Xn(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(t=e?.page)===null||t===void 0?void 0:t.toString())!==null&&n!==void 0?n:"",per_page:(a=(r=e?.perPage)===null||r===void 0?void 0:r.toString())!==null&&a!==void 0?a:""},xform:l7});if(p.error)throw p.error;const g=await p.json(),v=(s=p.headers.get("x-total-count"))!==null&&s!==void 0?s:0,_=(u=(l=p.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&u!==void 0?u:[];return _.length>0&&(_.forEach(S=>{const w=parseInt(S.split(";")[0].split("=")[1].substring(0,1)),E=JSON.parse(S.split(";")[1].split("=")[1]);f[`${E}Page`]=w}),f.total=parseInt(v)),{data:Object.assign(Object.assign({},g),f),error:null}}catch(f){if(Rn(f))return{data:{users:[]},error:f};throw f}}async getUserById(e){Vm(e);try{return await Xn(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:eh})}catch(t){if(Rn(t))return{data:{user:null},error:t};throw t}}async updateUserById(e,t){Vm(e);try{return await Xn(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:t,headers:this.headers,xform:eh})}catch(n){if(Rn(n))return{data:{user:null},error:n};throw n}}async deleteUser(e,t=!1){Vm(e);try{return await Xn(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:t},xform:eh})}catch(n){if(Rn(n))return{data:{user:null},error:n};throw n}}async _listFactors(e){Vm(e.userId);try{const{data:t,error:n}=await Xn(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:r=>({data:{factors:r},error:null})});return{data:t,error:n}}catch(t){if(Rn(t))return{data:null,error:t};throw t}}async _deleteFactor(e){Vm(e.userId),Vm(e.id);try{return{data:await Xn(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(t){if(Rn(t))return{data:null,error:t};throw t}}}function j5(i={}){return{getItem:e=>i[e]||null,setItem:(e,t)=>{i[e]=t},removeItem:e=>{delete i[e]}}}function h7(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const jm={debug:!!(globalThis&&nU()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class rU extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class d7 extends rU{}async function p7(i,e,t){jm.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",i,e);const n=new globalThis.AbortController;return e>0&&setTimeout(()=>{n.abort(),jm.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",i)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(i,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async r=>{if(r){jm.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",i,r.name);try{return await t()}finally{jm.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",i,r.name)}}else{if(e===0)throw jm.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",i),new d7(`Acquiring an exclusive Navigator LockManager lock "${i}" immediately failed`);if(jm.debug)try{const a=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(a,null,"  "))}catch(a){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",a)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await t()}}))}h7();const m7={url:M9,storageKey:T9,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:A9,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function G5(i,e,t){return await t()}const Gm={};class s_{constructor(e){var t,n;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=s_.nextInstanceID,s_.nextInstanceID+=1,this.instanceID>0&&Cl()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const r=Object.assign(Object.assign({},m7),e);if(this.logDebugMessages=!!r.debug,typeof r.debug=="function"&&(this.logger=r.debug),this.persistSession=r.persistSession,this.storageKey=r.storageKey,this.autoRefreshToken=r.autoRefreshToken,this.admin=new f7({url:r.url,headers:r.headers,fetch:r.fetch}),this.url=r.url,this.headers=r.headers,this.fetch=iU(r.fetch),this.lock=r.lock||G5,this.detectSessionInUrl=r.detectSessionInUrl,this.flowType=r.flowType,this.hasCustomAuthorizationHeader=r.hasCustomAuthorizationHeader,r.lock?this.lock=r.lock:Cl()&&(!((t=globalThis?.navigator)===null||t===void 0)&&t.locks)?this.lock=p7:this.lock=G5,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?(r.storage?this.storage=r.storage:nU()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=j5(this.memoryStorage)),r.userStorage&&(this.userStorage=r.userStorage)):(this.memoryStorage={},this.storage=j5(this.memoryStorage)),Cl()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(a){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",a)}(n=this.broadcastChannel)===null||n===void 0||n.addEventListener("message",async a=>{this._debug("received broadcast notification from other tab or client",a),await this._notifyAllSubscribers(a.data.event,a.data.session,!1)})}this.initialize()}get jwks(){var e,t;return(t=(e=Gm[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&t!==void 0?t:{keys:[]}}set jwks(e){Gm[this.storageKey]=Object.assign(Object.assign({},Gm[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,t;return(t=(e=Gm[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&t!==void 0?t:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){Gm[this.storageKey]=Object.assign(Object.assign({},Gm[this.storageKey]),{cachedAt:e})}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${J4}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{const t=j9(window.location.href);let n="none";if(this._isImplicitGrantCallback(t)?n="implicit":await this._isPKCECallback(t)&&(n="pkce"),Cl()&&this.detectSessionInUrl&&n!=="none"){const{data:r,error:a}=await this._getSessionFromURL(t,n);if(a){if(this._debug("#_initialize()","error detecting session from URL",a),P9(a)){const u=(e=a.details)===null||e===void 0?void 0:e.code;if(u==="identity_already_exists"||u==="identity_not_found"||u==="single_identity_not_deletable")return{error:a}}return await this._removeSession(),{error:a}}const{session:s,redirectType:l}=r;return this._debug("#_initialize()","detected session in URL",s,"redirect type",l),await this._saveSession(s),setTimeout(async()=>{l==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",s):await this._notifyAllSubscribers("SIGNED_IN",s)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(t){return Rn(t)?{error:t}:{error:new eU("Unexpected error during initialization",t)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var t,n,r;try{const a=await Xn(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(t=e?.options)===null||t===void 0?void 0:t.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(r=e?.options)===null||r===void 0?void 0:r.captchaToken}},xform:Mu}),{data:s,error:l}=a;if(l||!s)return{data:{user:null,session:null},error:l};const u=s.session,f=s.user;return s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",u)),{data:{user:f,session:u},error:null}}catch(a){if(Rn(a))return{data:{user:null,session:null},error:a};throw a}}async signUp(e){var t,n,r;try{let a;if("email"in e){const{email:p,password:g,options:v}=e;let _=null,S=null;this.flowType==="pkce"&&([_,S]=await Hm(this.storage,this.storageKey)),a=await Xn(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:v?.emailRedirectTo,body:{email:p,password:g,data:(t=v?.data)!==null&&t!==void 0?t:{},gotrue_meta_security:{captcha_token:v?.captchaToken},code_challenge:_,code_challenge_method:S},xform:Mu})}else if("phone"in e){const{phone:p,password:g,options:v}=e;a=await Xn(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:p,password:g,data:(n=v?.data)!==null&&n!==void 0?n:{},channel:(r=v?.channel)!==null&&r!==void 0?r:"sms",gotrue_meta_security:{captcha_token:v?.captchaToken}},xform:Mu})}else throw new q1("You must provide either an email or phone number and a password");const{data:s,error:l}=a;if(l||!s)return{data:{user:null,session:null},error:l};const u=s.session,f=s.user;return s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",u)),{data:{user:f,session:u},error:null}}catch(a){if(Rn(a))return{data:{user:null,session:null},error:a};throw a}}async signInWithPassword(e){try{let t;if("email"in e){const{email:a,password:s,options:l}=e;t=await Xn(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:a,password:s,gotrue_meta_security:{captcha_token:l?.captchaToken}},xform:V5})}else if("phone"in e){const{phone:a,password:s,options:l}=e;t=await Xn(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:a,password:s,gotrue_meta_security:{captcha_token:l?.captchaToken}},xform:V5})}else throw new q1("You must provide either an email or phone number and a password");const{data:n,error:r}=t;return r?{data:{user:null,session:null},error:r}:!n||!n.session||!n.user?{data:{user:null,session:null},error:new X1}:(n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:r})}catch(t){if(Rn(t))return{data:{user:null,session:null},error:t};throw t}}async signInWithOAuth(e){var t,n,r,a;return await this._handleProviderSignIn(e.provider,{redirectTo:(t=e.options)===null||t===void 0?void 0:t.redirectTo,scopes:(n=e.options)===null||n===void 0?void 0:n.scopes,queryParams:(r=e.options)===null||r===void 0?void 0:r.queryParams,skipBrowserRedirect:(a=e.options)===null||a===void 0?void 0:a.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:t}=e;if(t==="solana")return await this.signInWithSolana(e);throw new Error(`@supabase/auth-js: Unsupported chain "${t}"`)}async signInWithSolana(e){var t,n,r,a,s,l,u,f,p,g,v,_;let S,w;if("message"in e)S=e.message,w=e.signature;else{const{chain:E,wallet:b,statement:R,options:C}=e;let A;if(Cl())if(typeof b=="object")A=b;else{const L=window;if("solana"in L&&typeof L.solana=="object"&&("signIn"in L.solana&&typeof L.solana.signIn=="function"||"signMessage"in L.solana&&typeof L.solana.signMessage=="function"))A=L.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof b!="object"||!C?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");A=b}const N=new URL((t=C?.url)!==null&&t!==void 0?t:window.location.href);if("signIn"in A&&A.signIn){const L=await A.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},C?.signInWithSolana),{version:"1",domain:N.host,uri:N.href}),R?{statement:R}:null));let B;if(Array.isArray(L)&&L[0]&&typeof L[0]=="object")B=L[0];else if(L&&typeof L=="object"&&"signedMessage"in L&&"signature"in L)B=L;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in B&&"signature"in B&&(typeof B.signedMessage=="string"||B.signedMessage instanceof Uint8Array)&&B.signature instanceof Uint8Array)S=typeof B.signedMessage=="string"?B.signedMessage:new TextDecoder().decode(B.signedMessage),w=B.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in A)||typeof A.signMessage!="function"||!("publicKey"in A)||typeof A!="object"||!A.publicKey||!("toBase58"in A.publicKey)||typeof A.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");S=[`${N.host} wants you to sign in with your Solana account:`,A.publicKey.toBase58(),...R?["",R,""]:[""],"Version: 1",`URI: ${N.href}`,`Issued At: ${(r=(n=C?.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&r!==void 0?r:new Date().toISOString()}`,...!((a=C?.signInWithSolana)===null||a===void 0)&&a.notBefore?[`Not Before: ${C.signInWithSolana.notBefore}`]:[],...!((s=C?.signInWithSolana)===null||s===void 0)&&s.expirationTime?[`Expiration Time: ${C.signInWithSolana.expirationTime}`]:[],...!((l=C?.signInWithSolana)===null||l===void 0)&&l.chainId?[`Chain ID: ${C.signInWithSolana.chainId}`]:[],...!((u=C?.signInWithSolana)===null||u===void 0)&&u.nonce?[`Nonce: ${C.signInWithSolana.nonce}`]:[],...!((f=C?.signInWithSolana)===null||f===void 0)&&f.requestId?[`Request ID: ${C.signInWithSolana.requestId}`]:[],...!((g=(p=C?.signInWithSolana)===null||p===void 0?void 0:p.resources)===null||g===void 0)&&g.length?["Resources",...C.signInWithSolana.resources.map(B=>`- ${B}`)]:[]].join(`
`);const L=await A.signMessage(new TextEncoder().encode(S),"utf8");if(!L||!(L instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");w=L}}try{const{data:E,error:b}=await Xn(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:S,signature:F9(w)},!((v=e.options)===null||v===void 0)&&v.captchaToken?{gotrue_meta_security:{captcha_token:(_=e.options)===null||_===void 0?void 0:_.captchaToken}}:null),xform:Mu});if(b)throw b;return!E||!E.session||!E.user?{data:{user:null,session:null},error:new X1}:(E.session&&(await this._saveSession(E.session),await this._notifyAllSubscribers("SIGNED_IN",E.session)),{data:Object.assign({},E),error:b})}catch(E){if(Rn(E))return{data:{user:null,session:null},error:E};throw E}}async _exchangeCodeForSession(e){const t=await wd(this.storage,`${this.storageKey}-code-verifier`),[n,r]=(t??"").split("/");try{const{data:a,error:s}=await Xn(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:n},xform:Mu});if(await Ff(this.storage,`${this.storageKey}-code-verifier`),s)throw s;return!a||!a.session||!a.user?{data:{user:null,session:null,redirectType:null},error:new X1}:(a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",a.session)),{data:Object.assign(Object.assign({},a),{redirectType:r??null}),error:s})}catch(a){if(Rn(a))return{data:{user:null,session:null,redirectType:null},error:a};throw a}}async signInWithIdToken(e){try{const{options:t,provider:n,token:r,access_token:a,nonce:s}=e,l=await Xn(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:r,access_token:a,nonce:s,gotrue_meta_security:{captcha_token:t?.captchaToken}},xform:Mu}),{data:u,error:f}=l;return f?{data:{user:null,session:null},error:f}:!u||!u.session||!u.user?{data:{user:null,session:null},error:new X1}:(u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("SIGNED_IN",u.session)),{data:u,error:f})}catch(t){if(Rn(t))return{data:{user:null,session:null},error:t};throw t}}async signInWithOtp(e){var t,n,r,a,s;try{if("email"in e){const{email:l,options:u}=e;let f=null,p=null;this.flowType==="pkce"&&([f,p]=await Hm(this.storage,this.storageKey));const{error:g}=await Xn(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(t=u?.data)!==null&&t!==void 0?t:{},create_user:(n=u?.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:u?.captchaToken},code_challenge:f,code_challenge_method:p},redirectTo:u?.emailRedirectTo});return{data:{user:null,session:null},error:g}}if("phone"in e){const{phone:l,options:u}=e,{data:f,error:p}=await Xn(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(r=u?.data)!==null&&r!==void 0?r:{},create_user:(a=u?.shouldCreateUser)!==null&&a!==void 0?a:!0,gotrue_meta_security:{captcha_token:u?.captchaToken},channel:(s=u?.channel)!==null&&s!==void 0?s:"sms"}});return{data:{user:null,session:null,messageId:f?.message_id},error:p}}throw new q1("You must provide either an email or phone number.")}catch(l){if(Rn(l))return{data:{user:null,session:null},error:l};throw l}}async verifyOtp(e){var t,n;try{let r,a;"options"in e&&(r=(t=e.options)===null||t===void 0?void 0:t.redirectTo,a=(n=e.options)===null||n===void 0?void 0:n.captchaToken);const{data:s,error:l}=await Xn(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:a}}),redirectTo:r,xform:Mu});if(l)throw l;if(!s)throw new Error("An error occurred on token verification.");const u=s.session,f=s.user;return u?.access_token&&(await this._saveSession(u),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",u)),{data:{user:f,session:u},error:null}}catch(r){if(Rn(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithSSO(e){var t,n,r;try{let a=null,s=null;return this.flowType==="pkce"&&([a,s]=await Hm(this.storage,this.storageKey)),await Xn(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(n=(t=e.options)===null||t===void 0?void 0:t.redirectTo)!==null&&n!==void 0?n:void 0}),!((r=e?.options)===null||r===void 0)&&r.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:a,code_challenge_method:s}),headers:this.headers,xform:s7})}catch(a){if(Rn(a))return{data:null,error:a};throw a}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:t},error:n}=e;if(n)throw n;if(!t)throw new Zf;const{error:r}=await Xn(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:t.access_token});return{data:{user:null,session:null},error:r}})}catch(e){if(Rn(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const t=`${this.url}/resend`;if("email"in e){const{email:n,type:r,options:a}=e,{error:s}=await Xn(this.fetch,"POST",t,{headers:this.headers,body:{email:n,type:r,gotrue_meta_security:{captcha_token:a?.captchaToken}},redirectTo:a?.emailRedirectTo});return{data:{user:null,session:null},error:s}}else if("phone"in e){const{phone:n,type:r,options:a}=e,{data:s,error:l}=await Xn(this.fetch,"POST",t,{headers:this.headers,body:{phone:n,type:r,gotrue_meta_security:{captcha_token:a?.captchaToken}}});return{data:{user:null,session:null,messageId:s?.message_id},error:l}}throw new q1("You must provide either an email or phone number and a type")}catch(t){if(Rn(t))return{data:{user:null,session:null},error:t};throw t}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async t=>t))}async _acquireLock(e,t){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),r=(async()=>(await n,await t()))();return this.pendingInLock.push((async()=>{try{await r}catch{}})()),r}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=t();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const r=[...this.pendingInLock];await Promise.all(r),this.pendingInLock.splice(0,r.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const t=await this.__loadSession();return await e(t)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const t=await wd(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",t),t!==null&&(this._isValidSession(t)?e=t:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const n=e.expires_at?e.expires_at*1e3-Date.now()<G2:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",e.expires_at),!n){if(this.userStorage){const s=await wd(this.userStorage,this.storageKey+"-user");s?.user?e.user=s.user:e.user=q2()}if(this.storage.isServer&&e.user){let s=this.suppressGetSessionWarning;e=new Proxy(e,{get:(u,f,p)=>(!s&&f==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),s=!0,this.suppressGetSessionWarning=!0),Reflect.get(u,f,p))})}return{data:{session:e},error:null}}const{session:r,error:a}=await this._callRefreshToken(e.refresh_token);return a?{data:{session:null},error:a}:{data:{session:r},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await Xn(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:eh}):await this._useSession(async t=>{var n,r,a;const{data:s,error:l}=t;if(l)throw l;return!(!((n=s.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Zf}:await Xn(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(a=(r=s.session)===null||r===void 0?void 0:r.access_token)!==null&&a!==void 0?a:void 0,xform:eh})})}catch(t){if(Rn(t))return N9(t)&&(await this._removeSession(),await Ff(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:t};throw t}}async updateUser(e,t={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,t))}async _updateUser(e,t={}){try{return await this._useSession(async n=>{const{data:r,error:a}=n;if(a)throw a;if(!r.session)throw new Zf;const s=r.session;let l=null,u=null;this.flowType==="pkce"&&e.email!=null&&([l,u]=await Hm(this.storage,this.storageKey));const{data:f,error:p}=await Xn(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:t?.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:l,code_challenge_method:u}),jwt:s.access_token,xform:eh});if(p)throw p;return s.user=f.user,await this._saveSession(s),await this._notifyAllSubscribers("USER_UPDATED",s),{data:{user:s.user},error:null}})}catch(n){if(Rn(n))return{data:{user:null},error:n};throw n}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new Zf;const t=Date.now()/1e3;let n=t,r=!0,a=null;const{payload:s}=X2(e.access_token);if(s.exp&&(n=s.exp,r=n<=t),r){const{session:l,error:u}=await this._callRefreshToken(e.refresh_token);if(u)return{data:{user:null,session:null},error:u};if(!l)return{data:{user:null,session:null},error:null};a=l}else{const{data:l,error:u}=await this._getUser(e.access_token);if(u)throw u;a={access_token:e.access_token,refresh_token:e.refresh_token,user:l.user,token_type:"bearer",expires_in:n-t,expires_at:n},await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)}return{data:{user:a.user,session:a},error:null}}catch(t){if(Rn(t))return{data:{session:null,user:null},error:t};throw t}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async t=>{var n;if(!e){const{data:s,error:l}=t;if(l)throw l;e=(n=s.session)!==null&&n!==void 0?n:void 0}if(!e?.refresh_token)throw new Zf;const{session:r,error:a}=await this._callRefreshToken(e.refresh_token);return a?{data:{user:null,session:null},error:a}:r?{data:{user:r.user,session:r},error:null}:{data:{user:null,session:null},error:null}})}catch(t){if(Rn(t))return{data:{user:null,session:null},error:t};throw t}}async _getSessionFromURL(e,t){try{if(!Cl())throw new Y1("No browser detected.");if(e.error||e.error_description||e.error_code)throw new Y1(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(t){case"implicit":if(this.flowType==="pkce")throw new U5("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Y1("Not a valid implicit grant flow url.");break;default:}if(t==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new U5("No code detected.");const{data:R,error:C}=await this._exchangeCodeForSession(e.code);if(C)throw C;const A=new URL(window.location.href);return A.searchParams.delete("code"),window.history.replaceState(window.history.state,"",A.toString()),{data:{session:R.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:r,access_token:a,refresh_token:s,expires_in:l,expires_at:u,token_type:f}=e;if(!a||!l||!s||!f)throw new Y1("No session defined in URL");const p=Math.round(Date.now()/1e3),g=parseInt(l);let v=p+g;u&&(v=parseInt(u));const _=v-p;_*1e3<=_0&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${_}s, should have been closer to ${g}s`);const S=v-g;p-S>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",S,v,p):p-S<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",S,v,p);const{data:w,error:E}=await this._getUser(a);if(E)throw E;const b={provider_token:n,provider_refresh_token:r,access_token:a,expires_in:g,expires_at:v,refresh_token:s,token_type:f,user:w.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:b,redirectType:e.type},error:null}}catch(n){if(Rn(n))return{data:{session:null,redirectType:null},error:n};throw n}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const t=await wd(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&t)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async t=>{var n;const{data:r,error:a}=t;if(a)return{error:a};const s=(n=r.session)===null||n===void 0?void 0:n.access_token;if(s){const{error:l}=await this.admin.signOut(s,e);if(l&&!(O9(l)&&(l.status===404||l.status===401||l.status===403)))return{error:l}}return e!=="others"&&(await this._removeSession(),await Ff(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(e){const t=V9(),n={id:t,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",t),this.stateChangeEmitters.delete(t)}};return this._debug("#onAuthStateChange()","registered callback with id",t),this.stateChangeEmitters.set(t,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(t)})))(),{data:{subscription:n}}}async _emitInitialSession(e){return await this._useSession(async t=>{var n,r;try{const{data:{session:a},error:s}=t;if(s)throw s;await((n=this.stateChangeEmitters.get(e))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",a)),this._debug("INITIAL_SESSION","callback id",e,"session",a)}catch(a){await((r=this.stateChangeEmitters.get(e))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",a),console.error(a)}})}async resetPasswordForEmail(e,t={}){let n=null,r=null;this.flowType==="pkce"&&([n,r]=await Hm(this.storage,this.storageKey,!0));try{return await Xn(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:n,code_challenge_method:r,gotrue_meta_security:{captcha_token:t.captchaToken}},headers:this.headers,redirectTo:t.redirectTo})}catch(a){if(Rn(a))return{data:null,error:a};throw a}}async getUserIdentities(){var e;try{const{data:t,error:n}=await this.getUser();if(n)throw n;return{data:{identities:(e=t.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(t){if(Rn(t))return{data:null,error:t};throw t}}async linkIdentity(e){var t;try{const{data:n,error:r}=await this._useSession(async a=>{var s,l,u,f,p;const{data:g,error:v}=a;if(v)throw v;const _=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(s=e.options)===null||s===void 0?void 0:s.redirectTo,scopes:(l=e.options)===null||l===void 0?void 0:l.scopes,queryParams:(u=e.options)===null||u===void 0?void 0:u.queryParams,skipBrowserRedirect:!0});return await Xn(this.fetch,"GET",_,{headers:this.headers,jwt:(p=(f=g.session)===null||f===void 0?void 0:f.access_token)!==null&&p!==void 0?p:void 0})});if(r)throw r;return Cl()&&!(!((t=e.options)===null||t===void 0)&&t.skipBrowserRedirect)&&window.location.assign(n?.url),{data:{provider:e.provider,url:n?.url},error:null}}catch(n){if(Rn(n))return{data:{provider:e.provider,url:null},error:n};throw n}}async unlinkIdentity(e){try{return await this._useSession(async t=>{var n,r;const{data:a,error:s}=t;if(s)throw s;return await Xn(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(r=(n=a.session)===null||n===void 0?void 0:n.access_token)!==null&&r!==void 0?r:void 0})})}catch(t){if(Rn(t))return{data:null,error:t};throw t}}async _refreshAccessToken(e){const t=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(t,"begin");try{const n=Date.now();return await X9(async r=>(r>0&&await W9(200*Math.pow(2,r-1)),this._debug(t,"refreshing attempt",r),await Xn(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:Mu})),(r,a)=>{const s=200*Math.pow(2,r);return a&&W2(a)&&Date.now()+s-n<_0})}catch(n){if(this._debug(t,"error",n),Rn(n))return{data:{session:null,user:null},error:n};throw n}finally{this._debug(t,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,t){const n=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:t.redirectTo,scopes:t.scopes,queryParams:t.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",t,"url",n),Cl()&&!t.skipBrowserRedirect&&window.location.assign(n),{data:{provider:e,url:n},error:null}}async _recoverAndRefresh(){var e,t;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const r=await wd(this.storage,this.storageKey);if(r&&this.userStorage){let s=await wd(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!s&&(s={user:r.user},await x0(this.userStorage,this.storageKey+"-user",s)),r.user=(e=s?.user)!==null&&e!==void 0?e:q2()}else if(r&&!r.user&&!r.user){const s=await wd(this.storage,this.storageKey+"-user");s&&s?.user?(r.user=s.user,await Ff(this.storage,this.storageKey+"-user"),await x0(this.storage,this.storageKey,r)):r.user=q2()}if(this._debug(n,"session from storage",r),!this._isValidSession(r)){this._debug(n,"session is not valid"),r!==null&&await this._removeSession();return}const a=((t=r.expires_at)!==null&&t!==void 0?t:1/0)*1e3-Date.now()<G2;if(this._debug(n,`session has${a?"":" not"} expired with margin of ${G2}s`),a){if(this.autoRefreshToken&&r.refresh_token){const{error:s}=await this._callRefreshToken(r.refresh_token);s&&(console.error(s),W2(s)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",s),await this._removeSession()))}}else if(r.user&&r.user.__isUserNotAvailableProxy===!0)try{const{data:s,error:l}=await this._getUser(r.access_token);!l&&s?.user?(r.user=s.user,await this._saveSession(r),await this._notifyAllSubscribers("SIGNED_IN",r)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(s){console.error("Error getting user data:",s),this._debug(n,"error getting user data, skipping SIGNED_IN notification",s)}else await this._notifyAllSubscribers("SIGNED_IN",r)}catch(r){this._debug(n,"error",r),console.error(r);return}finally{this._debug(n,"end")}}async _callRefreshToken(e){var t,n;if(!e)throw new Zf;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const r=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(r,"begin");try{this.refreshingDeferred=new Qw;const{data:a,error:s}=await this._refreshAccessToken(e);if(s)throw s;if(!a.session)throw new Zf;await this._saveSession(a.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",a.session);const l={session:a.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(a){if(this._debug(r,"error",a),Rn(a)){const s={session:null,error:a};return W2(a)||await this._removeSession(),(t=this.refreshingDeferred)===null||t===void 0||t.resolve(s),s}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(a),a}finally{this.refreshingDeferred=null,this._debug(r,"end")}}async _notifyAllSubscribers(e,t,n=!0){const r=`#_notifyAllSubscribers(${e})`;this._debug(r,"begin",t,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:e,session:t});const a=[],s=Array.from(this.stateChangeEmitters.values()).map(async l=>{try{await l.callback(e,t)}catch(u){a.push(u)}});if(await Promise.all(s),a.length>0){for(let l=0;l<a.length;l+=1)console.error(a[l]);throw a[0]}}finally{this._debug(r,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0;const t=Object.assign({},e),n=t.user&&t.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&t.user&&await x0(this.userStorage,this.storageKey+"-user",{user:t.user});const r=Object.assign({},t);delete r.user;const a=F5(r);await x0(this.storage,this.storageKey,a)}else{const r=F5(t);await x0(this.storage,this.storageKey,r)}}async _removeSession(){this._debug("#_removeSession()"),await Ff(this.storage,this.storageKey),await Ff(this.storage,this.storageKey+"-code-verifier"),await Ff(this.storage,this.storageKey+"-user"),this.userStorage&&await Ff(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&Cl()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",e)}catch(t){console.error("removing visibilitychange callback failed",t)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),_0);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async t=>{const{data:{session:n}}=t;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const r=Math.floor((n.expires_at*1e3-e)/_0);this._debug("#_autoRefreshTokenTick()",`access token expires in ${r} ticks, a tick lasts ${_0}ms, refresh threshold is ${sA} ticks`),r<=sA&&await this._callRefreshToken(n.refresh_token)})}catch(t){console.error("Auto refresh tick failed with error. This is likely a transient error.",t)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof rU)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Cl()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const t=`#_onVisibilityChanged(${e})`;this._debug(t,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(t,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,t,n){const r=[`provider=${encodeURIComponent(t)}`];if(n?.redirectTo&&r.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n?.scopes&&r.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[a,s]=await Hm(this.storage,this.storageKey),l=new URLSearchParams({code_challenge:`${encodeURIComponent(a)}`,code_challenge_method:`${encodeURIComponent(s)}`});r.push(l.toString())}if(n?.queryParams){const a=new URLSearchParams(n.queryParams);r.push(a.toString())}return n?.skipBrowserRedirect&&r.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${e}?${r.join("&")}`}async _unenroll(e){try{return await this._useSession(async t=>{var n;const{data:r,error:a}=t;return a?{data:null,error:a}:await Xn(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(n=r?.session)===null||n===void 0?void 0:n.access_token})})}catch(t){if(Rn(t))return{data:null,error:t};throw t}}async _enroll(e){try{return await this._useSession(async t=>{var n,r;const{data:a,error:s}=t;if(s)return{data:null,error:s};const l=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:{issuer:e.issuer}),{data:u,error:f}=await Xn(this.fetch,"POST",`${this.url}/factors`,{body:l,headers:this.headers,jwt:(n=a?.session)===null||n===void 0?void 0:n.access_token});return f?{data:null,error:f}:(e.factorType==="totp"&&(!((r=u?.totp)===null||r===void 0)&&r.qr_code)&&(u.totp.qr_code=`data:image/svg+xml;utf-8,${u.totp.qr_code}`),{data:u,error:null})})}catch(t){if(Rn(t))return{data:null,error:t};throw t}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async t=>{var n;const{data:r,error:a}=t;if(a)return{data:null,error:a};const{data:s,error:l}=await Xn(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:{code:e.code,challenge_id:e.challengeId},headers:this.headers,jwt:(n=r?.session)===null||n===void 0?void 0:n.access_token});return l?{data:null,error:l}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+s.expires_in},s)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",s),{data:s,error:l})})}catch(t){if(Rn(t))return{data:null,error:t};throw t}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async t=>{var n;const{data:r,error:a}=t;return a?{data:null,error:a}:await Xn(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:{channel:e.channel},headers:this.headers,jwt:(n=r?.session)===null||n===void 0?void 0:n.access_token})})}catch(t){if(Rn(t))return{data:null,error:t};throw t}})}async _challengeAndVerify(e){const{data:t,error:n}=await this._challenge({factorId:e.factorId});return n?{data:null,error:n}:await this._verify({factorId:e.factorId,challengeId:t.id,code:e.code})}async _listFactors(){const{data:{user:e},error:t}=await this.getUser();if(t)return{data:null,error:t};const n=e?.factors||[],r=n.filter(s=>s.factor_type==="totp"&&s.status==="verified"),a=n.filter(s=>s.factor_type==="phone"&&s.status==="verified");return{data:{all:n,totp:r,phone:a},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var t,n;const{data:{session:r},error:a}=e;if(a)return{data:null,error:a};if(!r)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:s}=X2(r.access_token);let l=null;s.aal&&(l=s.aal);let u=l;((n=(t=r.user.factors)===null||t===void 0?void 0:t.filter(g=>g.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(u="aal2");const p=s.amr||[];return{data:{currentLevel:l,nextLevel:u,currentAuthenticationMethods:p},error:null}}))}async fetchJwk(e,t={keys:[]}){let n=t.keys.find(l=>l.kid===e);if(n)return n;const r=Date.now();if(n=this.jwks.keys.find(l=>l.kid===e),n&&this.jwks_cached_at+R9>r)return n;const{data:a,error:s}=await Xn(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(s)throw s;return!a.keys||a.keys.length===0||(this.jwks=a,this.jwks_cached_at=r,n=a.keys.find(l=>l.kid===e),!n)?null:n}async getClaims(e,t={}){try{let n=e;if(!n){const{data:_,error:S}=await this.getSession();if(S||!_.session)return{data:null,error:S};n=_.session.access_token}const{header:r,payload:a,signature:s,raw:{header:l,payload:u}}=X2(n);t?.allowExpired||Q9(a.exp);const f=!r.alg||r.alg.startsWith("HS")||!r.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(r.kid,t?.keys?{keys:t.keys}:t?.jwks);if(!f){const{error:_}=await this.getUser(n);if(_)throw _;return{data:{claims:a,header:r,signature:s},error:null}}const p=e7(r.alg),g=await crypto.subtle.importKey("jwk",f,p,!0,["verify"]);if(!await crypto.subtle.verify(p,g,s,k9(`${l}.${u}`)))throw new cA("Invalid JWT signature");return{data:{claims:a,header:r,signature:s},error:null}}catch(n){if(Rn(n))return{data:null,error:n};throw n}}}s_.nextInstanceID=0;const g7=s_;class v7 extends g7{constructor(e){super(e)}}var y7=function(i,e,t,n){function r(a){return a instanceof t?a:new t(function(s){s(a)})}return new(t||(t=Promise))(function(a,s){function l(p){try{f(n.next(p))}catch(g){s(g)}}function u(p){try{f(n.throw(p))}catch(g){s(g)}}function f(p){p.done?a(p.value):r(p.value).then(l,u)}f((n=n.apply(i,e||[])).next())})};class _7{constructor(e,t,n){var r,a,s;if(this.supabaseUrl=e,this.supabaseKey=t,!e)throw new Error("supabaseUrl is required.");if(!t)throw new Error("supabaseKey is required.");const l=w9(e),u=new URL(l);this.realtimeUrl=new URL("realtime/v1",u),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",u),this.storageUrl=new URL("storage/v1",u),this.functionsUrl=new URL("functions/v1",u);const f=`sb-${u.hostname.split(".")[0]}-auth-token`,p={db:m9,realtime:v9,auth:Object.assign(Object.assign({},g9),{storageKey:f}),global:p9},g=E9(n??{},p);this.storageKey=(r=g.auth.storageKey)!==null&&r!==void 0?r:"",this.headers=(a=g.global.headers)!==null&&a!==void 0?a:{},g.accessToken?(this.accessToken=g.accessToken,this.auth=new Proxy({},{get:(v,_)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(_)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((s=g.auth)!==null&&s!==void 0?s:{},this.headers,g.global.fetch),this.fetch=b9(t,this._getAccessToken.bind(this),g.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},g.realtime)),this.rest=new UV(new URL("rest/v1",u).href,{headers:this.headers,schema:g.db.schema,fetch:this.fetch}),this.storage=new f9(this.storageUrl.href,this.headers,this.fetch,n?.storage),g.accessToken||this._listenForAuthEvents()}get functions(){return new MV(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,t={},n={}){return this.rest.rpc(e,t,n)}channel(e,t={config:{}}){return this.realtime.channel(e,t)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var e,t;return y7(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:n}=yield this.auth.getSession();return(t=(e=n.session)===null||e===void 0?void 0:e.access_token)!==null&&t!==void 0?t:this.supabaseKey})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:t,detectSessionInUrl:n,storage:r,userStorage:a,storageKey:s,flowType:l,lock:u,debug:f},p,g){const v={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new v7({url:this.authUrl.href,headers:Object.assign(Object.assign({},v),p),storageKey:s,autoRefreshToken:e,persistSession:t,detectSessionInUrl:n,storage:r,userStorage:a,flowType:l,lock:u,debug:f,fetch:g,hasCustomAuthorizationHeader:Object.keys(this.headers).some(_=>_.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new JV(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((t,n)=>{this._handleTokenChanged(t,"CLIENT",n?.access_token)})}_handleTokenChanged(e,t,n){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==n?this.changedAccessToken=n:e==="SIGNED_OUT"&&(this.realtime.setAuth(),t=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const x7=(i,e,t)=>new _7(i,e,t);function b7(){if(typeof window<"u"||typeof process>"u")return!1;const i=process.version;if(i==null)return!1;const e=i.match(/^v(\d+)\./);return e?parseInt(e[1],10)<=18:!1}b7()&&console.warn("⚠️  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const S7="https://fxsptmeyixszmyfslxtr.supabase.co",w7="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImZ4c3B0bWV5aXhzem15ZnNseHRyIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTU1MDY5OTQsImV4cCI6MjA3MTA4Mjk5NH0.WK-N9e5lBKu-wyABwXJ0ZWfGQQk1zOUWW0ru49W85GQ",eE=x7(S7,w7),aR="data:image/svg+xml,%3csvg%20width='21'%20height='21'%20viewBox='0%200%2021%2021'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cg%20clip-path='url(%23clip0_1_2994)'%3e%3cpath%20d='M10.6977%2020.1753C9.55584%2016.1464%205.36588%2011.9601%201.32505%2010.8109C0.872034%2010.6646%200.872496%2010.3442%201.32594%2010.1919C5.37739%209.04706%209.57209%204.88015%2010.7329%200.847218C10.8578%200.403156%2011.1575%200.403588%2011.2812%200.848009C12.423%204.88426%2016.613%209.06326%2020.6466%2010.2197C21.0996%2010.3661%2021.0991%2010.6938%2020.6457%2010.8388C16.6015%2011.9763%2012.3994%2016.1505%2011.246%2020.1761C11.1211%2020.6275%2010.8213%2020.6271%2010.6977%2020.1753Z'%20fill='%233766B7'/%3e%3c/g%3e%3cdefs%3e%3cclipPath%20id='clip0_1_2994'%3e%3crect%20width='20'%20height='20'%20fill='white'%20transform='translate(1%200.5)%20rotate(0.082631)'/%3e%3c/clipPath%3e%3c/defs%3e%3c/svg%3e",E7="/assets/b-coin-Bbv16on7.svg",aU="/assets/b-coin%20image-DaFl58Jg.png",US="/assets/baft_card1-BAIK69l9.svg",IS="/assets/baft_card2-BRWmHT0v.svg",BS="/assets/baft_card3-BehgqF0v.svg",zS="/assets/baft_card4-BDgLrzsE.svg",uA="data:image/svg+xml,%3csvg%20width='32'%20height='25'%20viewBox='0%200%2032%2025'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M28.1748%200.261719L3.50814%200.261719C1.80768%200.261719%200.424805%201.64459%200.424805%203.34505L0.424805%2021.8451C0.424805%2023.5455%201.80768%2024.9284%203.50814%2024.9284L28.1748%2024.9284C29.8753%2024.9284%2031.2581%2023.5455%2031.2581%2021.8451L31.2581%203.34505C31.2581%201.64459%2029.8753%200.261719%2028.1748%200.261719ZM3.50814%203.34505L28.1748%203.34505L28.1748%206.42839L3.50814%206.42839L3.50814%203.34505ZM3.50814%2021.8451L3.50814%2012.5951L28.1763%2012.5951L28.1779%2021.8451L3.50814%2021.8451Z'%20fill='%231966BB'/%3e%3cpath%20d='M6.59147%2015.6784L15.8415%2015.6784L15.8415%2018.7617L6.59147%2018.7617L6.59147%2015.6784Z'%20fill='%231966BB'/%3e%3c/svg%3e",fA="data:image/svg+xml,%3csvg%20width='29'%20height='32'%20viewBox='0%200%2029%2032'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M14.5049%200.503906C12.9391%200.503906%2011.4085%200.980429%2010.1066%201.87322C8.80473%202.766%207.79003%204.03495%207.19084%205.5196C6.59164%207.00425%206.43487%208.63792%206.74033%2010.214C7.0458%2011.7901%207.79979%2013.2378%208.90695%2014.3741C10.0141%2015.5105%2011.4247%2016.2843%2012.9604%2016.5978C14.4961%2016.9113%2016.0879%2016.7504%2017.5345%2016.1354C18.981%2015.5205%2020.2175%2014.4791%2021.0874%2013.1429C21.9572%2011.8068%2022.4216%2010.2359%2022.4216%208.62891C22.4216%206.47402%2021.5875%204.4074%2020.1028%202.88366C18.6181%201.35993%2016.6045%200.503906%2014.5049%200.503906ZM14.5049%2013.5039C13.5654%2013.5039%2012.6471%2013.218%2011.8659%2012.6823C11.0848%2012.1466%2010.476%2011.3853%2010.1165%2010.4945C9.75694%209.6037%209.66287%208.6235%209.84615%207.67784C10.0294%206.73218%2010.4818%205.86354%2011.1461%205.18176C11.8104%204.49998%2012.6568%204.03568%2013.5782%203.84758C14.4996%203.65948%2015.4547%203.75602%2016.3226%204.12499C17.1906%204.49397%2017.9324%205.11881%2018.4544%205.9205C18.9763%206.72219%2019.2549%207.66472%2019.2549%208.62891C19.2549%209.92184%2018.7544%2011.1618%2017.8636%2012.0761C16.9728%2012.9903%2015.7647%2013.5039%2014.5049%2013.5039ZM28.7549%2031.3789L28.7549%2029.7539C28.7549%2026.7371%2027.5872%2023.8438%2025.5086%2021.7106C23.4301%2019.5773%2020.611%2018.3789%2017.6716%2018.3789L11.3382%2018.3789C8.39873%2018.3789%205.57964%2019.5773%203.50112%2021.7106C1.42259%2023.8438%200.254883%2026.7371%200.254883%2029.7539L0.254883%2031.3789L3.42155%2031.3789L3.42155%2029.7539C3.42155%2027.599%204.25562%2025.5324%205.74029%2024.0087C7.22495%2022.4849%209.23859%2021.6289%2011.3382%2021.6289L17.6716%2021.6289C19.7712%2021.6289%2021.7848%2022.4849%2023.2695%2024.0087C24.7541%2025.5324%2025.5882%2027.599%2025.5882%2029.7539L25.5882%2031.3789L28.7549%2031.3789Z'%20fill='%231966BB'/%3e%3c/svg%3e",hA="data:image/svg+xml,%3csvg%20width='35'%20height='32'%20viewBox='0%200%2035%2032'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M30.6869%207.99219H28.6316C28.8809%207.23855%2029.0008%206.45426%2028.9869%205.66719C28.9869%202.67569%2026.3179%200.242188%2023.0369%200.242188C20.2795%200.242188%2018.4384%202.53929%2017.2501%205.02394C16.0788%202.67569%2014.1442%200.242188%2011.1369%200.242188C7.85591%200.242188%205.18691%202.67569%205.18691%205.66719C5.18691%206.59099%205.32121%207.35514%205.54221%207.99219H3.48691C1.61181%207.99219%200.0869141%209.38254%200.0869141%2011.0922V14.1922C0.0869141%2015.9018%201.61181%2017.2922%203.48691%2017.2922V28.1422C3.48691%2029.8518%205.01181%2031.2422%206.88691%2031.2422H27.2869C29.162%2031.2422%2030.6869%2029.8518%2030.6869%2028.1422V17.2922C32.562%2017.2922%2034.0869%2015.9018%2034.0869%2014.1922V11.0922C34.0869%209.38254%2032.562%207.99219%2030.6869%207.99219ZM23.0369%203.34219C24.4428%203.34219%2025.5869%204.38534%2025.5869%205.66719C25.5869%207.99219%2024.5227%207.99219%2023.8869%207.99219H19.6743C20.543%205.54939%2021.8044%203.34219%2023.0369%203.34219ZM8.58691%205.66719C8.58691%204.38534%209.73101%203.34219%2011.1369%203.34219C12.6465%203.34219%2014.0507%205.70594%2014.8735%207.99219H10.2869C9.65111%207.99219%208.58691%207.99219%208.58691%205.66719ZM3.48691%2011.0922H15.3869V14.1922H3.48691V11.0922ZM6.88691%2028.1422V17.2922H15.3869V28.1422H6.88691ZM27.2869%2028.1422H18.7869V17.2922H27.2869V28.1422ZM18.7869%2014.1922V11.2239L18.8158%2011.0922H30.6869L30.6886%2014.1922H18.7869Z'%20fill='%231966BB'/%3e%3c/svg%3e",dA="data:image/svg+xml,%3csvg%20width='32'%20height='26'%20viewBox='0%200%2032%2026'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M28.168%200.988281L3.5013%200.988281C1.80084%200.988281%200.417969%202.37116%200.417969%204.07161L0.417969%2022.5716C0.417969%2024.2721%201.80084%2025.6549%203.5013%2025.6549L28.168%2025.6549C29.8684%2025.6549%2031.2513%2024.2721%2031.2513%2022.5716L31.2513%204.07161C31.2513%202.37116%2029.8684%200.988281%2028.168%200.988281ZM3.5013%204.07161L28.168%204.07161L28.168%207.15495L3.5013%207.15495L3.5013%204.07161ZM3.5013%2022.5716L3.5013%2013.3216L28.1695%2013.3216L28.1711%2022.5716L3.5013%2022.5716Z'%20fill='%231966BB'/%3e%3cpath%20d='M6.58464%2016.4049L15.8346%2016.4049L15.8346%2019.4883L6.58464%2019.4883L6.58464%2016.4049Z'%20fill='%231966BB'/%3e%3c/svg%3e",M7="/assets/hand_iphone_image-oNaqY03E.svg",T7="/assets/baft_pic-R2QiLnCY.png",sR="/assets/logo-BRLOKJml.png",sU="/assets/safe_sec-BMZA38Kc.svg",A7="/assets/BAFT%20Vid%202_1-nr8QGbZt.mp4",C7="/assets/bfast_video-hHtArZym.mp4",W5="/Property 1=Image.png",R7="/Property 1=Vibha Harish (1).png",D7="/Property 1=Dion Monteiro (1).png",O7="/Property 1=Saket Borkar (1).png",N7=({isOpen:i,onClose:e})=>{const[t,n]=H.useState(!1),[r,a]=H.useState(!1),[s,l]=H.useState(!1),[u,f]=H.useState(!1),[p,g]=H.useState(!1),[v,_]=H.useState(!1),S=L=>/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(L.trim()),[w,E]=H.useState(""),[b,R]=H.useState({name:"",email:"",message:""});if(H.useEffect(()=>{i?(_(!0),setTimeout(()=>a(!0),50),p&&n(!0)):(a(!1),l(!1),_(!1),n(p),f(!1))},[i,p]),!i)return null;const C=()=>{l(!0),_(!1),setTimeout(()=>{f(!1),e()},600)},A=L=>{const{name:B,value:U}=L.target;if(R(P=>({...P,[B]:U})),B==="email"){const P=U.trim().toLowerCase();/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(P)&&E("")}},N=async L=>{L.preventDefault();const B=b.email.trim().toLowerCase();if(E(""),!S(B)){E("Please enter a valid email address.");return}console.log("Form submitted:",b),f(!0);try{const{data:U,error:P}=await eE.from("messages").insert([{name:b.name,email:b.email,message:b.message}]);if(P){console.error("Error inserting data:",P),alert("Something went wrong. Please try again.");return}console.log("Inserted contact row:",U),g(!0),setTimeout(()=>{n(!0),f(!1)},200)}catch(U){console.error("Error inserting data:",U),alert("An unexpected error occurred. Please try again.");return}};return I.jsxs("div",{className:"fixed inset-0 flex items-center justify-center z-100 p-2 sm:p-4",children:[I.jsx("div",{className:`absolute inset-0 transition-opacity duration-500 ease-out ${v?"opacity-100":"opacity-0"}`,style:{background:"rgba(0, 0, 0, 0.4)",backdropFilter:"blur(4px)"},onClick:C}),I.jsxs("div",{className:`relative w-[95%] sm:w-[90%] max-w-[380px] sm:max-w-[420px] max-h-[90vh] rounded-2xl sm:rounded-3xl p-4 sm:p-5 shadow-xl backdrop-blur-[30px] z-10 overflow-hidden box-border flex flex-col items-center transition-all duration-800 ease-out ${r&&!s?"opacity-100 scale-100 translate-y-0":"opacity-0 scale-90 translate-y-8"}`,style:{background:"radial-gradient(112.62% 112.6% at 47.95% 3.5%, #090E65 0%, rgba(55, 102, 183, 0.96) 78.84%, rgba(25, 25, 25, 0.93) 100%)",border:"2px solid rgba(255, 255, 255, 0.46)"},children:[I.jsx("button",{onClick:C,className:"absolute top-4 sm:top-6 right-3 sm:right-4 bg-none border-none text-white text-[20px] sm:text-[22px] cursor-pointer transition-opacity duration-200 hover:opacity-70 z-20 w-7 h-7 sm:w-8 sm:h-8 flex items-center justify-center",children:"✕"}),I.jsxs("div",{className:"flex flex-col items-center justify-center text-center mb-3 sm:mb-4",children:[I.jsx("img",{src:sR,alt:"BaFT Logo",className:"w-[80px] sm:w-[100px] h-auto mx-auto"}),I.jsx("p",{className:"mt-2 sm:mt-2 font-['Inter'] text-[12px] sm:text-[14px] text-white/70",children:"Built for You, Powered by Tech"})]}),I.jsx("div",{className:"w-full min-h-[360px] sm:min-h-[400px] relative",children:I.jsx("div",{className:`absolute inset-0 w-full transition-all duration-800 ease-out ${t||u?"opacity-0 scale-95 pointer-events-none":"opacity-100 scale-100"}`,children:I.jsxs("div",{className:"w-full bg-white/10 rounded-xl sm:rounded-2xl p-3 sm:p-4 flex flex-col gap-3 sm:gap-3 mb-0",children:[I.jsxs("div",{children:[I.jsx("h3",{className:"font-semibold text-base sm:text-lg text-white mb-1 sm:mb-1",children:"Contact Us"}),I.jsx("p",{className:"text-xs sm:text-xs text-white/60 m-0 mb-2 sm:mb-2",children:"Have any Query feel free to reach out"})]}),I.jsxs("form",{className:"flex flex-col gap-2.5 sm:gap-3",onSubmit:N,children:[I.jsx("input",{type:"text",name:"name",placeholder:"Name",value:b.name,onChange:A,required:!0,className:"p-2 sm:p-2.5 w-full bg-white/15 rounded-[6px] sm:rounded-[8px] border-none text-white text-sm sm:text-sm outline-none placeholder-white/70"}),I.jsx("input",{type:"email",name:"email",placeholder:"Email Id",value:b.email,onChange:A,required:!0,className:"p-2 sm:p-2.5 w-full bg-white/15 rounded-[6px] sm:rounded-[8px] border-none text-white text-sm sm:text-sm outline-none placeholder-white/70"}),w&&I.jsx("p",{className:"mt-2 text-red-500 text-sm",children:w}),I.jsx("textarea",{name:"message",placeholder:"Your Message",rows:"3",value:b.message,onChange:A,required:!0,className:"p-2 sm:p-2.5 w-full bg-white/15 rounded-[6px] sm:rounded-[8px] border-none text-white text-sm sm:text-sm outline-none placeholder-white/70 resize-none"}),I.jsx("button",{type:"submit",className:"contact-send-button w-full h-9 sm:h-10 bg-[#4A90E2] border-none rounded-[18px] sm:rounded-[20px] text-white font-semibold text-sm sm:text-sm cursor-pointer transition-all duration-300 flex items-center justify-center gap-1 mt-2"})]})]})})}),I.jsx("div",{className:`absolute inset-0 w-full transition-all duration-800 ease-out flex flex-col items-center justify-center ${t&&!u?"opacity-100 scale-100":"opacity-0 scale-95 pointer-events-none"}`,children:t&&!s&&I.jsxs(I.Fragment,{children:[I.jsx("div",{className:"checkmark-wrapper",children:I.jsxs("svg",{className:"checkmark-svg",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 52 52",children:[I.jsx("circle",{className:"checkmark-circle",cx:"26",cy:"26",r:"25",fill:"none"}),I.jsx("path",{className:"checkmark-path",fill:"none",d:"M14 27l7 7 17-17"})]},`checkmark-${t}`)}),I.jsxs("div",{className:"thanks-text",children:[I.jsx("h2",{className:"thanks-title",children:"Thanks for reaching out!"}),I.jsx("p",{className:"thanks-message font-light text-white opacity-85",children:"We've received your inquiry and will be in touch shortly."})]})]})})]})]})},P7=({isOpen:i,onClose:e})=>{const[t,n]=H.useState(!1),[r,a]=H.useState(!1),[s,l]=H.useState(!1),[u,f]=H.useState(!1),[p,g]=H.useState(!1),[v,_]=H.useState(!1),S=L=>/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(L.trim()),[w,E]=H.useState(""),[b,R]=H.useState({name:"",email:"",contactNumber:""});if(H.useEffect(()=>{i?(_(!0),setTimeout(()=>a(!0),50),p&&n(!0)):(a(!1),l(!1),_(!1),n(p),f(!1))},[i,p]),!i)return null;const C=L=>{const{name:B,value:U,type:P,checked:z}=L.target;if(R(X=>({...X,[B]:P==="checkbox"?z:U})),B==="email"){const X=U.trim().toLowerCase();/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(X)&&E("")}},A=async L=>{L.preventDefault();const B=b.email.trim().toLowerCase();if(E(""),!S(B)){E("Please enter a valid email address.");return}console.log("Form submitted:",b);try{const{data:U,error:P}=await eE.from("signups").insert([{name:b.name,email:b.email,contact_number:b.contactNumber}]).select();if(P){console.error("Error inserting data:",P),alert("Something went wrong. Please try again.");return}console.log("Inserted row:",U),g(!0),f(!0),setTimeout(()=>{n(!0),f(!1)},200)}catch(U){console.error("Unexpected error:",U),alert("An unexpected error occurred. Please try again.")}},N=()=>{l(!0),_(!1),setTimeout(()=>{f(!1),e()},600)};return I.jsx("div",{"data-theme":"dark",className:`signup-modal-backdrop transition-opacity duration-500 ease-out ${v?"opacity-100":"opacity-0"}`,children:I.jsxs("div",{className:`signup-modal-container transition-all duration-800 ease-out ${r&&!s?"opacity-100 scale-100 translate-y-0":"opacity-0 scale-90 translate-y-8"}`,children:[I.jsx("button",{onClick:N,className:"signup-close-button",children:"✕"}),I.jsxs("div",{className:"signup-header",children:[I.jsx("img",{src:sR,alt:"BaFT Logo",className:"signup-logo"}),I.jsx("p",{className:"signup-tagline",children:"Built for You, Powered by Tech"})]}),I.jsxs("div",{className:"signup-content-container",children:[I.jsx("div",{className:`absolute inset-0 w-full transition-all duration-800 ease-out ${t||u?"opacity-0 scale-95 pointer-events-none":"opacity-100 scale-100"}`,children:I.jsxs("div",{className:"signup-form-container",children:[I.jsxs("div",{className:"signup-title-section",children:[I.jsx("h3",{className:"signup-title",children:"Sign Up"}),I.jsx("p",{className:"signup-subtitle",children:"Don't miss the chance!"})]}),I.jsxs("form",{className:"signup-form",onSubmit:A,children:[I.jsx("div",{className:"signup-input-group",children:I.jsx("input",{type:"text",name:"name",placeholder:"Name",className:"signup-input",value:b.name,onChange:C,required:!0})}),I.jsxs("div",{className:"signup-input-group",children:[I.jsx("input",{type:"text",name:"email",placeholder:"Email Id",className:"signup-input",value:b.email,onChange:C,required:!0}),w&&I.jsx("p",{className:"mt-2 text-red-500 text-sm",children:w})]}),I.jsx("div",{className:"signup-input-group",children:I.jsx("input",{type:"tel",name:"contactNumber",placeholder:"Contact Number",className:"signup-input",pattern:"^\\+91[0-9]{10}$",maxLength:"13",onFocus:L=>{L.target.value===""&&(L.target.value="+91",R(U=>({...U,contactNumber:"+91"}))),setTimeout(()=>L.target.setSelectionRange(3,3),0)},onKeyDown:L=>{const B=L.target.selectionStart;(L.key==="Backspace"||L.key==="Delete")&&B<=3&&L.preventDefault()},onInput:L=>{let B=L.target.value;B=B.replace(/[^0-9+]/g,""),B.length<3?B="+91":B.startsWith("+91")||(B="+91"+B.replace(/^\+91/,"").replace(/\+/g,"")),B.length>13&&(B=B.slice(0,13)),L.target.value=B,R(U=>({...U,contactNumber:B}))},value:b.contactNumber,onChange:C,required:!0})}),I.jsx("button",{type:"submit",className:"signup-send-button"})]})]})}),I.jsx("div",{className:`absolute inset-0 w-full transition-all duration-800 ease-out flex flex-col items-center justify-center ${t&&!u?"opacity-100 scale-100":"opacity-0 scale-95 pointer-events-none"}`,children:t&&!s&&I.jsxs(I.Fragment,{children:[I.jsx("div",{className:"checkmark-wrapper",children:I.jsxs("svg",{className:"checkmark-svg",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 52 52",children:[I.jsx("circle",{className:"checkmark-circle",cx:"26",cy:"26",r:"25",fill:"none"}),I.jsx("path",{className:"checkmark-path",fill:"none",d:"M14 27l7 7 17-17"})]},`signup-checkmark-${t}`)}),I.jsxs("div",{className:"thanks-text",children:[I.jsx("h2",{className:"thanks-title",children:"Thanks for signing up!"}),I.jsx("p",{className:"thanks-message font-light text-white opacity-85",children:"We've received your information and will be in touch shortly."})]})]})})]})]})})},L7=({onNavigate:i,currentSlide:e})=>{const[t,n]=H.useState(!1),[r,a]=H.useState(!1),[s,l]=H.useState(!0),[u,f]=H.useState("dark");return H.useEffect(()=>{const p=[3,4,5,6],g=window.innerWidth<=768;e===5?f(g?"dark":"light"):e===6||p.includes(e)?f("light"):f("dark")},[e]),H.useEffect(()=>{let p=window.scrollY;const g=()=>{window.scrollY>p&&window.scrollY>50?l(!1):l(!0),p=window.scrollY},v=()=>{document.documentElement.hasAttribute("data-navbar-hidden")?l(!1):(window.scrollY<=p||window.scrollY<=50)&&l(!0)};v(),window.addEventListener("scroll",g,{passive:!0});const _=new MutationObserver(v);return _.observe(document.documentElement,{attributes:!0,attributeFilter:["data-navbar-hidden"]}),()=>{window.removeEventListener("scroll",g),_.disconnect()}},[]),H.useEffect(()=>{const p=()=>{const g=window.innerWidth<=768;e===5?f(g?"dark":"light"):e===6||[3,4,5,6].includes(e)?f("light"):f("dark")};return window.addEventListener("resize",p),()=>window.removeEventListener("resize",p)},[e]),I.jsxs(I.Fragment,{children:[I.jsxs("div",{className:`navbar-container ${u}-theme transition-transform duration-300 ${s?"translate-y-0":"-translate-y-full"}`,children:[I.jsxs("div",{className:"hidden lg:flex gap-6 xl:gap-8",children:[I.jsx("button",{onClick:()=>{typeof i=="function"?i("about",{slow:!0}):document.getElementById("about")?.scrollIntoView({behavior:"smooth"})},className:`rounded-[200px] nav-btn nav-btn-size ${u==="dark"?"text-white":"text-black"}`,children:"About BaFT"}),I.jsx("button",{onClick:()=>n(!0),className:"rounded-[200px] nav-btn nav-btn-size",children:"Let's Chat"})]}),I.jsx("div",{id:"hero_container",className:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-[38%] flex gap-1 items-center justify-center",children:I.jsx("img",{src:u==="dark"?"logo.png":"logo1.png",alt:"Logo",className:"w-16 h-auto sm:w-18 md:w-20 lg:w-22 xl:w-24 cursor-pointer",onClick:()=>{typeof i=="function"?i("hero"):document.getElementById("hero")?.scrollIntoView({behavior:"smooth"})},loading:"eager"})}),I.jsx("div",{className:"fancy nav-btn-size hidden lg:block",children:I.jsx("button",{onClick:()=>a(!0),className:"rounded-[200px] nav-btn",children:"Sign Up"})})]}),I.jsx(N7,{isOpen:t,onClose:()=>n(!1)}),I.jsx(P7,{isOpen:r,onClose:()=>a(!1)})]})},U7=({children:i,currentSlide:e,onSlideChange:t})=>{const[n,r]=H.useState(0),[a,s]=H.useState(0),[l,u]=H.useState(!1),[f,p]=H.useState("none"),[g,v]=H.useState(!0),[_,S]=H.useState(!0),w=Nr.Children.count(i),E=H.useRef(!1),[b,R]=H.useState(!1),[C,A]=H.useState(!1),[N,L]=H.useState(!1),B=H.useRef(0),U=300,P=H.useRef(0),[z,X]=H.useState(!1),[te,se]=H.useState(!1),ae=H.useRef(0),ue=50,G=H.useRef(null),Y=30;H.useEffect(()=>{const ee=()=>{if(!G.current)return;const _e=G.current,Be=_e.scrollTop>Y,Ze=_e.scrollTop<_e.scrollHeight-_e.clientHeight-Y;S(Be),v(Ze)},ie=setTimeout(ee,100);return window.addEventListener("resize",ee),()=>{clearTimeout(ie),window.removeEventListener("resize",ee)}},[n]);const Q=H.useCallback(ee=>{if(ee>=0&&ee<w&&!l){s(n);const ie=ee>n?"up":"down";p(ie),u(!0);const gt=ie==="up"&&(n===3&&ee===4||n===4&&ee===5||n===5&&ee===6||n===6&&ee===7)||ie==="down"&&(n===4&&ee===3||n===5&&ee===4||n===6&&ee===5||n===7&&ee===6)?1300:1600;P.current=Date.now()+gt+450,r(ee),t?.(ee),requestAnimationFrame(()=>{G.current&&G.current.scrollTo({top:0,left:0,behavior:"auto"})}),setTimeout(()=>{u(!1),p("none"),G.current&&G.current.scrollTo({top:0,left:0,behavior:"auto"}),P.current=Date.now()+500},gt)}},[w,t,l,n]),ye=H.useCallback(ee=>{if(l||Date.now()<P.current){ee&&ee.cancelable&&ee.preventDefault();return}typeof window<"u"&&(window.__videoHandoffActive||window.__aboutPinnedActive)||(ae.current=ee.touches[0].clientY)},[l]),F=H.useCallback(ee=>{if(l||Date.now()<P.current){ee&&ee.cancelable&&ee.preventDefault();return}},[l]),fe=H.useCallback(ee=>{if(l||Date.now()<P.current){ee&&ee.cancelable&&ee.preventDefault();return}if(typeof window<"u"&&(window.__videoHandoffActive||window.__aboutPinnedActive))return;const ie=Date.now();if(ie-B.current<U)return;const _e=ee.changedTouches[0].clientY,Be=ae.current-_e;if(Math.abs(Be)<ue)return;const Ze=G.current;if(!Ze)return;const gt=Ze.scrollTop<=Y,pt=Ze.scrollTop>=Ze.scrollHeight-Ze.clientHeight-Y;Be>0&&pt&&n<w-1?(B.current=ie,Q(n+1)):Be<0&&gt&&n>0&&(B.current=ie,Q(n-1))},[l,n,w,Q]);H.useEffect(()=>{const ee=G.current;if(!ee)return;const ie=Ze=>ye(Ze),_e=Ze=>F(Ze),Be=Ze=>fe(Ze);return ee.addEventListener("touchstart",ie,{passive:!1}),ee.addEventListener("touchmove",_e,{passive:!1}),ee.addEventListener("touchend",Be,{passive:!1}),()=>{ee.removeEventListener("touchstart",ie),ee.removeEventListener("touchmove",_e),ee.removeEventListener("touchend",Be)}},[ye,F,fe]);const Se=H.useCallback(ee=>{if(l||Date.now()<P.current){ee&&ee.cancelable&&ee.preventDefault();return}if(typeof window<"u"&&(window.__videoHandoffActive||window.__aboutPinnedActive))return;const ie=G.current;if(!ie)return;const _e=Date.now(),Be=ie.scrollTop<=Y,Ze=ie.scrollTop>=ie.scrollHeight-ie.clientHeight-Y;if(ee.deltaY>0&&Ze&&n<w-1){if(ee&&ee.cancelable&&ee.preventDefault(),_e-B.current>=U){if(B.current=_e,n===1&&!z){console.log("🎯 BaFT Coin: Scroll triggered, starting exit animations immediately..."),X(!0),typeof window<"u"&&window.triggerBaftCoinExit?(console.log("🎯 BaFT Coin: Calling triggerBaftCoinExit immediately..."),window.triggerBaftCoinExit()):console.log("❌ BaFT Coin: triggerBaftCoinExit not found on window!"),setTimeout(()=>{X(!1)},100);return}if(n===2&&!te){console.log("🎯 BInstant: Scroll triggered, starting exit animations immediately..."),se(!0),typeof window<"u"&&window.triggerBinstantExit?(console.log("🎯 BInstant: Calling triggerBinstantExit immediately..."),window.triggerBinstantExit()):console.log("❌ BInstant: triggerBinstantExit not found on window!"),setTimeout(()=>{se(!1)},100);return}Q(n+1)}}else ee.deltaY<0&&Be&&n>0&&(ee&&ee.cancelable&&ee.preventDefault(),_e-B.current>=U&&(B.current=_e,Q(n-1)))},[l,n,w,Q]);H.useEffect(()=>{const ee=G.current;if(!ee)return;const ie=_e=>{Se(_e)};return ee.addEventListener("wheel",ie,{passive:!1}),()=>{ee.removeEventListener("wheel",ie)}},[Se]),H.useEffect(()=>{const ee=()=>{if(l)return;const ie=Math.min(n+1,w-1);ie!==n&&(E.current=!0,R(!0),L(!1),A(!1),setTimeout(()=>{L(!0)},10),setTimeout(()=>{const _e=G.current;if(_e)try{_e.scrollTo({top:0,left:0,behavior:"auto"})}catch{}Q(ie),setTimeout(()=>{A(!0),setTimeout(()=>{R(!1),A(!1),L(!1),E.current=!1},720)},150)},220))};return window.addEventListener("aboutPinnedEnded",ee),()=>window.removeEventListener("aboutPinnedEnded",ee)},[n,w,l,Q]),H.useEffect(()=>{const ee=()=>{if(console.log("🎯 BaFT Coin: Exit complete event received!"),n===1&&!l){console.log("🎯 BaFT Coin: Starting smooth transition to BInstant...");const ie=2;ie!==n&&(R(!0),L(!1),A(!1),setTimeout(()=>{L(!0)},10),setTimeout(()=>{const _e=G.current;if(_e)try{_e.scrollTo({top:0,left:0,behavior:"auto"})}catch{}Q(ie),setTimeout(()=>{A(!0),setTimeout(()=>{R(!1),A(!1),L(!1)},720)},150)},220))}};return window.addEventListener("baftCoinExitComplete",ee),()=>window.removeEventListener("baftCoinExitComplete",ee)},[n,l,Q]),H.useEffect(()=>{const ee=()=>{if(console.log("🎯 BInstant: Exit complete event received!"),n===2&&!l){console.log("🎯 BInstant: Starting smooth transition to B_Fast...");const ie=3;ie!==n&&(R(!0),L(!1),A(!1),setTimeout(()=>{L(!0)},10),setTimeout(()=>{const _e=G.current;if(_e)try{_e.scrollTo({top:0,left:0,behavior:"auto"})}catch{}Q(ie),setTimeout(()=>{A(!0),setTimeout(()=>{R(!1),A(!1),L(!1)},720)},150)},220))}};return window.addEventListener("binstantExitComplete",ee),()=>window.removeEventListener("binstantExitComplete",ee)},[n,l,Q]),H.useEffect(()=>{const ee=ie=>{if(!ie||!ie.detail)return;const{index:_e,slow:Be}=ie.detail;if(typeof _e!="number"||_e<0||_e>=w||l)return;const Ze=Be?700:220,gt=Be?200:150,pt=Be?1e3:700;R(!0),L(!1),A(!1),setTimeout(()=>{L(!0)},10),setTimeout(()=>{const ne=G.current;if(ne)try{ne.scrollTo({top:0,left:0,behavior:"auto"})}catch{}Q(_e),setTimeout(()=>{A(!0),setTimeout(()=>{R(!1),A(!1),L(!1)},pt)},gt)},Ze)};return window.addEventListener("navigateToSlide",ee),()=>window.removeEventListener("navigateToSlide",ee)},[l,w,Q]);const Ce=H.useCallback(ee=>{if(l||typeof window<"u"&&(window.__videoHandoffActive||window.__aboutPinnedActive))return;const ie=G.current,_e=ie?ie.scrollTop<=Y:!0,Be=ie?ie.scrollTop>=ie.scrollHeight-ie.clientHeight-Y:!0;if(ee.key==="ArrowDown"||ee.key==="PageDown"){if(!Be&&ie){ie.scrollBy({top:100,behavior:"smooth"});return}n<w-1&&Q(n+1)}else if(ee.key==="ArrowUp"||ee.key==="PageUp"){if(!_e&&ie){ie.scrollBy({top:-100,behavior:"smooth"});return}n>0&&Q(n-1)}else ee.key==="Home"?Q(0):ee.key==="End"&&Q(w-1)},[l,n,w,Q]);H.useEffect(()=>{e!==void 0&&e!==n&&e>=0&&e<w&&(r(e),s(n))},[e,n,w]),H.useEffect(()=>{requestAnimationFrame(()=>{G.current&&G.current.scrollTo({top:0,left:0,behavior:"auto"})})},[n]);const ke=Nr.Children.toArray(i),we=ke[n];return ke[a],n<0||n>=w||!we?null:I.jsxs("div",{className:"slide-container relative w-full h-screen overflow-hidden",tabIndex:0,onKeyDown:Ce,children:[I.jsx("div",{ref:G,className:"w-full h-full transition-all duration-[1000ms] ease-[cubic-bezier(0.25,0.46,0.45,0.94)] overflow-auto scroll-smooth custom-scroll buttery-smooth-scroll",onScroll:()=>{if(G.current){const ee=G.current,ie=ee.scrollTop>Y,_e=ee.scrollTop<ee.scrollHeight-ee.clientHeight-Y;S(ie),v(_e)}},children:we}),b&&I.jsx("div",{className:"pointer-events-none absolute inset-0 z-40",style:{background:"#000",opacity:C?0:N?1:0,transition:"opacity 700ms ease-out",willChange:"opacity"}}),l&&!0&&I.jsx("div",{className:`absolute inset-0 z-30 pointer-events-none ${f==="up"?"banner-transition-up":"banner-transition-down"}`})]})};function Au(i){if(i===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return i}function oU(i,e){i.prototype=Object.create(e.prototype),i.prototype.constructor=i,i.__proto__=e}/*!
 * GSAP 3.13.0
 * https://gsap.com
 *
 * @license Copyright 2008-2025, GreenSock. All rights reserved.
 * Subject to the terms at https://gsap.com/standard-license
 * @author: Jack Doyle, jack@greensock.com
*/var mo={autoSleep:120,force3D:"auto",nullTargetWarn:1,units:{lineHeight:""}},Y0={duration:.5,overwrite:!1,delay:0},oR,_a,qi,qo=1e8,Li=1/qo,pA=Math.PI*2,I7=pA/4,B7=0,lU=Math.sqrt,z7=Math.cos,k7=Math.sin,sa=function(e){return typeof e=="string"},hr=function(e){return typeof e=="function"},Bu=function(e){return typeof e=="number"},lR=function(e){return typeof e>"u"},Vc=function(e){return typeof e=="object"},ks=function(e){return e!==!1},cR=function(){return typeof window<"u"},Z1=function(e){return hr(e)||sa(e)},cU=typeof ArrayBuffer=="function"&&ArrayBuffer.isView||function(){},ka=Array.isArray,mA=/(?:-?\.?\d|\.)+/gi,uU=/[-+=.]*\d+[.e\-+]*\d*[e\-+]*\d*/g,w0=/[-+=.]*\d+[.e-]*\d*[a-z%]*/g,Z2=/[-+=.]*\d+\.?\d*(?:e-|e\+)?\d*/gi,fU=/[+-]=-?[.\d]+/,hU=/[^,'"\[\]\s]+/gi,F7=/^[+\-=e\s\d]*\d+[.\d]*([a-z]*|%)\s*$/i,er,Ec,gA,uR,yo={},kS={},dU,pU=function(e){return(kS=Z0(e,yo))&&Gs},fR=function(e,t){return console.warn("Invalid property",e,"set to",t,"Missing plugin? gsap.registerPlugin()")},o_=function(e,t){return!t&&console.warn(e)},mU=function(e,t){return e&&(yo[e]=t)&&kS&&(kS[e]=t)||yo},l_=function(){return 0},H7={suppressEvents:!0,isStart:!0,kill:!1},fS={suppressEvents:!0,kill:!1},V7={suppressEvents:!0},hR={},ch=[],vA={},gU,lo={},K2={},X5=30,hS=[],dR="",pR=function(e){var t=e[0],n,r;if(Vc(t)||hr(t)||(e=[e]),!(n=(t._gsap||{}).harness)){for(r=hS.length;r--&&!hS[r].targetTest(t););n=hS[r]}for(r=e.length;r--;)e[r]&&(e[r]._gsap||(e[r]._gsap=new FU(e[r],n)))||e.splice(r,1);return e},sp=function(e){return e._gsap||pR(Yo(e))[0]._gsap},vU=function(e,t,n){return(n=e[t])&&hr(n)?e[t]():lR(n)&&e.getAttribute&&e.getAttribute(t)||n},Fs=function(e,t){return(e=e.split(",")).forEach(t)||e},xr=function(e){return Math.round(e*1e5)/1e5||0},Pr=function(e){return Math.round(e*1e7)/1e7||0},I0=function(e,t){var n=t.charAt(0),r=parseFloat(t.substr(2));return e=parseFloat(e),n==="+"?e+r:n==="-"?e-r:n==="*"?e*r:e/r},j7=function(e,t){for(var n=t.length,r=0;e.indexOf(t[r])<0&&++r<n;);return r<n},FS=function(){var e=ch.length,t=ch.slice(0),n,r;for(vA={},ch.length=0,n=0;n<e;n++)r=t[n],r&&r._lazy&&(r.render(r._lazy[0],r._lazy[1],!0)._lazy=0)},mR=function(e){return!!(e._initted||e._startAt||e.add)},yU=function(e,t,n,r){ch.length&&!_a&&FS(),e.render(t,n,!!(_a&&t<0&&mR(e))),ch.length&&!_a&&FS()},_U=function(e){var t=parseFloat(e);return(t||t===0)&&(e+"").match(hU).length<2?t:sa(e)?e.trim():e},xU=function(e){return e},_o=function(e,t){for(var n in t)n in e||(e[n]=t[n]);return e},G7=function(e){return function(t,n){for(var r in n)r in t||r==="duration"&&e||r==="ease"||(t[r]=n[r])}},Z0=function(e,t){for(var n in t)e[n]=t[n];return e},q5=function i(e,t){for(var n in t)n!=="__proto__"&&n!=="constructor"&&n!=="prototype"&&(e[n]=Vc(t[n])?i(e[n]||(e[n]={}),t[n]):t[n]);return e},HS=function(e,t){var n={},r;for(r in e)r in t||(n[r]=e[r]);return n},Cy=function(e){var t=e.parent||er,n=e.keyframes?G7(ka(e.keyframes)):_o;if(ks(e.inherit))for(;t;)n(e,t.vars.defaults),t=t.parent||t._dp;return e},W7=function(e,t){for(var n=e.length,r=n===t.length;r&&n--&&e[n]===t[n];);return n<0},bU=function(e,t,n,r,a){var s=e[r],l;if(a)for(l=t[a];s&&s[a]>l;)s=s._prev;return s?(t._next=s._next,s._next=t):(t._next=e[n],e[n]=t),t._next?t._next._prev=t:e[r]=t,t._prev=s,t.parent=t._dp=e,t},tE=function(e,t,n,r){n===void 0&&(n="_first"),r===void 0&&(r="_last");var a=t._prev,s=t._next;a?a._next=s:e[n]===t&&(e[n]=s),s?s._prev=a:e[r]===t&&(e[r]=a),t._next=t._prev=t.parent=null},dh=function(e,t){e.parent&&(!t||e.parent.autoRemoveChildren)&&e.parent.remove&&e.parent.remove(e),e._act=0},op=function(e,t){if(e&&(!t||t._end>e._dur||t._start<0))for(var n=e;n;)n._dirty=1,n=n.parent;return e},X7=function(e){for(var t=e.parent;t&&t.parent;)t._dirty=1,t.totalDuration(),t=t.parent;return e},yA=function(e,t,n,r){return e._startAt&&(_a?e._startAt.revert(fS):e.vars.immediateRender&&!e.vars.autoRevert||e._startAt.render(t,!0,r))},q7=function i(e){return!e||e._ts&&i(e.parent)},Y5=function(e){return e._repeat?K0(e._tTime,e=e.duration()+e._rDelay)*e:0},K0=function(e,t){var n=Math.floor(e=Pr(e/t));return e&&n===e?n-1:n},VS=function(e,t){return(e-t._start)*t._ts+(t._ts>=0?0:t._dirty?t.totalDuration():t._tDur)},nE=function(e){return e._end=Pr(e._start+(e._tDur/Math.abs(e._ts||e._rts||Li)||0))},iE=function(e,t){var n=e._dp;return n&&n.smoothChildTiming&&e._ts&&(e._start=Pr(n._time-(e._ts>0?t/e._ts:((e._dirty?e.totalDuration():e._tDur)-t)/-e._ts)),nE(e),n._dirty||op(n,e)),e},SU=function(e,t){var n;if((t._time||!t._dur&&t._initted||t._start<e._time&&(t._dur||!t.add))&&(n=VS(e.rawTime(),t),(!t._dur||W_(0,t.totalDuration(),n)-t._tTime>Li)&&t.render(n,!0)),op(e,t)._dp&&e._initted&&e._time>=e._dur&&e._ts){if(e._dur<e.duration())for(n=e;n._dp;)n.rawTime()>=0&&n.totalTime(n._tTime),n=n._dp;e._zTime=-Li}},Cc=function(e,t,n,r){return t.parent&&dh(t),t._start=Pr((Bu(n)?n:n||e!==er?Vo(e,n,t):e._time)+t._delay),t._end=Pr(t._start+(t.totalDuration()/Math.abs(t.timeScale())||0)),bU(e,t,"_first","_last",e._sort?"_start":0),_A(t)||(e._recent=t),r||SU(e,t),e._ts<0&&iE(e,e._tTime),e},wU=function(e,t){return(yo.ScrollTrigger||fR("scrollTrigger",t))&&yo.ScrollTrigger.create(t,e)},EU=function(e,t,n,r,a){if(vR(e,t,a),!e._initted)return 1;if(!n&&e._pt&&!_a&&(e._dur&&e.vars.lazy!==!1||!e._dur&&e.vars.lazy)&&gU!==uo.frame)return ch.push(e),e._lazy=[a,r],1},Y7=function i(e){var t=e.parent;return t&&t._ts&&t._initted&&!t._lock&&(t.rawTime()<0||i(t))},_A=function(e){var t=e.data;return t==="isFromStart"||t==="isStart"},Z7=function(e,t,n,r){var a=e.ratio,s=t<0||!t&&(!e._start&&Y7(e)&&!(!e._initted&&_A(e))||(e._ts<0||e._dp._ts<0)&&!_A(e))?0:1,l=e._rDelay,u=0,f,p,g;if(l&&e._repeat&&(u=W_(0,e._tDur,t),p=K0(u,l),e._yoyo&&p&1&&(s=1-s),p!==K0(e._tTime,l)&&(a=1-s,e.vars.repeatRefresh&&e._initted&&e.invalidate())),s!==a||_a||r||e._zTime===Li||!t&&e._zTime){if(!e._initted&&EU(e,t,r,n,u))return;for(g=e._zTime,e._zTime=t||(n?Li:0),n||(n=t&&!g),e.ratio=s,e._from&&(s=1-s),e._time=0,e._tTime=u,f=e._pt;f;)f.r(s,f.d),f=f._next;t<0&&yA(e,t,n,!0),e._onUpdate&&!n&&ho(e,"onUpdate"),u&&e._repeat&&!n&&e.parent&&ho(e,"onRepeat"),(t>=e._tDur||t<0)&&e.ratio===s&&(s&&dh(e,1),!n&&!_a&&(ho(e,s?"onComplete":"onReverseComplete",!0),e._prom&&e._prom()))}else e._zTime||(e._zTime=t)},K7=function(e,t,n){var r;if(n>t)for(r=e._first;r&&r._start<=n;){if(r.data==="isPause"&&r._start>t)return r;r=r._next}else for(r=e._last;r&&r._start>=n;){if(r.data==="isPause"&&r._start<t)return r;r=r._prev}},$0=function(e,t,n,r){var a=e._repeat,s=Pr(t)||0,l=e._tTime/e._tDur;return l&&!r&&(e._time*=s/e._dur),e._dur=s,e._tDur=a?a<0?1e10:Pr(s*(a+1)+e._rDelay*a):s,l>0&&!r&&iE(e,e._tTime=e._tDur*l),e.parent&&nE(e),n||op(e.parent,e),e},Z5=function(e){return e instanceof ds?op(e):$0(e,e._dur)},$7={_start:0,endTime:l_,totalDuration:l_},Vo=function i(e,t,n){var r=e.labels,a=e._recent||$7,s=e.duration()>=qo?a.endTime(!1):e._dur,l,u,f;return sa(t)&&(isNaN(t)||t in r)?(u=t.charAt(0),f=t.substr(-1)==="%",l=t.indexOf("="),u==="<"||u===">"?(l>=0&&(t=t.replace(/=/,"")),(u==="<"?a._start:a.endTime(a._repeat>=0))+(parseFloat(t.substr(1))||0)*(f?(l<0?a:n).totalDuration()/100:1)):l<0?(t in r||(r[t]=s),r[t]):(u=parseFloat(t.charAt(l-1)+t.substr(l+1)),f&&n&&(u=u/100*(ka(n)?n[0]:n).totalDuration()),l>1?i(e,t.substr(0,l-1),n)+u:s+u)):t==null?s:+t},Ry=function(e,t,n){var r=Bu(t[1]),a=(r?2:1)+(e<2?0:1),s=t[a],l,u;if(r&&(s.duration=t[1]),s.parent=n,e){for(l=s,u=n;u&&!("immediateRender"in l);)l=u.vars.defaults||{},u=ks(u.vars.inherit)&&u.parent;s.immediateRender=ks(l.immediateRender),e<2?s.runBackwards=1:s.startAt=t[a-1]}return new Or(t[0],s,t[a+1])},Mh=function(e,t){return e||e===0?t(e):t},W_=function(e,t,n){return n<e?e:n>t?t:n},Ia=function(e,t){return!sa(e)||!(t=F7.exec(e))?"":t[1]},J7=function(e,t,n){return Mh(n,function(r){return W_(e,t,r)})},xA=[].slice,MU=function(e,t){return e&&Vc(e)&&"length"in e&&(!t&&!e.length||e.length-1 in e&&Vc(e[0]))&&!e.nodeType&&e!==Ec},Q7=function(e,t,n){return n===void 0&&(n=[]),e.forEach(function(r){var a;return sa(r)&&!t||MU(r,1)?(a=n).push.apply(a,Yo(r)):n.push(r)})||n},Yo=function(e,t,n){return qi&&!t&&qi.selector?qi.selector(e):sa(e)&&!n&&(gA||!J0())?xA.call((t||uR).querySelectorAll(e),0):ka(e)?Q7(e,n):MU(e)?xA.call(e,0):e?[e]:[]},bA=function(e){return e=Yo(e)[0]||o_("Invalid scope")||{},function(t){var n=e.current||e.nativeElement||e;return Yo(t,n.querySelectorAll?n:n===e?o_("Invalid scope")||uR.createElement("div"):e)}},TU=function(e){return e.sort(function(){return .5-Math.random()})},AU=function(e){if(hr(e))return e;var t=Vc(e)?e:{each:e},n=lp(t.ease),r=t.from||0,a=parseFloat(t.base)||0,s={},l=r>0&&r<1,u=isNaN(r)||l,f=t.axis,p=r,g=r;return sa(r)?p=g={center:.5,edges:.5,end:1}[r]||0:!l&&u&&(p=r[0],g=r[1]),function(v,_,S){var w=(S||t).length,E=s[w],b,R,C,A,N,L,B,U,P;if(!E){if(P=t.grid==="auto"?0:(t.grid||[1,qo])[1],!P){for(B=-qo;B<(B=S[P++].getBoundingClientRect().left)&&P<w;);P<w&&P--}for(E=s[w]=[],b=u?Math.min(P,w)*p-.5:r%P,R=P===qo?0:u?w*g/P-.5:r/P|0,B=0,U=qo,L=0;L<w;L++)C=L%P-b,A=R-(L/P|0),E[L]=N=f?Math.abs(f==="y"?A:C):lU(C*C+A*A),N>B&&(B=N),N<U&&(U=N);r==="random"&&TU(E),E.max=B-U,E.min=U,E.v=w=(parseFloat(t.amount)||parseFloat(t.each)*(P>w?w-1:f?f==="y"?w/P:P:Math.max(P,w/P))||0)*(r==="edges"?-1:1),E.b=w<0?a-w:a,E.u=Ia(t.amount||t.each)||0,n=n&&w<0?BU(n):n}return w=(E[v]-E.min)/E.max||0,Pr(E.b+(n?n(w):w)*E.v)+E.u}},SA=function(e){var t=Math.pow(10,((e+"").split(".")[1]||"").length);return function(n){var r=Pr(Math.round(parseFloat(n)/e)*e*t);return(r-r%1)/t+(Bu(n)?0:Ia(n))}},CU=function(e,t){var n=ka(e),r,a;return!n&&Vc(e)&&(r=n=e.radius||qo,e.values?(e=Yo(e.values),(a=!Bu(e[0]))&&(r*=r)):e=SA(e.increment)),Mh(t,n?hr(e)?function(s){return a=e(s),Math.abs(a-s)<=r?a:s}:function(s){for(var l=parseFloat(a?s.x:s),u=parseFloat(a?s.y:0),f=qo,p=0,g=e.length,v,_;g--;)a?(v=e[g].x-l,_=e[g].y-u,v=v*v+_*_):v=Math.abs(e[g]-l),v<f&&(f=v,p=g);return p=!r||f<=r?e[p]:s,a||p===s||Bu(s)?p:p+Ia(s)}:SA(e))},RU=function(e,t,n,r){return Mh(ka(e)?!t:n===!0?!!(n=0):!r,function(){return ka(e)?e[~~(Math.random()*e.length)]:(n=n||1e-5)&&(r=n<1?Math.pow(10,(n+"").length-2):1)&&Math.floor(Math.round((e-n/2+Math.random()*(t-e+n*.99))/n)*n*r)/r})},ej=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(r){return t.reduce(function(a,s){return s(a)},r)}},tj=function(e,t){return function(n){return e(parseFloat(n))+(t||Ia(n))}},nj=function(e,t,n){return OU(e,t,0,1,n)},DU=function(e,t,n){return Mh(n,function(r){return e[~~t(r)]})},ij=function i(e,t,n){var r=t-e;return ka(e)?DU(e,i(0,e.length),t):Mh(n,function(a){return(r+(a-e)%r)%r+e})},rj=function i(e,t,n){var r=t-e,a=r*2;return ka(e)?DU(e,i(0,e.length-1),t):Mh(n,function(s){return s=(a+(s-e)%a)%a||0,e+(s>r?a-s:s)})},c_=function(e){for(var t=0,n="",r,a,s,l;~(r=e.indexOf("random(",t));)s=e.indexOf(")",r),l=e.charAt(r+7)==="[",a=e.substr(r+7,s-r-7).match(l?hU:mA),n+=e.substr(t,r-t)+RU(l?a:+a[0],l?0:+a[1],+a[2]||1e-5),t=s+1;return n+e.substr(t,e.length-t)},OU=function(e,t,n,r,a){var s=t-e,l=r-n;return Mh(a,function(u){return n+((u-e)/s*l||0)})},aj=function i(e,t,n,r){var a=isNaN(e+t)?0:function(_){return(1-_)*e+_*t};if(!a){var s=sa(e),l={},u,f,p,g,v;if(n===!0&&(r=1)&&(n=null),s)e={p:e},t={p:t};else if(ka(e)&&!ka(t)){for(p=[],g=e.length,v=g-2,f=1;f<g;f++)p.push(i(e[f-1],e[f]));g--,a=function(S){S*=g;var w=Math.min(v,~~S);return p[w](S-w)},n=t}else r||(e=Z0(ka(e)?[]:{},e));if(!p){for(u in t)gR.call(l,e,u,"get",t[u]);a=function(S){return xR(S,l)||(s?e.p:e)}}}return Mh(n,a)},K5=function(e,t,n){var r=e.labels,a=qo,s,l,u;for(s in r)l=r[s]-t,l<0==!!n&&l&&a>(l=Math.abs(l))&&(u=s,a=l);return u},ho=function(e,t,n){var r=e.vars,a=r[t],s=qi,l=e._ctx,u,f,p;if(a)return u=r[t+"Params"],f=r.callbackScope||e,n&&ch.length&&FS(),l&&(qi=l),p=u?a.apply(f,u):a.call(f),qi=s,p},dy=function(e){return dh(e),e.scrollTrigger&&e.scrollTrigger.kill(!!_a),e.progress()<1&&ho(e,"onInterrupt"),e},E0,NU=[],PU=function(e){if(e)if(e=!e.name&&e.default||e,cR()||e.headless){var t=e.name,n=hr(e),r=t&&!n&&e.init?function(){this._props=[]}:e,a={init:l_,render:xR,add:gR,kill:bj,modifier:xj,rawVars:0},s={targetTest:0,get:0,getSetter:_R,aliases:{},register:0};if(J0(),e!==r){if(lo[t])return;_o(r,_o(HS(e,a),s)),Z0(r.prototype,Z0(a,HS(e,s))),lo[r.prop=t]=r,e.targetTest&&(hS.push(r),hR[t]=1),t=(t==="css"?"CSS":t.charAt(0).toUpperCase()+t.substr(1))+"Plugin"}mU(t,r),e.register&&e.register(Gs,r,Hs)}else NU.push(e)},Pi=255,py={aqua:[0,Pi,Pi],lime:[0,Pi,0],silver:[192,192,192],black:[0,0,0],maroon:[128,0,0],teal:[0,128,128],blue:[0,0,Pi],navy:[0,0,128],white:[Pi,Pi,Pi],olive:[128,128,0],yellow:[Pi,Pi,0],orange:[Pi,165,0],gray:[128,128,128],purple:[128,0,128],green:[0,128,0],red:[Pi,0,0],pink:[Pi,192,203],cyan:[0,Pi,Pi],transparent:[Pi,Pi,Pi,0]},$2=function(e,t,n){return e+=e<0?1:e>1?-1:0,(e*6<1?t+(n-t)*e*6:e<.5?n:e*3<2?t+(n-t)*(2/3-e)*6:t)*Pi+.5|0},LU=function(e,t,n){var r=e?Bu(e)?[e>>16,e>>8&Pi,e&Pi]:0:py.black,a,s,l,u,f,p,g,v,_,S;if(!r){if(e.substr(-1)===","&&(e=e.substr(0,e.length-1)),py[e])r=py[e];else if(e.charAt(0)==="#"){if(e.length<6&&(a=e.charAt(1),s=e.charAt(2),l=e.charAt(3),e="#"+a+a+s+s+l+l+(e.length===5?e.charAt(4)+e.charAt(4):"")),e.length===9)return r=parseInt(e.substr(1,6),16),[r>>16,r>>8&Pi,r&Pi,parseInt(e.substr(7),16)/255];e=parseInt(e.substr(1),16),r=[e>>16,e>>8&Pi,e&Pi]}else if(e.substr(0,3)==="hsl"){if(r=S=e.match(mA),!t)u=+r[0]%360/360,f=+r[1]/100,p=+r[2]/100,s=p<=.5?p*(f+1):p+f-p*f,a=p*2-s,r.length>3&&(r[3]*=1),r[0]=$2(u+1/3,a,s),r[1]=$2(u,a,s),r[2]=$2(u-1/3,a,s);else if(~e.indexOf("="))return r=e.match(uU),n&&r.length<4&&(r[3]=1),r}else r=e.match(mA)||py.transparent;r=r.map(Number)}return t&&!S&&(a=r[0]/Pi,s=r[1]/Pi,l=r[2]/Pi,g=Math.max(a,s,l),v=Math.min(a,s,l),p=(g+v)/2,g===v?u=f=0:(_=g-v,f=p>.5?_/(2-g-v):_/(g+v),u=g===a?(s-l)/_+(s<l?6:0):g===s?(l-a)/_+2:(a-s)/_+4,u*=60),r[0]=~~(u+.5),r[1]=~~(f*100+.5),r[2]=~~(p*100+.5)),n&&r.length<4&&(r[3]=1),r},UU=function(e){var t=[],n=[],r=-1;return e.split(uh).forEach(function(a){var s=a.match(w0)||[];t.push.apply(t,s),n.push(r+=s.length+1)}),t.c=n,t},$5=function(e,t,n){var r="",a=(e+r).match(uh),s=t?"hsla(":"rgba(",l=0,u,f,p,g;if(!a)return e;if(a=a.map(function(v){return(v=LU(v,t,1))&&s+(t?v[0]+","+v[1]+"%,"+v[2]+"%,"+v[3]:v.join(","))+")"}),n&&(p=UU(e),u=n.c,u.join(r)!==p.c.join(r)))for(f=e.replace(uh,"1").split(w0),g=f.length-1;l<g;l++)r+=f[l]+(~u.indexOf(l)?a.shift()||s+"0,0,0,0)":(p.length?p:a.length?a:n).shift());if(!f)for(f=e.split(uh),g=f.length-1;l<g;l++)r+=f[l]+a[l];return r+f[g]},uh=(function(){var i="(?:\\b(?:(?:rgb|rgba|hsl|hsla)\\(.+?\\))|\\B#(?:[0-9a-f]{3,4}){1,2}\\b",e;for(e in py)i+="|"+e+"\\b";return new RegExp(i+")","gi")})(),sj=/hsl[a]?\(/,IU=function(e){var t=e.join(" "),n;if(uh.lastIndex=0,uh.test(t))return n=sj.test(t),e[1]=$5(e[1],n),e[0]=$5(e[0],n,UU(e[1])),!0},u_,uo=(function(){var i=Date.now,e=500,t=33,n=i(),r=n,a=1e3/240,s=a,l=[],u,f,p,g,v,_,S=function w(E){var b=i()-r,R=E===!0,C,A,N,L;if((b>e||b<0)&&(n+=b-t),r+=b,N=r-n,C=N-s,(C>0||R)&&(L=++g.frame,v=N-g.time*1e3,g.time=N=N/1e3,s+=C+(C>=a?4:a-C),A=1),R||(u=f(w)),A)for(_=0;_<l.length;_++)l[_](N,v,L,E)};return g={time:0,frame:0,tick:function(){S(!0)},deltaRatio:function(E){return v/(1e3/(E||60))},wake:function(){dU&&(!gA&&cR()&&(Ec=gA=window,uR=Ec.document||{},yo.gsap=Gs,(Ec.gsapVersions||(Ec.gsapVersions=[])).push(Gs.version),pU(kS||Ec.GreenSockGlobals||!Ec.gsap&&Ec||{}),NU.forEach(PU)),p=typeof requestAnimationFrame<"u"&&requestAnimationFrame,u&&g.sleep(),f=p||function(E){return setTimeout(E,s-g.time*1e3+1|0)},u_=1,S(2))},sleep:function(){(p?cancelAnimationFrame:clearTimeout)(u),u_=0,f=l_},lagSmoothing:function(E,b){e=E||1/0,t=Math.min(b||33,e)},fps:function(E){a=1e3/(E||240),s=g.time*1e3+a},add:function(E,b,R){var C=b?function(A,N,L,B){E(A,N,L,B),g.remove(C)}:E;return g.remove(E),l[R?"unshift":"push"](C),J0(),C},remove:function(E,b){~(b=l.indexOf(E))&&l.splice(b,1)&&_>=b&&_--},_listeners:l},g})(),J0=function(){return!u_&&uo.wake()},ei={},oj=/^[\d.\-M][\d.\-,\s]/,lj=/["']/g,cj=function(e){for(var t={},n=e.substr(1,e.length-3).split(":"),r=n[0],a=1,s=n.length,l,u,f;a<s;a++)u=n[a],l=a!==s-1?u.lastIndexOf(","):u.length,f=u.substr(0,l),t[r]=isNaN(f)?f.replace(lj,"").trim():+f,r=u.substr(l+1).trim();return t},uj=function(e){var t=e.indexOf("(")+1,n=e.indexOf(")"),r=e.indexOf("(",t);return e.substring(t,~r&&r<n?e.indexOf(")",n+1):n)},fj=function(e){var t=(e+"").split("("),n=ei[t[0]];return n&&t.length>1&&n.config?n.config.apply(null,~e.indexOf("{")?[cj(t[1])]:uj(e).split(",").map(_U)):ei._CE&&oj.test(e)?ei._CE("",e):n},BU=function(e){return function(t){return 1-e(1-t)}},zU=function i(e,t){for(var n=e._first,r;n;)n instanceof ds?i(n,t):n.vars.yoyoEase&&(!n._yoyo||!n._repeat)&&n._yoyo!==t&&(n.timeline?i(n.timeline,t):(r=n._ease,n._ease=n._yEase,n._yEase=r,n._yoyo=t)),n=n._next},lp=function(e,t){return e&&(hr(e)?e:ei[e]||fj(e))||t},Dp=function(e,t,n,r){n===void 0&&(n=function(u){return 1-t(1-u)}),r===void 0&&(r=function(u){return u<.5?t(u*2)/2:1-t((1-u)*2)/2});var a={easeIn:t,easeOut:n,easeInOut:r},s;return Fs(e,function(l){ei[l]=yo[l]=a,ei[s=l.toLowerCase()]=n;for(var u in a)ei[s+(u==="easeIn"?".in":u==="easeOut"?".out":".inOut")]=ei[l+"."+u]=a[u]}),a},kU=function(e){return function(t){return t<.5?(1-e(1-t*2))/2:.5+e((t-.5)*2)/2}},J2=function i(e,t,n){var r=t>=1?t:1,a=(n||(e?.3:.45))/(t<1?t:1),s=a/pA*(Math.asin(1/r)||0),l=function(p){return p===1?1:r*Math.pow(2,-10*p)*k7((p-s)*a)+1},u=e==="out"?l:e==="in"?function(f){return 1-l(1-f)}:kU(l);return a=pA/a,u.config=function(f,p){return i(e,f,p)},u},Q2=function i(e,t){t===void 0&&(t=1.70158);var n=function(s){return s?--s*s*((t+1)*s+t)+1:0},r=e==="out"?n:e==="in"?function(a){return 1-n(1-a)}:kU(n);return r.config=function(a){return i(e,a)},r};Fs("Linear,Quad,Cubic,Quart,Quint,Strong",function(i,e){var t=e<5?e+1:e;Dp(i+",Power"+(t-1),e?function(n){return Math.pow(n,t)}:function(n){return n},function(n){return 1-Math.pow(1-n,t)},function(n){return n<.5?Math.pow(n*2,t)/2:1-Math.pow((1-n)*2,t)/2})});ei.Linear.easeNone=ei.none=ei.Linear.easeIn;Dp("Elastic",J2("in"),J2("out"),J2());(function(i,e){var t=1/e,n=2*t,r=2.5*t,a=function(l){return l<t?i*l*l:l<n?i*Math.pow(l-1.5/e,2)+.75:l<r?i*(l-=2.25/e)*l+.9375:i*Math.pow(l-2.625/e,2)+.984375};Dp("Bounce",function(s){return 1-a(1-s)},a)})(7.5625,2.75);Dp("Expo",function(i){return Math.pow(2,10*(i-1))*i+i*i*i*i*i*i*(1-i)});Dp("Circ",function(i){return-(lU(1-i*i)-1)});Dp("Sine",function(i){return i===1?1:-z7(i*I7)+1});Dp("Back",Q2("in"),Q2("out"),Q2());ei.SteppedEase=ei.steps=yo.SteppedEase={config:function(e,t){e===void 0&&(e=1);var n=1/e,r=e+(t?0:1),a=t?1:0,s=1-Li;return function(l){return((r*W_(0,s,l)|0)+a)*n}}};Y0.ease=ei["quad.out"];Fs("onComplete,onUpdate,onStart,onRepeat,onReverseComplete,onInterrupt",function(i){return dR+=i+","+i+"Params,"});var FU=function(e,t){this.id=B7++,e._gsap=this,this.target=e,this.harness=t,this.get=t?t.get:vU,this.set=t?t.getSetter:_R},f_=(function(){function i(t){this.vars=t,this._delay=+t.delay||0,(this._repeat=t.repeat===1/0?-2:t.repeat||0)&&(this._rDelay=t.repeatDelay||0,this._yoyo=!!t.yoyo||!!t.yoyoEase),this._ts=1,$0(this,+t.duration,1,1),this.data=t.data,qi&&(this._ctx=qi,qi.data.push(this)),u_||uo.wake()}var e=i.prototype;return e.delay=function(n){return n||n===0?(this.parent&&this.parent.smoothChildTiming&&this.startTime(this._start+n-this._delay),this._delay=n,this):this._delay},e.duration=function(n){return arguments.length?this.totalDuration(this._repeat>0?n+(n+this._rDelay)*this._repeat:n):this.totalDuration()&&this._dur},e.totalDuration=function(n){return arguments.length?(this._dirty=0,$0(this,this._repeat<0?n:(n-this._repeat*this._rDelay)/(this._repeat+1))):this._tDur},e.totalTime=function(n,r){if(J0(),!arguments.length)return this._tTime;var a=this._dp;if(a&&a.smoothChildTiming&&this._ts){for(iE(this,n),!a._dp||a.parent||SU(a,this);a&&a.parent;)a.parent._time!==a._start+(a._ts>=0?a._tTime/a._ts:(a.totalDuration()-a._tTime)/-a._ts)&&a.totalTime(a._tTime,!0),a=a.parent;!this.parent&&this._dp.autoRemoveChildren&&(this._ts>0&&n<this._tDur||this._ts<0&&n>0||!this._tDur&&!n)&&Cc(this._dp,this,this._start-this._delay)}return(this._tTime!==n||!this._dur&&!r||this._initted&&Math.abs(this._zTime)===Li||!n&&!this._initted&&(this.add||this._ptLookup))&&(this._ts||(this._pTime=n),yU(this,n,r)),this},e.time=function(n,r){return arguments.length?this.totalTime(Math.min(this.totalDuration(),n+Y5(this))%(this._dur+this._rDelay)||(n?this._dur:0),r):this._time},e.totalProgress=function(n,r){return arguments.length?this.totalTime(this.totalDuration()*n,r):this.totalDuration()?Math.min(1,this._tTime/this._tDur):this.rawTime()>=0&&this._initted?1:0},e.progress=function(n,r){return arguments.length?this.totalTime(this.duration()*(this._yoyo&&!(this.iteration()&1)?1-n:n)+Y5(this),r):this.duration()?Math.min(1,this._time/this._dur):this.rawTime()>0?1:0},e.iteration=function(n,r){var a=this.duration()+this._rDelay;return arguments.length?this.totalTime(this._time+(n-1)*a,r):this._repeat?K0(this._tTime,a)+1:1},e.timeScale=function(n,r){if(!arguments.length)return this._rts===-Li?0:this._rts;if(this._rts===n)return this;var a=this.parent&&this._ts?VS(this.parent._time,this):this._tTime;return this._rts=+n||0,this._ts=this._ps||n===-Li?0:this._rts,this.totalTime(W_(-Math.abs(this._delay),this.totalDuration(),a),r!==!1),nE(this),X7(this)},e.paused=function(n){return arguments.length?(this._ps!==n&&(this._ps=n,n?(this._pTime=this._tTime||Math.max(-this._delay,this.rawTime()),this._ts=this._act=0):(J0(),this._ts=this._rts,this.totalTime(this.parent&&!this.parent.smoothChildTiming?this.rawTime():this._tTime||this._pTime,this.progress()===1&&Math.abs(this._zTime)!==Li&&(this._tTime-=Li)))),this):this._ps},e.startTime=function(n){if(arguments.length){this._start=n;var r=this.parent||this._dp;return r&&(r._sort||!this.parent)&&Cc(r,this,n-this._delay),this}return this._start},e.endTime=function(n){return this._start+(ks(n)?this.totalDuration():this.duration())/Math.abs(this._ts||1)},e.rawTime=function(n){var r=this.parent||this._dp;return r?n&&(!this._ts||this._repeat&&this._time&&this.totalProgress()<1)?this._tTime%(this._dur+this._rDelay):this._ts?VS(r.rawTime(n),this):this._tTime:this._tTime},e.revert=function(n){n===void 0&&(n=V7);var r=_a;return _a=n,mR(this)&&(this.timeline&&this.timeline.revert(n),this.totalTime(-.01,n.suppressEvents)),this.data!=="nested"&&n.kill!==!1&&this.kill(),_a=r,this},e.globalTime=function(n){for(var r=this,a=arguments.length?n:r.rawTime();r;)a=r._start+a/(Math.abs(r._ts)||1),r=r._dp;return!this.parent&&this._sat?this._sat.globalTime(n):a},e.repeat=function(n){return arguments.length?(this._repeat=n===1/0?-2:n,Z5(this)):this._repeat===-2?1/0:this._repeat},e.repeatDelay=function(n){if(arguments.length){var r=this._time;return this._rDelay=n,Z5(this),r?this.time(r):this}return this._rDelay},e.yoyo=function(n){return arguments.length?(this._yoyo=n,this):this._yoyo},e.seek=function(n,r){return this.totalTime(Vo(this,n),ks(r))},e.restart=function(n,r){return this.play().totalTime(n?-this._delay:0,ks(r)),this._dur||(this._zTime=-Li),this},e.play=function(n,r){return n!=null&&this.seek(n,r),this.reversed(!1).paused(!1)},e.reverse=function(n,r){return n!=null&&this.seek(n||this.totalDuration(),r),this.reversed(!0).paused(!1)},e.pause=function(n,r){return n!=null&&this.seek(n,r),this.paused(!0)},e.resume=function(){return this.paused(!1)},e.reversed=function(n){return arguments.length?(!!n!==this.reversed()&&this.timeScale(-this._rts||(n?-Li:0)),this):this._rts<0},e.invalidate=function(){return this._initted=this._act=0,this._zTime=-Li,this},e.isActive=function(){var n=this.parent||this._dp,r=this._start,a;return!!(!n||this._ts&&this._initted&&n.isActive()&&(a=n.rawTime(!0))>=r&&a<this.endTime(!0)-Li)},e.eventCallback=function(n,r,a){var s=this.vars;return arguments.length>1?(r?(s[n]=r,a&&(s[n+"Params"]=a),n==="onUpdate"&&(this._onUpdate=r)):delete s[n],this):s[n]},e.then=function(n){var r=this;return new Promise(function(a){var s=hr(n)?n:xU,l=function(){var f=r.then;r.then=null,hr(s)&&(s=s(r))&&(s.then||s===r)&&(r.then=f),a(s),r.then=f};r._initted&&r.totalProgress()===1&&r._ts>=0||!r._tTime&&r._ts<0?l():r._prom=l})},e.kill=function(){dy(this)},i})();_o(f_.prototype,{_time:0,_start:0,_end:0,_tTime:0,_tDur:0,_dirty:0,_repeat:0,_yoyo:!1,parent:null,_initted:!1,_rDelay:0,_ts:1,_dp:0,ratio:0,_zTime:-Li,_prom:0,_ps:!1,_rts:1});var ds=(function(i){oU(e,i);function e(n,r){var a;return n===void 0&&(n={}),a=i.call(this,n)||this,a.labels={},a.smoothChildTiming=!!n.smoothChildTiming,a.autoRemoveChildren=!!n.autoRemoveChildren,a._sort=ks(n.sortChildren),er&&Cc(n.parent||er,Au(a),r),n.reversed&&a.reverse(),n.paused&&a.paused(!0),n.scrollTrigger&&wU(Au(a),n.scrollTrigger),a}var t=e.prototype;return t.to=function(r,a,s){return Ry(0,arguments,this),this},t.from=function(r,a,s){return Ry(1,arguments,this),this},t.fromTo=function(r,a,s,l){return Ry(2,arguments,this),this},t.set=function(r,a,s){return a.duration=0,a.parent=this,Cy(a).repeatDelay||(a.repeat=0),a.immediateRender=!!a.immediateRender,new Or(r,a,Vo(this,s),1),this},t.call=function(r,a,s){return Cc(this,Or.delayedCall(0,r,a),s)},t.staggerTo=function(r,a,s,l,u,f,p){return s.duration=a,s.stagger=s.stagger||l,s.onComplete=f,s.onCompleteParams=p,s.parent=this,new Or(r,s,Vo(this,u)),this},t.staggerFrom=function(r,a,s,l,u,f,p){return s.runBackwards=1,Cy(s).immediateRender=ks(s.immediateRender),this.staggerTo(r,a,s,l,u,f,p)},t.staggerFromTo=function(r,a,s,l,u,f,p,g){return l.startAt=s,Cy(l).immediateRender=ks(l.immediateRender),this.staggerTo(r,a,l,u,f,p,g)},t.render=function(r,a,s){var l=this._time,u=this._dirty?this.totalDuration():this._tDur,f=this._dur,p=r<=0?0:Pr(r),g=this._zTime<0!=r<0&&(this._initted||!f),v,_,S,w,E,b,R,C,A,N,L,B;if(this!==er&&p>u&&r>=0&&(p=u),p!==this._tTime||s||g){if(l!==this._time&&f&&(p+=this._time-l,r+=this._time-l),v=p,A=this._start,C=this._ts,b=!C,g&&(f||(l=this._zTime),(r||!a)&&(this._zTime=r)),this._repeat){if(L=this._yoyo,E=f+this._rDelay,this._repeat<-1&&r<0)return this.totalTime(E*100+r,a,s);if(v=Pr(p%E),p===u?(w=this._repeat,v=f):(N=Pr(p/E),w=~~N,w&&w===N&&(v=f,w--),v>f&&(v=f)),N=K0(this._tTime,E),!l&&this._tTime&&N!==w&&this._tTime-N*E-this._dur<=0&&(N=w),L&&w&1&&(v=f-v,B=1),w!==N&&!this._lock){var U=L&&N&1,P=U===(L&&w&1);if(w<N&&(U=!U),l=U?0:p%f?f:p,this._lock=1,this.render(l||(B?0:Pr(w*E)),a,!f)._lock=0,this._tTime=p,!a&&this.parent&&ho(this,"onRepeat"),this.vars.repeatRefresh&&!B&&(this.invalidate()._lock=1),l&&l!==this._time||b!==!this._ts||this.vars.onRepeat&&!this.parent&&!this._act)return this;if(f=this._dur,u=this._tDur,P&&(this._lock=2,l=U?f:-1e-4,this.render(l,!0),this.vars.repeatRefresh&&!B&&this.invalidate()),this._lock=0,!this._ts&&!b)return this;zU(this,B)}}if(this._hasPause&&!this._forcing&&this._lock<2&&(R=K7(this,Pr(l),Pr(v)),R&&(p-=v-(v=R._start))),this._tTime=p,this._time=v,this._act=!C,this._initted||(this._onUpdate=this.vars.onUpdate,this._initted=1,this._zTime=r,l=0),!l&&p&&!a&&!N&&(ho(this,"onStart"),this._tTime!==p))return this;if(v>=l&&r>=0)for(_=this._first;_;){if(S=_._next,(_._act||v>=_._start)&&_._ts&&R!==_){if(_.parent!==this)return this.render(r,a,s);if(_.render(_._ts>0?(v-_._start)*_._ts:(_._dirty?_.totalDuration():_._tDur)+(v-_._start)*_._ts,a,s),v!==this._time||!this._ts&&!b){R=0,S&&(p+=this._zTime=-Li);break}}_=S}else{_=this._last;for(var z=r<0?r:v;_;){if(S=_._prev,(_._act||z<=_._end)&&_._ts&&R!==_){if(_.parent!==this)return this.render(r,a,s);if(_.render(_._ts>0?(z-_._start)*_._ts:(_._dirty?_.totalDuration():_._tDur)+(z-_._start)*_._ts,a,s||_a&&mR(_)),v!==this._time||!this._ts&&!b){R=0,S&&(p+=this._zTime=z?-Li:Li);break}}_=S}}if(R&&!a&&(this.pause(),R.render(v>=l?0:-Li)._zTime=v>=l?1:-1,this._ts))return this._start=A,nE(this),this.render(r,a,s);this._onUpdate&&!a&&ho(this,"onUpdate",!0),(p===u&&this._tTime>=this.totalDuration()||!p&&l)&&(A===this._start||Math.abs(C)!==Math.abs(this._ts))&&(this._lock||((r||!f)&&(p===u&&this._ts>0||!p&&this._ts<0)&&dh(this,1),!a&&!(r<0&&!l)&&(p||l||!u)&&(ho(this,p===u&&r>=0?"onComplete":"onReverseComplete",!0),this._prom&&!(p<u&&this.timeScale()>0)&&this._prom())))}return this},t.add=function(r,a){var s=this;if(Bu(a)||(a=Vo(this,a,r)),!(r instanceof f_)){if(ka(r))return r.forEach(function(l){return s.add(l,a)}),this;if(sa(r))return this.addLabel(r,a);if(hr(r))r=Or.delayedCall(0,r);else return this}return this!==r?Cc(this,r,a):this},t.getChildren=function(r,a,s,l){r===void 0&&(r=!0),a===void 0&&(a=!0),s===void 0&&(s=!0),l===void 0&&(l=-qo);for(var u=[],f=this._first;f;)f._start>=l&&(f instanceof Or?a&&u.push(f):(s&&u.push(f),r&&u.push.apply(u,f.getChildren(!0,a,s)))),f=f._next;return u},t.getById=function(r){for(var a=this.getChildren(1,1,1),s=a.length;s--;)if(a[s].vars.id===r)return a[s]},t.remove=function(r){return sa(r)?this.removeLabel(r):hr(r)?this.killTweensOf(r):(r.parent===this&&tE(this,r),r===this._recent&&(this._recent=this._last),op(this))},t.totalTime=function(r,a){return arguments.length?(this._forcing=1,!this._dp&&this._ts&&(this._start=Pr(uo.time-(this._ts>0?r/this._ts:(this.totalDuration()-r)/-this._ts))),i.prototype.totalTime.call(this,r,a),this._forcing=0,this):this._tTime},t.addLabel=function(r,a){return this.labels[r]=Vo(this,a),this},t.removeLabel=function(r){return delete this.labels[r],this},t.addPause=function(r,a,s){var l=Or.delayedCall(0,a||l_,s);return l.data="isPause",this._hasPause=1,Cc(this,l,Vo(this,r))},t.removePause=function(r){var a=this._first;for(r=Vo(this,r);a;)a._start===r&&a.data==="isPause"&&dh(a),a=a._next},t.killTweensOf=function(r,a,s){for(var l=this.getTweensOf(r,s),u=l.length;u--;)nh!==l[u]&&l[u].kill(r,a);return this},t.getTweensOf=function(r,a){for(var s=[],l=Yo(r),u=this._first,f=Bu(a),p;u;)u instanceof Or?j7(u._targets,l)&&(f?(!nh||u._initted&&u._ts)&&u.globalTime(0)<=a&&u.globalTime(u.totalDuration())>a:!a||u.isActive())&&s.push(u):(p=u.getTweensOf(l,a)).length&&s.push.apply(s,p),u=u._next;return s},t.tweenTo=function(r,a){a=a||{};var s=this,l=Vo(s,r),u=a,f=u.startAt,p=u.onStart,g=u.onStartParams,v=u.immediateRender,_,S=Or.to(s,_o({ease:a.ease||"none",lazy:!1,immediateRender:!1,time:l,overwrite:"auto",duration:a.duration||Math.abs((l-(f&&"time"in f?f.time:s._time))/s.timeScale())||Li,onStart:function(){if(s.pause(),!_){var E=a.duration||Math.abs((l-(f&&"time"in f?f.time:s._time))/s.timeScale());S._dur!==E&&$0(S,E,0,1).render(S._time,!0,!0),_=1}p&&p.apply(S,g||[])}},a));return v?S.render(0):S},t.tweenFromTo=function(r,a,s){return this.tweenTo(a,_o({startAt:{time:Vo(this,r)}},s))},t.recent=function(){return this._recent},t.nextLabel=function(r){return r===void 0&&(r=this._time),K5(this,Vo(this,r))},t.previousLabel=function(r){return r===void 0&&(r=this._time),K5(this,Vo(this,r),1)},t.currentLabel=function(r){return arguments.length?this.seek(r,!0):this.previousLabel(this._time+Li)},t.shiftChildren=function(r,a,s){s===void 0&&(s=0);for(var l=this._first,u=this.labels,f;l;)l._start>=s&&(l._start+=r,l._end+=r),l=l._next;if(a)for(f in u)u[f]>=s&&(u[f]+=r);return op(this)},t.invalidate=function(r){var a=this._first;for(this._lock=0;a;)a.invalidate(r),a=a._next;return i.prototype.invalidate.call(this,r)},t.clear=function(r){r===void 0&&(r=!0);for(var a=this._first,s;a;)s=a._next,this.remove(a),a=s;return this._dp&&(this._time=this._tTime=this._pTime=0),r&&(this.labels={}),op(this)},t.totalDuration=function(r){var a=0,s=this,l=s._last,u=qo,f,p,g;if(arguments.length)return s.timeScale((s._repeat<0?s.duration():s.totalDuration())/(s.reversed()?-r:r));if(s._dirty){for(g=s.parent;l;)f=l._prev,l._dirty&&l.totalDuration(),p=l._start,p>u&&s._sort&&l._ts&&!s._lock?(s._lock=1,Cc(s,l,p-l._delay,1)._lock=0):u=p,p<0&&l._ts&&(a-=p,(!g&&!s._dp||g&&g.smoothChildTiming)&&(s._start+=p/s._ts,s._time-=p,s._tTime-=p),s.shiftChildren(-p,!1,-1/0),u=0),l._end>a&&l._ts&&(a=l._end),l=f;$0(s,s===er&&s._time>a?s._time:a,1,1),s._dirty=0}return s._tDur},e.updateRoot=function(r){if(er._ts&&(yU(er,VS(r,er)),gU=uo.frame),uo.frame>=X5){X5+=mo.autoSleep||120;var a=er._first;if((!a||!a._ts)&&mo.autoSleep&&uo._listeners.length<2){for(;a&&!a._ts;)a=a._next;a||uo.sleep()}}},e})(f_);_o(ds.prototype,{_lock:0,_hasPause:0,_forcing:0});var hj=function(e,t,n,r,a,s,l){var u=new Hs(this._pt,e,t,0,1,XU,null,a),f=0,p=0,g,v,_,S,w,E,b,R;for(u.b=n,u.e=r,n+="",r+="",(b=~r.indexOf("random("))&&(r=c_(r)),s&&(R=[n,r],s(R,e,t),n=R[0],r=R[1]),v=n.match(Z2)||[];g=Z2.exec(r);)S=g[0],w=r.substring(f,g.index),_?_=(_+1)%5:w.substr(-5)==="rgba("&&(_=1),S!==v[p++]&&(E=parseFloat(v[p-1])||0,u._pt={_next:u._pt,p:w||p===1?w:",",s:E,c:S.charAt(1)==="="?I0(E,S)-E:parseFloat(S)-E,m:_&&_<4?Math.round:0},f=Z2.lastIndex);return u.c=f<r.length?r.substring(f,r.length):"",u.fp=l,(fU.test(r)||b)&&(u.e=0),this._pt=u,u},gR=function(e,t,n,r,a,s,l,u,f,p){hr(r)&&(r=r(a||0,e,s));var g=e[t],v=n!=="get"?n:hr(g)?f?e[t.indexOf("set")||!hr(e["get"+t.substr(3)])?t:"get"+t.substr(3)](f):e[t]():g,_=hr(g)?f?vj:GU:yR,S;if(sa(r)&&(~r.indexOf("random(")&&(r=c_(r)),r.charAt(1)==="="&&(S=I0(v,r)+(Ia(v)||0),(S||S===0)&&(r=S))),!p||v!==r||wA)return!isNaN(v*r)&&r!==""?(S=new Hs(this._pt,e,t,+v||0,r-(v||0),typeof g=="boolean"?_j:WU,0,_),f&&(S.fp=f),l&&S.modifier(l,this,e),this._pt=S):(!g&&!(t in e)&&fR(t,r),hj.call(this,e,t,v,r,_,u||mo.stringFilter,f))},dj=function(e,t,n,r,a){if(hr(e)&&(e=Dy(e,a,t,n,r)),!Vc(e)||e.style&&e.nodeType||ka(e)||cU(e))return sa(e)?Dy(e,a,t,n,r):e;var s={},l;for(l in e)s[l]=Dy(e[l],a,t,n,r);return s},HU=function(e,t,n,r,a,s){var l,u,f,p;if(lo[e]&&(l=new lo[e]).init(a,l.rawVars?t[e]:dj(t[e],r,a,s,n),n,r,s)!==!1&&(n._pt=u=new Hs(n._pt,a,e,0,1,l.render,l,0,l.priority),n!==E0))for(f=n._ptLookup[n._targets.indexOf(a)],p=l._props.length;p--;)f[l._props[p]]=u;return l},nh,wA,vR=function i(e,t,n){var r=e.vars,a=r.ease,s=r.startAt,l=r.immediateRender,u=r.lazy,f=r.onUpdate,p=r.runBackwards,g=r.yoyoEase,v=r.keyframes,_=r.autoRevert,S=e._dur,w=e._startAt,E=e._targets,b=e.parent,R=b&&b.data==="nested"?b.vars.targets:E,C=e._overwrite==="auto"&&!oR,A=e.timeline,N,L,B,U,P,z,X,te,se,ae,ue,G,Y;if(A&&(!v||!a)&&(a="none"),e._ease=lp(a,Y0.ease),e._yEase=g?BU(lp(g===!0?a:g,Y0.ease)):0,g&&e._yoyo&&!e._repeat&&(g=e._yEase,e._yEase=e._ease,e._ease=g),e._from=!A&&!!r.runBackwards,!A||v&&!r.stagger){if(te=E[0]?sp(E[0]).harness:0,G=te&&r[te.prop],N=HS(r,hR),w&&(w._zTime<0&&w.progress(1),t<0&&p&&l&&!_?w.render(-1,!0):w.revert(p&&S?fS:H7),w._lazy=0),s){if(dh(e._startAt=Or.set(E,_o({data:"isStart",overwrite:!1,parent:b,immediateRender:!0,lazy:!w&&ks(u),startAt:null,delay:0,onUpdate:f&&function(){return ho(e,"onUpdate")},stagger:0},s))),e._startAt._dp=0,e._startAt._sat=e,t<0&&(_a||!l&&!_)&&e._startAt.revert(fS),l&&S&&t<=0&&n<=0){t&&(e._zTime=t);return}}else if(p&&S&&!w){if(t&&(l=!1),B=_o({overwrite:!1,data:"isFromStart",lazy:l&&!w&&ks(u),immediateRender:l,stagger:0,parent:b},N),G&&(B[te.prop]=G),dh(e._startAt=Or.set(E,B)),e._startAt._dp=0,e._startAt._sat=e,t<0&&(_a?e._startAt.revert(fS):e._startAt.render(-1,!0)),e._zTime=t,!l)i(e._startAt,Li,Li);else if(!t)return}for(e._pt=e._ptCache=0,u=S&&ks(u)||u&&!S,L=0;L<E.length;L++){if(P=E[L],X=P._gsap||pR(E)[L]._gsap,e._ptLookup[L]=ae={},vA[X.id]&&ch.length&&FS(),ue=R===E?L:R.indexOf(P),te&&(se=new te).init(P,G||N,e,ue,R)!==!1&&(e._pt=U=new Hs(e._pt,P,se.name,0,1,se.render,se,0,se.priority),se._props.forEach(function(Q){ae[Q]=U}),se.priority&&(z=1)),!te||G)for(B in N)lo[B]&&(se=HU(B,N,e,ue,P,R))?se.priority&&(z=1):ae[B]=U=gR.call(e,P,B,"get",N[B],ue,R,0,r.stringFilter);e._op&&e._op[L]&&e.kill(P,e._op[L]),C&&e._pt&&(nh=e,er.killTweensOf(P,ae,e.globalTime(t)),Y=!e.parent,nh=0),e._pt&&u&&(vA[X.id]=1)}z&&qU(e),e._onInit&&e._onInit(e)}e._onUpdate=f,e._initted=(!e._op||e._pt)&&!Y,v&&t<=0&&A.render(qo,!0,!0)},pj=function(e,t,n,r,a,s,l,u){var f=(e._pt&&e._ptCache||(e._ptCache={}))[t],p,g,v,_;if(!f)for(f=e._ptCache[t]=[],v=e._ptLookup,_=e._targets.length;_--;){if(p=v[_][t],p&&p.d&&p.d._pt)for(p=p.d._pt;p&&p.p!==t&&p.fp!==t;)p=p._next;if(!p)return wA=1,e.vars[t]="+=0",vR(e,l),wA=0,u?o_(t+" not eligible for reset"):1;f.push(p)}for(_=f.length;_--;)g=f[_],p=g._pt||g,p.s=(r||r===0)&&!a?r:p.s+(r||0)+s*p.c,p.c=n-p.s,g.e&&(g.e=xr(n)+Ia(g.e)),g.b&&(g.b=p.s+Ia(g.b))},mj=function(e,t){var n=e[0]?sp(e[0]).harness:0,r=n&&n.aliases,a,s,l,u;if(!r)return t;a=Z0({},t);for(s in r)if(s in a)for(u=r[s].split(","),l=u.length;l--;)a[u[l]]=a[s];return a},gj=function(e,t,n,r){var a=t.ease||r||"power1.inOut",s,l;if(ka(t))l=n[e]||(n[e]=[]),t.forEach(function(u,f){return l.push({t:f/(t.length-1)*100,v:u,e:a})});else for(s in t)l=n[s]||(n[s]=[]),s==="ease"||l.push({t:parseFloat(e),v:t[s],e:a})},Dy=function(e,t,n,r,a){return hr(e)?e.call(t,n,r,a):sa(e)&&~e.indexOf("random(")?c_(e):e},VU=dR+"repeat,repeatDelay,yoyo,repeatRefresh,yoyoEase,autoRevert",jU={};Fs(VU+",id,stagger,delay,duration,paused,scrollTrigger",function(i){return jU[i]=1});var Or=(function(i){oU(e,i);function e(n,r,a,s){var l;typeof r=="number"&&(a.duration=r,r=a,a=null),l=i.call(this,s?r:Cy(r))||this;var u=l.vars,f=u.duration,p=u.delay,g=u.immediateRender,v=u.stagger,_=u.overwrite,S=u.keyframes,w=u.defaults,E=u.scrollTrigger,b=u.yoyoEase,R=r.parent||er,C=(ka(n)||cU(n)?Bu(n[0]):"length"in r)?[n]:Yo(n),A,N,L,B,U,P,z,X;if(l._targets=C.length?pR(C):o_("GSAP target "+n+" not found. https://gsap.com",!mo.nullTargetWarn)||[],l._ptLookup=[],l._overwrite=_,S||v||Z1(f)||Z1(p)){if(r=l.vars,A=l.timeline=new ds({data:"nested",defaults:w||{},targets:R&&R.data==="nested"?R.vars.targets:C}),A.kill(),A.parent=A._dp=Au(l),A._start=0,v||Z1(f)||Z1(p)){if(B=C.length,z=v&&AU(v),Vc(v))for(U in v)~VU.indexOf(U)&&(X||(X={}),X[U]=v[U]);for(N=0;N<B;N++)L=HS(r,jU),L.stagger=0,b&&(L.yoyoEase=b),X&&Z0(L,X),P=C[N],L.duration=+Dy(f,Au(l),N,P,C),L.delay=(+Dy(p,Au(l),N,P,C)||0)-l._delay,!v&&B===1&&L.delay&&(l._delay=p=L.delay,l._start+=p,L.delay=0),A.to(P,L,z?z(N,P,C):0),A._ease=ei.none;A.duration()?f=p=0:l.timeline=0}else if(S){Cy(_o(A.vars.defaults,{ease:"none"})),A._ease=lp(S.ease||r.ease||"none");var te=0,se,ae,ue;if(ka(S))S.forEach(function(G){return A.to(C,G,">")}),A.duration();else{L={};for(U in S)U==="ease"||U==="easeEach"||gj(U,S[U],L,S.easeEach);for(U in L)for(se=L[U].sort(function(G,Y){return G.t-Y.t}),te=0,N=0;N<se.length;N++)ae=se[N],ue={ease:ae.e,duration:(ae.t-(N?se[N-1].t:0))/100*f},ue[U]=ae.v,A.to(C,ue,te),te+=ue.duration;A.duration()<f&&A.to({},{duration:f-A.duration()})}}f||l.duration(f=A.duration())}else l.timeline=0;return _===!0&&!oR&&(nh=Au(l),er.killTweensOf(C),nh=0),Cc(R,Au(l),a),r.reversed&&l.reverse(),r.paused&&l.paused(!0),(g||!f&&!S&&l._start===Pr(R._time)&&ks(g)&&q7(Au(l))&&R.data!=="nested")&&(l._tTime=-Li,l.render(Math.max(0,-p)||0)),E&&wU(Au(l),E),l}var t=e.prototype;return t.render=function(r,a,s){var l=this._time,u=this._tDur,f=this._dur,p=r<0,g=r>u-Li&&!p?u:r<Li?0:r,v,_,S,w,E,b,R,C,A;if(!f)Z7(this,r,a,s);else if(g!==this._tTime||!r||s||!this._initted&&this._tTime||this._startAt&&this._zTime<0!==p||this._lazy){if(v=g,C=this.timeline,this._repeat){if(w=f+this._rDelay,this._repeat<-1&&p)return this.totalTime(w*100+r,a,s);if(v=Pr(g%w),g===u?(S=this._repeat,v=f):(E=Pr(g/w),S=~~E,S&&S===E?(v=f,S--):v>f&&(v=f)),b=this._yoyo&&S&1,b&&(A=this._yEase,v=f-v),E=K0(this._tTime,w),v===l&&!s&&this._initted&&S===E)return this._tTime=g,this;S!==E&&(C&&this._yEase&&zU(C,b),this.vars.repeatRefresh&&!b&&!this._lock&&v!==w&&this._initted&&(this._lock=s=1,this.render(Pr(w*S),!0).invalidate()._lock=0))}if(!this._initted){if(EU(this,p?r:v,s,a,g))return this._tTime=0,this;if(l!==this._time&&!(s&&this.vars.repeatRefresh&&S!==E))return this;if(f!==this._dur)return this.render(r,a,s)}if(this._tTime=g,this._time=v,!this._act&&this._ts&&(this._act=1,this._lazy=0),this.ratio=R=(A||this._ease)(v/f),this._from&&(this.ratio=R=1-R),!l&&g&&!a&&!E&&(ho(this,"onStart"),this._tTime!==g))return this;for(_=this._pt;_;)_.r(R,_.d),_=_._next;C&&C.render(r<0?r:C._dur*C._ease(v/this._dur),a,s)||this._startAt&&(this._zTime=r),this._onUpdate&&!a&&(p&&yA(this,r,a,s),ho(this,"onUpdate")),this._repeat&&S!==E&&this.vars.onRepeat&&!a&&this.parent&&ho(this,"onRepeat"),(g===this._tDur||!g)&&this._tTime===g&&(p&&!this._onUpdate&&yA(this,r,!0,!0),(r||!f)&&(g===this._tDur&&this._ts>0||!g&&this._ts<0)&&dh(this,1),!a&&!(p&&!l)&&(g||l||b)&&(ho(this,g===u?"onComplete":"onReverseComplete",!0),this._prom&&!(g<u&&this.timeScale()>0)&&this._prom()))}return this},t.targets=function(){return this._targets},t.invalidate=function(r){return(!r||!this.vars.runBackwards)&&(this._startAt=0),this._pt=this._op=this._onUpdate=this._lazy=this.ratio=0,this._ptLookup=[],this.timeline&&this.timeline.invalidate(r),i.prototype.invalidate.call(this,r)},t.resetTo=function(r,a,s,l,u){u_||uo.wake(),this._ts||this.play();var f=Math.min(this._dur,(this._dp._time-this._start)*this._ts),p;return this._initted||vR(this,f),p=this._ease(f/this._dur),pj(this,r,a,s,l,p,f,u)?this.resetTo(r,a,s,l,1):(iE(this,0),this.parent||bU(this._dp,this,"_first","_last",this._dp._sort?"_start":0),this.render(0))},t.kill=function(r,a){if(a===void 0&&(a="all"),!r&&(!a||a==="all"))return this._lazy=this._pt=0,this.parent?dy(this):this.scrollTrigger&&this.scrollTrigger.kill(!!_a),this;if(this.timeline){var s=this.timeline.totalDuration();return this.timeline.killTweensOf(r,a,nh&&nh.vars.overwrite!==!0)._first||dy(this),this.parent&&s!==this.timeline.totalDuration()&&$0(this,this._dur*this.timeline._tDur/s,0,1),this}var l=this._targets,u=r?Yo(r):l,f=this._ptLookup,p=this._pt,g,v,_,S,w,E,b;if((!a||a==="all")&&W7(l,u))return a==="all"&&(this._pt=0),dy(this);for(g=this._op=this._op||[],a!=="all"&&(sa(a)&&(w={},Fs(a,function(R){return w[R]=1}),a=w),a=mj(l,a)),b=l.length;b--;)if(~u.indexOf(l[b])){v=f[b],a==="all"?(g[b]=a,S=v,_={}):(_=g[b]=g[b]||{},S=a);for(w in S)E=v&&v[w],E&&((!("kill"in E.d)||E.d.kill(w)===!0)&&tE(this,E,"_pt"),delete v[w]),_!=="all"&&(_[w]=1)}return this._initted&&!this._pt&&p&&dy(this),this},e.to=function(r,a){return new e(r,a,arguments[2])},e.from=function(r,a){return Ry(1,arguments)},e.delayedCall=function(r,a,s,l){return new e(a,0,{immediateRender:!1,lazy:!1,overwrite:!1,delay:r,onComplete:a,onReverseComplete:a,onCompleteParams:s,onReverseCompleteParams:s,callbackScope:l})},e.fromTo=function(r,a,s){return Ry(2,arguments)},e.set=function(r,a){return a.duration=0,a.repeatDelay||(a.repeat=0),new e(r,a)},e.killTweensOf=function(r,a,s){return er.killTweensOf(r,a,s)},e})(f_);_o(Or.prototype,{_targets:[],_lazy:0,_startAt:0,_op:0,_onInit:0});Fs("staggerTo,staggerFrom,staggerFromTo",function(i){Or[i]=function(){var e=new ds,t=xA.call(arguments,0);return t.splice(i==="staggerFromTo"?5:4,0,0),e[i].apply(e,t)}});var yR=function(e,t,n){return e[t]=n},GU=function(e,t,n){return e[t](n)},vj=function(e,t,n,r){return e[t](r.fp,n)},yj=function(e,t,n){return e.setAttribute(t,n)},_R=function(e,t){return hr(e[t])?GU:lR(e[t])&&e.setAttribute?yj:yR},WU=function(e,t){return t.set(t.t,t.p,Math.round((t.s+t.c*e)*1e6)/1e6,t)},_j=function(e,t){return t.set(t.t,t.p,!!(t.s+t.c*e),t)},XU=function(e,t){var n=t._pt,r="";if(!e&&t.b)r=t.b;else if(e===1&&t.e)r=t.e;else{for(;n;)r=n.p+(n.m?n.m(n.s+n.c*e):Math.round((n.s+n.c*e)*1e4)/1e4)+r,n=n._next;r+=t.c}t.set(t.t,t.p,r,t)},xR=function(e,t){for(var n=t._pt;n;)n.r(e,n.d),n=n._next},xj=function(e,t,n,r){for(var a=this._pt,s;a;)s=a._next,a.p===r&&a.modifier(e,t,n),a=s},bj=function(e){for(var t=this._pt,n,r;t;)r=t._next,t.p===e&&!t.op||t.op===e?tE(this,t,"_pt"):t.dep||(n=1),t=r;return!n},Sj=function(e,t,n,r){r.mSet(e,t,r.m.call(r.tween,n,r.mt),r)},qU=function(e){for(var t=e._pt,n,r,a,s;t;){for(n=t._next,r=a;r&&r.pr>t.pr;)r=r._next;(t._prev=r?r._prev:s)?t._prev._next=t:a=t,(t._next=r)?r._prev=t:s=t,t=n}e._pt=a},Hs=(function(){function i(t,n,r,a,s,l,u,f,p){this.t=n,this.s=a,this.c=s,this.p=r,this.r=l||WU,this.d=u||this,this.set=f||yR,this.pr=p||0,this._next=t,t&&(t._prev=this)}var e=i.prototype;return e.modifier=function(n,r,a){this.mSet=this.mSet||this.set,this.set=Sj,this.m=n,this.mt=a,this.tween=r},i})();Fs(dR+"parent,duration,ease,delay,overwrite,runBackwards,startAt,yoyo,immediateRender,repeat,repeatDelay,data,paused,reversed,lazy,callbackScope,stringFilter,id,yoyoEase,stagger,inherit,repeatRefresh,keyframes,autoRevert,scrollTrigger",function(i){return hR[i]=1});yo.TweenMax=yo.TweenLite=Or;yo.TimelineLite=yo.TimelineMax=ds;er=new ds({sortChildren:!1,defaults:Y0,autoRemoveChildren:!0,id:"root",smoothChildTiming:!0});mo.stringFilter=IU;var cp=[],dS={},wj=[],J5=0,Ej=0,eM=function(e){return(dS[e]||wj).map(function(t){return t()})},EA=function(){var e=Date.now(),t=[];e-J5>2&&(eM("matchMediaInit"),cp.forEach(function(n){var r=n.queries,a=n.conditions,s,l,u,f;for(l in r)s=Ec.matchMedia(r[l]).matches,s&&(u=1),s!==a[l]&&(a[l]=s,f=1);f&&(n.revert(),u&&t.push(n))}),eM("matchMediaRevert"),t.forEach(function(n){return n.onMatch(n,function(r){return n.add(null,r)})}),J5=e,eM("matchMedia"))},YU=(function(){function i(t,n){this.selector=n&&bA(n),this.data=[],this._r=[],this.isReverted=!1,this.id=Ej++,t&&this.add(t)}var e=i.prototype;return e.add=function(n,r,a){hr(n)&&(a=r,r=n,n=hr);var s=this,l=function(){var f=qi,p=s.selector,g;return f&&f!==s&&f.data.push(s),a&&(s.selector=bA(a)),qi=s,g=r.apply(s,arguments),hr(g)&&s._r.push(g),qi=f,s.selector=p,s.isReverted=!1,g};return s.last=l,n===hr?l(s,function(u){return s.add(null,u)}):n?s[n]=l:l},e.ignore=function(n){var r=qi;qi=null,n(this),qi=r},e.getTweens=function(){var n=[];return this.data.forEach(function(r){return r instanceof i?n.push.apply(n,r.getTweens()):r instanceof Or&&!(r.parent&&r.parent.data==="nested")&&n.push(r)}),n},e.clear=function(){this._r.length=this.data.length=0},e.kill=function(n,r){var a=this;if(n?(function(){for(var l=a.getTweens(),u=a.data.length,f;u--;)f=a.data[u],f.data==="isFlip"&&(f.revert(),f.getChildren(!0,!0,!1).forEach(function(p){return l.splice(l.indexOf(p),1)}));for(l.map(function(p){return{g:p._dur||p._delay||p._sat&&!p._sat.vars.immediateRender?p.globalTime(0):-1/0,t:p}}).sort(function(p,g){return g.g-p.g||-1/0}).forEach(function(p){return p.t.revert(n)}),u=a.data.length;u--;)f=a.data[u],f instanceof ds?f.data!=="nested"&&(f.scrollTrigger&&f.scrollTrigger.revert(),f.kill()):!(f instanceof Or)&&f.revert&&f.revert(n);a._r.forEach(function(p){return p(n,a)}),a.isReverted=!0})():this.data.forEach(function(l){return l.kill&&l.kill()}),this.clear(),r)for(var s=cp.length;s--;)cp[s].id===this.id&&cp.splice(s,1)},e.revert=function(n){this.kill(n||{})},i})(),Mj=(function(){function i(t){this.contexts=[],this.scope=t,qi&&qi.data.push(this)}var e=i.prototype;return e.add=function(n,r,a){Vc(n)||(n={matches:n});var s=new YU(0,a||this.scope),l=s.conditions={},u,f,p;qi&&!s.selector&&(s.selector=qi.selector),this.contexts.push(s),r=s.add("onMatch",r),s.queries=n;for(f in n)f==="all"?p=1:(u=Ec.matchMedia(n[f]),u&&(cp.indexOf(s)<0&&cp.push(s),(l[f]=u.matches)&&(p=1),u.addListener?u.addListener(EA):u.addEventListener("change",EA)));return p&&r(s,function(g){return s.add(null,g)}),this},e.revert=function(n){this.kill(n||{})},e.kill=function(n){this.contexts.forEach(function(r){return r.kill(n,!0)})},i})(),jS={registerPlugin:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];t.forEach(function(r){return PU(r)})},timeline:function(e){return new ds(e)},getTweensOf:function(e,t){return er.getTweensOf(e,t)},getProperty:function(e,t,n,r){sa(e)&&(e=Yo(e)[0]);var a=sp(e||{}).get,s=n?xU:_U;return n==="native"&&(n=""),e&&(t?s((lo[t]&&lo[t].get||a)(e,t,n,r)):function(l,u,f){return s((lo[l]&&lo[l].get||a)(e,l,u,f))})},quickSetter:function(e,t,n){if(e=Yo(e),e.length>1){var r=e.map(function(p){return Gs.quickSetter(p,t,n)}),a=r.length;return function(p){for(var g=a;g--;)r[g](p)}}e=e[0]||{};var s=lo[t],l=sp(e),u=l.harness&&(l.harness.aliases||{})[t]||t,f=s?function(p){var g=new s;E0._pt=0,g.init(e,n?p+n:p,E0,0,[e]),g.render(1,g),E0._pt&&xR(1,E0)}:l.set(e,u);return s?f:function(p){return f(e,u,n?p+n:p,l,1)}},quickTo:function(e,t,n){var r,a=Gs.to(e,_o((r={},r[t]="+=0.1",r.paused=!0,r.stagger=0,r),n||{})),s=function(u,f,p){return a.resetTo(t,u,f,p)};return s.tween=a,s},isTweening:function(e){return er.getTweensOf(e,!0).length>0},defaults:function(e){return e&&e.ease&&(e.ease=lp(e.ease,Y0.ease)),q5(Y0,e||{})},config:function(e){return q5(mo,e||{})},registerEffect:function(e){var t=e.name,n=e.effect,r=e.plugins,a=e.defaults,s=e.extendTimeline;(r||"").split(",").forEach(function(l){return l&&!lo[l]&&!yo[l]&&o_(t+" effect requires "+l+" plugin.")}),K2[t]=function(l,u,f){return n(Yo(l),_o(u||{},a),f)},s&&(ds.prototype[t]=function(l,u,f){return this.add(K2[t](l,Vc(u)?u:(f=u)&&{},this),f)})},registerEase:function(e,t){ei[e]=lp(t)},parseEase:function(e,t){return arguments.length?lp(e,t):ei},getById:function(e){return er.getById(e)},exportRoot:function(e,t){e===void 0&&(e={});var n=new ds(e),r,a;for(n.smoothChildTiming=ks(e.smoothChildTiming),er.remove(n),n._dp=0,n._time=n._tTime=er._time,r=er._first;r;)a=r._next,(t||!(!r._dur&&r instanceof Or&&r.vars.onComplete===r._targets[0]))&&Cc(n,r,r._start-r._delay),r=a;return Cc(er,n,0),n},context:function(e,t){return e?new YU(e,t):qi},matchMedia:function(e){return new Mj(e)},matchMediaRefresh:function(){return cp.forEach(function(e){var t=e.conditions,n,r;for(r in t)t[r]&&(t[r]=!1,n=1);n&&e.revert()})||EA()},addEventListener:function(e,t){var n=dS[e]||(dS[e]=[]);~n.indexOf(t)||n.push(t)},removeEventListener:function(e,t){var n=dS[e],r=n&&n.indexOf(t);r>=0&&n.splice(r,1)},utils:{wrap:ij,wrapYoyo:rj,distribute:AU,random:RU,snap:CU,normalize:nj,getUnit:Ia,clamp:J7,splitColor:LU,toArray:Yo,selector:bA,mapRange:OU,pipe:ej,unitize:tj,interpolate:aj,shuffle:TU},install:pU,effects:K2,ticker:uo,updateRoot:ds.updateRoot,plugins:lo,globalTimeline:er,core:{PropTween:Hs,globals:mU,Tween:Or,Timeline:ds,Animation:f_,getCache:sp,_removeLinkedListItem:tE,reverting:function(){return _a},context:function(e){return e&&qi&&(qi.data.push(e),e._ctx=qi),qi},suppressOverwrites:function(e){return oR=e}}};Fs("to,from,fromTo,delayedCall,set,killTweensOf",function(i){return jS[i]=Or[i]});uo.add(ds.updateRoot);E0=jS.to({},{duration:0});var Tj=function(e,t){for(var n=e._pt;n&&n.p!==t&&n.op!==t&&n.fp!==t;)n=n._next;return n},Aj=function(e,t){var n=e._targets,r,a,s;for(r in t)for(a=n.length;a--;)s=e._ptLookup[a][r],s&&(s=s.d)&&(s._pt&&(s=Tj(s,r)),s&&s.modifier&&s.modifier(t[r],e,n[a],r))},tM=function(e,t){return{name:e,headless:1,rawVars:1,init:function(r,a,s){s._onInit=function(l){var u,f;if(sa(a)&&(u={},Fs(a,function(p){return u[p]=1}),a=u),t){u={};for(f in a)u[f]=t(a[f]);a=u}Aj(l,a)}}}},Gs=jS.registerPlugin({name:"attr",init:function(e,t,n,r,a){var s,l,u;this.tween=n;for(s in t)u=e.getAttribute(s)||"",l=this.add(e,"setAttribute",(u||0)+"",t[s],r,a,0,0,s),l.op=s,l.b=u,this._props.push(s)},render:function(e,t){for(var n=t._pt;n;)_a?n.set(n.t,n.p,n.b,n):n.r(e,n.d),n=n._next}},{name:"endArray",headless:1,init:function(e,t){for(var n=t.length;n--;)this.add(e,n,e[n]||0,t[n],0,0,0,0,0,1)}},tM("roundProps",SA),tM("modifiers"),tM("snap",CU))||jS;Or.version=ds.version=Gs.version="3.13.0";dU=1;cR()&&J0();ei.Power0;ei.Power1;ei.Power2;ei.Power3;ei.Power4;ei.Linear;ei.Quad;ei.Cubic;ei.Quart;ei.Quint;ei.Strong;ei.Elastic;ei.Back;ei.SteppedEase;ei.Bounce;ei.Sine;ei.Expo;ei.Circ;/*!
 * CSSPlugin 3.13.0
 * https://gsap.com
 *
 * Copyright 2008-2025, GreenSock. All rights reserved.
 * Subject to the terms at https://gsap.com/standard-license
 * @author: Jack Doyle, jack@greensock.com
*/var Q5,ih,B0,bR,Kd,eO,SR,Cj=function(){return typeof window<"u"},zu={},Vd=180/Math.PI,z0=Math.PI/180,Wm=Math.atan2,tO=1e8,wR=/([A-Z])/g,Rj=/(left|right|width|margin|padding|x)/i,Dj=/[\s,\(]\S/,Dc={autoAlpha:"opacity,visibility",scale:"scaleX,scaleY",alpha:"opacity"},MA=function(e,t){return t.set(t.t,t.p,Math.round((t.s+t.c*e)*1e4)/1e4+t.u,t)},Oj=function(e,t){return t.set(t.t,t.p,e===1?t.e:Math.round((t.s+t.c*e)*1e4)/1e4+t.u,t)},Nj=function(e,t){return t.set(t.t,t.p,e?Math.round((t.s+t.c*e)*1e4)/1e4+t.u:t.b,t)},Pj=function(e,t){var n=t.s+t.c*e;t.set(t.t,t.p,~~(n+(n<0?-.5:.5))+t.u,t)},ZU=function(e,t){return t.set(t.t,t.p,e?t.e:t.b,t)},KU=function(e,t){return t.set(t.t,t.p,e!==1?t.b:t.e,t)},Lj=function(e,t,n){return e.style[t]=n},Uj=function(e,t,n){return e.style.setProperty(t,n)},Ij=function(e,t,n){return e._gsap[t]=n},Bj=function(e,t,n){return e._gsap.scaleX=e._gsap.scaleY=n},zj=function(e,t,n,r,a){var s=e._gsap;s.scaleX=s.scaleY=n,s.renderTransform(a,s)},kj=function(e,t,n,r,a){var s=e._gsap;s[t]=n,s.renderTransform(a,s)},tr="transform",Vs=tr+"Origin",Fj=function i(e,t){var n=this,r=this.target,a=r.style,s=r._gsap;if(e in zu&&a){if(this.tfm=this.tfm||{},e!=="transform")e=Dc[e]||e,~e.indexOf(",")?e.split(",").forEach(function(l){return n.tfm[l]=Cu(r,l)}):this.tfm[e]=s.x?s[e]:Cu(r,e),e===Vs&&(this.tfm.zOrigin=s.zOrigin);else return Dc.transform.split(",").forEach(function(l){return i.call(n,l,t)});if(this.props.indexOf(tr)>=0)return;s.svg&&(this.svgo=r.getAttribute("data-svg-origin"),this.props.push(Vs,t,"")),e=tr}(a||t)&&this.props.push(e,t,a[e])},$U=function(e){e.translate&&(e.removeProperty("translate"),e.removeProperty("scale"),e.removeProperty("rotate"))},Hj=function(){var e=this.props,t=this.target,n=t.style,r=t._gsap,a,s;for(a=0;a<e.length;a+=3)e[a+1]?e[a+1]===2?t[e[a]](e[a+2]):t[e[a]]=e[a+2]:e[a+2]?n[e[a]]=e[a+2]:n.removeProperty(e[a].substr(0,2)==="--"?e[a]:e[a].replace(wR,"-$1").toLowerCase());if(this.tfm){for(s in this.tfm)r[s]=this.tfm[s];r.svg&&(r.renderTransform(),t.setAttribute("data-svg-origin",this.svgo||"")),a=SR(),(!a||!a.isStart)&&!n[tr]&&($U(n),r.zOrigin&&n[Vs]&&(n[Vs]+=" "+r.zOrigin+"px",r.zOrigin=0,r.renderTransform()),r.uncache=1)}},JU=function(e,t){var n={target:e,props:[],revert:Hj,save:Fj};return e._gsap||Gs.core.getCache(e),t&&e.style&&e.nodeType&&t.split(",").forEach(function(r){return n.save(r)}),n},QU,TA=function(e,t){var n=ih.createElementNS?ih.createElementNS((t||"http://www.w3.org/1999/xhtml").replace(/^https/,"http"),e):ih.createElement(e);return n&&n.style?n:ih.createElement(e)},Zo=function i(e,t,n){var r=getComputedStyle(e);return r[t]||r.getPropertyValue(t.replace(wR,"-$1").toLowerCase())||r.getPropertyValue(t)||!n&&i(e,Q0(t)||t,1)||""},nO="O,Moz,ms,Ms,Webkit".split(","),Q0=function(e,t,n){var r=t||Kd,a=r.style,s=5;if(e in a&&!n)return e;for(e=e.charAt(0).toUpperCase()+e.substr(1);s--&&!(nO[s]+e in a););return s<0?null:(s===3?"ms":s>=0?nO[s]:"")+e},AA=function(){Cj()&&window.document&&(Q5=window,ih=Q5.document,B0=ih.documentElement,Kd=TA("div")||{style:{}},TA("div"),tr=Q0(tr),Vs=tr+"Origin",Kd.style.cssText="border-width:0;line-height:0;position:absolute;padding:0",QU=!!Q0("perspective"),SR=Gs.core.reverting,bR=1)},iO=function(e){var t=e.ownerSVGElement,n=TA("svg",t&&t.getAttribute("xmlns")||"http://www.w3.org/2000/svg"),r=e.cloneNode(!0),a;r.style.display="block",n.appendChild(r),B0.appendChild(n);try{a=r.getBBox()}catch{}return n.removeChild(r),B0.removeChild(n),a},rO=function(e,t){for(var n=t.length;n--;)if(e.hasAttribute(t[n]))return e.getAttribute(t[n])},eI=function(e){var t,n;try{t=e.getBBox()}catch{t=iO(e),n=1}return t&&(t.width||t.height)||n||(t=iO(e)),t&&!t.width&&!t.x&&!t.y?{x:+rO(e,["x","cx","x1"])||0,y:+rO(e,["y","cy","y1"])||0,width:0,height:0}:t},tI=function(e){return!!(e.getCTM&&(!e.parentNode||e.ownerSVGElement)&&eI(e))},yp=function(e,t){if(t){var n=e.style,r;t in zu&&t!==Vs&&(t=tr),n.removeProperty?(r=t.substr(0,2),(r==="ms"||t.substr(0,6)==="webkit")&&(t="-"+t),n.removeProperty(r==="--"?t:t.replace(wR,"-$1").toLowerCase())):n.removeAttribute(t)}},rh=function(e,t,n,r,a,s){var l=new Hs(e._pt,t,n,0,1,s?KU:ZU);return e._pt=l,l.b=r,l.e=a,e._props.push(n),l},aO={deg:1,rad:1,turn:1},Vj={grid:1,flex:1},ph=function i(e,t,n,r){var a=parseFloat(n)||0,s=(n+"").trim().substr((a+"").length)||"px",l=Kd.style,u=Rj.test(t),f=e.tagName.toLowerCase()==="svg",p=(f?"client":"offset")+(u?"Width":"Height"),g=100,v=r==="px",_=r==="%",S,w,E,b;if(r===s||!a||aO[r]||aO[s])return a;if(s!=="px"&&!v&&(a=i(e,t,n,"px")),b=e.getCTM&&tI(e),(_||s==="%")&&(zu[t]||~t.indexOf("adius")))return S=b?e.getBBox()[u?"width":"height"]:e[p],xr(_?a/S*g:a/100*S);if(l[u?"width":"height"]=g+(v?s:r),w=r!=="rem"&&~t.indexOf("adius")||r==="em"&&e.appendChild&&!f?e:e.parentNode,b&&(w=(e.ownerSVGElement||{}).parentNode),(!w||w===ih||!w.appendChild)&&(w=ih.body),E=w._gsap,E&&_&&E.width&&u&&E.time===uo.time&&!E.uncache)return xr(a/E.width*g);if(_&&(t==="height"||t==="width")){var R=e.style[t];e.style[t]=g+r,S=e[p],R?e.style[t]=R:yp(e,t)}else(_||s==="%")&&!Vj[Zo(w,"display")]&&(l.position=Zo(e,"position")),w===e&&(l.position="static"),w.appendChild(Kd),S=Kd[p],w.removeChild(Kd),l.position="absolute";return u&&_&&(E=sp(w),E.time=uo.time,E.width=w[p]),xr(v?S*a/g:S&&a?g/S*a:0)},Cu=function(e,t,n,r){var a;return bR||AA(),t in Dc&&t!=="transform"&&(t=Dc[t],~t.indexOf(",")&&(t=t.split(",")[0])),zu[t]&&t!=="transform"?(a=d_(e,r),a=t!=="transformOrigin"?a[t]:a.svg?a.origin:WS(Zo(e,Vs))+" "+a.zOrigin+"px"):(a=e.style[t],(!a||a==="auto"||r||~(a+"").indexOf("calc("))&&(a=GS[t]&&GS[t](e,t,n)||Zo(e,t)||vU(e,t)||(t==="opacity"?1:0))),n&&!~(a+"").trim().indexOf(" ")?ph(e,t,a,n)+n:a},jj=function(e,t,n,r){if(!n||n==="none"){var a=Q0(t,e,1),s=a&&Zo(e,a,1);s&&s!==n?(t=a,n=s):t==="borderColor"&&(n=Zo(e,"borderTopColor"))}var l=new Hs(this._pt,e.style,t,0,1,XU),u=0,f=0,p,g,v,_,S,w,E,b,R,C,A,N;if(l.b=n,l.e=r,n+="",r+="",r.substring(0,6)==="var(--"&&(r=Zo(e,r.substring(4,r.indexOf(")")))),r==="auto"&&(w=e.style[t],e.style[t]=r,r=Zo(e,t)||r,w?e.style[t]=w:yp(e,t)),p=[n,r],IU(p),n=p[0],r=p[1],v=n.match(w0)||[],N=r.match(w0)||[],N.length){for(;g=w0.exec(r);)E=g[0],R=r.substring(u,g.index),S?S=(S+1)%5:(R.substr(-5)==="rgba("||R.substr(-5)==="hsla(")&&(S=1),E!==(w=v[f++]||"")&&(_=parseFloat(w)||0,A=w.substr((_+"").length),E.charAt(1)==="="&&(E=I0(_,E)+A),b=parseFloat(E),C=E.substr((b+"").length),u=w0.lastIndex-C.length,C||(C=C||mo.units[t]||A,u===r.length&&(r+=C,l.e+=C)),A!==C&&(_=ph(e,t,w,C)||0),l._pt={_next:l._pt,p:R||f===1?R:",",s:_,c:b-_,m:S&&S<4||t==="zIndex"?Math.round:0});l.c=u<r.length?r.substring(u,r.length):""}else l.r=t==="display"&&r==="none"?KU:ZU;return fU.test(r)&&(l.e=0),this._pt=l,l},sO={top:"0%",bottom:"100%",left:"0%",right:"100%",center:"50%"},Gj=function(e){var t=e.split(" "),n=t[0],r=t[1]||"50%";return(n==="top"||n==="bottom"||r==="left"||r==="right")&&(e=n,n=r,r=e),t[0]=sO[n]||n,t[1]=sO[r]||r,t.join(" ")},Wj=function(e,t){if(t.tween&&t.tween._time===t.tween._dur){var n=t.t,r=n.style,a=t.u,s=n._gsap,l,u,f;if(a==="all"||a===!0)r.cssText="",u=1;else for(a=a.split(","),f=a.length;--f>-1;)l=a[f],zu[l]&&(u=1,l=l==="transformOrigin"?Vs:tr),yp(n,l);u&&(yp(n,tr),s&&(s.svg&&n.removeAttribute("transform"),r.scale=r.rotate=r.translate="none",d_(n,1),s.uncache=1,$U(r)))}},GS={clearProps:function(e,t,n,r,a){if(a.data!=="isFromStart"){var s=e._pt=new Hs(e._pt,t,n,0,0,Wj);return s.u=r,s.pr=-10,s.tween=a,e._props.push(n),1}}},h_=[1,0,0,1,0,0],nI={},iI=function(e){return e==="matrix(1, 0, 0, 1, 0, 0)"||e==="none"||!e},oO=function(e){var t=Zo(e,tr);return iI(t)?h_:t.substr(7).match(uU).map(xr)},ER=function(e,t){var n=e._gsap||sp(e),r=e.style,a=oO(e),s,l,u,f;return n.svg&&e.getAttribute("transform")?(u=e.transform.baseVal.consolidate().matrix,a=[u.a,u.b,u.c,u.d,u.e,u.f],a.join(",")==="1,0,0,1,0,0"?h_:a):(a===h_&&!e.offsetParent&&e!==B0&&!n.svg&&(u=r.display,r.display="block",s=e.parentNode,(!s||!e.offsetParent&&!e.getBoundingClientRect().width)&&(f=1,l=e.nextElementSibling,B0.appendChild(e)),a=oO(e),u?r.display=u:yp(e,"display"),f&&(l?s.insertBefore(e,l):s?s.appendChild(e):B0.removeChild(e))),t&&a.length>6?[a[0],a[1],a[4],a[5],a[12],a[13]]:a)},CA=function(e,t,n,r,a,s){var l=e._gsap,u=a||ER(e,!0),f=l.xOrigin||0,p=l.yOrigin||0,g=l.xOffset||0,v=l.yOffset||0,_=u[0],S=u[1],w=u[2],E=u[3],b=u[4],R=u[5],C=t.split(" "),A=parseFloat(C[0])||0,N=parseFloat(C[1])||0,L,B,U,P;n?u!==h_&&(B=_*E-S*w)&&(U=A*(E/B)+N*(-w/B)+(w*R-E*b)/B,P=A*(-S/B)+N*(_/B)-(_*R-S*b)/B,A=U,N=P):(L=eI(e),A=L.x+(~C[0].indexOf("%")?A/100*L.width:A),N=L.y+(~(C[1]||C[0]).indexOf("%")?N/100*L.height:N)),r||r!==!1&&l.smooth?(b=A-f,R=N-p,l.xOffset=g+(b*_+R*w)-b,l.yOffset=v+(b*S+R*E)-R):l.xOffset=l.yOffset=0,l.xOrigin=A,l.yOrigin=N,l.smooth=!!r,l.origin=t,l.originIsAbsolute=!!n,e.style[Vs]="0px 0px",s&&(rh(s,l,"xOrigin",f,A),rh(s,l,"yOrigin",p,N),rh(s,l,"xOffset",g,l.xOffset),rh(s,l,"yOffset",v,l.yOffset)),e.setAttribute("data-svg-origin",A+" "+N)},d_=function(e,t){var n=e._gsap||new FU(e);if("x"in n&&!t&&!n.uncache)return n;var r=e.style,a=n.scaleX<0,s="px",l="deg",u=getComputedStyle(e),f=Zo(e,Vs)||"0",p,g,v,_,S,w,E,b,R,C,A,N,L,B,U,P,z,X,te,se,ae,ue,G,Y,Q,ye,F,fe,Se,Ce,ke,we;return p=g=v=w=E=b=R=C=A=0,_=S=1,n.svg=!!(e.getCTM&&tI(e)),u.translate&&((u.translate!=="none"||u.scale!=="none"||u.rotate!=="none")&&(r[tr]=(u.translate!=="none"?"translate3d("+(u.translate+" 0 0").split(" ").slice(0,3).join(", ")+") ":"")+(u.rotate!=="none"?"rotate("+u.rotate+") ":"")+(u.scale!=="none"?"scale("+u.scale.split(" ").join(",")+") ":"")+(u[tr]!=="none"?u[tr]:"")),r.scale=r.rotate=r.translate="none"),B=ER(e,n.svg),n.svg&&(n.uncache?(Q=e.getBBox(),f=n.xOrigin-Q.x+"px "+(n.yOrigin-Q.y)+"px",Y=""):Y=!t&&e.getAttribute("data-svg-origin"),CA(e,Y||f,!!Y||n.originIsAbsolute,n.smooth!==!1,B)),N=n.xOrigin||0,L=n.yOrigin||0,B!==h_&&(X=B[0],te=B[1],se=B[2],ae=B[3],p=ue=B[4],g=G=B[5],B.length===6?(_=Math.sqrt(X*X+te*te),S=Math.sqrt(ae*ae+se*se),w=X||te?Wm(te,X)*Vd:0,R=se||ae?Wm(se,ae)*Vd+w:0,R&&(S*=Math.abs(Math.cos(R*z0))),n.svg&&(p-=N-(N*X+L*se),g-=L-(N*te+L*ae))):(we=B[6],Ce=B[7],F=B[8],fe=B[9],Se=B[10],ke=B[11],p=B[12],g=B[13],v=B[14],U=Wm(we,Se),E=U*Vd,U&&(P=Math.cos(-U),z=Math.sin(-U),Y=ue*P+F*z,Q=G*P+fe*z,ye=we*P+Se*z,F=ue*-z+F*P,fe=G*-z+fe*P,Se=we*-z+Se*P,ke=Ce*-z+ke*P,ue=Y,G=Q,we=ye),U=Wm(-se,Se),b=U*Vd,U&&(P=Math.cos(-U),z=Math.sin(-U),Y=X*P-F*z,Q=te*P-fe*z,ye=se*P-Se*z,ke=ae*z+ke*P,X=Y,te=Q,se=ye),U=Wm(te,X),w=U*Vd,U&&(P=Math.cos(U),z=Math.sin(U),Y=X*P+te*z,Q=ue*P+G*z,te=te*P-X*z,G=G*P-ue*z,X=Y,ue=Q),E&&Math.abs(E)+Math.abs(w)>359.9&&(E=w=0,b=180-b),_=xr(Math.sqrt(X*X+te*te+se*se)),S=xr(Math.sqrt(G*G+we*we)),U=Wm(ue,G),R=Math.abs(U)>2e-4?U*Vd:0,A=ke?1/(ke<0?-ke:ke):0),n.svg&&(Y=e.getAttribute("transform"),n.forceCSS=e.setAttribute("transform","")||!iI(Zo(e,tr)),Y&&e.setAttribute("transform",Y))),Math.abs(R)>90&&Math.abs(R)<270&&(a?(_*=-1,R+=w<=0?180:-180,w+=w<=0?180:-180):(S*=-1,R+=R<=0?180:-180)),t=t||n.uncache,n.x=p-((n.xPercent=p&&(!t&&n.xPercent||(Math.round(e.offsetWidth/2)===Math.round(-p)?-50:0)))?e.offsetWidth*n.xPercent/100:0)+s,n.y=g-((n.yPercent=g&&(!t&&n.yPercent||(Math.round(e.offsetHeight/2)===Math.round(-g)?-50:0)))?e.offsetHeight*n.yPercent/100:0)+s,n.z=v+s,n.scaleX=xr(_),n.scaleY=xr(S),n.rotation=xr(w)+l,n.rotationX=xr(E)+l,n.rotationY=xr(b)+l,n.skewX=R+l,n.skewY=C+l,n.transformPerspective=A+s,(n.zOrigin=parseFloat(f.split(" ")[2])||!t&&n.zOrigin||0)&&(r[Vs]=WS(f)),n.xOffset=n.yOffset=0,n.force3D=mo.force3D,n.renderTransform=n.svg?qj:QU?rI:Xj,n.uncache=0,n},WS=function(e){return(e=e.split(" "))[0]+" "+e[1]},nM=function(e,t,n){var r=Ia(t);return xr(parseFloat(t)+parseFloat(ph(e,"x",n+"px",r)))+r},Xj=function(e,t){t.z="0px",t.rotationY=t.rotationX="0deg",t.force3D=0,rI(e,t)},Ed="0deg",Yv="0px",Md=") ",rI=function(e,t){var n=t||this,r=n.xPercent,a=n.yPercent,s=n.x,l=n.y,u=n.z,f=n.rotation,p=n.rotationY,g=n.rotationX,v=n.skewX,_=n.skewY,S=n.scaleX,w=n.scaleY,E=n.transformPerspective,b=n.force3D,R=n.target,C=n.zOrigin,A="",N=b==="auto"&&e&&e!==1||b===!0;if(C&&(g!==Ed||p!==Ed)){var L=parseFloat(p)*z0,B=Math.sin(L),U=Math.cos(L),P;L=parseFloat(g)*z0,P=Math.cos(L),s=nM(R,s,B*P*-C),l=nM(R,l,-Math.sin(L)*-C),u=nM(R,u,U*P*-C+C)}E!==Yv&&(A+="perspective("+E+Md),(r||a)&&(A+="translate("+r+"%, "+a+"%) "),(N||s!==Yv||l!==Yv||u!==Yv)&&(A+=u!==Yv||N?"translate3d("+s+", "+l+", "+u+") ":"translate("+s+", "+l+Md),f!==Ed&&(A+="rotate("+f+Md),p!==Ed&&(A+="rotateY("+p+Md),g!==Ed&&(A+="rotateX("+g+Md),(v!==Ed||_!==Ed)&&(A+="skew("+v+", "+_+Md),(S!==1||w!==1)&&(A+="scale("+S+", "+w+Md),R.style[tr]=A||"translate(0, 0)"},qj=function(e,t){var n=t||this,r=n.xPercent,a=n.yPercent,s=n.x,l=n.y,u=n.rotation,f=n.skewX,p=n.skewY,g=n.scaleX,v=n.scaleY,_=n.target,S=n.xOrigin,w=n.yOrigin,E=n.xOffset,b=n.yOffset,R=n.forceCSS,C=parseFloat(s),A=parseFloat(l),N,L,B,U,P;u=parseFloat(u),f=parseFloat(f),p=parseFloat(p),p&&(p=parseFloat(p),f+=p,u+=p),u||f?(u*=z0,f*=z0,N=Math.cos(u)*g,L=Math.sin(u)*g,B=Math.sin(u-f)*-v,U=Math.cos(u-f)*v,f&&(p*=z0,P=Math.tan(f-p),P=Math.sqrt(1+P*P),B*=P,U*=P,p&&(P=Math.tan(p),P=Math.sqrt(1+P*P),N*=P,L*=P)),N=xr(N),L=xr(L),B=xr(B),U=xr(U)):(N=g,U=v,L=B=0),(C&&!~(s+"").indexOf("px")||A&&!~(l+"").indexOf("px"))&&(C=ph(_,"x",s,"px"),A=ph(_,"y",l,"px")),(S||w||E||b)&&(C=xr(C+S-(S*N+w*B)+E),A=xr(A+w-(S*L+w*U)+b)),(r||a)&&(P=_.getBBox(),C=xr(C+r/100*P.width),A=xr(A+a/100*P.height)),P="matrix("+N+","+L+","+B+","+U+","+C+","+A+")",_.setAttribute("transform",P),R&&(_.style[tr]=P)},Yj=function(e,t,n,r,a){var s=360,l=sa(a),u=parseFloat(a)*(l&&~a.indexOf("rad")?Vd:1),f=u-r,p=r+f+"deg",g,v;return l&&(g=a.split("_")[1],g==="short"&&(f%=s,f!==f%(s/2)&&(f+=f<0?s:-s)),g==="cw"&&f<0?f=(f+s*tO)%s-~~(f/s)*s:g==="ccw"&&f>0&&(f=(f-s*tO)%s-~~(f/s)*s)),e._pt=v=new Hs(e._pt,t,n,r,f,Oj),v.e=p,v.u="deg",e._props.push(n),v},lO=function(e,t){for(var n in t)e[n]=t[n];return e},Zj=function(e,t,n){var r=lO({},n._gsap),a="perspective,force3D,transformOrigin,svgOrigin",s=n.style,l,u,f,p,g,v,_,S;r.svg?(f=n.getAttribute("transform"),n.setAttribute("transform",""),s[tr]=t,l=d_(n,1),yp(n,tr),n.setAttribute("transform",f)):(f=getComputedStyle(n)[tr],s[tr]=t,l=d_(n,1),s[tr]=f);for(u in zu)f=r[u],p=l[u],f!==p&&a.indexOf(u)<0&&(_=Ia(f),S=Ia(p),g=_!==S?ph(n,u,f,S):parseFloat(f),v=parseFloat(p),e._pt=new Hs(e._pt,l,u,g,v-g,MA),e._pt.u=S||0,e._props.push(u));lO(l,r)};Fs("padding,margin,Width,Radius",function(i,e){var t="Top",n="Right",r="Bottom",a="Left",s=(e<3?[t,n,r,a]:[t+a,t+n,r+n,r+a]).map(function(l){return e<2?i+l:"border"+l+i});GS[e>1?"border"+i:i]=function(l,u,f,p,g){var v,_;if(arguments.length<4)return v=s.map(function(S){return Cu(l,S,f)}),_=v.join(" "),_.split(v[0]).length===5?v[0]:_;v=(p+"").split(" "),_={},s.forEach(function(S,w){return _[S]=v[w]=v[w]||v[(w-1)/2|0]}),l.init(u,_,g)}});var aI={name:"css",register:AA,targetTest:function(e){return e.style&&e.nodeType},init:function(e,t,n,r,a){var s=this._props,l=e.style,u=n.vars.startAt,f,p,g,v,_,S,w,E,b,R,C,A,N,L,B,U;bR||AA(),this.styles=this.styles||JU(e),U=this.styles.props,this.tween=n;for(w in t)if(w!=="autoRound"&&(p=t[w],!(lo[w]&&HU(w,t,n,r,e,a)))){if(_=typeof p,S=GS[w],_==="function"&&(p=p.call(n,r,e,a),_=typeof p),_==="string"&&~p.indexOf("random(")&&(p=c_(p)),S)S(this,e,w,p,n)&&(B=1);else if(w.substr(0,2)==="--")f=(getComputedStyle(e).getPropertyValue(w)+"").trim(),p+="",uh.lastIndex=0,uh.test(f)||(E=Ia(f),b=Ia(p)),b?E!==b&&(f=ph(e,w,f,b)+b):E&&(p+=E),this.add(l,"setProperty",f,p,r,a,0,0,w),s.push(w),U.push(w,0,l[w]);else if(_!=="undefined"){if(u&&w in u?(f=typeof u[w]=="function"?u[w].call(n,r,e,a):u[w],sa(f)&&~f.indexOf("random(")&&(f=c_(f)),Ia(f+"")||f==="auto"||(f+=mo.units[w]||Ia(Cu(e,w))||""),(f+"").charAt(1)==="="&&(f=Cu(e,w))):f=Cu(e,w),v=parseFloat(f),R=_==="string"&&p.charAt(1)==="="&&p.substr(0,2),R&&(p=p.substr(2)),g=parseFloat(p),w in Dc&&(w==="autoAlpha"&&(v===1&&Cu(e,"visibility")==="hidden"&&g&&(v=0),U.push("visibility",0,l.visibility),rh(this,l,"visibility",v?"inherit":"hidden",g?"inherit":"hidden",!g)),w!=="scale"&&w!=="transform"&&(w=Dc[w],~w.indexOf(",")&&(w=w.split(",")[0]))),C=w in zu,C){if(this.styles.save(w),_==="string"&&p.substring(0,6)==="var(--"&&(p=Zo(e,p.substring(4,p.indexOf(")"))),g=parseFloat(p)),A||(N=e._gsap,N.renderTransform&&!t.parseTransform||d_(e,t.parseTransform),L=t.smoothOrigin!==!1&&N.smooth,A=this._pt=new Hs(this._pt,l,tr,0,1,N.renderTransform,N,0,-1),A.dep=1),w==="scale")this._pt=new Hs(this._pt,N,"scaleY",N.scaleY,(R?I0(N.scaleY,R+g):g)-N.scaleY||0,MA),this._pt.u=0,s.push("scaleY",w),w+="X";else if(w==="transformOrigin"){U.push(Vs,0,l[Vs]),p=Gj(p),N.svg?CA(e,p,0,L,0,this):(b=parseFloat(p.split(" ")[2])||0,b!==N.zOrigin&&rh(this,N,"zOrigin",N.zOrigin,b),rh(this,l,w,WS(f),WS(p)));continue}else if(w==="svgOrigin"){CA(e,p,1,L,0,this);continue}else if(w in nI){Yj(this,N,w,v,R?I0(v,R+p):p);continue}else if(w==="smoothOrigin"){rh(this,N,"smooth",N.smooth,p);continue}else if(w==="force3D"){N[w]=p;continue}else if(w==="transform"){Zj(this,p,e);continue}}else w in l||(w=Q0(w)||w);if(C||(g||g===0)&&(v||v===0)&&!Dj.test(p)&&w in l)E=(f+"").substr((v+"").length),g||(g=0),b=Ia(p)||(w in mo.units?mo.units[w]:E),E!==b&&(v=ph(e,w,f,b)),this._pt=new Hs(this._pt,C?N:l,w,v,(R?I0(v,R+g):g)-v,!C&&(b==="px"||w==="zIndex")&&t.autoRound!==!1?Pj:MA),this._pt.u=b||0,E!==b&&b!=="%"&&(this._pt.b=f,this._pt.r=Nj);else if(w in l)jj.call(this,e,w,f,R?R+p:p);else if(w in e)this.add(e,w,f||e[w],R?R+p:p,r,a);else if(w!=="parseTransform"){fR(w,p);continue}C||(w in l?U.push(w,0,l[w]):typeof e[w]=="function"?U.push(w,2,e[w]()):U.push(w,1,f||e[w])),s.push(w)}}B&&qU(this)},render:function(e,t){if(t.tween._time||!SR())for(var n=t._pt;n;)n.r(e,n.d),n=n._next;else t.styles.revert()},get:Cu,aliases:Dc,getSetter:function(e,t,n){var r=Dc[t];return r&&r.indexOf(",")<0&&(t=r),t in zu&&t!==Vs&&(e._gsap.x||Cu(e,"x"))?n&&eO===n?t==="scale"?Bj:Ij:(eO=n||{})&&(t==="scale"?zj:kj):e.style&&!lR(e.style[t])?Lj:~t.indexOf("-")?Uj:_R(e,t)},core:{_removeProperty:yp,_getMatrix:ER}};Gs.utils.checkPrefix=Q0;Gs.core.getStyleSaver=JU;(function(i,e,t,n){var r=Fs(i+","+e+","+t,function(a){zu[a]=1});Fs(e,function(a){mo.units[a]="deg",nI[a]=1}),Dc[r[13]]=i+","+e,Fs(n,function(a){var s=a.split(":");Dc[s[1]]=r[s[0]]})})("x,y,z,scale,scaleX,scaleY,xPercent,yPercent","rotation,rotationX,rotationY,skewX,skewY","transform,transformOrigin,svgOrigin,force3D,smoothOrigin,transformPerspective","0:translateX,1:translateY,2:translateZ,8:rotate,8:rotationZ,8:rotateZ,9:rotateX,10:rotateY");Fs("x,y,z,top,right,bottom,left,width,height,fontSize,padding,margin,perspective",function(i){mo.units[i]="px"});Gs.registerPlugin(aI);var st=Gs.registerPlugin(aI)||Gs;st.core.Tween;const sI=({forceMobile:i=!1})=>{const e=H.useRef(null);return H.useEffect(()=>{const t=e.current,n=t.getContext("2d");let r,a,s,l,u=0;const f=i||window.innerWidth<=768,p=f?0:11e3,g=f?1e3:3e3,v=f?48:110,_=f?5:7;let S=0;function w(){s=window.devicePixelRatio||1,r=window.innerWidth,a=window.innerHeight,t.width=r*s,t.height=a*s,t.style.width=r+"px",t.style.height=a+"px",n.setTransform(1,0,0,1,0,0),n.scale(s,s)}function E(C){n.clearRect(0,0,r,a);const A=f?1:C<p?0:Math.min(1,(C-p)/g),N=Math.max(1,Math.ceil(r/v)),L=Math.max(2,Math.round(N*.2)),B=Math.floor((N-L)/2),U=B+L-1;if(C<1e4){n.save(),n.fillStyle="rgba(0,0,0,1)";for(let ue=0;ue<r;ue+=v)for(let G=0;G<(f?a*.5:a);G+=v){const Y=ue/v;Y>=B&&Y<=U||(ue/v+G/v)%2===0&&n.fillRect(ue,G,v,v)}n.restore()}else if(A>0){n.save(),n.globalAlpha=A;for(let ue=0;ue<r;ue+=v)for(let G=0;G<a;G+=v){const Y=ue/v;if(!(Y>=B&&Y<=U)&&(ue/v+G/v)%2===0)if(f)n.fillStyle="rgba(255,255,255,0.03)",n.fillRect(ue,G,v,v);else{const Q=n.createLinearGradient(ue,G,ue+v,G+v);Q.addColorStop(0,"rgba(240,240,240,0.05)"),Q.addColorStop(1,"rgba(200,200,200,0.05)"),n.fillStyle=Q,n.fillRect(ue,G,v,v)}}n.restore()}const P=f?1:C<p?0:1;if(P>0){const ue=f?.4:.25,G=f?.8:.5;n.strokeStyle=`rgba(255,255,255,${ue*P})`,n.lineWidth=G;for(let Y=0;Y<=r;Y+=v)n.beginPath(),n.moveTo(Y,0),n.lineTo(Y,a),n.stroke();for(let Y=0;Y<=a;Y+=v)n.beginPath(),n.moveTo(0,Y),n.lineTo(r,Y),n.stroke()}n.save(),n.globalCompositeOperation="destination-in";const z=n.createLinearGradient(0,a,0,0);z.addColorStop(0,"rgba(0,0,0,0)"),z.addColorStop(.5,"rgba(0,0,0,0)"),z.addColorStop(.75,"rgba(0,0,0,1)"),z.addColorStop(1,"rgba(0,0,0,1)"),n.fillStyle=z,n.fillRect(0,0,r,a),n.restore(),n.save(),n.globalCompositeOperation="source-over";const X=f?1:C<p?0:Math.min(1,(C-p)/g);n.globalAlpha=X,n.beginPath();const te=80,se=r/2,ae=50;n.moveTo(0,ae),n.quadraticCurveTo(se*.25,ae+te*.8,se,ae+te),n.quadraticCurveTo(se*1.75,ae+te*.8,r,ae),n.lineTo(r,0),n.lineTo(0,0),n.closePath(),n.fillStyle="rgba(255, 255, 255, 0.35)",n.filter="blur(120px)",n.fill(),n.restore()}function b(C,A,N,L,B=8,U=150){const P=U/B;for(let z=0;z<B;z++){const X=C+N*P*z,te=A+L*P*z,se=C+N*P*(z+1),ae=A+L*P*(z+1),ue=(1-z/B)*.5;n.strokeStyle=`rgba(255,255,255,${ue})`,n.lineWidth=1.2*(1-z/B*.5),n.shadowBlur=3*(1-z/B),n.shadowColor=`rgba(255,255,255,${ue*.4})`,n.beginPath(),n.moveTo(X,te),n.lineTo(se,ae),n.stroke()}n.shadowBlur=0,n.shadowColor="transparent"}function R(){u||(u=performance.now());const C=performance.now()-u;if(E(C),!f&&C>=p){const A=Math.round(v*1.5/v)*v,N=a-S%(a+150);N/a<.25&&b(A,N,0,1,8,200);const B=Math.round(v*1.5/v)*v,U=r-S%(r+150);U/r<.2&&b(U,B,1,0,8,200);const z=Math.round(v*11/v)*v,X=S%(a+150)-150;X/a<.5&&b(z,X,0,-1,8,200);const se=Math.round(v*1.5/v)*v,ae=S%(r+150)+150;ae/r>.8&&b(ae,se,-1,0,8,200),S+=_*.7}l=requestAnimationFrame(R)}return window.addEventListener("resize",w),w(),R(),()=>{window.removeEventListener("resize",w),cancelAnimationFrame(l)}},[]),I.jsx("div",{className:"absolute top-0 left-0 w-full h-full z-0 pointer-events-none",children:I.jsx("div",{className:"absolute inset-0",style:{opacity:.6},children:I.jsx("canvas",{ref:e,className:"absolute inset-0 w-full h-full",style:{zIndex:9998}})})})};sI.jsx;const Kj=()=>{const i=H.useRef(null),e=H.useRef(null),t=H.useRef(null),n=H.useRef(!1),r=H.useRef(!1),[a,s]=H.useState("portrait"),[l,u]=H.useState(!0),[f,p]=H.useState(!1),[g,v]=H.useState(!1),[_,S]=H.useState("mobile");H.useRef(1);const w=H.useRef(!1),E=H.useRef(!1),[b,R]=H.useState(!1),C=()=>{const A=document.querySelector("#next-section")||document.querySelector(".next-slide")||document.querySelector("main")||document.body;A&&A.scrollIntoView({behavior:"smooth",block:"start"})};return H.useEffect(()=>{const A=()=>{const N=window.innerWidth,L=window.innerHeight,B=N<=575,U=N>575&&N<=1600,P=N>1600;u(B),p(U),N>L?(s("landscape"),v(!0)):(s("portrait"),v(!1)),S(B?"mobile":U&&a==="portrait"?"tablet-portrait":"desktop"),window.__loggedHeroDevice||(window.__loggedHeroDevice=!0,console.log(`Device Detection: width=${N}, height=${L}, mobile=${B}, tablet=${U}, desktop=${P}, orientation=${a}, viewMode=${a==="portrait"?"tablet-portrait":"desktop"}`))};return A(),window.addEventListener("resize",A),window.addEventListener("orientationchange",A),()=>{window.removeEventListener("resize",A),window.removeEventListener("orientationchange",A)}},[a]),H.useEffect(()=>{const A=i.current,N=e.current;if(!A)return;const L=()=>{if(!E.current)try{A.muted=!0,A.playsInline=!0;const ae=A.play();ae&&typeof ae.then=="function"&&ae.catch(()=>{})}catch{}},B=()=>{try{A.currentTime===0&&(A.currentTime=.01)}catch{}L()},U=()=>L(),P=()=>{w.current||(w.current=!0,window.removeEventListener("touchstart",te,!0),window.removeEventListener("pointerdown",te,!0))},z=()=>{E.current=!0,document.removeEventListener("visibilitychange",X),window.removeEventListener("touchstart",te,!0),window.removeEventListener("pointerdown",te,!0);try{A.pause()}catch{}},X=()=>{document.hidden||L()},te=()=>{L(),window.removeEventListener("touchstart",te,!0),window.removeEventListener("pointerdown",te,!0)};A.addEventListener("loadedmetadata",B),A.addEventListener("canplay",U),A.addEventListener("play",P),A.addEventListener("ended",z),document.addEventListener("visibilitychange",X),window.addEventListener("touchstart",te,!0),window.addEventListener("pointerdown",te,!0);const se=setTimeout(()=>{N&&st.set(N,{opacity:1})},1200);return L(),()=>{clearTimeout(se),A.removeEventListener("loadedmetadata",B),A.removeEventListener("canplay",U),A.removeEventListener("play",P),A.removeEventListener("ended",z),document.removeEventListener("visibilitychange",X),window.removeEventListener("touchstart",te,!0),window.removeEventListener("pointerdown",te,!0)}},[]),H.useEffect(()=>{let A;const N=()=>{if(!e.current||!i.current||!t.current){A=requestAnimationFrame(N);return}if(_!=="mobile"&&_!=="tablet-portrait")return;const L=window.innerWidth;let B,U;_==="tablet-portrait"?(B=L,U=1,L<=575?U=.4:L<=768?U=.5:L<=1024?U=.6:L<=1600?U=.7:U=.8):(B=375,U=L/B);const P=1056*U,z=594*U,X=_==="tablet-portrait"?60*U:218*U,te=_==="tablet-portrait"?-80*U:-340.89*U,se={width:P,height:z,top:X,left:te};st.set(e.current,{opacity:1,position:"absolute",top:se.top,left:se.left,width:se.width,height:se.height,borderRadius:0,zIndex:50}),st.set("#text-mobile",{opacity:0,top:"50%",yPercent:-50});const ae=()=>{if(!i.current||!e.current||!t.current||i.current.currentTime<8||n.current||r.current)return;let G,Y;_==="tablet-portrait"?(G=window.innerWidth,Y=1,window.innerWidth<=575?Y=.4:window.innerWidth<=768?Y=.5:window.innerWidth<=1024?Y=.6:window.innerWidth<=1600?Y=.7:Y=.8):(G=375,Y=window.innerWidth/G);const Q=618.6666870117188*Y,ye=348*Y,F=_==="tablet-portrait"?120*Y:350*Y,fe=_==="tablet-portrait"?-60*Y:-122.33*Y,Se=_==="tablet-portrait"?60*Y:125.1*Y;r.current=!0,st.to(e.current,{width:Q,height:ye,top:F,left:fe,borderRadius:Se,duration:1.6,ease:"none",force3D:!0,onComplete:()=>{n.current=!0,R(!0)}});const Ce=_==="tablet-portrait"?40*Y:134*Y;st.to("#text-mobile",{opacity:1,top:Ce,yPercent:0,duration:.8,ease:"sine.out"}),st.to("#hero-dome-mask-mobile",{opacity:1,duration:.8,ease:"power2.out",delay:1.6,force3D:!0})};i.current.addEventListener("timeupdate",ae);const ue=()=>ae();return i.current.addEventListener("loadeddata",ue),()=>{i.current?.removeEventListener("timeupdate",ae),i.current?.removeEventListener("loadeddata",ue)}};return A=requestAnimationFrame(N),()=>{A&&cancelAnimationFrame(A)}},[_]),H.useEffect(()=>{let A=!1;const N=()=>{A||(requestAnimationFrame(()=>{if(!n.current||!e.current||!t.current||_!=="mobile"&&_!=="tablet-portrait")return;const L=t.current.getBoundingClientRect();st.set(e.current,{top:L.top,left:L.left,transformOrigin:"center center"}),A=!1}),A=!0)};return window.addEventListener("scroll",N,{passive:!0}),()=>window.removeEventListener("scroll",N)},[_]),_==="desktop"?null:I.jsxs(I.Fragment,{children:[I.jsx("style",{children:`
          /* Prevent horizontal overflow */
          html, body {
            overflow-x: hidden !important;
            max-width: 100vw !important;
          }

          #hero-mobile {
            overflow-x: hidden !important;
            max-width: 100vw !important;
          }

          /* Grid container - disabled */
          /* #grid_container {
            opacity: 1 !important;
            visibility: visible !important;
            z-index: 10 !important;
          } */
          
          /* Mobile-specific scrollbar hiding */
          #hero-mobile::-webkit-scrollbar {
            width: 0px !important;
            height: 0px !important;
            background-color: transparent !important;
            display: none !important;
          }
          
          #hero-mobile::-webkit-scrollbar-track,
          #hero-mobile::-webkit-scrollbar-thumb,
          #hero-mobile::-webkit-scrollbar-corner {
            background-color: transparent !important;
            display: none !important;
          }
          
          #hero-mobile {
            scrollbar-width: none !important;
            -ms-overflow-style: none !important;
            overflow: -moz-scrollbars-none !important;
          }
          
          /* Mobile-optimized video container */
          .mobile-video-blend {
            transform-origin: center center !important;
            position: relative !important;
            will-change: transform, width, height, top, left;
            backface-visibility: hidden;
            border-radius: inherit;
            overflow: hidden;
          }
          
          .mobile-video-container-locked {
            transform-origin: center center !important;
            position: fixed !important;
          }
          
          /* Mobile-specific text sizing */
          .mobile-hero-text {
            font-size: clamp(2rem, 8vw, 4rem);
            line-height: 1.2;
            text-align: center;
            padding: 0 1rem;
          }
          
          .mobile-hero-subtitle {
            font-size: clamp(1rem, 4vw, 1.5rem);
            line-height: 1.3;
            margin-bottom: 1.5rem;
          }
          
          /* Tablet-specific adjustments */
          .tablet-portrait .mobile-hero-text {
            font-size: clamp(2.5rem, 6vw, 3.5rem);
          }
          
          .tablet-portrait .mobile-hero-subtitle {
            font-size: clamp(1.2rem, 3vw, 1.3rem);
          }
          
          /* Tablet portrait video container adjustments */
          .tablet-portrait .mobile-video-blend {
            transform-origin: center center !important;
            will-change: transform, width, height, top, left;
            backface-visibility: hidden;
          }
          
          /* Landscape-specific adjustments */
          .mobile-landscape .mobile-hero-text {
            font-size: clamp(2.5rem, 6vw, 3.5rem);
            margin-top: 2rem;
          }
          
          .mobile-landscape .mobile-hero-subtitle {
            font-size: clamp(1.2rem, 3vw, 1.3rem);
            margin-bottom: 1rem;
          }
          
          /* Mobile scroll button */
          .mobile-scroll-btn {
            width: 140px;
            height: 56px;
            font-size: 1rem;
            border-radius: 28px;
          }
          
          .mobile-landscape .mobile-scroll-btn {
            width: 120px;
            height: 48px;
            font-size: 0.9rem;
            border-radius: 24px;
          }
          
          /* Touch-friendly interactions */
          .mobile-touch-target {
            min-height: 44px;
            min-width: 44px;
          }
          
          /* Mobile performance optimizations */
          .mobile-perf-hint {
            will-change: transform;
            backface-visibility: hidden;
          }
          
          /* Dome mask smooth animation */
          #hero-dome-mask-mobile {
            will-change: opacity;
            backface-visibility: hidden;
            transform: translateZ(0);
          }
        `}),I.jsxs("div",{id:"hero-mobile",className:`relative w-full min-h-screen bg-black flex flex-col items-center overflow-y-auto overflow-x-hidden ${g?"mobile-landscape":"mobile-portrait"} ${f&&!g?"tablet-portrait":""}`,style:{scrollbarWidth:"none",msOverflowStyle:"none",WebkitScrollbarWidth:"none",overflow:"-moz-scrollbars-none",overflowX:"hidden",maxWidth:"100vw"},children:[I.jsx("div",{id:"hero-dome-mask-mobile",className:"absolute pointer-events-none z-[40]",style:{position:"absolute",width:"clamp(1024px, 94vw, 1600px)",height:"360px",left:"50%",transform:"translateX(-50%)",top:"-160px",background:"#272727",filter:"blur(162px)",mixBlendMode:"normal",opacity:0,willChange:"opacity",backfaceVisibility:"hidden"}}),I.jsxs("div",{id:"text-mobile",className:"opacity-0",style:{position:"absolute",width:f?"600px":"375px",height:f?"auto":"192.53px",left:"50%",transform:"translateX(-50%)",top:f?"180px":"134px",display:"flex",flexDirection:"column",alignItems:"flex-start",padding:0,gap:f?"12px":"7.53px",zIndex:70,textAlign:"left"},children:[I.jsx("p",{style:{width:"100%",height:"auto",fontFamily:"Inter",fontStyle:"normal",fontWeight:400,fontSize:f?"18px":"14px",lineHeight:f?"22px":"17px",textAlign:"center",color:"#777575",flex:"none",order:0,alignSelf:"stretch",flexGrow:0,margin:0,padding:0},children:"The new-age finance app for your digital-first life."}),I.jsx("h1",{style:{width:"100%",height:"auto",fontFamily:"EB Garamond",fontStyle:"normal",fontWeight:700,fontSize:f?"80px":"64px",lineHeight:f?"96px":"84px",textAlign:"center",backgroundImage:"linear-gradient(165.6deg, #999999 32.7%, #161616 70.89%)",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent",backgroundClip:"text",color:"transparent",flex:"none",order:1,flexGrow:0,margin:0,padding:0},children:"Do Money, Differently."})]}),I.jsx("div",{className:`relative z-10 w-full px-4 ${g?"mt-4":"mt-6"}`,children:I.jsx("div",{ref:t,className:"shadow-lg mx-auto",style:{width:_==="tablet-portrait"?"clamp(250px, 70vw, 500px)":_==="mobile"?"clamp(320px, 90vw, 400px)":"clamp(280px, 70vw, 600px)",aspectRatio:"16 / 9",borderRadius:_==="tablet-portrait"||_==="mobile"?"20%":"16%",overflow:"hidden",background:"transparent",position:"relative"}})}),I.jsxs("div",{ref:e,className:"w-full opacity-0",style:{position:"absolute",top:0,left:0,width:"100%",height:_==="tablet-portrait"?"calc(100vh - 12rem)":_==="mobile"?"calc(100vh - 4rem)":"calc(100vh - 2rem)",overflow:"hidden",borderRadius:0,background:"radial-gradient(50% 50% at 50% 50%, rgba(0, 0, 0, 0) 54.88%, #000000 100%)",zIndex:50},children:[I.jsx("video",{ref:i,src:A7,preload:"auto",autoPlay:!0,muted:!0,playsInline:!0,disablePictureInPicture:!0,controlsList:"nodownload nofullscreen noremoteplayback",className:"w-full h-full object-contain bg-black object-center pointer-events-none mobile-video-blend",style:{objectPosition:"center center",willChange:"transform",transform:"translateZ(0)"},onEnded:()=>i.current.pause(),disableRemotePlayback:!0}),I.jsx("div",{className:"absolute inset-0 pointer-events-none",style:{background:"radial-gradient(50% 50% at 50% 50%, rgba(0, 0, 0, 0) 54.88%, #000000 100%)",borderRadius:"inherit",zIndex:2}})]}),b&&I.jsx("div",{id:"scroll-down-btn",className:`absolute pointer-events-auto mobile-scroll-btn ${_==="tablet-portrait"?"bottom-1":_==="mobile"?"bottom-8":"bottom-6"}`,style:{left:"50%",zIndex:100,transform:"translateX(-50%) translateY(0)"},children:I.jsxs("button",{className:"w-full h-full flex items-center justify-center gap-2 px-4 py-3 rounded-full hover:bg-white/0.08 transition-all duration-300 group mobile-touch-target",style:{background:"rgba(255, 255, 255, 0.04)",boxShadow:"0px 4px 4px rgba(0, 0, 0, 0.25)",fontFamily:"GeneralSans, sans-serif"},onClick:C,children:[I.jsx("span",{className:"text-white font-medium tracking-wide",children:"Scroll Down"}),I.jsx("svg",{className:"w-4 h-4 text-white transform group-hover:translate-y-1 transition-transform duration-300",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:I.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 14l-7 7m0 0l-7-7m7 7V3"})})]})})]})]})},$j=()=>{const[i,e]=H.useState(!1),t=H.useRef(null),n=H.useRef(null),r=H.useRef(null),a=H.useRef(!1),s=H.useRef(0),l=H.useRef({}),[u,f]=H.useState(()=>{try{return window.innerWidth}catch{return 0}});return H.useEffect(()=>{const p=()=>{try{f(window.innerWidth)}catch{}};return window.addEventListener("resize",p),window.addEventListener("orientationchange",p),()=>{window.removeEventListener("resize",p),window.removeEventListener("orientationchange",p)}},[]),H.useEffect(()=>{const p=()=>{try{e(window.innerWidth<=768)}catch{}};return p(),window.addEventListener("resize",p),window.addEventListener("orientationchange",p),()=>{window.removeEventListener("resize",p),window.removeEventListener("orientationchange",p)}},[]),H.useEffect(()=>{/^((?!chrome|android).)*safari/i.test(navigator.userAgent)&&(document.body.classList.add("safari-browser"),t.current&&t.current.classList.add("safari-video-fix"),n.current&&n.current.classList.add("safari-gpu-accelerated"))},[]),H.useEffect(()=>{if(i)return;let p;const g=()=>{if(!n.current||!r.current){p=requestAnimationFrame(g);return}const v=st.timeline();st.set(n.current,{opacity:0,position:"absolute",top:"2cm",left:0,width:"100%",height:"100vh",borderRadius:0,zIndex:50}),st.set("#grid_container",{opacity:0}),st.set("#dynamic-overlay",{opacity:0}),st.set("#hero-top-mask",{opacity:0}),st.set("#hero-side-mask",{opacity:0}),st.set("#hero-dome-mask",{opacity:0}),st.set("#text",{opacity:0,y:"50vh",scale:.9});const _=()=>r.current?r.current.offsetWidth:0,S=()=>r.current?r.current.offsetHeight:0,w=()=>r.current?r.current.getBoundingClientRect().top:0,E=()=>r.current?r.current.getBoundingClientRect().left:0,b=()=>r.current&&window.getComputedStyle(r.current).borderRadius||0;v.to(n.current,{opacity:1,duration:1,delay:.4}).to("#dynamic-overlay",{opacity:1,duration:.6,ease:"sine.out"},"<").to("#fullscreen-spotlight",{opacity:1,duration:.6,ease:"sine.out"},"<").addLabel("shrink","+=7.5").to("#fullscreen-spotlight",{opacity:0,duration:.25,ease:"power1.out"},"shrink").to("#dynamic-overlay",{opacity:0,duration:.25,ease:"power1.out"},"shrink").to(t.current,{opacity:.5,duration:.6,ease:"power1.inOut"},"shrink").to(n.current,{width:_,height:S,borderRadius:b,top:w,left:E,x:0,y:0,rotate:0,opacity:1,duration:2.6,ease:"power1.inOut",transformOrigin:"center center",onStart:()=>{n.current&&n.current.classList.add("perf-hint")},onUpdate:()=>{if(n.current){const R=performance.now();if(R-s.current<33)return;s.current=R,st.getProperty(n.current,"scale"),_()/window.innerWidth}},onComplete:()=>{a.current=!0,n.current&&(n.current.classList.remove("perf-hint"),n.current.classList.add("video-container-locked"),l.current={x:st.getProperty(n.current,"x"),y:st.getProperty(n.current,"y"),scaleX:st.getProperty(n.current,"scaleX"),scaleY:st.getProperty(n.current,"scaleY"),top:st.getProperty(n.current,"top"),left:st.getProperty(n.current,"left"),width:st.getProperty(n.current,"width"),height:st.getProperty(n.current,"height"),borderRadius:st.getProperty(n.current,"borderRadius")})}},"shrink").to(t.current,{opacity:1,duration:.8,ease:"power1.out",onComplete:()=>{if(t.current)try{t.current.pause()}catch{}}},">").to({},{duration:0,onStart:()=>{const R=document.getElementById("dynamic-overlay");R&&(R.style.background="radial-gradient(50% 50% at 50% 50%, rgba(0, 0, 0, 0) 54.88%, #000000 100%)")}},">").to("#dynamic-overlay",{opacity:1,duration:.4,ease:"sine.out"},"<").to(["#hero-top-mask","#hero-side-mask"],{opacity:1,duration:.4,ease:"sine.out"},"shrink").to("#hero-dome-mask",{opacity:.8,duration:.6,ease:"sine.out"},">").to("#grid_container",{opacity:1,duration:.4,ease:"sine.out"},"<").to("#text",{opacity:1,y:0,scale:1,duration:2.8,ease:"sine.out"},"shrink").to("#scroll-down-btn",{opacity:1,y:0,duration:.8,ease:"sine.out"},">")};return p=requestAnimationFrame(g),()=>{p&&cancelAnimationFrame(p)}},[i]),H.useEffect(()=>{if(i)return;const p=()=>{if(!a.current||!n.current||!r.current)return;const w=r.current.getBoundingClientRect(),E=window.getComputedStyle(r.current);st.set(n.current,{width:r.current.offsetWidth,height:r.current.offsetHeight,top:w.top,left:w.left,borderRadius:E.borderRadius||0,transformOrigin:"center center",x:0,y:0,opacity:1,position:"fixed"}),t.current&&(t.current.style.opacity="1")},g=()=>{if(!a.current||!n.current||!r.current)return;const w=r.current.getBoundingClientRect(),E=window.getComputedStyle(r.current);st.set(n.current,{width:r.current.offsetWidth,height:r.current.offsetHeight,top:w.top,left:w.left,borderRadius:E.borderRadius||0,transformOrigin:"center center",x:0,y:0})},v=()=>{if(a.current&&n.current&&r.current){const w=r.current.getBoundingClientRect();st.set(n.current,{top:w.top,left:w.left,transformOrigin:"center center"})}},_=w=>{!r.current||!a.current||_.throttle||(_.throttle=!0,requestAnimationFrame(()=>{_.throttle=!1;const E=r.current.getBoundingClientRect(),b=E.bottom,R=window.innerHeight,C=window.pageYOffset||document.documentElement.scrollTop;t.current&&!t.current.paused&&t.current.ended;const A=Math.max(0,b-R+100);if(C>A){w.preventDefault(),w.stopPropagation();const B=document.getElementById("hero");return B&&(B.classList.add("scroll-limit-reached"),setTimeout(()=>B.classList.remove("scroll-limit-reached"),500)),window.scrollTo({top:A,behavior:"auto"}),!1}const N=E.top,L=Math.max(0,N-50);if(C<L){w.preventDefault(),w.stopPropagation();const B=document.getElementById("hero");return B&&(B.classList.add("scroll-limit-reached"),setTimeout(()=>B.classList.remove("scroll-limit-reached"),500)),window.scrollTo({top:L,behavior:"auto"}),!1}}))};window.addEventListener("resize",g),window.addEventListener("scroll",v),window.addEventListener("scroll",_,{passive:!1});const S=()=>{a.current&&n.current&&(l.current={x:st.getProperty(n.current,"x"),y:st.getProperty(n.current,"y"),scaleX:st.getProperty(n.current,"scaleX"),scaleY:st.getProperty(n.current,"scaleY"),top:st.getProperty(n.current,"top"),left:st.getProperty(n.current,"left"),width:st.getProperty(n.current,"width"),height:st.getProperty(n.current,"height"),borderRadius:st.getProperty(n.current,"borderRadius")})};return st.ticker.add(S),document.addEventListener("visibilitychange",()=>{a.current&&n.current&&l.current?(st.set(n.current,l.current),st.set("#dynamic-overlay",{opacity:1}),st.set("#hero-dome-mask",{opacity:1}),st.set("#grid_container",{opacity:1})):(st.set("#fullscreen-spotlight",{opacity:1}),st.set("#dynamic-overlay",{opacity:1}),st.set("#hero-top-mask",{opacity:0}),st.set("#hero-side-mask",{opacity:0}),st.set("#grid_container",{opacity:0}),p())}),window.addEventListener("pageshow",()=>{a.current&&n.current&&l.current?(st.set(n.current,l.current),st.set("#dynamic-overlay",{opacity:1}),st.set("#hero-dome-mask",{opacity:1}),st.set("#grid_container",{opacity:1})):(st.set("#fullscreen-spotlight",{opacity:1}),st.set("#dynamic-overlay",{opacity:1}),st.set("#hero-top-mask",{opacity:0}),st.set("#hero-side-mask",{opacity:0}),st.set("#grid_container",{opacity:0}),p())}),()=>{window.removeEventListener("resize",g),window.removeEventListener("scroll",v),window.removeEventListener("scroll",_),document.removeEventListener("visibilitychange",p),window.removeEventListener("pageshow",p),st.ticker.remove(S)}},[i]),I.jsx(I.Fragment,{children:i?I.jsx(Kj,{}):I.jsxs(I.Fragment,{children:[I.jsx("style",{children:`
          /* Hide scrollbar completely across all browsers - Global approach */
          *::-webkit-scrollbar {
            width: 0px !important;
            height: 0px !important;
            background: transparent !important;
            display: none !important;
          }
          
          *::-webkit-scrollbar-track {
            background: transparent !important;
            display: none !important;
          }
          
          *::-webkit-scrollbar-thumb {
            background: transparent !important;
            display: none !important;
          }
          
          *::-webkit-scrollbar-corner {
            background: transparent !important;
            display: none !important;
          }
          
          /* Firefox scrollbar hiding - Global */
          * {
            scrollbar-width: none !important;
            -ms-overflow-style: none !important;
          }
          
          /* Specific hero element scrollbar hiding */
          #hero::-webkit-scrollbar {
            width: 0px !important;
            height: 0px !important;
            background: transparent !important;
            display: none !important;
          }
          
          #hero::-webkit-scrollbar-track {
            background: transparent !important;
            display: none !important;
          }
          
          #hero::-webkit-scrollbar-thumb {
            background: transparent !important;
            display: none !important;
          }
          
          #hero::-webkit-scrollbar-corner {
            background: transparent !important;
            display: none !important;
          }
          
          /* Firefox scrollbar hiding */
          #hero {
            scrollbar-width: none !important;
            -ms-overflow-style: none !important;
          }
          
          /* Lock video position and ensure center scaling */
          .video-blend {
            transform-origin: center center !important;
            position: relative !important;
            will-change: transform, width, height, top, left;
            backface-visibility: hidden;
            border-radius: inherit;
            overflow: hidden;
          }
          
          /* Lock wrapper position after animation */
          [ref="wrapperRef"] {
            transform-origin: center center !important;
          }
          
          /* Ensure video scales from placeholder center */
          .video-container-locked {
            transform-origin: center center !important;
            position: fixed !important;
          }
          
          /* Lock placeholder position */
          .video-placeholder-locked {
            position: relative !important;
            z-index: 10 !important;
          }
          
          /* Prevent any unwanted movement during scroll */
          .video-container-locked .video-blend {
            transform-origin: center center !important;
            position: absolute !important;
            top: 0 !important;
            left: 0 !important;
            right: 0 !important;
            bottom: 0 !important;
          }
          
          /* Scroll constraint visual feedback */
          .scroll-constrained {
            scroll-behavior: smooth;
            overscroll-behavior: contain;
          }
          
          /* Prevent overscroll beyond video boundaries */
          .video-scroll-boundary {
            overscroll-behavior: contain;
            scroll-snap-type: y proximity;
          }
          
          /* Visual feedback when scroll limit is reached */
          .scroll-limit-reached {
            animation: scrollBounce 0.5s ease-out;
          }
          
          @keyframes scrollBounce {
            0%, 100% { transform: translateX(0); }
            25% { transform: translateX(-5px); }
            75% { transform: translateX(5px); }
          }
          
          /* Hide scrollbar for video scroll boundary as well */
          .video-scroll-boundary::-webkit-scrollbar {
            width: 0px !important;
            height: 0px !important;
            background: transparent !important;
            display: none !important;
          }
          
          .video-scroll-boundary::-webkit-scrollbar-track {
            background: transparent !important;
            display: none !important;
          }
          
          .video-scroll-boundary::-webkit-scrollbar-thumb {
            background: transparent !important;
            display: none !important;
          }
          
          /* Smooth scaling animation for video */
          .video-scaling {
            transition: all 2.5s cubic-bezier(0.25, 0.46, 0.45, 0.94);
          }
          
          /* Optimize video performance during scaling */
          .video-blend video {
            will-change: transform;
            transform: translateZ(0);
            border-radius: inherit;
            overflow: hidden;
          }
          
          /* Natural video-to-background merge */
          .video-blend {
            position: relative;
            border-radius: inherit;
            overflow: hidden;
          }
          
          /* Ensure video blends naturally with overlay */
          .video-blend video {
            border-radius: inherit;
            mix-blend-mode: normal;
          }
          
          /* Dynamic overlay transitions during scaling */
          #dynamic-overlay {
            transition: background 0.1s ease-out;
            will-change: background;
          }
          
          /* Ensure smooth scaling animation */
          .video-blend {
            will-change: transform, width, height;
            backface-visibility: hidden;
          }
          
          /* Removed extra spotlight/glow to reduce cost - keep only main ellipse */
          
          /* Additional scrollbar hiding for all possible scrollable elements */
          html::-webkit-scrollbar,
          body::-webkit-scrollbar,
          .overflow-y-auto::-webkit-scrollbar,
          .scroll-constrained::-webkit-scrollbar,
          .video-scroll-boundary::-webkit-scrollbar {
            width: 0px !important;
            height: 0px !important;
            background: transparent !important;
            display: none !important;
          }
          
          html::-webkit-scrollbar-track,
          body::-webkit-scrollbar-track,
          .overflow-y-auto::-webkit-scrollbar-track,
          .scroll-constrained::-webkit-scrollbar-track,
          .video-scroll-boundary::-webkit-scrollbar-track {
            background: transparent !important;
            display: none !important;
          }
          
          html::-webkit-scrollbar-thumb,
          body::-webkit-scrollbar-thumb,
          .overflow-y-auto::-webkit-scrollbar-thumb,
          .scroll-constrained::-webkit-scrollbar-thumb,
          .video-scroll-boundary::-webkit-scrollbar-thumb {
            background: transparent !important;
            display: none !important;
          }
          
          /* Force hide scrollbars with CSS */
          html, body, #hero, .overflow-y-auto, .scroll-constrained, .video-scroll-boundary {
            scrollbar-width: none !important;
            -ms-overflow-style: none !important;
            overflow: -moz-scrollbars-none !important;
          }
        `}),I.jsxs("div",{id:"hero",className:"relative w-full min-h-screen bg-black flex flex-col items-center overflow-y-auto scroll-constrained video-scroll-boundary",style:{scrollbarWidth:"none",msOverflowStyle:"none",WebkitScrollbarWidth:"none",overflow:"-moz-scrollbars-none"},children:[I.jsx("div",{id:"grid_container",className:"absolute inset-0 z-0",children:I.jsx(sI,{})}),I.jsx("div",{id:"hero-top-mask",className:"absolute inset-x-0 top-0 pointer-events-none z-[30]",style:{height:"40vh",background:"linear-gradient(to bottom, rgba(0,0,0,1) 0%, rgba(0,0,0,0.85) 30%, rgba(0,0,0,0.6) 60%, rgba(0,0,0,0.2) 80%, rgba(0,0,0,0) 100%)",opacity:0}}),I.jsx("div",{id:"hero-side-mask",className:"absolute inset-y-0 left-0 right-0 pointer-events-none z-[30]",style:{background:"radial-gradient(60% 80% at 0% 50%, rgba(0,0,0,0.85) 0%, rgba(0,0,0,0.55) 22%, rgba(0,0,0,0.18) 50%, rgba(0,0,0,0.0) 58%) , radial-gradient(60% 80% at 100% 50%, rgba(0,0,0,0.85) 0%, rgba(0,0,0,0.55) 22%, rgba(0,0,0,0.18) 50%, rgba(0,0,0,0.0) 58%)",opacity:0}}),I.jsx("div",{id:"hero-dome-mask",className:"absolute pointer-events-none z-[40]",style:{position:"absolute",width:"clamp(1024px, 94vw, 1600px)",height:"360px",left:"50%",transform:"translateX(-50%)",top:"-160px",background:"#272727",filter:"blur(162px)",mixBlendMode:"normal",maskImage:"linear-gradient(to bottom, black 0%, black 48%, rgba(0,0,0,0) 80%)",WebkitMaskImage:"linear-gradient(to bottom, black 0%, black 48%, rgba(0,0,0,0) 80%)",opacity:0}}),I.jsxs("div",{id:"text",className:"relative z-[70] text-center px-4 mt-40 opacity-0",style:{marginTop:"calc(10rem + 0.5cm)"},children:[I.jsx("p",{style:{fontFamily:"General Sans, sans-serif",fontWeight:500,fontSize:"24px",lineHeight:"100%",color:"#777575",marginBottom:"1rem"},children:"The new-age finance app for your digital-first life."}),I.jsx("h1",{style:{fontFamily:"EB Garamond",fontWeight:700,fontStyle:"normal",fontSize:"clamp(72px, 9.08vw, 130.81px)",lineHeight:"1.4",letterSpacing:"0%",textAlign:"center",width:"100%",backgroundImage:"linear-gradient(178deg, #999999 32.7%, #161616 70.89%)",backgroundClip:"text",WebkitBackgroundClip:"text",color:"transparent",WebkitTextFillColor:"transparent"},children:"Do Money, Differently."})]}),I.jsx("div",{className:"relative z-10 w-full px-4",style:{marginTop:"-0.2cm"},children:I.jsx("div",{ref:r,className:"shadow-lg mx-auto video-placeholder-locked",style:{width:"clamp(320px, 80vw, 1088px)",aspectRatio:"1088 / 612",borderRadius:"20.22%",overflow:"hidden",background:"transparent",position:"relative"}})}),I.jsxs("div",{ref:n,className:"w-full opacity-0",style:{position:"absolute",top:0,left:0,width:"100%",height:"100vh",overflow:"hidden",borderRadius:0,background:"transparent",zIndex:50},children:[I.jsx("video",{ref:t,src:"/BAFT Vid 2_1.mp4",preload:"auto",autoPlay:!0,muted:!0,playsInline:!0,disablePictureInPicture:!0,controlsList:"nodownload nofullscreen noremoteplayback",className:"w-full h-full object-cover object-center pointer-events-none video-blend",style:{objectPosition:"center center",filter:"brightness(1.1) contrast(1.05) saturate(1.1)"},onEnded:()=>t.current.pause()}),I.jsx("div",{id:"fullscreen-spotlight",className:"absolute inset-0 pointer-events-none",style:{background:"radial-gradient(50% 50% at 50% 50%, rgba(0, 0, 0, 0) 54.88%, #000000 100%)",borderRadius:"inherit",zIndex:2,opacity:0,transition:"opacity 0.3s ease-out"}}),I.jsx("div",{id:"dynamic-overlay",className:"absolute inset-0 pointer-events-none",style:{background:"linear-gradient(to bottom, rgba(0,0,0,0.55) 0%, rgba(0,0,0,0.25) 12%, rgba(0,0,0,0.08) 24%, rgba(0,0,0,0) 38%), radial-gradient(50% 50% at 50% 50%, rgba(0,0,0,0) 45%, rgba(0,0,0,0.10) 58%, rgba(0,0,0,0.28) 70%, rgba(0,0,0,0.45) 82%, rgba(0,0,0,0.60) 100%)",borderRadius:"inherit",mixBlendMode:"multiply",zIndex:1,transition:"background 0.1s ease-out",filter:"blur(2px)",opacity:0}})]}),I.jsx("div",{id:"scroll-down-btn",className:"absolute pointer-events-auto",style:{width:"178px",height:"70px",left:"calc(50% - 178px/2)",bottom:"52px",zIndex:100,opacity:0,transform:"translateY(20px)"},children:I.jsxs("button",{className:"w-full h-full flex items-center justify-center gap-[10px] px-8 py-6 rounded-[220px] hover:bg-white/0.08 transition-all duration-300 group",style:{background:"rgba(255, 255, 255, 0.04)",boxShadow:"0px 4px 4px rgba(0, 0, 0, 0.25)",fontFamily:"GeneralSans, sans-serif"},onClick:()=>{const p=document.querySelector('[data-section="next"]')||document.getElementById("about")||document.querySelector("main > div:nth-child(2)");p&&p.scrollIntoView({behavior:"smooth"})},children:[I.jsx("span",{className:"text-white font-medium text-lg tracking-wide",style:{fontFamily:"GeneralSans, sans-serif"},children:"Scroll Down"}),I.jsx("svg",{className:"w-5 h-5 text-white transform group-hover:translate-y-1 transition-transform duration-300",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:I.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 14l-7 7m0 0l-7-7m7 7V3"})})]})})]})]})})};function Jj(i,e){for(var t=0;t<e.length;t++){var n=e[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(i,n.key,n)}}function Qj(i,e,t){return e&&Jj(i.prototype,e),i}/*!
 * Observer 3.13.0
 * https://gsap.com
 *
 * @license Copyright 2008-2025, GreenSock. All rights reserved.
 * Subject to the terms at https://gsap.com/standard-license
 * @author: Jack Doyle, jack@greensock.com
*/var ya,pS,fo,ah,sh,k0,oI,jd,Oy,lI,Nu,Rl,cI,uI=function(){return ya||typeof window<"u"&&(ya=window.gsap)&&ya.registerPlugin&&ya},fI=1,M0=[],jn=[],Uc=[],Ny=Date.now,RA=function(e,t){return t},eG=function(){var e=Oy.core,t=e.bridge||{},n=e._scrollers,r=e._proxies;n.push.apply(n,jn),r.push.apply(r,Uc),jn=n,Uc=r,RA=function(s,l){return t[s](l)}},fh=function(e,t){return~Uc.indexOf(e)&&Uc[Uc.indexOf(e)+1][t]},Py=function(e){return!!~lI.indexOf(e)},os=function(e,t,n,r,a){return e.addEventListener(t,n,{passive:r!==!1,capture:!!a})},as=function(e,t,n,r){return e.removeEventListener(t,n,!!r)},K1="scrollLeft",$1="scrollTop",DA=function(){return Nu&&Nu.isPressed||jn.cache++},XS=function(e,t){var n=function r(a){if(a||a===0){fI&&(fo.history.scrollRestoration="manual");var s=Nu&&Nu.isPressed;a=r.v=Math.round(a)||(Nu&&Nu.iOS?1:0),e(a),r.cacheID=jn.cache,s&&RA("ss",a)}else(t||jn.cache!==r.cacheID||RA("ref"))&&(r.cacheID=jn.cache,r.v=e());return r.v+r.offset};return n.offset=0,e&&n},ps={s:K1,p:"left",p2:"Left",os:"right",os2:"Right",d:"width",d2:"Width",a:"x",sc:XS(function(i){return arguments.length?fo.scrollTo(i,Xr.sc()):fo.pageXOffset||ah[K1]||sh[K1]||k0[K1]||0})},Xr={s:$1,p:"top",p2:"Top",os:"bottom",os2:"Bottom",d:"height",d2:"Height",a:"y",op:ps,sc:XS(function(i){return arguments.length?fo.scrollTo(ps.sc(),i):fo.pageYOffset||ah[$1]||sh[$1]||k0[$1]||0})},Is=function(e,t){return(t&&t._ctx&&t._ctx.selector||ya.utils.toArray)(e)[0]||(typeof e=="string"&&ya.config().nullTargetWarn!==!1?console.warn("Element not found:",e):null)},tG=function(e,t){for(var n=t.length;n--;)if(t[n]===e||t[n].contains(e))return!0;return!1},mh=function(e,t){var n=t.s,r=t.sc;Py(e)&&(e=ah.scrollingElement||sh);var a=jn.indexOf(e),s=r===Xr.sc?1:2;!~a&&(a=jn.push(e)-1),jn[a+s]||os(e,"scroll",DA);var l=jn[a+s],u=l||(jn[a+s]=XS(fh(e,n),!0)||(Py(e)?r:XS(function(f){return arguments.length?e[n]=f:e[n]})));return u.target=e,l||(u.smooth=ya.getProperty(e,"scrollBehavior")==="smooth"),u},OA=function(e,t,n){var r=e,a=e,s=Ny(),l=s,u=t||50,f=Math.max(500,u*3),p=function(S,w){var E=Ny();w||E-s>u?(a=r,r=S,l=s,s=E):n?r+=S:r=a+(S-a)/(E-l)*(s-l)},g=function(){a=r=n?0:r,l=s=0},v=function(S){var w=l,E=a,b=Ny();return(S||S===0)&&S!==r&&p(S),s===l||b-l>f?0:(r+(n?E:-E))/((n?b:s)-w)*1e3};return{update:p,reset:g,getVelocity:v}},Zv=function(e,t){return t&&!e._gsapAllow&&e.preventDefault(),e.changedTouches?e.changedTouches[0]:e},cO=function(e){var t=Math.max.apply(Math,e),n=Math.min.apply(Math,e);return Math.abs(t)>=Math.abs(n)?t:n},hI=function(){Oy=ya.core.globals().ScrollTrigger,Oy&&Oy.core&&eG()},dI=function(e){return ya=e||uI(),!pS&&ya&&typeof document<"u"&&document.body&&(fo=window,ah=document,sh=ah.documentElement,k0=ah.body,lI=[fo,ah,sh,k0],ya.utils.clamp,cI=ya.core.context||function(){},jd="onpointerenter"in k0?"pointer":"mouse",oI=br.isTouch=fo.matchMedia&&fo.matchMedia("(hover: none), (pointer: coarse)").matches?1:"ontouchstart"in fo||navigator.maxTouchPoints>0||navigator.msMaxTouchPoints>0?2:0,Rl=br.eventTypes=("ontouchstart"in sh?"touchstart,touchmove,touchcancel,touchend":"onpointerdown"in sh?"pointerdown,pointermove,pointercancel,pointerup":"mousedown,mousemove,mouseup,mouseup").split(","),setTimeout(function(){return fI=0},500),hI(),pS=1),pS};ps.op=Xr;jn.cache=0;var br=(function(){function i(t){this.init(t)}var e=i.prototype;return e.init=function(n){pS||dI(ya)||console.warn("Please gsap.registerPlugin(Observer)"),Oy||hI();var r=n.tolerance,a=n.dragMinimum,s=n.type,l=n.target,u=n.lineHeight,f=n.debounce,p=n.preventDefault,g=n.onStop,v=n.onStopDelay,_=n.ignore,S=n.wheelSpeed,w=n.event,E=n.onDragStart,b=n.onDragEnd,R=n.onDrag,C=n.onPress,A=n.onRelease,N=n.onRight,L=n.onLeft,B=n.onUp,U=n.onDown,P=n.onChangeX,z=n.onChangeY,X=n.onChange,te=n.onToggleX,se=n.onToggleY,ae=n.onHover,ue=n.onHoverEnd,G=n.onMove,Y=n.ignoreCheck,Q=n.isNormalizer,ye=n.onGestureStart,F=n.onGestureEnd,fe=n.onWheel,Se=n.onEnable,Ce=n.onDisable,ke=n.onClick,we=n.scrollSpeed,ee=n.capture,ie=n.allowClicks,_e=n.lockAxis,Be=n.onLockAxis;this.target=l=Is(l)||sh,this.vars=n,_&&(_=ya.utils.toArray(_)),r=r||1e-9,a=a||0,S=S||1,we=we||1,s=s||"wheel,touch,pointer",f=f!==!1,u||(u=parseFloat(fo.getComputedStyle(k0).lineHeight)||22);var Ze,gt,pt,ne,be,De,Ye,re=this,Ve=0,Ke=0,$e=n.passive||!p&&n.passive!==!1,_t=mh(l,ps),vt=mh(l,Xr),$=_t(),q=vt(),xe=~s.indexOf("touch")&&!~s.indexOf("pointer")&&Rl[0]==="pointerdown",Ne=Py(l),ze=l.ownerDocument||ah,Ue=[0,0,0],mt=[0,0,0],ht=0,Dt=function(){return ht=Ny()},wt=function(Gt,tn){return(re.event=Gt)&&_&&tG(Gt.target,_)||tn&&xe&&Gt.pointerType!=="touch"||Y&&Y(Gt,tn)},it=function(){re._vx.reset(),re._vy.reset(),gt.pause(),g&&g(re)},ct=function(){var Gt=re.deltaX=cO(Ue),tn=re.deltaY=cO(mt),xt=Math.abs(Gt)>=r,kt=Math.abs(tn)>=r;X&&(xt||kt)&&X(re,Gt,tn,Ue,mt),xt&&(N&&re.deltaX>0&&N(re),L&&re.deltaX<0&&L(re),P&&P(re),te&&re.deltaX<0!=Ve<0&&te(re),Ve=re.deltaX,Ue[0]=Ue[1]=Ue[2]=0),kt&&(U&&re.deltaY>0&&U(re),B&&re.deltaY<0&&B(re),z&&z(re),se&&re.deltaY<0!=Ke<0&&se(re),Ke=re.deltaY,mt[0]=mt[1]=mt[2]=0),(ne||pt)&&(G&&G(re),pt&&(E&&pt===1&&E(re),R&&R(re),pt=0),ne=!1),De&&!(De=!1)&&Be&&Be(re),be&&(fe(re),be=!1),Ze=0},zt=function(Gt,tn,xt){Ue[xt]+=Gt,mt[xt]+=tn,re._vx.update(Gt),re._vy.update(tn),f?Ze||(Ze=requestAnimationFrame(ct)):ct()},Rt=function(Gt,tn){_e&&!Ye&&(re.axis=Ye=Math.abs(Gt)>Math.abs(tn)?"x":"y",De=!0),Ye!=="y"&&(Ue[2]+=Gt,re._vx.update(Gt,!0)),Ye!=="x"&&(mt[2]+=tn,re._vy.update(tn,!0)),f?Ze||(Ze=requestAnimationFrame(ct)):ct()},ft=function(Gt){if(!wt(Gt,1)){Gt=Zv(Gt,p);var tn=Gt.clientX,xt=Gt.clientY,kt=tn-re.x,Ft=xt-re.y,Zt=re.isDragging;re.x=tn,re.y=xt,(Zt||(kt||Ft)&&(Math.abs(re.startX-tn)>=a||Math.abs(re.startY-xt)>=a))&&(pt=Zt?2:1,Zt||(re.isDragging=!0),Rt(kt,Ft))}},Ut=re.onPress=function(Ct){wt(Ct,1)||Ct&&Ct.button||(re.axis=Ye=null,gt.pause(),re.isPressed=!0,Ct=Zv(Ct),Ve=Ke=0,re.startX=re.x=Ct.clientX,re.startY=re.y=Ct.clientY,re._vx.reset(),re._vy.reset(),os(Q?l:ze,Rl[1],ft,$e,!0),re.deltaX=re.deltaY=0,C&&C(re))},de=re.onRelease=function(Ct){if(!wt(Ct,1)){as(Q?l:ze,Rl[1],ft,!0);var Gt=!isNaN(re.y-re.startY),tn=re.isDragging,xt=tn&&(Math.abs(re.x-re.startX)>3||Math.abs(re.y-re.startY)>3),kt=Zv(Ct);!xt&&Gt&&(re._vx.reset(),re._vy.reset(),p&&ie&&ya.delayedCall(.08,function(){if(Ny()-ht>300&&!Ct.defaultPrevented){if(Ct.target.click)Ct.target.click();else if(ze.createEvent){var Ft=ze.createEvent("MouseEvents");Ft.initMouseEvent("click",!0,!0,fo,1,kt.screenX,kt.screenY,kt.clientX,kt.clientY,!1,!1,!1,!1,0,null),Ct.target.dispatchEvent(Ft)}}})),re.isDragging=re.isGesturing=re.isPressed=!1,g&&tn&&!Q&&gt.restart(!0),pt&&ct(),b&&tn&&b(re),A&&A(re,xt)}},Oe=function(Gt){return Gt.touches&&Gt.touches.length>1&&(re.isGesturing=!0)&&ye(Gt,re.isDragging)},dt=function(){return(re.isGesturing=!1)||F(re)},At=function(Gt){if(!wt(Gt)){var tn=_t(),xt=vt();zt((tn-$)*we,(xt-q)*we,1),$=tn,q=xt,g&&gt.restart(!0)}},ot=function(Gt){if(!wt(Gt)){Gt=Zv(Gt,p),fe&&(be=!0);var tn=(Gt.deltaMode===1?u:Gt.deltaMode===2?fo.innerHeight:1)*S;zt(Gt.deltaX*tn,Gt.deltaY*tn,0),g&&!Q&&gt.restart(!0)}},et=function(Gt){if(!wt(Gt)){var tn=Gt.clientX,xt=Gt.clientY,kt=tn-re.x,Ft=xt-re.y;re.x=tn,re.y=xt,ne=!0,g&&gt.restart(!0),(kt||Ft)&&Rt(kt,Ft)}},Lt=function(Gt){re.event=Gt,ae(re)},Xt=function(Gt){re.event=Gt,ue(re)},bn=function(Gt){return wt(Gt)||Zv(Gt,p)&&ke(re)};gt=re._dc=ya.delayedCall(v||.25,it).pause(),re.deltaX=re.deltaY=0,re._vx=OA(0,50,!0),re._vy=OA(0,50,!0),re.scrollX=_t,re.scrollY=vt,re.isDragging=re.isGesturing=re.isPressed=!1,cI(this),re.enable=function(Ct){return re.isEnabled||(os(Ne?ze:l,"scroll",DA),s.indexOf("scroll")>=0&&os(Ne?ze:l,"scroll",At,$e,ee),s.indexOf("wheel")>=0&&os(l,"wheel",ot,$e,ee),(s.indexOf("touch")>=0&&oI||s.indexOf("pointer")>=0)&&(os(l,Rl[0],Ut,$e,ee),os(ze,Rl[2],de),os(ze,Rl[3],de),ie&&os(l,"click",Dt,!0,!0),ke&&os(l,"click",bn),ye&&os(ze,"gesturestart",Oe),F&&os(ze,"gestureend",dt),ae&&os(l,jd+"enter",Lt),ue&&os(l,jd+"leave",Xt),G&&os(l,jd+"move",et)),re.isEnabled=!0,re.isDragging=re.isGesturing=re.isPressed=ne=pt=!1,re._vx.reset(),re._vy.reset(),$=_t(),q=vt(),Ct&&Ct.type&&Ut(Ct),Se&&Se(re)),re},re.disable=function(){re.isEnabled&&(M0.filter(function(Ct){return Ct!==re&&Py(Ct.target)}).length||as(Ne?ze:l,"scroll",DA),re.isPressed&&(re._vx.reset(),re._vy.reset(),as(Q?l:ze,Rl[1],ft,!0)),as(Ne?ze:l,"scroll",At,ee),as(l,"wheel",ot,ee),as(l,Rl[0],Ut,ee),as(ze,Rl[2],de),as(ze,Rl[3],de),as(l,"click",Dt,!0),as(l,"click",bn),as(ze,"gesturestart",Oe),as(ze,"gestureend",dt),as(l,jd+"enter",Lt),as(l,jd+"leave",Xt),as(l,jd+"move",et),re.isEnabled=re.isPressed=re.isDragging=!1,Ce&&Ce(re))},re.kill=re.revert=function(){re.disable();var Ct=M0.indexOf(re);Ct>=0&&M0.splice(Ct,1),Nu===re&&(Nu=0)},M0.push(re),Q&&Py(l)&&(Nu=re),re.enable(w)},Qj(i,[{key:"velocityX",get:function(){return this._vx.getVelocity()}},{key:"velocityY",get:function(){return this._vy.getVelocity()}}]),i})();br.version="3.13.0";br.create=function(i){return new br(i)};br.register=dI;br.getAll=function(){return M0.slice()};br.getById=function(i){return M0.filter(function(e){return e.vars.id===i})[0]};uI()&&ya.registerPlugin(br);/*!
 * ScrollTrigger 3.13.0
 * https://gsap.com
 *
 * @license Copyright 2008-2025, GreenSock. All rights reserved.
 * Subject to the terms at https://gsap.com/standard-license
 * @author: Jack Doyle, jack@greensock.com
*/var Wt,b0,Vn,Bi,co,mi,MR,qS,p_,Ly,my,J1,La,rE,NA,us,uO,fO,S0,pI,iM,mI,cs,PA,gI,vI,Kf,LA,TR,F0,AR,YS,UA,rM,Q1=1,Ua=Date.now,aM=Ua(),Ko=0,gy=0,hO=function(e,t,n){var r=oo(e)&&(e.substr(0,6)==="clamp("||e.indexOf("max")>-1);return n["_"+t+"Clamp"]=r,r?e.substr(6,e.length-7):e},dO=function(e,t){return t&&(!oo(e)||e.substr(0,6)!=="clamp(")?"clamp("+e+")":e},nG=function i(){return gy&&requestAnimationFrame(i)},pO=function(){return rE=1},mO=function(){return rE=0},Mc=function(e){return e},vy=function(e){return Math.round(e*1e5)/1e5||0},yI=function(){return typeof window<"u"},_I=function(){return Wt||yI()&&(Wt=window.gsap)&&Wt.registerPlugin&&Wt},_p=function(e){return!!~MR.indexOf(e)},xI=function(e){return(e==="Height"?AR:Vn["inner"+e])||co["client"+e]||mi["client"+e]},bI=function(e){return fh(e,"getBoundingClientRect")||(_p(e)?function(){return _S.width=Vn.innerWidth,_S.height=AR,_S}:function(){return Ru(e)})},iG=function(e,t,n){var r=n.d,a=n.d2,s=n.a;return(s=fh(e,"getBoundingClientRect"))?function(){return s()[r]}:function(){return(t?xI(a):e["client"+a])||0}},rG=function(e,t){return!t||~Uc.indexOf(e)?bI(e):function(){return _S}},Oc=function(e,t){var n=t.s,r=t.d2,a=t.d,s=t.a;return Math.max(0,(n="scroll"+r)&&(s=fh(e,n))?s()-bI(e)()[a]:_p(e)?(co[n]||mi[n])-xI(r):e[n]-e["offset"+r])},eb=function(e,t){for(var n=0;n<S0.length;n+=3)(!t||~t.indexOf(S0[n+1]))&&e(S0[n],S0[n+1],S0[n+2])},oo=function(e){return typeof e=="string"},Ba=function(e){return typeof e=="function"},yy=function(e){return typeof e=="number"},Gd=function(e){return typeof e=="object"},Kv=function(e,t,n){return e&&e.progress(t?0:1)&&n&&e.pause()},sM=function(e,t){if(e.enabled){var n=e._ctx?e._ctx.add(function(){return t(e)}):t(e);n&&n.totalTime&&(e.callbackAnimation=n)}},Xm=Math.abs,SI="left",wI="top",CR="right",RR="bottom",up="width",fp="height",Uy="Right",Iy="Left",By="Top",zy="Bottom",Rr="padding",Go="margin",eg="Width",DR="Height",Gr="px",Wo=function(e){return Vn.getComputedStyle(e)},aG=function(e){var t=Wo(e).position;e.style.position=t==="absolute"||t==="fixed"?t:"relative"},gO=function(e,t){for(var n in t)n in e||(e[n]=t[n]);return e},Ru=function(e,t){var n=t&&Wo(e)[NA]!=="matrix(1, 0, 0, 1, 0, 0)"&&Wt.to(e,{x:0,y:0,xPercent:0,yPercent:0,rotation:0,rotationX:0,rotationY:0,scale:1,skewX:0,skewY:0}).progress(1),r=e.getBoundingClientRect();return n&&n.progress(0).kill(),r},ZS=function(e,t){var n=t.d2;return e["offset"+n]||e["client"+n]||0},EI=function(e){var t=[],n=e.labels,r=e.duration(),a;for(a in n)t.push(n[a]/r);return t},sG=function(e){return function(t){return Wt.utils.snap(EI(e),t)}},OR=function(e){var t=Wt.utils.snap(e),n=Array.isArray(e)&&e.slice(0).sort(function(r,a){return r-a});return n?function(r,a,s){s===void 0&&(s=.001);var l;if(!a)return t(r);if(a>0){for(r-=s,l=0;l<n.length;l++)if(n[l]>=r)return n[l];return n[l-1]}else for(l=n.length,r+=s;l--;)if(n[l]<=r)return n[l];return n[0]}:function(r,a,s){s===void 0&&(s=.001);var l=t(r);return!a||Math.abs(l-r)<s||l-r<0==a<0?l:t(a<0?r-e:r+e)}},oG=function(e){return function(t,n){return OR(EI(e))(t,n.direction)}},tb=function(e,t,n,r){return n.split(",").forEach(function(a){return e(t,a,r)})},ia=function(e,t,n,r,a){return e.addEventListener(t,n,{passive:!r,capture:!!a})},na=function(e,t,n,r){return e.removeEventListener(t,n,!!r)},nb=function(e,t,n){n=n&&n.wheelHandler,n&&(e(t,"wheel",n),e(t,"touchmove",n))},vO={startColor:"green",endColor:"red",indent:0,fontSize:"16px",fontWeight:"normal"},ib={toggleActions:"play",anticipatePin:0},KS={top:0,left:0,center:.5,bottom:1,right:1},mS=function(e,t){if(oo(e)){var n=e.indexOf("="),r=~n?+(e.charAt(n-1)+1)*parseFloat(e.substr(n+1)):0;~n&&(e.indexOf("%")>n&&(r*=t/100),e=e.substr(0,n-1)),e=r+(e in KS?KS[e]*t:~e.indexOf("%")?parseFloat(e)*t/100:parseFloat(e)||0)}return e},rb=function(e,t,n,r,a,s,l,u){var f=a.startColor,p=a.endColor,g=a.fontSize,v=a.indent,_=a.fontWeight,S=Bi.createElement("div"),w=_p(n)||fh(n,"pinType")==="fixed",E=e.indexOf("scroller")!==-1,b=w?mi:n,R=e.indexOf("start")!==-1,C=R?f:p,A="border-color:"+C+";font-size:"+g+";color:"+C+";font-weight:"+_+";pointer-events:none;white-space:nowrap;font-family:sans-serif,Arial;z-index:1000;padding:4px 8px;border-width:0;border-style:solid;";return A+="position:"+((E||u)&&w?"fixed;":"absolute;"),(E||u||!w)&&(A+=(r===Xr?CR:RR)+":"+(s+parseFloat(v))+"px;"),l&&(A+="box-sizing:border-box;text-align:left;width:"+l.offsetWidth+"px;"),S._isStart=R,S.setAttribute("class","gsap-marker-"+e+(t?" marker-"+t:"")),S.style.cssText=A,S.innerText=t||t===0?e+"-"+t:e,b.children[0]?b.insertBefore(S,b.children[0]):b.appendChild(S),S._offset=S["offset"+r.op.d2],gS(S,0,r,R),S},gS=function(e,t,n,r){var a={display:"block"},s=n[r?"os2":"p2"],l=n[r?"p2":"os2"];e._isFlipped=r,a[n.a+"Percent"]=r?-100:0,a[n.a]=r?"1px":0,a["border"+s+eg]=1,a["border"+l+eg]=0,a[n.p]=t+"px",Wt.set(e,a)},kn=[],IA={},m_,yO=function(){return Ua()-Ko>34&&(m_||(m_=requestAnimationFrame(Lu)))},qm=function(){(!cs||!cs.isPressed||cs.startX>mi.clientWidth)&&(jn.cache++,cs?m_||(m_=requestAnimationFrame(Lu)):Lu(),Ko||bp("scrollStart"),Ko=Ua())},oM=function(){vI=Vn.innerWidth,gI=Vn.innerHeight},_y=function(e){jn.cache++,(e===!0||!La&&!mI&&!Bi.fullscreenElement&&!Bi.webkitFullscreenElement&&(!PA||vI!==Vn.innerWidth||Math.abs(Vn.innerHeight-gI)>Vn.innerHeight*.25))&&qS.restart(!0)},xp={},lG=[],MI=function i(){return na(On,"scrollEnd",i)||$d(!0)},bp=function(e){return xp[e]&&xp[e].map(function(t){return t()})||lG},so=[],TI=function(e){for(var t=0;t<so.length;t+=5)(!e||so[t+4]&&so[t+4].query===e)&&(so[t].style.cssText=so[t+1],so[t].getBBox&&so[t].setAttribute("transform",so[t+2]||""),so[t+3].uncache=1)},NR=function(e,t){var n;for(us=0;us<kn.length;us++)n=kn[us],n&&(!t||n._ctx===t)&&(e?n.kill(1):n.revert(!0,!0));YS=!0,t&&TI(t),t||bp("revert")},AI=function(e,t){jn.cache++,(t||!fs)&&jn.forEach(function(n){return Ba(n)&&n.cacheID++&&(n.rec=0)}),oo(e)&&(Vn.history.scrollRestoration=TR=e)},fs,hp=0,_O,cG=function(){if(_O!==hp){var e=_O=hp;requestAnimationFrame(function(){return e===hp&&$d(!0)})}},CI=function(){mi.appendChild(F0),AR=!cs&&F0.offsetHeight||Vn.innerHeight,mi.removeChild(F0)},xO=function(e){return p_(".gsap-marker-start, .gsap-marker-end, .gsap-marker-scroller-start, .gsap-marker-scroller-end").forEach(function(t){return t.style.display=e?"none":"block"})},$d=function(e,t){if(co=Bi.documentElement,mi=Bi.body,MR=[Vn,Bi,co,mi],Ko&&!e&&!YS){ia(On,"scrollEnd",MI);return}CI(),fs=On.isRefreshing=!0,jn.forEach(function(r){return Ba(r)&&++r.cacheID&&(r.rec=r())});var n=bp("refreshInit");pI&&On.sort(),t||NR(),jn.forEach(function(r){Ba(r)&&(r.smooth&&(r.target.style.scrollBehavior="auto"),r(0))}),kn.slice(0).forEach(function(r){return r.refresh()}),YS=!1,kn.forEach(function(r){if(r._subPinOffset&&r.pin){var a=r.vars.horizontal?"offsetWidth":"offsetHeight",s=r.pin[a];r.revert(!0,1),r.adjustPinSpacing(r.pin[a]-s),r.refresh()}}),UA=1,xO(!0),kn.forEach(function(r){var a=Oc(r.scroller,r._dir),s=r.vars.end==="max"||r._endClamp&&r.end>a,l=r._startClamp&&r.start>=a;(s||l)&&r.setPositions(l?a-1:r.start,s?Math.max(l?a:r.start+1,a):r.end,!0)}),xO(!1),UA=0,n.forEach(function(r){return r&&r.render&&r.render(-1)}),jn.forEach(function(r){Ba(r)&&(r.smooth&&requestAnimationFrame(function(){return r.target.style.scrollBehavior="smooth"}),r.rec&&r(r.rec))}),AI(TR,1),qS.pause(),hp++,fs=2,Lu(2),kn.forEach(function(r){return Ba(r.vars.onRefresh)&&r.vars.onRefresh(r)}),fs=On.isRefreshing=!1,bp("refresh")},BA=0,vS=1,ky,Lu=function(e){if(e===2||!fs&&!YS){On.isUpdating=!0,ky&&ky.update(0);var t=kn.length,n=Ua(),r=n-aM>=50,a=t&&kn[0].scroll();if(vS=BA>a?-1:1,fs||(BA=a),r&&(Ko&&!rE&&n-Ko>200&&(Ko=0,bp("scrollEnd")),my=aM,aM=n),vS<0){for(us=t;us-- >0;)kn[us]&&kn[us].update(0,r);vS=1}else for(us=0;us<t;us++)kn[us]&&kn[us].update(0,r);On.isUpdating=!1}m_=0},zA=[SI,wI,RR,CR,Go+zy,Go+Uy,Go+By,Go+Iy,"display","flexShrink","float","zIndex","gridColumnStart","gridColumnEnd","gridRowStart","gridRowEnd","gridArea","justifySelf","alignSelf","placeSelf","order"],yS=zA.concat([up,fp,"boxSizing","max"+eg,"max"+DR,"position",Go,Rr,Rr+By,Rr+Uy,Rr+zy,Rr+Iy]),uG=function(e,t,n){H0(n);var r=e._gsap;if(r.spacerIsNative)H0(r.spacerState);else if(e._gsap.swappedIn){var a=t.parentNode;a&&(a.insertBefore(e,t),a.removeChild(t))}e._gsap.swappedIn=!1},lM=function(e,t,n,r){if(!e._gsap.swappedIn){for(var a=zA.length,s=t.style,l=e.style,u;a--;)u=zA[a],s[u]=n[u];s.position=n.position==="absolute"?"absolute":"relative",n.display==="inline"&&(s.display="inline-block"),l[RR]=l[CR]="auto",s.flexBasis=n.flexBasis||"auto",s.overflow="visible",s.boxSizing="border-box",s[up]=ZS(e,ps)+Gr,s[fp]=ZS(e,Xr)+Gr,s[Rr]=l[Go]=l[wI]=l[SI]="0",H0(r),l[up]=l["max"+eg]=n[up],l[fp]=l["max"+DR]=n[fp],l[Rr]=n[Rr],e.parentNode!==t&&(e.parentNode.insertBefore(t,e),t.appendChild(e)),e._gsap.swappedIn=!0}},fG=/([A-Z])/g,H0=function(e){if(e){var t=e.t.style,n=e.length,r=0,a,s;for((e.t._gsap||Wt.core.getCache(e.t)).uncache=1;r<n;r+=2)s=e[r+1],a=e[r],s?t[a]=s:t[a]&&t.removeProperty(a.replace(fG,"-$1").toLowerCase())}},ab=function(e){for(var t=yS.length,n=e.style,r=[],a=0;a<t;a++)r.push(yS[a],n[yS[a]]);return r.t=e,r},hG=function(e,t,n){for(var r=[],a=e.length,s=n?8:0,l;s<a;s+=2)l=e[s],r.push(l,l in t?t[l]:e[s+1]);return r.t=e.t,r},_S={left:0,top:0},bO=function(e,t,n,r,a,s,l,u,f,p,g,v,_,S){Ba(e)&&(e=e(u)),oo(e)&&e.substr(0,3)==="max"&&(e=v+(e.charAt(4)==="="?mS("0"+e.substr(3),n):0));var w=_?_.time():0,E,b,R;if(_&&_.seek(0),isNaN(e)||(e=+e),yy(e))_&&(e=Wt.utils.mapRange(_.scrollTrigger.start,_.scrollTrigger.end,0,v,e)),l&&gS(l,n,r,!0);else{Ba(t)&&(t=t(u));var C=(e||"0").split(" "),A,N,L,B;R=Is(t,u)||mi,A=Ru(R)||{},(!A||!A.left&&!A.top)&&Wo(R).display==="none"&&(B=R.style.display,R.style.display="block",A=Ru(R),B?R.style.display=B:R.style.removeProperty("display")),N=mS(C[0],A[r.d]),L=mS(C[1]||"0",n),e=A[r.p]-f[r.p]-p+N+a-L,l&&gS(l,L,r,n-L<20||l._isStart&&L>20),n-=n-L}if(S&&(u[S]=e||-.001,e<0&&(e=0)),s){var U=e+n,P=s._isStart;E="scroll"+r.d2,gS(s,U,r,P&&U>20||!P&&(g?Math.max(mi[E],co[E]):s.parentNode[E])<=U+1),g&&(f=Ru(l),g&&(s.style[r.op.p]=f[r.op.p]-r.op.m-s._offset+Gr))}return _&&R&&(E=Ru(R),_.seek(v),b=Ru(R),_._caScrollDist=E[r.p]-b[r.p],e=e/_._caScrollDist*v),_&&_.seek(w),_?e:Math.round(e)},dG=/(webkit|moz|length|cssText|inset)/i,SO=function(e,t,n,r){if(e.parentNode!==t){var a=e.style,s,l;if(t===mi){e._stOrig=a.cssText,l=Wo(e);for(s in l)!+s&&!dG.test(s)&&l[s]&&typeof a[s]=="string"&&s!=="0"&&(a[s]=l[s]);a.top=n,a.left=r}else a.cssText=e._stOrig;Wt.core.getCache(e).uncache=1,t.appendChild(e)}},RI=function(e,t,n){var r=t,a=r;return function(s){var l=Math.round(e());return l!==r&&l!==a&&Math.abs(l-r)>3&&Math.abs(l-a)>3&&(s=l,n&&n()),a=r,r=Math.round(s),r}},sb=function(e,t,n){var r={};r[t.p]="+="+n,Wt.set(e,r)},wO=function(e,t){var n=mh(e,t),r="_scroll"+t.p2,a=function s(l,u,f,p,g){var v=s.tween,_=u.onComplete,S={};f=f||n();var w=RI(n,f,function(){v.kill(),s.tween=0});return g=p&&g||0,p=p||l-f,v&&v.kill(),u[r]=l,u.inherit=!1,u.modifiers=S,S[r]=function(){return w(f+p*v.ratio+g*v.ratio*v.ratio)},u.onUpdate=function(){jn.cache++,s.tween&&Lu()},u.onComplete=function(){s.tween=0,_&&_.call(v)},v=s.tween=Wt.to(e,u),v};return e[r]=n,n.wheelHandler=function(){return a.tween&&a.tween.kill()&&(a.tween=0)},ia(e,"wheel",n.wheelHandler),On.isTouch&&ia(e,"touchmove",n.wheelHandler),a},On=(function(){function i(t,n){b0||i.register(Wt)||console.warn("Please gsap.registerPlugin(ScrollTrigger)"),LA(this),this.init(t,n)}var e=i.prototype;return e.init=function(n,r){if(this.progress=this.start=0,this.vars&&this.kill(!0,!0),!gy){this.update=this.refresh=this.kill=Mc;return}n=gO(oo(n)||yy(n)||n.nodeType?{trigger:n}:n,ib);var a=n,s=a.onUpdate,l=a.toggleClass,u=a.id,f=a.onToggle,p=a.onRefresh,g=a.scrub,v=a.trigger,_=a.pin,S=a.pinSpacing,w=a.invalidateOnRefresh,E=a.anticipatePin,b=a.onScrubComplete,R=a.onSnapComplete,C=a.once,A=a.snap,N=a.pinReparent,L=a.pinSpacer,B=a.containerAnimation,U=a.fastScrollEnd,P=a.preventOverlaps,z=n.horizontal||n.containerAnimation&&n.horizontal!==!1?ps:Xr,X=!g&&g!==0,te=Is(n.scroller||Vn),se=Wt.core.getCache(te),ae=_p(te),ue=("pinType"in n?n.pinType:fh(te,"pinType")||ae&&"fixed")==="fixed",G=[n.onEnter,n.onLeave,n.onEnterBack,n.onLeaveBack],Y=X&&n.toggleActions.split(" "),Q="markers"in n?n.markers:ib.markers,ye=ae?0:parseFloat(Wo(te)["border"+z.p2+eg])||0,F=this,fe=n.onRefreshInit&&function(){return n.onRefreshInit(F)},Se=iG(te,ae,z),Ce=rG(te,ae),ke=0,we=0,ee=0,ie=mh(te,z),_e,Be,Ze,gt,pt,ne,be,De,Ye,re,Ve,Ke,$e,_t,vt,$,q,xe,Ne,ze,Ue,mt,ht,Dt,wt,it,ct,zt,Rt,ft,Ut,de,Oe,dt,At,ot,et,Lt,Xt;if(F._startClamp=F._endClamp=!1,F._dir=z,E*=45,F.scroller=te,F.scroll=B?B.time.bind(B):ie,gt=ie(),F.vars=n,r=r||n.animation,"refreshPriority"in n&&(pI=1,n.refreshPriority===-9999&&(ky=F)),se.tweenScroll=se.tweenScroll||{top:wO(te,Xr),left:wO(te,ps)},F.tweenTo=_e=se.tweenScroll[z.p],F.scrubDuration=function(xt){Oe=yy(xt)&&xt,Oe?de?de.duration(xt):de=Wt.to(r,{ease:"expo",totalProgress:"+=0",inherit:!1,duration:Oe,paused:!0,onComplete:function(){return b&&b(F)}}):(de&&de.progress(1).kill(),de=0)},r&&(r.vars.lazy=!1,r._initted&&!F.isReverted||r.vars.immediateRender!==!1&&n.immediateRender!==!1&&r.duration()&&r.render(0,!0,!0),F.animation=r.pause(),r.scrollTrigger=F,F.scrubDuration(g),ft=0,u||(u=r.vars.id)),A&&((!Gd(A)||A.push)&&(A={snapTo:A}),"scrollBehavior"in mi.style&&Wt.set(ae?[mi,co]:te,{scrollBehavior:"auto"}),jn.forEach(function(xt){return Ba(xt)&&xt.target===(ae?Bi.scrollingElement||co:te)&&(xt.smooth=!1)}),Ze=Ba(A.snapTo)?A.snapTo:A.snapTo==="labels"?sG(r):A.snapTo==="labelsDirectional"?oG(r):A.directional!==!1?function(xt,kt){return OR(A.snapTo)(xt,Ua()-we<500?0:kt.direction)}:Wt.utils.snap(A.snapTo),dt=A.duration||{min:.1,max:2},dt=Gd(dt)?Ly(dt.min,dt.max):Ly(dt,dt),At=Wt.delayedCall(A.delay||Oe/2||.1,function(){var xt=ie(),kt=Ua()-we<500,Ft=_e.tween;if((kt||Math.abs(F.getVelocity())<10)&&!Ft&&!rE&&ke!==xt){var Zt=(xt-ne)/_t,si=r&&!X?r.totalProgress():Zt,Qt=kt?0:(si-Ut)/(Ua()-my)*1e3||0,It=Wt.utils.clamp(-Zt,1-Zt,Xm(Qt/2)*Qt/.185),Zn=Zt+(A.inertia===!1?0:It),sn,W,Z=A,ge=Z.onStart,Te=Z.onInterrupt,Pe=Z.onComplete;if(sn=Ze(Zn,F),yy(sn)||(sn=Zn),W=Math.max(0,Math.round(ne+sn*_t)),xt<=be&&xt>=ne&&W!==xt){if(Ft&&!Ft._initted&&Ft.data<=Xm(W-xt))return;A.inertia===!1&&(It=sn-Zt),_e(W,{duration:dt(Xm(Math.max(Xm(Zn-si),Xm(sn-si))*.185/Qt/.05||0)),ease:A.ease||"power3",data:Xm(W-xt),onInterrupt:function(){return At.restart(!0)&&Te&&Te(F)},onComplete:function(){F.update(),ke=ie(),r&&!X&&(de?de.resetTo("totalProgress",sn,r._tTime/r._tDur):r.progress(sn)),ft=Ut=r&&!X?r.totalProgress():F.progress,R&&R(F),Pe&&Pe(F)}},xt,It*_t,W-xt-It*_t),ge&&ge(F,_e.tween)}}else F.isActive&&ke!==xt&&At.restart(!0)}).pause()),u&&(IA[u]=F),v=F.trigger=Is(v||_!==!0&&_),Xt=v&&v._gsap&&v._gsap.stRevert,Xt&&(Xt=Xt(F)),_=_===!0?v:Is(_),oo(l)&&(l={targets:v,className:l}),_&&(S===!1||S===Go||(S=!S&&_.parentNode&&_.parentNode.style&&Wo(_.parentNode).display==="flex"?!1:Rr),F.pin=_,Be=Wt.core.getCache(_),Be.spacer?vt=Be.pinState:(L&&(L=Is(L),L&&!L.nodeType&&(L=L.current||L.nativeElement),Be.spacerIsNative=!!L,L&&(Be.spacerState=ab(L))),Be.spacer=xe=L||Bi.createElement("div"),xe.classList.add("pin-spacer"),u&&xe.classList.add("pin-spacer-"+u),Be.pinState=vt=ab(_)),n.force3D!==!1&&Wt.set(_,{force3D:!0}),F.spacer=xe=Be.spacer,Rt=Wo(_),Dt=Rt[S+z.os2],ze=Wt.getProperty(_),Ue=Wt.quickSetter(_,z.a,Gr),lM(_,xe,Rt),q=ab(_)),Q){Ke=Gd(Q)?gO(Q,vO):vO,re=rb("scroller-start",u,te,z,Ke,0),Ve=rb("scroller-end",u,te,z,Ke,0,re),Ne=re["offset"+z.op.d2];var bn=Is(fh(te,"content")||te);De=this.markerStart=rb("start",u,bn,z,Ke,Ne,0,B),Ye=this.markerEnd=rb("end",u,bn,z,Ke,Ne,0,B),B&&(Lt=Wt.quickSetter([De,Ye],z.a,Gr)),!ue&&!(Uc.length&&fh(te,"fixedMarkers")===!0)&&(aG(ae?mi:te),Wt.set([re,Ve],{force3D:!0}),it=Wt.quickSetter(re,z.a,Gr),zt=Wt.quickSetter(Ve,z.a,Gr))}if(B){var Ct=B.vars.onUpdate,Gt=B.vars.onUpdateParams;B.eventCallback("onUpdate",function(){F.update(0,0,1),Ct&&Ct.apply(B,Gt||[])})}if(F.previous=function(){return kn[kn.indexOf(F)-1]},F.next=function(){return kn[kn.indexOf(F)+1]},F.revert=function(xt,kt){if(!kt)return F.kill(!0);var Ft=xt!==!1||!F.enabled,Zt=La;Ft!==F.isReverted&&(Ft&&(ot=Math.max(ie(),F.scroll.rec||0),ee=F.progress,et=r&&r.progress()),De&&[De,Ye,re,Ve].forEach(function(si){return si.style.display=Ft?"none":"block"}),Ft&&(La=F,F.update(Ft)),_&&(!N||!F.isActive)&&(Ft?uG(_,xe,vt):lM(_,xe,Wo(_),wt)),Ft||F.update(Ft),La=Zt,F.isReverted=Ft)},F.refresh=function(xt,kt,Ft,Zt){if(!((La||!F.enabled)&&!kt)){if(_&&xt&&Ko){ia(i,"scrollEnd",MI);return}!fs&&fe&&fe(F),La=F,_e.tween&&!Ft&&(_e.tween.kill(),_e.tween=0),de&&de.pause(),w&&r&&(r.revert({kill:!1}).invalidate(),r.getChildren&&r.getChildren(!0,!0,!1).forEach(function(Kt){return Kt.vars.immediateRender&&Kt.render(0,!0,!0)})),F.isReverted||F.revert(!0,!0),F._subPinOffset=!1;var si=Se(),Qt=Ce(),It=B?B.duration():Oc(te,z),Zn=_t<=.01||!_t,sn=0,W=Zt||0,Z=Gd(Ft)?Ft.end:n.end,ge=n.endTrigger||v,Te=Gd(Ft)?Ft.start:n.start||(n.start===0||!v?0:_?"0 0":"0 100%"),Pe=F.pinnedContainer=n.pinnedContainer&&Is(n.pinnedContainer,F),Ge=v&&Math.max(0,kn.indexOf(F))||0,at=Ge,V,oe,he,pe,ce,qe,Fe,Je,Qe,yt,Et,bt,jt;for(Q&&Gd(Ft)&&(bt=Wt.getProperty(re,z.p),jt=Wt.getProperty(Ve,z.p));at-- >0;)qe=kn[at],qe.end||qe.refresh(0,1)||(La=F),Fe=qe.pin,Fe&&(Fe===v||Fe===_||Fe===Pe)&&!qe.isReverted&&(yt||(yt=[]),yt.unshift(qe),qe.revert(!0,!0)),qe!==kn[at]&&(Ge--,at--);for(Ba(Te)&&(Te=Te(F)),Te=hO(Te,"start",F),ne=bO(Te,v,si,z,ie(),De,re,F,Qt,ye,ue,It,B,F._startClamp&&"_startClamp")||(_?-.001:0),Ba(Z)&&(Z=Z(F)),oo(Z)&&!Z.indexOf("+=")&&(~Z.indexOf(" ")?Z=(oo(Te)?Te.split(" ")[0]:"")+Z:(sn=mS(Z.substr(2),si),Z=oo(Te)?Te:(B?Wt.utils.mapRange(0,B.duration(),B.scrollTrigger.start,B.scrollTrigger.end,ne):ne)+sn,ge=v)),Z=hO(Z,"end",F),be=Math.max(ne,bO(Z||(ge?"100% 0":It),ge,si,z,ie()+sn,Ye,Ve,F,Qt,ye,ue,It,B,F._endClamp&&"_endClamp"))||-.001,sn=0,at=Ge;at--;)qe=kn[at],Fe=qe.pin,Fe&&qe.start-qe._pinPush<=ne&&!B&&qe.end>0&&(V=qe.end-(F._startClamp?Math.max(0,qe.start):qe.start),(Fe===v&&qe.start-qe._pinPush<ne||Fe===Pe)&&isNaN(Te)&&(sn+=V*(1-qe.progress)),Fe===_&&(W+=V));if(ne+=sn,be+=sn,F._startClamp&&(F._startClamp+=sn),F._endClamp&&!fs&&(F._endClamp=be||-.001,be=Math.min(be,Oc(te,z))),_t=be-ne||(ne-=.01)&&.001,Zn&&(ee=Wt.utils.clamp(0,1,Wt.utils.normalize(ne,be,ot))),F._pinPush=W,De&&sn&&(V={},V[z.a]="+="+sn,Pe&&(V[z.p]="-="+ie()),Wt.set([De,Ye],V)),_&&!(UA&&F.end>=Oc(te,z)))V=Wo(_),pe=z===Xr,he=ie(),mt=parseFloat(ze(z.a))+W,!It&&be>1&&(Et=(ae?Bi.scrollingElement||co:te).style,Et={style:Et,value:Et["overflow"+z.a.toUpperCase()]},ae&&Wo(mi)["overflow"+z.a.toUpperCase()]!=="scroll"&&(Et.style["overflow"+z.a.toUpperCase()]="scroll")),lM(_,xe,V),q=ab(_),oe=Ru(_,!0),Je=ue&&mh(te,pe?ps:Xr)(),S?(wt=[S+z.os2,_t+W+Gr],wt.t=xe,at=S===Rr?ZS(_,z)+_t+W:0,at&&(wt.push(z.d,at+Gr),xe.style.flexBasis!=="auto"&&(xe.style.flexBasis=at+Gr)),H0(wt),Pe&&kn.forEach(function(Kt){Kt.pin===Pe&&Kt.vars.pinSpacing!==!1&&(Kt._subPinOffset=!0)}),ue&&ie(ot)):(at=ZS(_,z),at&&xe.style.flexBasis!=="auto"&&(xe.style.flexBasis=at+Gr)),ue&&(ce={top:oe.top+(pe?he-ne:Je)+Gr,left:oe.left+(pe?Je:he-ne)+Gr,boxSizing:"border-box",position:"fixed"},ce[up]=ce["max"+eg]=Math.ceil(oe.width)+Gr,ce[fp]=ce["max"+DR]=Math.ceil(oe.height)+Gr,ce[Go]=ce[Go+By]=ce[Go+Uy]=ce[Go+zy]=ce[Go+Iy]="0",ce[Rr]=V[Rr],ce[Rr+By]=V[Rr+By],ce[Rr+Uy]=V[Rr+Uy],ce[Rr+zy]=V[Rr+zy],ce[Rr+Iy]=V[Rr+Iy],$=hG(vt,ce,N),fs&&ie(0)),r?(Qe=r._initted,iM(1),r.render(r.duration(),!0,!0),ht=ze(z.a)-mt+_t+W,ct=Math.abs(_t-ht)>1,ue&&ct&&$.splice($.length-2,2),r.render(0,!0,!0),Qe||r.invalidate(!0),r.parent||r.totalTime(r.totalTime()),iM(0)):ht=_t,Et&&(Et.value?Et.style["overflow"+z.a.toUpperCase()]=Et.value:Et.style.removeProperty("overflow-"+z.a));else if(v&&ie()&&!B)for(oe=v.parentNode;oe&&oe!==mi;)oe._pinOffset&&(ne-=oe._pinOffset,be-=oe._pinOffset),oe=oe.parentNode;yt&&yt.forEach(function(Kt){return Kt.revert(!1,!0)}),F.start=ne,F.end=be,gt=pt=fs?ot:ie(),!B&&!fs&&(gt<ot&&ie(ot),F.scroll.rec=0),F.revert(!1,!0),we=Ua(),At&&(ke=-1,At.restart(!0)),La=0,r&&X&&(r._initted||et)&&r.progress()!==et&&r.progress(et||0,!0).render(r.time(),!0,!0),(Zn||ee!==F.progress||B||w||r&&!r._initted)&&(r&&!X&&(r._initted||ee||r.vars.immediateRender!==!1)&&r.totalProgress(B&&ne<-.001&&!ee?Wt.utils.normalize(ne,be,0):ee,!0),F.progress=Zn||(gt-ne)/_t===ee?0:ee),_&&S&&(xe._pinOffset=Math.round(F.progress*ht)),de&&de.invalidate(),isNaN(bt)||(bt-=Wt.getProperty(re,z.p),jt-=Wt.getProperty(Ve,z.p),sb(re,z,bt),sb(De,z,bt-(Zt||0)),sb(Ve,z,jt),sb(Ye,z,jt-(Zt||0))),Zn&&!fs&&F.update(),p&&!fs&&!$e&&($e=!0,p(F),$e=!1)}},F.getVelocity=function(){return(ie()-pt)/(Ua()-my)*1e3||0},F.endAnimation=function(){Kv(F.callbackAnimation),r&&(de?de.progress(1):r.paused()?X||Kv(r,F.direction<0,1):Kv(r,r.reversed()))},F.labelToScroll=function(xt){return r&&r.labels&&(ne||F.refresh()||ne)+r.labels[xt]/r.duration()*_t||0},F.getTrailing=function(xt){var kt=kn.indexOf(F),Ft=F.direction>0?kn.slice(0,kt).reverse():kn.slice(kt+1);return(oo(xt)?Ft.filter(function(Zt){return Zt.vars.preventOverlaps===xt}):Ft).filter(function(Zt){return F.direction>0?Zt.end<=ne:Zt.start>=be})},F.update=function(xt,kt,Ft){if(!(B&&!Ft&&!xt)){var Zt=fs===!0?ot:F.scroll(),si=xt?0:(Zt-ne)/_t,Qt=si<0?0:si>1?1:si||0,It=F.progress,Zn,sn,W,Z,ge,Te,Pe,Ge;if(kt&&(pt=gt,gt=B?ie():Zt,A&&(Ut=ft,ft=r&&!X?r.totalProgress():Qt)),E&&_&&!La&&!Q1&&Ko&&(!Qt&&ne<Zt+(Zt-pt)/(Ua()-my)*E?Qt=1e-4:Qt===1&&be>Zt+(Zt-pt)/(Ua()-my)*E&&(Qt=.9999)),Qt!==It&&F.enabled){if(Zn=F.isActive=!!Qt&&Qt<1,sn=!!It&&It<1,Te=Zn!==sn,ge=Te||!!Qt!=!!It,F.direction=Qt>It?1:-1,F.progress=Qt,ge&&!La&&(W=Qt&&!It?0:Qt===1?1:It===1?2:3,X&&(Z=!Te&&Y[W+1]!=="none"&&Y[W+1]||Y[W],Ge=r&&(Z==="complete"||Z==="reset"||Z in r))),P&&(Te||Ge)&&(Ge||g||!r)&&(Ba(P)?P(F):F.getTrailing(P).forEach(function(he){return he.endAnimation()})),X||(de&&!La&&!Q1?(de._dp._time-de._start!==de._time&&de.render(de._dp._time-de._start),de.resetTo?de.resetTo("totalProgress",Qt,r._tTime/r._tDur):(de.vars.totalProgress=Qt,de.invalidate().restart())):r&&r.totalProgress(Qt,!!(La&&(we||xt)))),_){if(xt&&S&&(xe.style[S+z.os2]=Dt),!ue)Ue(vy(mt+ht*Qt));else if(ge){if(Pe=!xt&&Qt>It&&be+1>Zt&&Zt+1>=Oc(te,z),N)if(!xt&&(Zn||Pe)){var at=Ru(_,!0),V=Zt-ne;SO(_,mi,at.top+(z===Xr?V:0)+Gr,at.left+(z===Xr?0:V)+Gr)}else SO(_,xe);H0(Zn||Pe?$:q),ct&&Qt<1&&Zn||Ue(mt+(Qt===1&&!Pe?ht:0))}}A&&!_e.tween&&!La&&!Q1&&At.restart(!0),l&&(Te||C&&Qt&&(Qt<1||!rM))&&p_(l.targets).forEach(function(he){return he.classList[Zn||C?"add":"remove"](l.className)}),s&&!X&&!xt&&s(F),ge&&!La?(X&&(Ge&&(Z==="complete"?r.pause().totalProgress(1):Z==="reset"?r.restart(!0).pause():Z==="restart"?r.restart(!0):r[Z]()),s&&s(F)),(Te||!rM)&&(f&&Te&&sM(F,f),G[W]&&sM(F,G[W]),C&&(Qt===1?F.kill(!1,1):G[W]=0),Te||(W=Qt===1?1:3,G[W]&&sM(F,G[W]))),U&&!Zn&&Math.abs(F.getVelocity())>(yy(U)?U:2500)&&(Kv(F.callbackAnimation),de?de.progress(1):Kv(r,Z==="reverse"?1:!Qt,1))):X&&s&&!La&&s(F)}if(zt){var oe=B?Zt/B.duration()*(B._caScrollDist||0):Zt;it(oe+(re._isFlipped?1:0)),zt(oe)}Lt&&Lt(-Zt/B.duration()*(B._caScrollDist||0))}},F.enable=function(xt,kt){F.enabled||(F.enabled=!0,ia(te,"resize",_y),ae||ia(te,"scroll",qm),fe&&ia(i,"refreshInit",fe),xt!==!1&&(F.progress=ee=0,gt=pt=ke=ie()),kt!==!1&&F.refresh())},F.getTween=function(xt){return xt&&_e?_e.tween:de},F.setPositions=function(xt,kt,Ft,Zt){if(B){var si=B.scrollTrigger,Qt=B.duration(),It=si.end-si.start;xt=si.start+It*xt/Qt,kt=si.start+It*kt/Qt}F.refresh(!1,!1,{start:dO(xt,Ft&&!!F._startClamp),end:dO(kt,Ft&&!!F._endClamp)},Zt),F.update()},F.adjustPinSpacing=function(xt){if(wt&&xt){var kt=wt.indexOf(z.d)+1;wt[kt]=parseFloat(wt[kt])+xt+Gr,wt[1]=parseFloat(wt[1])+xt+Gr,H0(wt)}},F.disable=function(xt,kt){if(F.enabled&&(xt!==!1&&F.revert(!0,!0),F.enabled=F.isActive=!1,kt||de&&de.pause(),ot=0,Be&&(Be.uncache=1),fe&&na(i,"refreshInit",fe),At&&(At.pause(),_e.tween&&_e.tween.kill()&&(_e.tween=0)),!ae)){for(var Ft=kn.length;Ft--;)if(kn[Ft].scroller===te&&kn[Ft]!==F)return;na(te,"resize",_y),ae||na(te,"scroll",qm)}},F.kill=function(xt,kt){F.disable(xt,kt),de&&!kt&&de.kill(),u&&delete IA[u];var Ft=kn.indexOf(F);Ft>=0&&kn.splice(Ft,1),Ft===us&&vS>0&&us--,Ft=0,kn.forEach(function(Zt){return Zt.scroller===F.scroller&&(Ft=1)}),Ft||fs||(F.scroll.rec=0),r&&(r.scrollTrigger=null,xt&&r.revert({kill:!1}),kt||r.kill()),De&&[De,Ye,re,Ve].forEach(function(Zt){return Zt.parentNode&&Zt.parentNode.removeChild(Zt)}),ky===F&&(ky=0),_&&(Be&&(Be.uncache=1),Ft=0,kn.forEach(function(Zt){return Zt.pin===_&&Ft++}),Ft||(Be.spacer=0)),n.onKill&&n.onKill(F)},kn.push(F),F.enable(!1,!1),Xt&&Xt(F),r&&r.add&&!_t){var tn=F.update;F.update=function(){F.update=tn,jn.cache++,ne||be||F.refresh()},Wt.delayedCall(.01,F.update),_t=.01,ne=be=0}else F.refresh();_&&cG()},i.register=function(n){return b0||(Wt=n||_I(),yI()&&window.document&&i.enable(),b0=gy),b0},i.defaults=function(n){if(n)for(var r in n)ib[r]=n[r];return ib},i.disable=function(n,r){gy=0,kn.forEach(function(s){return s[r?"kill":"disable"](n)}),na(Vn,"wheel",qm),na(Bi,"scroll",qm),clearInterval(J1),na(Bi,"touchcancel",Mc),na(mi,"touchstart",Mc),tb(na,Bi,"pointerdown,touchstart,mousedown",pO),tb(na,Bi,"pointerup,touchend,mouseup",mO),qS.kill(),eb(na);for(var a=0;a<jn.length;a+=3)nb(na,jn[a],jn[a+1]),nb(na,jn[a],jn[a+2])},i.enable=function(){if(Vn=window,Bi=document,co=Bi.documentElement,mi=Bi.body,Wt&&(p_=Wt.utils.toArray,Ly=Wt.utils.clamp,LA=Wt.core.context||Mc,iM=Wt.core.suppressOverwrites||Mc,TR=Vn.history.scrollRestoration||"auto",BA=Vn.pageYOffset||0,Wt.core.globals("ScrollTrigger",i),mi)){gy=1,F0=document.createElement("div"),F0.style.height="100vh",F0.style.position="absolute",CI(),nG(),br.register(Wt),i.isTouch=br.isTouch,Kf=br.isTouch&&/(iPad|iPhone|iPod|Mac)/g.test(navigator.userAgent),PA=br.isTouch===1,ia(Vn,"wheel",qm),MR=[Vn,Bi,co,mi],Wt.matchMedia?(i.matchMedia=function(f){var p=Wt.matchMedia(),g;for(g in f)p.add(g,f[g]);return p},Wt.addEventListener("matchMediaInit",function(){return NR()}),Wt.addEventListener("matchMediaRevert",function(){return TI()}),Wt.addEventListener("matchMedia",function(){$d(0,1),bp("matchMedia")}),Wt.matchMedia().add("(orientation: portrait)",function(){return oM(),oM})):console.warn("Requires GSAP 3.11.0 or later"),oM(),ia(Bi,"scroll",qm);var n=mi.hasAttribute("style"),r=mi.style,a=r.borderTopStyle,s=Wt.core.Animation.prototype,l,u;for(s.revert||Object.defineProperty(s,"revert",{value:function(){return this.time(-.01,!0)}}),r.borderTopStyle="solid",l=Ru(mi),Xr.m=Math.round(l.top+Xr.sc())||0,ps.m=Math.round(l.left+ps.sc())||0,a?r.borderTopStyle=a:r.removeProperty("border-top-style"),n||(mi.setAttribute("style",""),mi.removeAttribute("style")),J1=setInterval(yO,250),Wt.delayedCall(.5,function(){return Q1=0}),ia(Bi,"touchcancel",Mc),ia(mi,"touchstart",Mc),tb(ia,Bi,"pointerdown,touchstart,mousedown",pO),tb(ia,Bi,"pointerup,touchend,mouseup",mO),NA=Wt.utils.checkPrefix("transform"),yS.push(NA),b0=Ua(),qS=Wt.delayedCall(.2,$d).pause(),S0=[Bi,"visibilitychange",function(){var f=Vn.innerWidth,p=Vn.innerHeight;Bi.hidden?(uO=f,fO=p):(uO!==f||fO!==p)&&_y()},Bi,"DOMContentLoaded",$d,Vn,"load",$d,Vn,"resize",_y],eb(ia),kn.forEach(function(f){return f.enable(0,1)}),u=0;u<jn.length;u+=3)nb(na,jn[u],jn[u+1]),nb(na,jn[u],jn[u+2])}},i.config=function(n){"limitCallbacks"in n&&(rM=!!n.limitCallbacks);var r=n.syncInterval;r&&clearInterval(J1)||(J1=r)&&setInterval(yO,r),"ignoreMobileResize"in n&&(PA=i.isTouch===1&&n.ignoreMobileResize),"autoRefreshEvents"in n&&(eb(na)||eb(ia,n.autoRefreshEvents||"none"),mI=(n.autoRefreshEvents+"").indexOf("resize")===-1)},i.scrollerProxy=function(n,r){var a=Is(n),s=jn.indexOf(a),l=_p(a);~s&&jn.splice(s,l?6:2),r&&(l?Uc.unshift(Vn,r,mi,r,co,r):Uc.unshift(a,r))},i.clearMatchMedia=function(n){kn.forEach(function(r){return r._ctx&&r._ctx.query===n&&r._ctx.kill(!0,!0)})},i.isInViewport=function(n,r,a){var s=(oo(n)?Is(n):n).getBoundingClientRect(),l=s[a?up:fp]*r||0;return a?s.right-l>0&&s.left+l<Vn.innerWidth:s.bottom-l>0&&s.top+l<Vn.innerHeight},i.positionInViewport=function(n,r,a){oo(n)&&(n=Is(n));var s=n.getBoundingClientRect(),l=s[a?up:fp],u=r==null?l/2:r in KS?KS[r]*l:~r.indexOf("%")?parseFloat(r)*l/100:parseFloat(r)||0;return a?(s.left+u)/Vn.innerWidth:(s.top+u)/Vn.innerHeight},i.killAll=function(n){if(kn.slice(0).forEach(function(a){return a.vars.id!=="ScrollSmoother"&&a.kill()}),n!==!0){var r=xp.killAll||[];xp={},r.forEach(function(a){return a()})}},i})();On.version="3.13.0";On.saveStyles=function(i){return i?p_(i).forEach(function(e){if(e&&e.style){var t=so.indexOf(e);t>=0&&so.splice(t,5),so.push(e,e.style.cssText,e.getBBox&&e.getAttribute("transform"),Wt.core.getCache(e),LA())}}):so};On.revert=function(i,e){return NR(!i,e)};On.create=function(i,e){return new On(i,e)};On.refresh=function(i){return i?_y(!0):(b0||On.register())&&$d(!0)};On.update=function(i){return++jn.cache&&Lu(i===!0?2:0)};On.clearScrollMemory=AI;On.maxScroll=function(i,e){return Oc(i,e?ps:Xr)};On.getScrollFunc=function(i,e){return mh(Is(i),e?ps:Xr)};On.getById=function(i){return IA[i]};On.getAll=function(){return kn.filter(function(i){return i.vars.id!=="ScrollSmoother"})};On.isScrolling=function(){return!!Ko};On.snapDirectional=OR;On.addEventListener=function(i,e){var t=xp[i]||(xp[i]=[]);~t.indexOf(e)||t.push(e)};On.removeEventListener=function(i,e){var t=xp[i],n=t&&t.indexOf(e);n>=0&&t.splice(n,1)};On.batch=function(i,e){var t=[],n={},r=e.interval||.016,a=e.batchMax||1e9,s=function(f,p){var g=[],v=[],_=Wt.delayedCall(r,function(){p(g,v),g=[],v=[]}).pause();return function(S){g.length||_.restart(!0),g.push(S.trigger),v.push(S),a<=g.length&&_.progress(1)}},l;for(l in e)n[l]=l.substr(0,2)==="on"&&Ba(e[l])&&l!=="onRefreshInit"?s(l,e[l]):e[l];return Ba(a)&&(a=a(),ia(On,"refresh",function(){return a=e.batchMax()})),p_(i).forEach(function(u){var f={};for(l in n)f[l]=n[l];f.trigger=u,t.push(On.create(f))}),t};var EO=function(e,t,n,r){return t>r?e(r):t<0&&e(0),n>r?(r-t)/(n-t):n<0?t/(t-n):1},cM=function i(e,t){t===!0?e.style.removeProperty("touch-action"):e.style.touchAction=t===!0?"auto":t?"pan-"+t+(br.isTouch?" pinch-zoom":""):"none",e===co&&i(mi,t)},ob={auto:1,scroll:1},pG=function(e){var t=e.event,n=e.target,r=e.axis,a=(t.changedTouches?t.changedTouches[0]:t).target,s=a._gsap||Wt.core.getCache(a),l=Ua(),u;if(!s._isScrollT||l-s._isScrollT>2e3){for(;a&&a!==mi&&(a.scrollHeight<=a.clientHeight&&a.scrollWidth<=a.clientWidth||!(ob[(u=Wo(a)).overflowY]||ob[u.overflowX]));)a=a.parentNode;s._isScroll=a&&a!==n&&!_p(a)&&(ob[(u=Wo(a)).overflowY]||ob[u.overflowX]),s._isScrollT=l}(s._isScroll||r==="x")&&(t.stopPropagation(),t._gsapAllow=!0)},DI=function(e,t,n,r){return br.create({target:e,capture:!0,debounce:!1,lockAxis:!0,type:t,onWheel:r=r&&pG,onPress:r,onDrag:r,onScroll:r,onEnable:function(){return n&&ia(Bi,br.eventTypes[0],TO,!1,!0)},onDisable:function(){return na(Bi,br.eventTypes[0],TO,!0)}})},mG=/(input|label|select|textarea)/i,MO,TO=function(e){var t=mG.test(e.target.tagName);(t||MO)&&(e._gsapAllow=!0,MO=t)},gG=function(e){Gd(e)||(e={}),e.preventDefault=e.isNormalizer=e.allowClicks=!0,e.type||(e.type="wheel,touch"),e.debounce=!!e.debounce,e.id=e.id||"normalizer";var t=e,n=t.normalizeScrollX,r=t.momentum,a=t.allowNestedScroll,s=t.onRelease,l,u,f=Is(e.target)||co,p=Wt.core.globals().ScrollSmoother,g=p&&p.get(),v=Kf&&(e.content&&Is(e.content)||g&&e.content!==!1&&!g.smooth()&&g.content()),_=mh(f,Xr),S=mh(f,ps),w=1,E=(br.isTouch&&Vn.visualViewport?Vn.visualViewport.scale*Vn.visualViewport.width:Vn.outerWidth)/Vn.innerWidth,b=0,R=Ba(r)?function(){return r(l)}:function(){return r||2.8},C,A,N=DI(f,e.type,!0,a),L=function(){return A=!1},B=Mc,U=Mc,P=function(){u=Oc(f,Xr),U=Ly(Kf?1:0,u),n&&(B=Ly(0,Oc(f,ps))),C=hp},z=function(){v._gsap.y=vy(parseFloat(v._gsap.y)+_.offset)+"px",v.style.transform="matrix3d(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, "+parseFloat(v._gsap.y)+", 0, 1)",_.offset=_.cacheID=0},X=function(){if(A){requestAnimationFrame(L);var Q=vy(l.deltaY/2),ye=U(_.v-Q);if(v&&ye!==_.v+_.offset){_.offset=ye-_.v;var F=vy((parseFloat(v&&v._gsap.y)||0)-_.offset);v.style.transform="matrix3d(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, "+F+", 0, 1)",v._gsap.y=F+"px",_.cacheID=jn.cache,Lu()}return!0}_.offset&&z(),A=!0},te,se,ae,ue,G=function(){P(),te.isActive()&&te.vars.scrollY>u&&(_()>u?te.progress(1)&&_(u):te.resetTo("scrollY",u))};return v&&Wt.set(v,{y:"+=0"}),e.ignoreCheck=function(Y){return Kf&&Y.type==="touchmove"&&X()||w>1.05&&Y.type!=="touchstart"||l.isGesturing||Y.touches&&Y.touches.length>1},e.onPress=function(){A=!1;var Y=w;w=vy((Vn.visualViewport&&Vn.visualViewport.scale||1)/E),te.pause(),Y!==w&&cM(f,w>1.01?!0:n?!1:"x"),se=S(),ae=_(),P(),C=hp},e.onRelease=e.onGestureStart=function(Y,Q){if(_.offset&&z(),!Q)ue.restart(!0);else{jn.cache++;var ye=R(),F,fe;n&&(F=S(),fe=F+ye*.05*-Y.velocityX/.227,ye*=EO(S,F,fe,Oc(f,ps)),te.vars.scrollX=B(fe)),F=_(),fe=F+ye*.05*-Y.velocityY/.227,ye*=EO(_,F,fe,Oc(f,Xr)),te.vars.scrollY=U(fe),te.invalidate().duration(ye).play(.01),(Kf&&te.vars.scrollY>=u||F>=u-1)&&Wt.to({},{onUpdate:G,duration:ye})}s&&s(Y)},e.onWheel=function(){te._ts&&te.pause(),Ua()-b>1e3&&(C=0,b=Ua())},e.onChange=function(Y,Q,ye,F,fe){if(hp!==C&&P(),Q&&n&&S(B(F[2]===Q?se+(Y.startX-Y.x):S()+Q-F[1])),ye){_.offset&&z();var Se=fe[2]===ye,Ce=Se?ae+Y.startY-Y.y:_()+ye-fe[1],ke=U(Ce);Se&&Ce!==ke&&(ae+=ke-Ce),_(ke)}(ye||Q)&&Lu()},e.onEnable=function(){cM(f,n?!1:"x"),On.addEventListener("refresh",G),ia(Vn,"resize",G),_.smooth&&(_.target.style.scrollBehavior="auto",_.smooth=S.smooth=!1),N.enable()},e.onDisable=function(){cM(f,!0),na(Vn,"resize",G),On.removeEventListener("refresh",G),N.kill()},e.lockAxis=e.lockAxis!==!1,l=new br(e),l.iOS=Kf,Kf&&!_()&&_(1),Kf&&Wt.ticker.add(Mc),ue=l._dc,te=Wt.to(l,{ease:"power4",paused:!0,inherit:!1,scrollX:n?"+=0.1":"+=0",scrollY:"+=0.1",modifiers:{scrollY:RI(_,_(),function(){return te.pause()})},onUpdate:Lu,onComplete:ue.vars.onComplete}),l};On.sort=function(i){if(Ba(i))return kn.sort(i);var e=Vn.pageYOffset||0;return On.getAll().forEach(function(t){return t._sortY=t.trigger?e+t.trigger.getBoundingClientRect().top:t.start+Vn.innerHeight}),kn.sort(i||function(t,n){return(t.vars.refreshPriority||0)*-1e6+(t.vars.containerAnimation?1e6:t._sortY)-((n.vars.containerAnimation?1e6:n._sortY)+(n.vars.refreshPriority||0)*-1e6)})};On.observe=function(i){return new br(i)};On.normalizeScroll=function(i){if(typeof i>"u")return cs;if(i===!0&&cs)return cs.enable();if(i===!1){cs&&cs.kill(),cs=i;return}var e=i instanceof br?i:gG(i);return cs&&cs.target===e.target&&cs.kill(),_p(e.target)&&(cs=e),e};On.core={_getVelocityProp:OA,_inputObserver:DI,_scrollers:jn,_proxies:Uc,bridge:{ss:function(){Ko||bp("scrollStart"),Ko=Ua()},ref:function(){return La}}};_I()&&Wt.registerPlugin(On);st.registerPlugin(On);const vG=()=>{const i=H.useRef(null),e=H.useRef(null),t=H.useRef(null),n=H.useRef(!1);return H.useLayoutEffect(()=>{if(!i.current||!e.current)return;t.current&&(typeof t.current.kill=="function"&&t.current.kill(),st.killTweensOf(e.current),t.current=null),st.set(e.current,{opacity:0,scale:.8,rotation:0,force3D:!0,transformOrigin:"center center",WebkitTransformOrigin:"center center",backfaceVisibility:"hidden",WebkitBackfaceVisibility:"hidden"});const r=st.context(()=>{st.timeline({scrollTrigger:{trigger:i.current,start:"top center",end:"bottom center",toggleActions:"play none none reverse",onEnter:()=>{n.current||(n.current=!0)},onLeave:()=>{n.current=!1},onEnterBack:()=>{n.current||(n.current=!0)},onLeaveBack:()=>{n.current=!1}}}).fromTo(".intro-text",{opacity:0,y:0,x:"50%",left:"50%",top:"50vh",transform:"translate(-50%, -50%)",WebkitTransform:"translate(-50%, -50%)"},{opacity:1,y:0,x:"50%",left:"50%",top:"50vh",transform:"translate(-50%, -50%)",WebkitTransform:"translate(-50%, -50%)",duration:1.5,ease:"power2.out",force3D:!0,WebkitBackfaceVisibility:"hidden",backfaceVisibility:"hidden"}).fromTo(".coin-text",{opacity:0,scale:.9,y:0,x:"50%",left:"50%",top:"50vh",transform:"translate(-50%, -50%)",WebkitTransform:"translate(-50%, -50%)"},{opacity:1,scale:1,y:0,x:"50%",left:"50%",top:"50vh",transform:"translate(-50%, -50%)",WebkitTransform:"translate(-50%, -50%)",duration:1.5,ease:"power2.out",force3D:!0,WebkitBackfaceVisibility:"hidden",backfaceVisibility:"hidden"},"-=0.8").fromTo(e.current,{opacity:0,scale:.8,rotation:0,y:"100vh",bottom:"auto"},{opacity:.3,scale:1,rotation:0,y:0,top:"50vh",left:"50%",xPercent:-50,duration:3.2,ease:"power2.out",force3D:!0,WebkitBackfaceVisibility:"hidden",backfaceVisibility:"hidden",onComplete:()=>{e.current&&(t.current=st.to(e.current,{y:-20,repeat:-1,yoyo:!0,ease:"power1.inOut",duration:6,force3D:!0,WebkitBackfaceVisibility:"hidden",backfaceVisibility:"hidden"}))}},"-=1.0").to(".intro-text",{y:"-15vh",duration:2.5,ease:"none"},"<").to(".coin-text",{y:"-15vh",duration:2.5,ease:"none"},"<").to(".coin-text",{textShadow:"0px -2px 16px rgba(255,255,255,0.2)",duration:2.5,ease:"power2.out"},"<").to(".intro-text, .coin-text",{filter:"none",duration:.01,ease:"none"},"-=2.0")},i);return()=>{e.current&&st.killTweensOf(e.current),t.current&&(typeof t.current.kill=="function"&&t.current.kill(),t.current=null),n.current=!1;try{r&&typeof r.revert=="function"&&r.revert()}catch(a){console.warn("GSAP context cleanup warning:",a)}}},[]),I.jsxs("section",{ref:i,className:"relative w-full h-screen flex flex-col items-center justify-center bg-black text-center overflow-hidden px-4",children:[I.jsx("div",{className:"absolute inset-0 z-10",children:I.jsx("img",{ref:e,src:aU,alt:"BaFT Coin",className:"absolute h-auto w-[80vw] max-w-[400px] opacity-0"})}),I.jsxs("div",{className:"z-10 relative z-20 mb-6",children:[I.jsx("h2",{className:"intro-text text-white eb-garamond-intro text-4xl sm:text-5xl md:text-6xl lg:text-7xl xl:text-8xl leading-tight font-normal mb-8 opacity-0",children:"Introducing"}),I.jsx("h1",{className:"coin-text eb-garamond-intro font-medium leading-tight text-7xl sm:text-8xl md:text-9xl lg:text-[120px] xl:text-[140px] text-transparent bg-clip-text bg-[linear-gradient(197.98deg,#999999_12.89%,#3D3D3D_73.42%)] [--tw-text-stroke:1px_rgba(255,255,255,0.5)] [webkit-text-stroke:var(--tw-text-stroke)] [text-stroke:var(--tw-text-stroke)] opacity-0",children:"BaFT Coin"})]})]})};st.registerPlugin(On);const yG=()=>{const[i,e]=H.useState(!1),[t,n]=H.useState(!1),r=H.useRef(null),a=H.useRef(null),s=H.useRef(null),l=H.useRef(!1),u=H.useRef(null);H.useEffect(()=>{const p=()=>{const g=window.innerWidth,v=window.innerHeight;e(g<=768);const _=/Mac|iPhone|iPad|iPod/.test(navigator.userAgent),S=g>=1024&&v>=640,w=!/Windows/.test(navigator.userAgent);n(_&&S&&w)};return p(),window.addEventListener("resize",p),()=>window.removeEventListener("resize",p)},[]);const f=H.useCallback(()=>{if(!r.current||!a.current||u.current&&u.current.isActive&&u.current.isActive())return;st.killTweensOf(a.current),st.killTweensOf(".intro-text"),st.killTweensOf(".coin-text"),s.current&&(typeof s.current.kill=="function"&&s.current.kill(),s.current=null),u.current&&(u.current.kill(),u.current=null),On.getAll().forEach(g=>{g.trigger===r.current&&g.kill()}),st.getProperty(a.current,"opacity");const p=st.getProperty(a.current,"y")||0;st.getProperty(a.current,"scale"),u.current=st.timeline({defaults:{overwrite:"auto"},onComplete:()=>{a.current&&st.set(a.current,{opacity:0,scale:.95,y:-10}),st.set([".intro-text",".coin-text"],{opacity:0,y:-100}),window.dispatchEvent(new CustomEvent("baftCoinExitComplete"))}}),u.current.to(a.current,{opacity:0,scale:.95,y:p-10,duration:.6,ease:"power2.inOut"}).to([".intro-text",".coin-text"],{y:-100,opacity:0,duration:.8,ease:"power1.out"},"<0.2")},[]);return H.useEffect(()=>(typeof window<"u"&&!window.__baftCoinExitHooked&&(console.log("🎯 BaFT Coin: Exposing triggerBaftCoinExit to window"),window.triggerBaftCoinExit=f,window.__baftCoinExitHooked=!0),()=>{typeof window<"u"&&(console.log("🎯 BaFT Coin: Cleaning up triggerBaftCoinExit from window"),delete window.triggerBaftCoinExit,delete window.__baftCoinExitHooked)}),[f]),H.useLayoutEffect(()=>{if(!r.current||!a.current)return;s.current&&(st.killTweensOf(a.current),s.current=null),st.set(a.current,{opacity:0,scale:1,rotation:0});const p=st.context(()=>{st.timeline({scrollTrigger:{trigger:r.current,start:"top center",end:"bottom center",toggleActions:"play none none reverse",onEnter:()=>{l.current||(l.current=!0)},onLeave:()=>{l.current=!1},onEnterBack:()=>{l.current||(l.current=!0)},onLeaveBack:()=>{l.current=!1}}}).fromTo(".intro-text",{opacity:0,y:40},{opacity:1,y:0,duration:3.2,ease:"power2.out"}).fromTo(".coin-text",{opacity:0,scale:.8,y:30},{opacity:1,scale:1,y:0,duration:3.2,ease:"power2.out"},"-=0.8").fromTo(a.current,{opacity:0,scale:.7,rotation:-5},{opacity:.25,scale:1,rotation:0,duration:3.2,ease:"power2.out",onComplete:()=>{a.current&&(s.current=st.to(a.current,{y:-15,repeat:-1,yoyo:!0,ease:"power1.inOut",duration:6}))}},"-=1.2").to(".coin-text",{textShadow:"0px -4px 24px rgba(255,255,255,0.25)",duration:3.2,ease:"power2.out"},"<").to(".intro-text, .coin-text",{filter:"none",duration:.01,ease:"none"},"-=2.5")},r);return()=>{a.current&&st.killTweensOf(a.current),st.killTweensOf(".intro-text"),st.killTweensOf(".coin-text"),s.current&&(typeof s.current.kill=="function"&&s.current.kill(),s.current=null),u.current&&(u.current.kill(),u.current=null),l.current=!1,p&&p.revert()}},[]),i?I.jsx(vG,{}):I.jsxs("section",{ref:r,className:"relative w-full h-screen flex items-center justify-center bg-black text-center overflow-hidden",children:[I.jsx("div",{className:"absolute inset-0 flex items-center justify-center z-10",children:I.jsx("img",{ref:a,src:aU,alt:"BaFT Coin",className:"absolute md:relative h-auto left-1/2 -translate-x-1/2 bottom-[2vh] sm:bottom-[3vh] md:bottom-auto md:left-auto md:translate-x-0 transform translate-y-0 sm:translate-y-0 md:mt-[3cm] lg:mt-[2.5cm] opacity-0",style:{width:t?"min(65vw, 55vh)":"min(85vw, 80vh)",height:t?"min(65vw, 55vh)":"min(85vw, 80vh)",maxWidth:t?"65vw":"85vw",maxHeight:t?"55vh":"80vh",objectFit:"contain"}})}),I.jsxs("div",{className:"z-10 mt-24 md:mt-32 lg:mt-36",children:[I.jsx("h2",{className:"intro-text text-white eb-garamond-intro text-3xl sm:text-4xl md:text-[36px] lg:text-[48px] xl:text-[64px] 2xl:text-[72px] leading-[1.16] font-normal mb-8 opacity-0",children:"Introducing"}),I.jsx("h1",{className:"coin-text eb-garamond-intro font-medium leading-[1.16] text-5xl sm:text-6xl md:text-[72px] lg:text-[96px] xl:text-[140px] 2xl:text-[160px] text-transparent bg-clip-text bg-[linear-gradient(180deg,#FFFFFF_38.23%,#000000_147.25%)] [--tw-text-stroke:1px_rgba(255,255,255,0.5)] [webkit-text-stroke:var(--tw-text-stroke)] [text-stroke:var(--tw-text-stroke)] opacity-0 edge-large-text",children:"BaFT Coin"})]})]})};var uM={exports:{}},yu={};/**
 * @license React
 * react-reconciler-constants.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var AO;function _G(){return AO||(AO=1,yu.ConcurrentRoot=1,yu.ContinuousEventPriority=8,yu.DefaultEventPriority=32,yu.DiscreteEventPriority=2,yu.IdleEventPriority=268435456,yu.LegacyRoot=0,yu.NoEventPriority=0),yu}var CO;function xG(){return CO||(CO=1,uM.exports=_G()),uM.exports}var xS=xG();/**
 * @license
 * Copyright 2010-2025 Three.js Authors
 * SPDX-License-Identifier: MIT
 */const X_="179",bG={LEFT:0,MIDDLE:1,RIGHT:2,ROTATE:0,DOLLY:1,PAN:2},SG={ROTATE:0,PAN:1,DOLLY_PAN:2,DOLLY_ROTATE:3},OI=0,kA=1,NI=2,wG=3,PI=0,aE=1,Fy=2,Ol=3,ku=0,vs=1,Ll=2,Ic=0,dp=1,FA=2,HA=3,VA=4,LI=5,th=100,UI=101,II=102,BI=103,zI=104,kI=200,FI=201,HI=202,VI=203,$S=204,JS=205,jI=206,GI=207,WI=208,XI=209,qI=210,YI=211,ZI=212,KI=213,$I=214,QS=0,ew=1,tw=2,Sp=3,nw=4,iw=5,rw=6,aw=7,q_=0,JI=1,QI=2,Bc=0,eB=1,tB=2,nB=3,PR=4,iB=5,rB=6,aB=7,jA="attached",sB="detached",gh=300,jc=301,vh=302,tg=303,g_=304,Sg=306,v_=1e3,Lr=1001,y_=1002,xa=1003,LR=1004,EG=1004,T0=1005,MG=1005,Si=1006,Hy=1007,TG=1007,Nc=1008,GA=1008,ys=1009,sE=1010,oE=1011,ng=1012,Y_=1013,Gc=1014,rr=1015,aa=1016,lE=1017,cE=1018,ig=1020,UR=35902,IR=1021,BR=1022,Sr=1023,rg=1026,ag=1027,Z_=1028,K_=1029,zR=1030,uE=1031,AG=1032,fE=1033,Vy=33776,jy=33777,Gy=33778,Wy=33779,sw=35840,ow=35841,lw=35842,cw=35843,uw=36196,fw=37492,hw=37496,dw=37808,pw=37809,mw=37810,gw=37811,vw=37812,yw=37813,_w=37814,xw=37815,bw=37816,Sw=37817,ww=37818,Ew=37819,Mw=37820,Tw=37821,Xy=36492,Aw=36494,Cw=36495,kR=36283,Rw=36284,Dw=36285,Ow=36286,oB=2200,lB=2201,cB=2202,__=2300,Nw=2301,bS=2302,Jd=2400,Qd=2401,x_=2402,hE=2500,FR=2501,CG=0,RG=1,DG=2,uB=3200,fB=3201,OG=3202,NG=3203,Th=0,hB=1,Du="",va="srgb",zl="srgb-linear",b_="linear",bi="srgb",PG=0,Wd=7680,LG=7681,UG=7682,IG=7683,BG=34055,zG=34056,kG=5386,FG=512,HG=513,VG=514,jG=515,GG=516,WG=517,XG=518,WA=519,dB=512,pB=513,mB=514,HR=515,gB=516,vB=517,yB=518,_B=519,S_=35044,qG=35048,YG=35040,ZG=35045,KG=35049,$G=35041,JG=35046,QG=35050,eW=35042,tW="100",XA="300 es",po=2e3,sg=2001,nW={COMPUTE:"compute",RENDER:"render"},iW={PERSPECTIVE:"perspective",LINEAR:"linear",FLAT:"flat"},rW={NORMAL:"normal",CENTROID:"centroid",SAMPLE:"sample",FIRST:"first",EITHER:"either"};class Xc{addEventListener(e,t){this._listeners===void 0&&(this._listeners={});const n=this._listeners;n[e]===void 0&&(n[e]=[]),n[e].indexOf(t)===-1&&n[e].push(t)}hasEventListener(e,t){const n=this._listeners;return n===void 0?!1:n[e]!==void 0&&n[e].indexOf(t)!==-1}removeEventListener(e,t){const n=this._listeners;if(n===void 0)return;const r=n[e];if(r!==void 0){const a=r.indexOf(t);a!==-1&&r.splice(a,1)}}dispatchEvent(e){const t=this._listeners;if(t===void 0)return;const n=t[e.type];if(n!==void 0){e.target=this;const r=n.slice(0);for(let a=0,s=r.length;a<s;a++)r[a].call(this,e);e.target=null}}}const Oa=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"];let RO=1234567;const pp=Math.PI/180,og=180/Math.PI;function go(){const i=Math.random()*4294967295|0,e=Math.random()*4294967295|0,t=Math.random()*4294967295|0,n=Math.random()*4294967295|0;return(Oa[i&255]+Oa[i>>8&255]+Oa[i>>16&255]+Oa[i>>24&255]+"-"+Oa[e&255]+Oa[e>>8&255]+"-"+Oa[e>>16&15|64]+Oa[e>>24&255]+"-"+Oa[t&63|128]+Oa[t>>8&255]+"-"+Oa[t>>16&255]+Oa[t>>24&255]+Oa[n&255]+Oa[n>>8&255]+Oa[n>>16&255]+Oa[n>>24&255]).toLowerCase()}function dn(i,e,t){return Math.max(e,Math.min(t,i))}function VR(i,e){return(i%e+e)%e}function aW(i,e,t,n,r){return n+(i-e)*(r-n)/(t-e)}function sW(i,e,t){return i!==e?(t-i)/(e-i):0}function qy(i,e,t){return(1-t)*i+t*e}function oW(i,e,t,n){return qy(i,e,1-Math.exp(-t*n))}function lW(i,e=1){return e-Math.abs(VR(i,e*2)-e)}function cW(i,e,t){return i<=e?0:i>=t?1:(i=(i-e)/(t-e),i*i*(3-2*i))}function uW(i,e,t){return i<=e?0:i>=t?1:(i=(i-e)/(t-e),i*i*i*(i*(i*6-15)+10))}function fW(i,e){return i+Math.floor(Math.random()*(e-i+1))}function hW(i,e){return i+Math.random()*(e-i)}function dW(i){return i*(.5-Math.random())}function pW(i){i!==void 0&&(RO=i);let e=RO+=1831565813;return e=Math.imul(e^e>>>15,e|1),e^=e+Math.imul(e^e>>>7,e|61),((e^e>>>14)>>>0)/4294967296}function mW(i){return i*pp}function gW(i){return i*og}function vW(i){return(i&i-1)===0&&i!==0}function yW(i){return Math.pow(2,Math.ceil(Math.log(i)/Math.LN2))}function _W(i){return Math.pow(2,Math.floor(Math.log(i)/Math.LN2))}function xW(i,e,t,n,r){const a=Math.cos,s=Math.sin,l=a(t/2),u=s(t/2),f=a((e+n)/2),p=s((e+n)/2),g=a((e-n)/2),v=s((e-n)/2),_=a((n-e)/2),S=s((n-e)/2);switch(r){case"XYX":i.set(l*p,u*g,u*v,l*f);break;case"YZY":i.set(u*v,l*p,u*g,l*f);break;case"ZXZ":i.set(u*g,u*v,l*p,l*f);break;case"XZX":i.set(l*p,u*S,u*_,l*f);break;case"YXY":i.set(u*_,l*p,u*S,l*f);break;case"ZYZ":i.set(u*S,u*_,l*p,l*f);break;default:console.warn("THREE.MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: "+r)}}function ms(i,e){switch(e.constructor){case Float32Array:return i;case Uint32Array:return i/4294967295;case Uint16Array:return i/65535;case Uint8Array:return i/255;case Int32Array:return Math.max(i/2147483647,-1);case Int16Array:return Math.max(i/32767,-1);case Int8Array:return Math.max(i/127,-1);default:throw new Error("Invalid component type.")}}function Dn(i,e){switch(e.constructor){case Float32Array:return i;case Uint32Array:return Math.round(i*4294967295);case Uint16Array:return Math.round(i*65535);case Uint8Array:return Math.round(i*255);case Int32Array:return Math.round(i*2147483647);case Int16Array:return Math.round(i*32767);case Int8Array:return Math.round(i*127);default:throw new Error("Invalid component type.")}}const bW={DEG2RAD:pp,RAD2DEG:og,generateUUID:go,clamp:dn,euclideanModulo:VR,mapLinear:aW,inverseLerp:sW,lerp:qy,damp:oW,pingpong:lW,smoothstep:cW,smootherstep:uW,randInt:fW,randFloat:hW,randFloatSpread:dW,seededRandom:pW,degToRad:mW,radToDeg:gW,isPowerOfTwo:vW,ceilPowerOfTwo:yW,floorPowerOfTwo:_W,setQuaternionFromProperEuler:xW,normalize:Dn,denormalize:ms};class ut{constructor(e=0,t=0){ut.prototype.isVector2=!0,this.x=e,this.y=t}get width(){return this.x}set width(e){this.x=e}get height(){return this.y}set height(e){this.y=e}set(e,t){return this.x=e,this.y=t,this}setScalar(e){return this.x=e,this.y=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y)}copy(e){return this.x=e.x,this.y=e.y,this}add(e){return this.x+=e.x,this.y+=e.y,this}addScalar(e){return this.x+=e,this.y+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this}subScalar(e){return this.x-=e,this.y-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this}multiply(e){return this.x*=e.x,this.y*=e.y,this}multiplyScalar(e){return this.x*=e,this.y*=e,this}divide(e){return this.x/=e.x,this.y/=e.y,this}divideScalar(e){return this.multiplyScalar(1/e)}applyMatrix3(e){const t=this.x,n=this.y,r=e.elements;return this.x=r[0]*t+r[3]*n+r[6],this.y=r[1]*t+r[4]*n+r[7],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this}clamp(e,t){return this.x=dn(this.x,e.x,t.x),this.y=dn(this.y,e.y,t.y),this}clampScalar(e,t){return this.x=dn(this.x,e,t),this.y=dn(this.y,e,t),this}clampLength(e,t){const n=this.length();return this.divideScalar(n||1).multiplyScalar(dn(n,e,t))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(e){return this.x*e.x+this.y*e.y}cross(e){return this.x*e.y-this.y*e.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}angleTo(e){const t=Math.sqrt(this.lengthSq()*e.lengthSq());if(t===0)return Math.PI/2;const n=this.dot(e)/t;return Math.acos(dn(n,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const t=this.x-e.x,n=this.y-e.y;return t*t+n*n}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this}lerpVectors(e,t,n){return this.x=e.x+(t.x-e.x)*n,this.y=e.y+(t.y-e.y)*n,this}equals(e){return e.x===this.x&&e.y===this.y}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this}rotateAround(e,t){const n=Math.cos(t),r=Math.sin(t),a=this.x-e.x,s=this.y-e.y;return this.x=a*n-s*r+e.x,this.y=a*r+s*n+e.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y}}class js{constructor(e=0,t=0,n=0,r=1){this.isQuaternion=!0,this._x=e,this._y=t,this._z=n,this._w=r}static slerpFlat(e,t,n,r,a,s,l){let u=n[r+0],f=n[r+1],p=n[r+2],g=n[r+3];const v=a[s+0],_=a[s+1],S=a[s+2],w=a[s+3];if(l===0){e[t+0]=u,e[t+1]=f,e[t+2]=p,e[t+3]=g;return}if(l===1){e[t+0]=v,e[t+1]=_,e[t+2]=S,e[t+3]=w;return}if(g!==w||u!==v||f!==_||p!==S){let E=1-l;const b=u*v+f*_+p*S+g*w,R=b>=0?1:-1,C=1-b*b;if(C>Number.EPSILON){const N=Math.sqrt(C),L=Math.atan2(N,b*R);E=Math.sin(E*L)/N,l=Math.sin(l*L)/N}const A=l*R;if(u=u*E+v*A,f=f*E+_*A,p=p*E+S*A,g=g*E+w*A,E===1-l){const N=1/Math.sqrt(u*u+f*f+p*p+g*g);u*=N,f*=N,p*=N,g*=N}}e[t]=u,e[t+1]=f,e[t+2]=p,e[t+3]=g}static multiplyQuaternionsFlat(e,t,n,r,a,s){const l=n[r],u=n[r+1],f=n[r+2],p=n[r+3],g=a[s],v=a[s+1],_=a[s+2],S=a[s+3];return e[t]=l*S+p*g+u*_-f*v,e[t+1]=u*S+p*v+f*g-l*_,e[t+2]=f*S+p*_+l*v-u*g,e[t+3]=p*S-l*g-u*v-f*_,e}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get w(){return this._w}set w(e){this._w=e,this._onChangeCallback()}set(e,t,n,r){return this._x=e,this._y=t,this._z=n,this._w=r,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(e){return this._x=e.x,this._y=e.y,this._z=e.z,this._w=e.w,this._onChangeCallback(),this}setFromEuler(e,t=!0){const n=e._x,r=e._y,a=e._z,s=e._order,l=Math.cos,u=Math.sin,f=l(n/2),p=l(r/2),g=l(a/2),v=u(n/2),_=u(r/2),S=u(a/2);switch(s){case"XYZ":this._x=v*p*g+f*_*S,this._y=f*_*g-v*p*S,this._z=f*p*S+v*_*g,this._w=f*p*g-v*_*S;break;case"YXZ":this._x=v*p*g+f*_*S,this._y=f*_*g-v*p*S,this._z=f*p*S-v*_*g,this._w=f*p*g+v*_*S;break;case"ZXY":this._x=v*p*g-f*_*S,this._y=f*_*g+v*p*S,this._z=f*p*S+v*_*g,this._w=f*p*g-v*_*S;break;case"ZYX":this._x=v*p*g-f*_*S,this._y=f*_*g+v*p*S,this._z=f*p*S-v*_*g,this._w=f*p*g+v*_*S;break;case"YZX":this._x=v*p*g+f*_*S,this._y=f*_*g+v*p*S,this._z=f*p*S-v*_*g,this._w=f*p*g-v*_*S;break;case"XZY":this._x=v*p*g-f*_*S,this._y=f*_*g-v*p*S,this._z=f*p*S+v*_*g,this._w=f*p*g+v*_*S;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+s)}return t===!0&&this._onChangeCallback(),this}setFromAxisAngle(e,t){const n=t/2,r=Math.sin(n);return this._x=e.x*r,this._y=e.y*r,this._z=e.z*r,this._w=Math.cos(n),this._onChangeCallback(),this}setFromRotationMatrix(e){const t=e.elements,n=t[0],r=t[4],a=t[8],s=t[1],l=t[5],u=t[9],f=t[2],p=t[6],g=t[10],v=n+l+g;if(v>0){const _=.5/Math.sqrt(v+1);this._w=.25/_,this._x=(p-u)*_,this._y=(a-f)*_,this._z=(s-r)*_}else if(n>l&&n>g){const _=2*Math.sqrt(1+n-l-g);this._w=(p-u)/_,this._x=.25*_,this._y=(r+s)/_,this._z=(a+f)/_}else if(l>g){const _=2*Math.sqrt(1+l-n-g);this._w=(a-f)/_,this._x=(r+s)/_,this._y=.25*_,this._z=(u+p)/_}else{const _=2*Math.sqrt(1+g-n-l);this._w=(s-r)/_,this._x=(a+f)/_,this._y=(u+p)/_,this._z=.25*_}return this._onChangeCallback(),this}setFromUnitVectors(e,t){let n=e.dot(t)+1;return n<1e-8?(n=0,Math.abs(e.x)>Math.abs(e.z)?(this._x=-e.y,this._y=e.x,this._z=0,this._w=n):(this._x=0,this._y=-e.z,this._z=e.y,this._w=n)):(this._x=e.y*t.z-e.z*t.y,this._y=e.z*t.x-e.x*t.z,this._z=e.x*t.y-e.y*t.x,this._w=n),this.normalize()}angleTo(e){return 2*Math.acos(Math.abs(dn(this.dot(e),-1,1)))}rotateTowards(e,t){const n=this.angleTo(e);if(n===0)return this;const r=Math.min(1,t/n);return this.slerp(e,r),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(e){return this._x*e._x+this._y*e._y+this._z*e._z+this._w*e._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let e=this.length();return e===0?(this._x=0,this._y=0,this._z=0,this._w=1):(e=1/e,this._x=this._x*e,this._y=this._y*e,this._z=this._z*e,this._w=this._w*e),this._onChangeCallback(),this}multiply(e){return this.multiplyQuaternions(this,e)}premultiply(e){return this.multiplyQuaternions(e,this)}multiplyQuaternions(e,t){const n=e._x,r=e._y,a=e._z,s=e._w,l=t._x,u=t._y,f=t._z,p=t._w;return this._x=n*p+s*l+r*f-a*u,this._y=r*p+s*u+a*l-n*f,this._z=a*p+s*f+n*u-r*l,this._w=s*p-n*l-r*u-a*f,this._onChangeCallback(),this}slerp(e,t){if(t===0)return this;if(t===1)return this.copy(e);const n=this._x,r=this._y,a=this._z,s=this._w;let l=s*e._w+n*e._x+r*e._y+a*e._z;if(l<0?(this._w=-e._w,this._x=-e._x,this._y=-e._y,this._z=-e._z,l=-l):this.copy(e),l>=1)return this._w=s,this._x=n,this._y=r,this._z=a,this;const u=1-l*l;if(u<=Number.EPSILON){const _=1-t;return this._w=_*s+t*this._w,this._x=_*n+t*this._x,this._y=_*r+t*this._y,this._z=_*a+t*this._z,this.normalize(),this}const f=Math.sqrt(u),p=Math.atan2(f,l),g=Math.sin((1-t)*p)/f,v=Math.sin(t*p)/f;return this._w=s*g+this._w*v,this._x=n*g+this._x*v,this._y=r*g+this._y*v,this._z=a*g+this._z*v,this._onChangeCallback(),this}slerpQuaternions(e,t,n){return this.copy(e).slerp(t,n)}random(){const e=2*Math.PI*Math.random(),t=2*Math.PI*Math.random(),n=Math.random(),r=Math.sqrt(1-n),a=Math.sqrt(n);return this.set(r*Math.sin(e),r*Math.cos(e),a*Math.sin(t),a*Math.cos(t))}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._w===this._w}fromArray(e,t=0){return this._x=e[t],this._y=e[t+1],this._z=e[t+2],this._w=e[t+3],this._onChangeCallback(),this}toArray(e=[],t=0){return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._w,e}fromBufferAttribute(e,t){return this._x=e.getX(t),this._y=e.getY(t),this._z=e.getZ(t),this._w=e.getW(t),this._onChangeCallback(),this}toJSON(){return this.toArray()}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._w}}class le{constructor(e=0,t=0,n=0){le.prototype.isVector3=!0,this.x=e,this.y=t,this.z=n}set(e,t,n){return n===void 0&&(n=this.z),this.x=e,this.y=t,this.z=n,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this}multiplyVectors(e,t){return this.x=e.x*t.x,this.y=e.y*t.y,this.z=e.z*t.z,this}applyEuler(e){return this.applyQuaternion(DO.setFromEuler(e))}applyAxisAngle(e,t){return this.applyQuaternion(DO.setFromAxisAngle(e,t))}applyMatrix3(e){const t=this.x,n=this.y,r=this.z,a=e.elements;return this.x=a[0]*t+a[3]*n+a[6]*r,this.y=a[1]*t+a[4]*n+a[7]*r,this.z=a[2]*t+a[5]*n+a[8]*r,this}applyNormalMatrix(e){return this.applyMatrix3(e).normalize()}applyMatrix4(e){const t=this.x,n=this.y,r=this.z,a=e.elements,s=1/(a[3]*t+a[7]*n+a[11]*r+a[15]);return this.x=(a[0]*t+a[4]*n+a[8]*r+a[12])*s,this.y=(a[1]*t+a[5]*n+a[9]*r+a[13])*s,this.z=(a[2]*t+a[6]*n+a[10]*r+a[14])*s,this}applyQuaternion(e){const t=this.x,n=this.y,r=this.z,a=e.x,s=e.y,l=e.z,u=e.w,f=2*(s*r-l*n),p=2*(l*t-a*r),g=2*(a*n-s*t);return this.x=t+u*f+s*g-l*p,this.y=n+u*p+l*f-a*g,this.z=r+u*g+a*p-s*f,this}project(e){return this.applyMatrix4(e.matrixWorldInverse).applyMatrix4(e.projectionMatrix)}unproject(e){return this.applyMatrix4(e.projectionMatrixInverse).applyMatrix4(e.matrixWorld)}transformDirection(e){const t=this.x,n=this.y,r=this.z,a=e.elements;return this.x=a[0]*t+a[4]*n+a[8]*r,this.y=a[1]*t+a[5]*n+a[9]*r,this.z=a[2]*t+a[6]*n+a[10]*r,this.normalize()}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this}divideScalar(e){return this.multiplyScalar(1/e)}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this}clamp(e,t){return this.x=dn(this.x,e.x,t.x),this.y=dn(this.y,e.y,t.y),this.z=dn(this.z,e.z,t.z),this}clampScalar(e,t){return this.x=dn(this.x,e,t),this.y=dn(this.y,e,t),this.z=dn(this.z,e,t),this}clampLength(e,t){const n=this.length();return this.divideScalar(n||1).multiplyScalar(dn(n,e,t))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this}lerpVectors(e,t,n){return this.x=e.x+(t.x-e.x)*n,this.y=e.y+(t.y-e.y)*n,this.z=e.z+(t.z-e.z)*n,this}cross(e){return this.crossVectors(this,e)}crossVectors(e,t){const n=e.x,r=e.y,a=e.z,s=t.x,l=t.y,u=t.z;return this.x=r*u-a*l,this.y=a*s-n*u,this.z=n*l-r*s,this}projectOnVector(e){const t=e.lengthSq();if(t===0)return this.set(0,0,0);const n=e.dot(this)/t;return this.copy(e).multiplyScalar(n)}projectOnPlane(e){return fM.copy(this).projectOnVector(e),this.sub(fM)}reflect(e){return this.sub(fM.copy(e).multiplyScalar(2*this.dot(e)))}angleTo(e){const t=Math.sqrt(this.lengthSq()*e.lengthSq());if(t===0)return Math.PI/2;const n=this.dot(e)/t;return Math.acos(dn(n,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const t=this.x-e.x,n=this.y-e.y,r=this.z-e.z;return t*t+n*n+r*r}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)+Math.abs(this.z-e.z)}setFromSpherical(e){return this.setFromSphericalCoords(e.radius,e.phi,e.theta)}setFromSphericalCoords(e,t,n){const r=Math.sin(t)*e;return this.x=r*Math.sin(n),this.y=Math.cos(t)*e,this.z=r*Math.cos(n),this}setFromCylindrical(e){return this.setFromCylindricalCoords(e.radius,e.theta,e.y)}setFromCylindricalCoords(e,t,n){return this.x=e*Math.sin(t),this.y=n,this.z=e*Math.cos(t),this}setFromMatrixPosition(e){const t=e.elements;return this.x=t[12],this.y=t[13],this.z=t[14],this}setFromMatrixScale(e){const t=this.setFromMatrixColumn(e,0).length(),n=this.setFromMatrixColumn(e,1).length(),r=this.setFromMatrixColumn(e,2).length();return this.x=t,this.y=n,this.z=r,this}setFromMatrixColumn(e,t){return this.fromArray(e.elements,t*4)}setFromMatrix3Column(e,t){return this.fromArray(e.elements,t*3)}setFromEuler(e){return this.x=e._x,this.y=e._y,this.z=e._z,this}setFromColor(e){return this.x=e.r,this.y=e.g,this.z=e.b,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}randomDirection(){const e=Math.random()*Math.PI*2,t=Math.random()*2-1,n=Math.sqrt(1-t*t);return this.x=n*Math.cos(e),this.y=t,this.z=n*Math.sin(e),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z}}const fM=new le,DO=new js;class Mn{constructor(e,t,n,r,a,s,l,u,f){Mn.prototype.isMatrix3=!0,this.elements=[1,0,0,0,1,0,0,0,1],e!==void 0&&this.set(e,t,n,r,a,s,l,u,f)}set(e,t,n,r,a,s,l,u,f){const p=this.elements;return p[0]=e,p[1]=r,p[2]=l,p[3]=t,p[4]=a,p[5]=u,p[6]=n,p[7]=s,p[8]=f,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(e){const t=this.elements,n=e.elements;return t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[3],t[4]=n[4],t[5]=n[5],t[6]=n[6],t[7]=n[7],t[8]=n[8],this}extractBasis(e,t,n){return e.setFromMatrix3Column(this,0),t.setFromMatrix3Column(this,1),n.setFromMatrix3Column(this,2),this}setFromMatrix4(e){const t=e.elements;return this.set(t[0],t[4],t[8],t[1],t[5],t[9],t[2],t[6],t[10]),this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,t){const n=e.elements,r=t.elements,a=this.elements,s=n[0],l=n[3],u=n[6],f=n[1],p=n[4],g=n[7],v=n[2],_=n[5],S=n[8],w=r[0],E=r[3],b=r[6],R=r[1],C=r[4],A=r[7],N=r[2],L=r[5],B=r[8];return a[0]=s*w+l*R+u*N,a[3]=s*E+l*C+u*L,a[6]=s*b+l*A+u*B,a[1]=f*w+p*R+g*N,a[4]=f*E+p*C+g*L,a[7]=f*b+p*A+g*B,a[2]=v*w+_*R+S*N,a[5]=v*E+_*C+S*L,a[8]=v*b+_*A+S*B,this}multiplyScalar(e){const t=this.elements;return t[0]*=e,t[3]*=e,t[6]*=e,t[1]*=e,t[4]*=e,t[7]*=e,t[2]*=e,t[5]*=e,t[8]*=e,this}determinant(){const e=this.elements,t=e[0],n=e[1],r=e[2],a=e[3],s=e[4],l=e[5],u=e[6],f=e[7],p=e[8];return t*s*p-t*l*f-n*a*p+n*l*u+r*a*f-r*s*u}invert(){const e=this.elements,t=e[0],n=e[1],r=e[2],a=e[3],s=e[4],l=e[5],u=e[6],f=e[7],p=e[8],g=p*s-l*f,v=l*u-p*a,_=f*a-s*u,S=t*g+n*v+r*_;if(S===0)return this.set(0,0,0,0,0,0,0,0,0);const w=1/S;return e[0]=g*w,e[1]=(r*f-p*n)*w,e[2]=(l*n-r*s)*w,e[3]=v*w,e[4]=(p*t-r*u)*w,e[5]=(r*a-l*t)*w,e[6]=_*w,e[7]=(n*u-f*t)*w,e[8]=(s*t-n*a)*w,this}transpose(){let e;const t=this.elements;return e=t[1],t[1]=t[3],t[3]=e,e=t[2],t[2]=t[6],t[6]=e,e=t[5],t[5]=t[7],t[7]=e,this}getNormalMatrix(e){return this.setFromMatrix4(e).invert().transpose()}transposeIntoArray(e){const t=this.elements;return e[0]=t[0],e[1]=t[3],e[2]=t[6],e[3]=t[1],e[4]=t[4],e[5]=t[7],e[6]=t[2],e[7]=t[5],e[8]=t[8],this}setUvTransform(e,t,n,r,a,s,l){const u=Math.cos(a),f=Math.sin(a);return this.set(n*u,n*f,-n*(u*s+f*l)+s+e,-r*f,r*u,-r*(-f*s+u*l)+l+t,0,0,1),this}scale(e,t){return this.premultiply(hM.makeScale(e,t)),this}rotate(e){return this.premultiply(hM.makeRotation(-e)),this}translate(e,t){return this.premultiply(hM.makeTranslation(e,t)),this}makeTranslation(e,t){return e.isVector2?this.set(1,0,e.x,0,1,e.y,0,0,1):this.set(1,0,e,0,1,t,0,0,1),this}makeRotation(e){const t=Math.cos(e),n=Math.sin(e);return this.set(t,-n,0,n,t,0,0,0,1),this}makeScale(e,t){return this.set(e,0,0,0,t,0,0,0,1),this}equals(e){const t=this.elements,n=e.elements;for(let r=0;r<9;r++)if(t[r]!==n[r])return!1;return!0}fromArray(e,t=0){for(let n=0;n<9;n++)this.elements[n]=e[n+t];return this}toArray(e=[],t=0){const n=this.elements;return e[t]=n[0],e[t+1]=n[1],e[t+2]=n[2],e[t+3]=n[3],e[t+4]=n[4],e[t+5]=n[5],e[t+6]=n[6],e[t+7]=n[7],e[t+8]=n[8],e}clone(){return new this.constructor().fromArray(this.elements)}}const hM=new Mn;function xB(i){for(let e=i.length-1;e>=0;--e)if(i[e]>=65535)return!0;return!1}const SW={Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array};function A0(i,e){return new SW[i](e)}function w_(i){return document.createElementNS("http://www.w3.org/1999/xhtml",i)}function bB(){const i=w_("canvas");return i.style.display="block",i}const OO={};function V0(i){i in OO||(OO[i]=!0,console.warn(i))}function wW(i,e,t){return new Promise(function(n,r){function a(){switch(i.clientWaitSync(e,i.SYNC_FLUSH_COMMANDS_BIT,0)){case i.WAIT_FAILED:r();break;case i.TIMEOUT_EXPIRED:setTimeout(a,t);break;default:n()}}setTimeout(a,t)})}const NO=new Mn().set(.4123908,.3575843,.1804808,.212639,.7151687,.0721923,.0193308,.1191948,.9505322),PO=new Mn().set(3.2409699,-1.5373832,-.4986108,-.9692436,1.8759675,.0415551,.0556301,-.203977,1.0569715);function EW(){const i={enabled:!0,workingColorSpace:zl,spaces:{},convert:function(r,a,s){return this.enabled===!1||a===s||!a||!s||(this.spaces[a].transfer===bi&&(r.r=Uu(r.r),r.g=Uu(r.g),r.b=Uu(r.b)),this.spaces[a].primaries!==this.spaces[s].primaries&&(r.applyMatrix3(this.spaces[a].toXYZ),r.applyMatrix3(this.spaces[s].fromXYZ)),this.spaces[s].transfer===bi&&(r.r=j0(r.r),r.g=j0(r.g),r.b=j0(r.b))),r},workingToColorSpace:function(r,a){return this.convert(r,this.workingColorSpace,a)},colorSpaceToWorking:function(r,a){return this.convert(r,a,this.workingColorSpace)},getPrimaries:function(r){return this.spaces[r].primaries},getTransfer:function(r){return r===Du?b_:this.spaces[r].transfer},getLuminanceCoefficients:function(r,a=this.workingColorSpace){return r.fromArray(this.spaces[a].luminanceCoefficients)},define:function(r){Object.assign(this.spaces,r)},_getMatrix:function(r,a,s){return r.copy(this.spaces[a].toXYZ).multiply(this.spaces[s].fromXYZ)},_getDrawingBufferColorSpace:function(r){return this.spaces[r].outputColorSpaceConfig.drawingBufferColorSpace},_getUnpackColorSpace:function(r=this.workingColorSpace){return this.spaces[r].workingColorSpaceConfig.unpackColorSpace},fromWorkingColorSpace:function(r,a){return V0("THREE.ColorManagement: .fromWorkingColorSpace() has been renamed to .workingToColorSpace()."),i.workingToColorSpace(r,a)},toWorkingColorSpace:function(r,a){return V0("THREE.ColorManagement: .toWorkingColorSpace() has been renamed to .colorSpaceToWorking()."),i.colorSpaceToWorking(r,a)}},e=[.64,.33,.3,.6,.15,.06],t=[.2126,.7152,.0722],n=[.3127,.329];return i.define({[zl]:{primaries:e,whitePoint:n,transfer:b_,toXYZ:NO,fromXYZ:PO,luminanceCoefficients:t,workingColorSpaceConfig:{unpackColorSpace:va},outputColorSpaceConfig:{drawingBufferColorSpace:va}},[va]:{primaries:e,whitePoint:n,transfer:bi,toXYZ:NO,fromXYZ:PO,luminanceCoefficients:t,outputColorSpaceConfig:{drawingBufferColorSpace:va}}}),i}const Qn=EW();function Uu(i){return i<.04045?i*.0773993808:Math.pow(i*.9478672986+.0521327014,2.4)}function j0(i){return i<.0031308?i*12.92:1.055*Math.pow(i,.41666)-.055}let Ym;class SB{static getDataURL(e,t="image/png"){if(/^data:/i.test(e.src)||typeof HTMLCanvasElement>"u")return e.src;let n;if(e instanceof HTMLCanvasElement)n=e;else{Ym===void 0&&(Ym=w_("canvas")),Ym.width=e.width,Ym.height=e.height;const r=Ym.getContext("2d");e instanceof ImageData?r.putImageData(e,0,0):r.drawImage(e,0,0,e.width,e.height),n=Ym}return n.toDataURL(t)}static sRGBToLinear(e){if(typeof HTMLImageElement<"u"&&e instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&e instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&e instanceof ImageBitmap){const t=w_("canvas");t.width=e.width,t.height=e.height;const n=t.getContext("2d");n.drawImage(e,0,0,e.width,e.height);const r=n.getImageData(0,0,e.width,e.height),a=r.data;for(let s=0;s<a.length;s++)a[s]=Uu(a[s]/255)*255;return n.putImageData(r,0,0),t}else if(e.data){const t=e.data.slice(0);for(let n=0;n<t.length;n++)t instanceof Uint8Array||t instanceof Uint8ClampedArray?t[n]=Math.floor(Uu(t[n]/255)*255):t[n]=Uu(t[n]);return{data:t,width:e.width,height:e.height}}else return console.warn("THREE.ImageUtils.sRGBToLinear(): Unsupported image type. No color space conversion applied."),e}}let MW=0;class oh{constructor(e=null){this.isSource=!0,Object.defineProperty(this,"id",{value:MW++}),this.uuid=go(),this.data=e,this.dataReady=!0,this.version=0}getSize(e){const t=this.data;return t instanceof HTMLVideoElement?e.set(t.videoWidth,t.videoHeight,0):t instanceof VideoFrame?e.set(t.displayHeight,t.displayWidth,0):t!==null?e.set(t.width,t.height,t.depth||0):e.set(0,0,0),e}set needsUpdate(e){e===!0&&this.version++}toJSON(e){const t=e===void 0||typeof e=="string";if(!t&&e.images[this.uuid]!==void 0)return e.images[this.uuid];const n={uuid:this.uuid,url:""},r=this.data;if(r!==null){let a;if(Array.isArray(r)){a=[];for(let s=0,l=r.length;s<l;s++)r[s].isDataTexture?a.push(dM(r[s].image)):a.push(dM(r[s]))}else a=dM(r);n.url=a}return t||(e.images[this.uuid]=n),n}}function dM(i){return typeof HTMLImageElement<"u"&&i instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&i instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&i instanceof ImageBitmap?SB.getDataURL(i):i.data?{data:Array.from(i.data),width:i.width,height:i.height,type:i.data.constructor.name}:(console.warn("THREE.Texture: Unable to serialize Texture."),{})}let TW=0;const pM=new le;class gi extends Xc{constructor(e=gi.DEFAULT_IMAGE,t=gi.DEFAULT_MAPPING,n=Lr,r=Lr,a=Si,s=Nc,l=Sr,u=ys,f=gi.DEFAULT_ANISOTROPY,p=Du){super(),this.isTexture=!0,Object.defineProperty(this,"id",{value:TW++}),this.uuid=go(),this.name="",this.source=new oh(e),this.mipmaps=[],this.mapping=t,this.channel=0,this.wrapS=n,this.wrapT=r,this.magFilter=a,this.minFilter=s,this.anisotropy=f,this.format=l,this.internalFormat=null,this.type=u,this.offset=new ut(0,0),this.repeat=new ut(1,1),this.center=new ut(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new Mn,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.colorSpace=p,this.userData={},this.updateRanges=[],this.version=0,this.onUpdate=null,this.renderTarget=null,this.isRenderTargetTexture=!1,this.isArrayTexture=!!(e&&e.depth&&e.depth>1),this.pmremVersion=0}get width(){return this.source.getSize(pM).x}get height(){return this.source.getSize(pM).y}get depth(){return this.source.getSize(pM).z}get image(){return this.source.data}set image(e=null){this.source.data=e}updateMatrix(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}addUpdateRange(e,t){this.updateRanges.push({start:e,count:t})}clearUpdateRanges(){this.updateRanges.length=0}clone(){return new this.constructor().copy(this)}copy(e){return this.name=e.name,this.source=e.source,this.mipmaps=e.mipmaps.slice(0),this.mapping=e.mapping,this.channel=e.channel,this.wrapS=e.wrapS,this.wrapT=e.wrapT,this.magFilter=e.magFilter,this.minFilter=e.minFilter,this.anisotropy=e.anisotropy,this.format=e.format,this.internalFormat=e.internalFormat,this.type=e.type,this.offset.copy(e.offset),this.repeat.copy(e.repeat),this.center.copy(e.center),this.rotation=e.rotation,this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrix.copy(e.matrix),this.generateMipmaps=e.generateMipmaps,this.premultiplyAlpha=e.premultiplyAlpha,this.flipY=e.flipY,this.unpackAlignment=e.unpackAlignment,this.colorSpace=e.colorSpace,this.renderTarget=e.renderTarget,this.isRenderTargetTexture=e.isRenderTargetTexture,this.isArrayTexture=e.isArrayTexture,this.userData=JSON.parse(JSON.stringify(e.userData)),this.needsUpdate=!0,this}setValues(e){for(const t in e){const n=e[t];if(n===void 0){console.warn(`THREE.Texture.setValues(): parameter '${t}' has value of undefined.`);continue}const r=this[t];if(r===void 0){console.warn(`THREE.Texture.setValues(): property '${t}' does not exist.`);continue}r&&n&&r.isVector2&&n.isVector2||r&&n&&r.isVector3&&n.isVector3||r&&n&&r.isMatrix3&&n.isMatrix3?r.copy(n):this[t]=n}}toJSON(e){const t=e===void 0||typeof e=="string";if(!t&&e.textures[this.uuid]!==void 0)return e.textures[this.uuid];const n={metadata:{version:4.7,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,image:this.source.toJSON(e).uuid,mapping:this.mapping,channel:this.channel,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,internalFormat:this.internalFormat,type:this.type,colorSpace:this.colorSpace,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,generateMipmaps:this.generateMipmaps,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};return Object.keys(this.userData).length>0&&(n.userData=this.userData),t||(e.textures[this.uuid]=n),n}dispose(){this.dispatchEvent({type:"dispose"})}transformUv(e){if(this.mapping!==gh)return e;if(e.applyMatrix3(this.matrix),e.x<0||e.x>1)switch(this.wrapS){case v_:e.x=e.x-Math.floor(e.x);break;case Lr:e.x=e.x<0?0:1;break;case y_:Math.abs(Math.floor(e.x)%2)===1?e.x=Math.ceil(e.x)-e.x:e.x=e.x-Math.floor(e.x);break}if(e.y<0||e.y>1)switch(this.wrapT){case v_:e.y=e.y-Math.floor(e.y);break;case Lr:e.y=e.y<0?0:1;break;case y_:Math.abs(Math.floor(e.y)%2)===1?e.y=Math.ceil(e.y)-e.y:e.y=e.y-Math.floor(e.y);break}return this.flipY&&(e.y=1-e.y),e}set needsUpdate(e){e===!0&&(this.version++,this.source.needsUpdate=!0)}set needsPMREMUpdate(e){e===!0&&this.pmremVersion++}}gi.DEFAULT_IMAGE=null;gi.DEFAULT_MAPPING=gh;gi.DEFAULT_ANISOTROPY=1;class ri{constructor(e=0,t=0,n=0,r=1){ri.prototype.isVector4=!0,this.x=e,this.y=t,this.z=n,this.w=r}get width(){return this.z}set width(e){this.z=e}get height(){return this.w}set height(e){this.w=e}set(e,t,n,r){return this.x=e,this.y=t,this.z=n,this.w=r,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this.w=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setW(e){return this.w=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;case 3:this.w=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=e.w!==void 0?e.w:1,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this.w+=e.w,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this.w+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this.w=e.w+t.w,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this.w+=e.w*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this.w-=e.w,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this.w-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this.w=e.w-t.w,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this.w*=e.w,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this.w*=e,this}applyMatrix4(e){const t=this.x,n=this.y,r=this.z,a=this.w,s=e.elements;return this.x=s[0]*t+s[4]*n+s[8]*r+s[12]*a,this.y=s[1]*t+s[5]*n+s[9]*r+s[13]*a,this.z=s[2]*t+s[6]*n+s[10]*r+s[14]*a,this.w=s[3]*t+s[7]*n+s[11]*r+s[15]*a,this}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this.w/=e.w,this}divideScalar(e){return this.multiplyScalar(1/e)}setAxisAngleFromQuaternion(e){this.w=2*Math.acos(e.w);const t=Math.sqrt(1-e.w*e.w);return t<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=e.x/t,this.y=e.y/t,this.z=e.z/t),this}setAxisAngleFromRotationMatrix(e){let t,n,r,a;const u=e.elements,f=u[0],p=u[4],g=u[8],v=u[1],_=u[5],S=u[9],w=u[2],E=u[6],b=u[10];if(Math.abs(p-v)<.01&&Math.abs(g-w)<.01&&Math.abs(S-E)<.01){if(Math.abs(p+v)<.1&&Math.abs(g+w)<.1&&Math.abs(S+E)<.1&&Math.abs(f+_+b-3)<.1)return this.set(1,0,0,0),this;t=Math.PI;const C=(f+1)/2,A=(_+1)/2,N=(b+1)/2,L=(p+v)/4,B=(g+w)/4,U=(S+E)/4;return C>A&&C>N?C<.01?(n=0,r=.707106781,a=.707106781):(n=Math.sqrt(C),r=L/n,a=B/n):A>N?A<.01?(n=.707106781,r=0,a=.707106781):(r=Math.sqrt(A),n=L/r,a=U/r):N<.01?(n=.707106781,r=.707106781,a=0):(a=Math.sqrt(N),n=B/a,r=U/a),this.set(n,r,a,t),this}let R=Math.sqrt((E-S)*(E-S)+(g-w)*(g-w)+(v-p)*(v-p));return Math.abs(R)<.001&&(R=1),this.x=(E-S)/R,this.y=(g-w)/R,this.z=(v-p)/R,this.w=Math.acos((f+_+b-1)/2),this}setFromMatrixPosition(e){const t=e.elements;return this.x=t[12],this.y=t[13],this.z=t[14],this.w=t[15],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this.w=Math.min(this.w,e.w),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this.w=Math.max(this.w,e.w),this}clamp(e,t){return this.x=dn(this.x,e.x,t.x),this.y=dn(this.y,e.y,t.y),this.z=dn(this.z,e.z,t.z),this.w=dn(this.w,e.w,t.w),this}clampScalar(e,t){return this.x=dn(this.x,e,t),this.y=dn(this.y,e,t),this.z=dn(this.z,e,t),this.w=dn(this.w,e,t),this}clampLength(e,t){const n=this.length();return this.divideScalar(n||1).multiplyScalar(dn(n,e,t))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this.w=Math.trunc(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this.w+=(e.w-this.w)*t,this}lerpVectors(e,t,n){return this.x=e.x+(t.x-e.x)*n,this.y=e.y+(t.y-e.y)*n,this.z=e.z+(t.z-e.z)*n,this.w=e.w+(t.w-e.w)*n,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z&&e.w===this.w}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this.w=e[t+3],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e[t+3]=this.w,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this.w=e.getW(t),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z,yield this.w}}class jR extends Xc{constructor(e=1,t=1,n={}){super(),n=Object.assign({generateMipmaps:!1,internalFormat:null,minFilter:Si,depthBuffer:!0,stencilBuffer:!1,resolveDepthBuffer:!0,resolveStencilBuffer:!0,depthTexture:null,samples:0,count:1,depth:1,multiview:!1},n),this.isRenderTarget=!0,this.width=e,this.height=t,this.depth=n.depth,this.scissor=new ri(0,0,e,t),this.scissorTest=!1,this.viewport=new ri(0,0,e,t);const r={width:e,height:t,depth:n.depth},a=new gi(r);this.textures=[];const s=n.count;for(let l=0;l<s;l++)this.textures[l]=a.clone(),this.textures[l].isRenderTargetTexture=!0,this.textures[l].renderTarget=this;this._setTextureOptions(n),this.depthBuffer=n.depthBuffer,this.stencilBuffer=n.stencilBuffer,this.resolveDepthBuffer=n.resolveDepthBuffer,this.resolveStencilBuffer=n.resolveStencilBuffer,this._depthTexture=null,this.depthTexture=n.depthTexture,this.samples=n.samples,this.multiview=n.multiview}_setTextureOptions(e={}){const t={minFilter:Si,generateMipmaps:!1,flipY:!1,internalFormat:null};e.mapping!==void 0&&(t.mapping=e.mapping),e.wrapS!==void 0&&(t.wrapS=e.wrapS),e.wrapT!==void 0&&(t.wrapT=e.wrapT),e.wrapR!==void 0&&(t.wrapR=e.wrapR),e.magFilter!==void 0&&(t.magFilter=e.magFilter),e.minFilter!==void 0&&(t.minFilter=e.minFilter),e.format!==void 0&&(t.format=e.format),e.type!==void 0&&(t.type=e.type),e.anisotropy!==void 0&&(t.anisotropy=e.anisotropy),e.colorSpace!==void 0&&(t.colorSpace=e.colorSpace),e.flipY!==void 0&&(t.flipY=e.flipY),e.generateMipmaps!==void 0&&(t.generateMipmaps=e.generateMipmaps),e.internalFormat!==void 0&&(t.internalFormat=e.internalFormat);for(let n=0;n<this.textures.length;n++)this.textures[n].setValues(t)}get texture(){return this.textures[0]}set texture(e){this.textures[0]=e}set depthTexture(e){this._depthTexture!==null&&(this._depthTexture.renderTarget=null),e!==null&&(e.renderTarget=this),this._depthTexture=e}get depthTexture(){return this._depthTexture}setSize(e,t,n=1){if(this.width!==e||this.height!==t||this.depth!==n){this.width=e,this.height=t,this.depth=n;for(let r=0,a=this.textures.length;r<a;r++)this.textures[r].image.width=e,this.textures[r].image.height=t,this.textures[r].image.depth=n,this.textures[r].isArrayTexture=this.textures[r].image.depth>1;this.dispose()}this.viewport.set(0,0,e,t),this.scissor.set(0,0,e,t)}clone(){return new this.constructor().copy(this)}copy(e){this.width=e.width,this.height=e.height,this.depth=e.depth,this.scissor.copy(e.scissor),this.scissorTest=e.scissorTest,this.viewport.copy(e.viewport),this.textures.length=0;for(let t=0,n=e.textures.length;t<n;t++){this.textures[t]=e.textures[t].clone(),this.textures[t].isRenderTargetTexture=!0,this.textures[t].renderTarget=this;const r=Object.assign({},e.textures[t].image);this.textures[t].source=new oh(r)}return this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,this.resolveDepthBuffer=e.resolveDepthBuffer,this.resolveStencilBuffer=e.resolveStencilBuffer,e.depthTexture!==null&&(this.depthTexture=e.depthTexture.clone()),this.samples=e.samples,this}dispose(){this.dispatchEvent({type:"dispose"})}}class Jo extends jR{constructor(e=1,t=1,n={}){super(e,t,n),this.isWebGLRenderTarget=!0}}class dE extends gi{constructor(e=null,t=1,n=1,r=1){super(null),this.isDataArrayTexture=!0,this.image={data:e,width:t,height:n,depth:r},this.magFilter=xa,this.minFilter=xa,this.wrapR=Lr,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1,this.layerUpdates=new Set}addLayerUpdate(e){this.layerUpdates.add(e)}clearLayerUpdates(){this.layerUpdates.clear()}}class AW extends Jo{constructor(e=1,t=1,n=1,r={}){super(e,t,r),this.isWebGLArrayRenderTarget=!0,this.depth=n,this.texture=new dE(null,e,t,n),this._setTextureOptions(r),this.texture.isRenderTargetTexture=!0}}class pE extends gi{constructor(e=null,t=1,n=1,r=1){super(null),this.isData3DTexture=!0,this.image={data:e,width:t,height:n,depth:r},this.magFilter=xa,this.minFilter=xa,this.wrapR=Lr,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class CW extends Jo{constructor(e=1,t=1,n=1,r={}){super(e,t,r),this.isWebGL3DRenderTarget=!0,this.depth=n,this.texture=new pE(null,e,t,n),this._setTextureOptions(r),this.texture.isRenderTargetTexture=!0}}class Fa{constructor(e=new le(1/0,1/0,1/0),t=new le(-1/0,-1/0,-1/0)){this.isBox3=!0,this.min=e,this.max=t}set(e,t){return this.min.copy(e),this.max.copy(t),this}setFromArray(e){this.makeEmpty();for(let t=0,n=e.length;t<n;t+=3)this.expandByPoint(El.fromArray(e,t));return this}setFromBufferAttribute(e){this.makeEmpty();for(let t=0,n=e.count;t<n;t++)this.expandByPoint(El.fromBufferAttribute(e,t));return this}setFromPoints(e){this.makeEmpty();for(let t=0,n=e.length;t<n;t++)this.expandByPoint(e[t]);return this}setFromCenterAndSize(e,t){const n=El.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(n),this.max.copy(e).add(n),this}setFromObject(e,t=!1){return this.makeEmpty(),this.expandByObject(e,t)}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(e){return this.isEmpty()?e.set(0,0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}expandByObject(e,t=!1){e.updateWorldMatrix(!1,!1);const n=e.geometry;if(n!==void 0){const a=n.getAttribute("position");if(t===!0&&a!==void 0&&e.isInstancedMesh!==!0)for(let s=0,l=a.count;s<l;s++)e.isMesh===!0?e.getVertexPosition(s,El):El.fromBufferAttribute(a,s),El.applyMatrix4(e.matrixWorld),this.expandByPoint(El);else e.boundingBox!==void 0?(e.boundingBox===null&&e.computeBoundingBox(),lb.copy(e.boundingBox)):(n.boundingBox===null&&n.computeBoundingBox(),lb.copy(n.boundingBox)),lb.applyMatrix4(e.matrixWorld),this.union(lb)}const r=e.children;for(let a=0,s=r.length;a<s;a++)this.expandByObject(r[a],t);return this}containsPoint(e){return e.x>=this.min.x&&e.x<=this.max.x&&e.y>=this.min.y&&e.y<=this.max.y&&e.z>=this.min.z&&e.z<=this.max.z}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y&&this.min.z<=e.min.z&&e.max.z<=this.max.z}getParameter(e,t){return t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y),(e.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(e){return e.max.x>=this.min.x&&e.min.x<=this.max.x&&e.max.y>=this.min.y&&e.min.y<=this.max.y&&e.max.z>=this.min.z&&e.min.z<=this.max.z}intersectsSphere(e){return this.clampPoint(e.center,El),El.distanceToSquared(e.center)<=e.radius*e.radius}intersectsPlane(e){let t,n;return e.normal.x>0?(t=e.normal.x*this.min.x,n=e.normal.x*this.max.x):(t=e.normal.x*this.max.x,n=e.normal.x*this.min.x),e.normal.y>0?(t+=e.normal.y*this.min.y,n+=e.normal.y*this.max.y):(t+=e.normal.y*this.max.y,n+=e.normal.y*this.min.y),e.normal.z>0?(t+=e.normal.z*this.min.z,n+=e.normal.z*this.max.z):(t+=e.normal.z*this.max.z,n+=e.normal.z*this.min.z),t<=-e.constant&&n>=-e.constant}intersectsTriangle(e){if(this.isEmpty())return!1;this.getCenter($v),cb.subVectors(this.max,$v),Zm.subVectors(e.a,$v),Km.subVectors(e.b,$v),$m.subVectors(e.c,$v),Hf.subVectors(Km,Zm),Vf.subVectors($m,Km),Td.subVectors(Zm,$m);let t=[0,-Hf.z,Hf.y,0,-Vf.z,Vf.y,0,-Td.z,Td.y,Hf.z,0,-Hf.x,Vf.z,0,-Vf.x,Td.z,0,-Td.x,-Hf.y,Hf.x,0,-Vf.y,Vf.x,0,-Td.y,Td.x,0];return!mM(t,Zm,Km,$m,cb)||(t=[1,0,0,0,1,0,0,0,1],!mM(t,Zm,Km,$m,cb))?!1:(ub.crossVectors(Hf,Vf),t=[ub.x,ub.y,ub.z],mM(t,Zm,Km,$m,cb))}clampPoint(e,t){return t.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,El).distanceTo(e)}getBoundingSphere(e){return this.isEmpty()?e.makeEmpty():(this.getCenter(e.center),e.radius=this.getSize(El).length()*.5),e}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}applyMatrix4(e){return this.isEmpty()?this:(_u[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(e),_u[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(e),_u[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(e),_u[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(e),_u[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(e),_u[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(e),_u[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(e),_u[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(e),this.setFromPoints(_u),this)}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}toJSON(){return{min:this.min.toArray(),max:this.max.toArray()}}fromJSON(e){return this.min.fromArray(e.min),this.max.fromArray(e.max),this}}const _u=[new le,new le,new le,new le,new le,new le,new le,new le],El=new le,lb=new Fa,Zm=new le,Km=new le,$m=new le,Hf=new le,Vf=new le,Td=new le,$v=new le,cb=new le,ub=new le,Ad=new le;function mM(i,e,t,n,r){for(let a=0,s=i.length-3;a<=s;a+=3){Ad.fromArray(i,a);const l=r.x*Math.abs(Ad.x)+r.y*Math.abs(Ad.y)+r.z*Math.abs(Ad.z),u=e.dot(Ad),f=t.dot(Ad),p=n.dot(Ad);if(Math.max(-Math.max(u,f,p),Math.min(u,f,p))>l)return!1}return!0}const RW=new Fa,Jv=new le,gM=new le;class ba{constructor(e=new le,t=-1){this.isSphere=!0,this.center=e,this.radius=t}set(e,t){return this.center.copy(e),this.radius=t,this}setFromPoints(e,t){const n=this.center;t!==void 0?n.copy(t):RW.setFromPoints(e).getCenter(n);let r=0;for(let a=0,s=e.length;a<s;a++)r=Math.max(r,n.distanceToSquared(e[a]));return this.radius=Math.sqrt(r),this}copy(e){return this.center.copy(e.center),this.radius=e.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(e){return e.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(e){return e.distanceTo(this.center)-this.radius}intersectsSphere(e){const t=this.radius+e.radius;return e.center.distanceToSquared(this.center)<=t*t}intersectsBox(e){return e.intersectsSphere(this)}intersectsPlane(e){return Math.abs(e.distanceToPoint(this.center))<=this.radius}clampPoint(e,t){const n=this.center.distanceToSquared(e);return t.copy(e),n>this.radius*this.radius&&(t.sub(this.center).normalize(),t.multiplyScalar(this.radius).add(this.center)),t}getBoundingBox(e){return this.isEmpty()?(e.makeEmpty(),e):(e.set(this.center,this.center),e.expandByScalar(this.radius),e)}applyMatrix4(e){return this.center.applyMatrix4(e),this.radius=this.radius*e.getMaxScaleOnAxis(),this}translate(e){return this.center.add(e),this}expandByPoint(e){if(this.isEmpty())return this.center.copy(e),this.radius=0,this;Jv.subVectors(e,this.center);const t=Jv.lengthSq();if(t>this.radius*this.radius){const n=Math.sqrt(t),r=(n-this.radius)*.5;this.center.addScaledVector(Jv,r/n),this.radius+=r}return this}union(e){return e.isEmpty()?this:this.isEmpty()?(this.copy(e),this):(this.center.equals(e.center)===!0?this.radius=Math.max(this.radius,e.radius):(gM.subVectors(e.center,this.center).setLength(e.radius),this.expandByPoint(Jv.copy(e.center).add(gM)),this.expandByPoint(Jv.copy(e.center).sub(gM))),this)}equals(e){return e.center.equals(this.center)&&e.radius===this.radius}clone(){return new this.constructor().copy(this)}toJSON(){return{radius:this.radius,center:this.center.toArray()}}fromJSON(e){return this.radius=e.radius,this.center.fromArray(e.center),this}}const xu=new le,vM=new le,fb=new le,jf=new le,yM=new le,hb=new le,_M=new le;class wg{constructor(e=new le,t=new le(0,0,-1)){this.origin=e,this.direction=t}set(e,t){return this.origin.copy(e),this.direction.copy(t),this}copy(e){return this.origin.copy(e.origin),this.direction.copy(e.direction),this}at(e,t){return t.copy(this.origin).addScaledVector(this.direction,e)}lookAt(e){return this.direction.copy(e).sub(this.origin).normalize(),this}recast(e){return this.origin.copy(this.at(e,xu)),this}closestPointToPoint(e,t){t.subVectors(e,this.origin);const n=t.dot(this.direction);return n<0?t.copy(this.origin):t.copy(this.origin).addScaledVector(this.direction,n)}distanceToPoint(e){return Math.sqrt(this.distanceSqToPoint(e))}distanceSqToPoint(e){const t=xu.subVectors(e,this.origin).dot(this.direction);return t<0?this.origin.distanceToSquared(e):(xu.copy(this.origin).addScaledVector(this.direction,t),xu.distanceToSquared(e))}distanceSqToSegment(e,t,n,r){vM.copy(e).add(t).multiplyScalar(.5),fb.copy(t).sub(e).normalize(),jf.copy(this.origin).sub(vM);const a=e.distanceTo(t)*.5,s=-this.direction.dot(fb),l=jf.dot(this.direction),u=-jf.dot(fb),f=jf.lengthSq(),p=Math.abs(1-s*s);let g,v,_,S;if(p>0)if(g=s*u-l,v=s*l-u,S=a*p,g>=0)if(v>=-S)if(v<=S){const w=1/p;g*=w,v*=w,_=g*(g+s*v+2*l)+v*(s*g+v+2*u)+f}else v=a,g=Math.max(0,-(s*v+l)),_=-g*g+v*(v+2*u)+f;else v=-a,g=Math.max(0,-(s*v+l)),_=-g*g+v*(v+2*u)+f;else v<=-S?(g=Math.max(0,-(-s*a+l)),v=g>0?-a:Math.min(Math.max(-a,-u),a),_=-g*g+v*(v+2*u)+f):v<=S?(g=0,v=Math.min(Math.max(-a,-u),a),_=v*(v+2*u)+f):(g=Math.max(0,-(s*a+l)),v=g>0?a:Math.min(Math.max(-a,-u),a),_=-g*g+v*(v+2*u)+f);else v=s>0?-a:a,g=Math.max(0,-(s*v+l)),_=-g*g+v*(v+2*u)+f;return n&&n.copy(this.origin).addScaledVector(this.direction,g),r&&r.copy(vM).addScaledVector(fb,v),_}intersectSphere(e,t){xu.subVectors(e.center,this.origin);const n=xu.dot(this.direction),r=xu.dot(xu)-n*n,a=e.radius*e.radius;if(r>a)return null;const s=Math.sqrt(a-r),l=n-s,u=n+s;return u<0?null:l<0?this.at(u,t):this.at(l,t)}intersectsSphere(e){return e.radius<0?!1:this.distanceSqToPoint(e.center)<=e.radius*e.radius}distanceToPlane(e){const t=e.normal.dot(this.direction);if(t===0)return e.distanceToPoint(this.origin)===0?0:null;const n=-(this.origin.dot(e.normal)+e.constant)/t;return n>=0?n:null}intersectPlane(e,t){const n=this.distanceToPlane(e);return n===null?null:this.at(n,t)}intersectsPlane(e){const t=e.distanceToPoint(this.origin);return t===0||e.normal.dot(this.direction)*t<0}intersectBox(e,t){let n,r,a,s,l,u;const f=1/this.direction.x,p=1/this.direction.y,g=1/this.direction.z,v=this.origin;return f>=0?(n=(e.min.x-v.x)*f,r=(e.max.x-v.x)*f):(n=(e.max.x-v.x)*f,r=(e.min.x-v.x)*f),p>=0?(a=(e.min.y-v.y)*p,s=(e.max.y-v.y)*p):(a=(e.max.y-v.y)*p,s=(e.min.y-v.y)*p),n>s||a>r||((a>n||isNaN(n))&&(n=a),(s<r||isNaN(r))&&(r=s),g>=0?(l=(e.min.z-v.z)*g,u=(e.max.z-v.z)*g):(l=(e.max.z-v.z)*g,u=(e.min.z-v.z)*g),n>u||l>r)||((l>n||n!==n)&&(n=l),(u<r||r!==r)&&(r=u),r<0)?null:this.at(n>=0?n:r,t)}intersectsBox(e){return this.intersectBox(e,xu)!==null}intersectTriangle(e,t,n,r,a){yM.subVectors(t,e),hb.subVectors(n,e),_M.crossVectors(yM,hb);let s=this.direction.dot(_M),l;if(s>0){if(r)return null;l=1}else if(s<0)l=-1,s=-s;else return null;jf.subVectors(this.origin,e);const u=l*this.direction.dot(hb.crossVectors(jf,hb));if(u<0)return null;const f=l*this.direction.dot(yM.cross(jf));if(f<0||u+f>s)return null;const p=-l*jf.dot(_M);return p<0?null:this.at(p/s,a)}applyMatrix4(e){return this.origin.applyMatrix4(e),this.direction.transformDirection(e),this}equals(e){return e.origin.equals(this.origin)&&e.direction.equals(this.direction)}clone(){return new this.constructor().copy(this)}}class gn{constructor(e,t,n,r,a,s,l,u,f,p,g,v,_,S,w,E){gn.prototype.isMatrix4=!0,this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],e!==void 0&&this.set(e,t,n,r,a,s,l,u,f,p,g,v,_,S,w,E)}set(e,t,n,r,a,s,l,u,f,p,g,v,_,S,w,E){const b=this.elements;return b[0]=e,b[4]=t,b[8]=n,b[12]=r,b[1]=a,b[5]=s,b[9]=l,b[13]=u,b[2]=f,b[6]=p,b[10]=g,b[14]=v,b[3]=_,b[7]=S,b[11]=w,b[15]=E,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return new gn().fromArray(this.elements)}copy(e){const t=this.elements,n=e.elements;return t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[3],t[4]=n[4],t[5]=n[5],t[6]=n[6],t[7]=n[7],t[8]=n[8],t[9]=n[9],t[10]=n[10],t[11]=n[11],t[12]=n[12],t[13]=n[13],t[14]=n[14],t[15]=n[15],this}copyPosition(e){const t=this.elements,n=e.elements;return t[12]=n[12],t[13]=n[13],t[14]=n[14],this}setFromMatrix3(e){const t=e.elements;return this.set(t[0],t[3],t[6],0,t[1],t[4],t[7],0,t[2],t[5],t[8],0,0,0,0,1),this}extractBasis(e,t,n){return e.setFromMatrixColumn(this,0),t.setFromMatrixColumn(this,1),n.setFromMatrixColumn(this,2),this}makeBasis(e,t,n){return this.set(e.x,t.x,n.x,0,e.y,t.y,n.y,0,e.z,t.z,n.z,0,0,0,0,1),this}extractRotation(e){const t=this.elements,n=e.elements,r=1/Jm.setFromMatrixColumn(e,0).length(),a=1/Jm.setFromMatrixColumn(e,1).length(),s=1/Jm.setFromMatrixColumn(e,2).length();return t[0]=n[0]*r,t[1]=n[1]*r,t[2]=n[2]*r,t[3]=0,t[4]=n[4]*a,t[5]=n[5]*a,t[6]=n[6]*a,t[7]=0,t[8]=n[8]*s,t[9]=n[9]*s,t[10]=n[10]*s,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}makeRotationFromEuler(e){const t=this.elements,n=e.x,r=e.y,a=e.z,s=Math.cos(n),l=Math.sin(n),u=Math.cos(r),f=Math.sin(r),p=Math.cos(a),g=Math.sin(a);if(e.order==="XYZ"){const v=s*p,_=s*g,S=l*p,w=l*g;t[0]=u*p,t[4]=-u*g,t[8]=f,t[1]=_+S*f,t[5]=v-w*f,t[9]=-l*u,t[2]=w-v*f,t[6]=S+_*f,t[10]=s*u}else if(e.order==="YXZ"){const v=u*p,_=u*g,S=f*p,w=f*g;t[0]=v+w*l,t[4]=S*l-_,t[8]=s*f,t[1]=s*g,t[5]=s*p,t[9]=-l,t[2]=_*l-S,t[6]=w+v*l,t[10]=s*u}else if(e.order==="ZXY"){const v=u*p,_=u*g,S=f*p,w=f*g;t[0]=v-w*l,t[4]=-s*g,t[8]=S+_*l,t[1]=_+S*l,t[5]=s*p,t[9]=w-v*l,t[2]=-s*f,t[6]=l,t[10]=s*u}else if(e.order==="ZYX"){const v=s*p,_=s*g,S=l*p,w=l*g;t[0]=u*p,t[4]=S*f-_,t[8]=v*f+w,t[1]=u*g,t[5]=w*f+v,t[9]=_*f-S,t[2]=-f,t[6]=l*u,t[10]=s*u}else if(e.order==="YZX"){const v=s*u,_=s*f,S=l*u,w=l*f;t[0]=u*p,t[4]=w-v*g,t[8]=S*g+_,t[1]=g,t[5]=s*p,t[9]=-l*p,t[2]=-f*p,t[6]=_*g+S,t[10]=v-w*g}else if(e.order==="XZY"){const v=s*u,_=s*f,S=l*u,w=l*f;t[0]=u*p,t[4]=-g,t[8]=f*p,t[1]=v*g+w,t[5]=s*p,t[9]=_*g-S,t[2]=S*g-_,t[6]=l*p,t[10]=w*g+v}return t[3]=0,t[7]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}makeRotationFromQuaternion(e){return this.compose(DW,e,OW)}lookAt(e,t,n){const r=this.elements;return ro.subVectors(e,t),ro.lengthSq()===0&&(ro.z=1),ro.normalize(),Gf.crossVectors(n,ro),Gf.lengthSq()===0&&(Math.abs(n.z)===1?ro.x+=1e-4:ro.z+=1e-4,ro.normalize(),Gf.crossVectors(n,ro)),Gf.normalize(),db.crossVectors(ro,Gf),r[0]=Gf.x,r[4]=db.x,r[8]=ro.x,r[1]=Gf.y,r[5]=db.y,r[9]=ro.y,r[2]=Gf.z,r[6]=db.z,r[10]=ro.z,this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,t){const n=e.elements,r=t.elements,a=this.elements,s=n[0],l=n[4],u=n[8],f=n[12],p=n[1],g=n[5],v=n[9],_=n[13],S=n[2],w=n[6],E=n[10],b=n[14],R=n[3],C=n[7],A=n[11],N=n[15],L=r[0],B=r[4],U=r[8],P=r[12],z=r[1],X=r[5],te=r[9],se=r[13],ae=r[2],ue=r[6],G=r[10],Y=r[14],Q=r[3],ye=r[7],F=r[11],fe=r[15];return a[0]=s*L+l*z+u*ae+f*Q,a[4]=s*B+l*X+u*ue+f*ye,a[8]=s*U+l*te+u*G+f*F,a[12]=s*P+l*se+u*Y+f*fe,a[1]=p*L+g*z+v*ae+_*Q,a[5]=p*B+g*X+v*ue+_*ye,a[9]=p*U+g*te+v*G+_*F,a[13]=p*P+g*se+v*Y+_*fe,a[2]=S*L+w*z+E*ae+b*Q,a[6]=S*B+w*X+E*ue+b*ye,a[10]=S*U+w*te+E*G+b*F,a[14]=S*P+w*se+E*Y+b*fe,a[3]=R*L+C*z+A*ae+N*Q,a[7]=R*B+C*X+A*ue+N*ye,a[11]=R*U+C*te+A*G+N*F,a[15]=R*P+C*se+A*Y+N*fe,this}multiplyScalar(e){const t=this.elements;return t[0]*=e,t[4]*=e,t[8]*=e,t[12]*=e,t[1]*=e,t[5]*=e,t[9]*=e,t[13]*=e,t[2]*=e,t[6]*=e,t[10]*=e,t[14]*=e,t[3]*=e,t[7]*=e,t[11]*=e,t[15]*=e,this}determinant(){const e=this.elements,t=e[0],n=e[4],r=e[8],a=e[12],s=e[1],l=e[5],u=e[9],f=e[13],p=e[2],g=e[6],v=e[10],_=e[14],S=e[3],w=e[7],E=e[11],b=e[15];return S*(+a*u*g-r*f*g-a*l*v+n*f*v+r*l*_-n*u*_)+w*(+t*u*_-t*f*v+a*s*v-r*s*_+r*f*p-a*u*p)+E*(+t*f*g-t*l*_-a*s*g+n*s*_+a*l*p-n*f*p)+b*(-r*l*p-t*u*g+t*l*v+r*s*g-n*s*v+n*u*p)}transpose(){const e=this.elements;let t;return t=e[1],e[1]=e[4],e[4]=t,t=e[2],e[2]=e[8],e[8]=t,t=e[6],e[6]=e[9],e[9]=t,t=e[3],e[3]=e[12],e[12]=t,t=e[7],e[7]=e[13],e[13]=t,t=e[11],e[11]=e[14],e[14]=t,this}setPosition(e,t,n){const r=this.elements;return e.isVector3?(r[12]=e.x,r[13]=e.y,r[14]=e.z):(r[12]=e,r[13]=t,r[14]=n),this}invert(){const e=this.elements,t=e[0],n=e[1],r=e[2],a=e[3],s=e[4],l=e[5],u=e[6],f=e[7],p=e[8],g=e[9],v=e[10],_=e[11],S=e[12],w=e[13],E=e[14],b=e[15],R=g*E*f-w*v*f+w*u*_-l*E*_-g*u*b+l*v*b,C=S*v*f-p*E*f-S*u*_+s*E*_+p*u*b-s*v*b,A=p*w*f-S*g*f+S*l*_-s*w*_-p*l*b+s*g*b,N=S*g*u-p*w*u-S*l*v+s*w*v+p*l*E-s*g*E,L=t*R+n*C+r*A+a*N;if(L===0)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);const B=1/L;return e[0]=R*B,e[1]=(w*v*a-g*E*a-w*r*_+n*E*_+g*r*b-n*v*b)*B,e[2]=(l*E*a-w*u*a+w*r*f-n*E*f-l*r*b+n*u*b)*B,e[3]=(g*u*a-l*v*a-g*r*f+n*v*f+l*r*_-n*u*_)*B,e[4]=C*B,e[5]=(p*E*a-S*v*a+S*r*_-t*E*_-p*r*b+t*v*b)*B,e[6]=(S*u*a-s*E*a-S*r*f+t*E*f+s*r*b-t*u*b)*B,e[7]=(s*v*a-p*u*a+p*r*f-t*v*f-s*r*_+t*u*_)*B,e[8]=A*B,e[9]=(S*g*a-p*w*a-S*n*_+t*w*_+p*n*b-t*g*b)*B,e[10]=(s*w*a-S*l*a+S*n*f-t*w*f-s*n*b+t*l*b)*B,e[11]=(p*l*a-s*g*a-p*n*f+t*g*f+s*n*_-t*l*_)*B,e[12]=N*B,e[13]=(p*w*r-S*g*r+S*n*v-t*w*v-p*n*E+t*g*E)*B,e[14]=(S*l*r-s*w*r-S*n*u+t*w*u+s*n*E-t*l*E)*B,e[15]=(s*g*r-p*l*r+p*n*u-t*g*u-s*n*v+t*l*v)*B,this}scale(e){const t=this.elements,n=e.x,r=e.y,a=e.z;return t[0]*=n,t[4]*=r,t[8]*=a,t[1]*=n,t[5]*=r,t[9]*=a,t[2]*=n,t[6]*=r,t[10]*=a,t[3]*=n,t[7]*=r,t[11]*=a,this}getMaxScaleOnAxis(){const e=this.elements,t=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],n=e[4]*e[4]+e[5]*e[5]+e[6]*e[6],r=e[8]*e[8]+e[9]*e[9]+e[10]*e[10];return Math.sqrt(Math.max(t,n,r))}makeTranslation(e,t,n){return e.isVector3?this.set(1,0,0,e.x,0,1,0,e.y,0,0,1,e.z,0,0,0,1):this.set(1,0,0,e,0,1,0,t,0,0,1,n,0,0,0,1),this}makeRotationX(e){const t=Math.cos(e),n=Math.sin(e);return this.set(1,0,0,0,0,t,-n,0,0,n,t,0,0,0,0,1),this}makeRotationY(e){const t=Math.cos(e),n=Math.sin(e);return this.set(t,0,n,0,0,1,0,0,-n,0,t,0,0,0,0,1),this}makeRotationZ(e){const t=Math.cos(e),n=Math.sin(e);return this.set(t,-n,0,0,n,t,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(e,t){const n=Math.cos(t),r=Math.sin(t),a=1-n,s=e.x,l=e.y,u=e.z,f=a*s,p=a*l;return this.set(f*s+n,f*l-r*u,f*u+r*l,0,f*l+r*u,p*l+n,p*u-r*s,0,f*u-r*l,p*u+r*s,a*u*u+n,0,0,0,0,1),this}makeScale(e,t,n){return this.set(e,0,0,0,0,t,0,0,0,0,n,0,0,0,0,1),this}makeShear(e,t,n,r,a,s){return this.set(1,n,a,0,e,1,s,0,t,r,1,0,0,0,0,1),this}compose(e,t,n){const r=this.elements,a=t._x,s=t._y,l=t._z,u=t._w,f=a+a,p=s+s,g=l+l,v=a*f,_=a*p,S=a*g,w=s*p,E=s*g,b=l*g,R=u*f,C=u*p,A=u*g,N=n.x,L=n.y,B=n.z;return r[0]=(1-(w+b))*N,r[1]=(_+A)*N,r[2]=(S-C)*N,r[3]=0,r[4]=(_-A)*L,r[5]=(1-(v+b))*L,r[6]=(E+R)*L,r[7]=0,r[8]=(S+C)*B,r[9]=(E-R)*B,r[10]=(1-(v+w))*B,r[11]=0,r[12]=e.x,r[13]=e.y,r[14]=e.z,r[15]=1,this}decompose(e,t,n){const r=this.elements;let a=Jm.set(r[0],r[1],r[2]).length();const s=Jm.set(r[4],r[5],r[6]).length(),l=Jm.set(r[8],r[9],r[10]).length();this.determinant()<0&&(a=-a),e.x=r[12],e.y=r[13],e.z=r[14],Ml.copy(this);const f=1/a,p=1/s,g=1/l;return Ml.elements[0]*=f,Ml.elements[1]*=f,Ml.elements[2]*=f,Ml.elements[4]*=p,Ml.elements[5]*=p,Ml.elements[6]*=p,Ml.elements[8]*=g,Ml.elements[9]*=g,Ml.elements[10]*=g,t.setFromRotationMatrix(Ml),n.x=a,n.y=s,n.z=l,this}makePerspective(e,t,n,r,a,s,l=po,u=!1){const f=this.elements,p=2*a/(t-e),g=2*a/(n-r),v=(t+e)/(t-e),_=(n+r)/(n-r);let S,w;if(u)S=a/(s-a),w=s*a/(s-a);else if(l===po)S=-(s+a)/(s-a),w=-2*s*a/(s-a);else if(l===sg)S=-s/(s-a),w=-s*a/(s-a);else throw new Error("THREE.Matrix4.makePerspective(): Invalid coordinate system: "+l);return f[0]=p,f[4]=0,f[8]=v,f[12]=0,f[1]=0,f[5]=g,f[9]=_,f[13]=0,f[2]=0,f[6]=0,f[10]=S,f[14]=w,f[3]=0,f[7]=0,f[11]=-1,f[15]=0,this}makeOrthographic(e,t,n,r,a,s,l=po,u=!1){const f=this.elements,p=2/(t-e),g=2/(n-r),v=-(t+e)/(t-e),_=-(n+r)/(n-r);let S,w;if(u)S=1/(s-a),w=s/(s-a);else if(l===po)S=-2/(s-a),w=-(s+a)/(s-a);else if(l===sg)S=-1/(s-a),w=-a/(s-a);else throw new Error("THREE.Matrix4.makeOrthographic(): Invalid coordinate system: "+l);return f[0]=p,f[4]=0,f[8]=0,f[12]=v,f[1]=0,f[5]=g,f[9]=0,f[13]=_,f[2]=0,f[6]=0,f[10]=S,f[14]=w,f[3]=0,f[7]=0,f[11]=0,f[15]=1,this}equals(e){const t=this.elements,n=e.elements;for(let r=0;r<16;r++)if(t[r]!==n[r])return!1;return!0}fromArray(e,t=0){for(let n=0;n<16;n++)this.elements[n]=e[n+t];return this}toArray(e=[],t=0){const n=this.elements;return e[t]=n[0],e[t+1]=n[1],e[t+2]=n[2],e[t+3]=n[3],e[t+4]=n[4],e[t+5]=n[5],e[t+6]=n[6],e[t+7]=n[7],e[t+8]=n[8],e[t+9]=n[9],e[t+10]=n[10],e[t+11]=n[11],e[t+12]=n[12],e[t+13]=n[13],e[t+14]=n[14],e[t+15]=n[15],e}}const Jm=new le,Ml=new gn,DW=new le(0,0,0),OW=new le(1,1,1),Gf=new le,db=new le,ro=new le,LO=new gn,UO=new js;class xo{constructor(e=0,t=0,n=0,r=xo.DEFAULT_ORDER){this.isEuler=!0,this._x=e,this._y=t,this._z=n,this._order=r}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get order(){return this._order}set order(e){this._order=e,this._onChangeCallback()}set(e,t,n,r=this._order){return this._x=e,this._y=t,this._z=n,this._order=r,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(e){return this._x=e._x,this._y=e._y,this._z=e._z,this._order=e._order,this._onChangeCallback(),this}setFromRotationMatrix(e,t=this._order,n=!0){const r=e.elements,a=r[0],s=r[4],l=r[8],u=r[1],f=r[5],p=r[9],g=r[2],v=r[6],_=r[10];switch(t){case"XYZ":this._y=Math.asin(dn(l,-1,1)),Math.abs(l)<.9999999?(this._x=Math.atan2(-p,_),this._z=Math.atan2(-s,a)):(this._x=Math.atan2(v,f),this._z=0);break;case"YXZ":this._x=Math.asin(-dn(p,-1,1)),Math.abs(p)<.9999999?(this._y=Math.atan2(l,_),this._z=Math.atan2(u,f)):(this._y=Math.atan2(-g,a),this._z=0);break;case"ZXY":this._x=Math.asin(dn(v,-1,1)),Math.abs(v)<.9999999?(this._y=Math.atan2(-g,_),this._z=Math.atan2(-s,f)):(this._y=0,this._z=Math.atan2(u,a));break;case"ZYX":this._y=Math.asin(-dn(g,-1,1)),Math.abs(g)<.9999999?(this._x=Math.atan2(v,_),this._z=Math.atan2(u,a)):(this._x=0,this._z=Math.atan2(-s,f));break;case"YZX":this._z=Math.asin(dn(u,-1,1)),Math.abs(u)<.9999999?(this._x=Math.atan2(-p,f),this._y=Math.atan2(-g,a)):(this._x=0,this._y=Math.atan2(l,_));break;case"XZY":this._z=Math.asin(-dn(s,-1,1)),Math.abs(s)<.9999999?(this._x=Math.atan2(v,f),this._y=Math.atan2(l,a)):(this._x=Math.atan2(-p,_),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+t)}return this._order=t,n===!0&&this._onChangeCallback(),this}setFromQuaternion(e,t,n){return LO.makeRotationFromQuaternion(e),this.setFromRotationMatrix(LO,t,n)}setFromVector3(e,t=this._order){return this.set(e.x,e.y,e.z,t)}reorder(e){return UO.setFromEuler(this),this.setFromQuaternion(UO,e)}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._order===this._order}fromArray(e){return this._x=e[0],this._y=e[1],this._z=e[2],e[3]!==void 0&&(this._order=e[3]),this._onChangeCallback(),this}toArray(e=[],t=0){return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._order,e}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._order}}xo.DEFAULT_ORDER="XYZ";let lg=class{constructor(){this.mask=1}set(e){this.mask=(1<<e|0)>>>0}enable(e){this.mask|=1<<e|0}enableAll(){this.mask=-1}toggle(e){this.mask^=1<<e|0}disable(e){this.mask&=~(1<<e|0)}disableAll(){this.mask=0}test(e){return(this.mask&e.mask)!==0}isEnabled(e){return(this.mask&(1<<e|0))!==0}},NW=0;const IO=new le,Qm=new js,bu=new gn,pb=new le,Qv=new le,PW=new le,LW=new js,BO=new le(1,0,0),zO=new le(0,1,0),kO=new le(0,0,1),FO={type:"added"},UW={type:"removed"},e0={type:"childadded",child:null},xM={type:"childremoved",child:null};class ai extends Xc{constructor(){super(),this.isObject3D=!0,Object.defineProperty(this,"id",{value:NW++}),this.uuid=go(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=ai.DEFAULT_UP.clone();const e=new le,t=new xo,n=new js,r=new le(1,1,1);function a(){n.setFromEuler(t,!1)}function s(){t.setFromQuaternion(n,void 0,!1)}t._onChange(a),n._onChange(s),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:e},rotation:{configurable:!0,enumerable:!0,value:t},quaternion:{configurable:!0,enumerable:!0,value:n},scale:{configurable:!0,enumerable:!0,value:r},modelViewMatrix:{value:new gn},normalMatrix:{value:new Mn}}),this.matrix=new gn,this.matrixWorld=new gn,this.matrixAutoUpdate=ai.DEFAULT_MATRIX_AUTO_UPDATE,this.matrixWorldAutoUpdate=ai.DEFAULT_MATRIX_WORLD_AUTO_UPDATE,this.matrixWorldNeedsUpdate=!1,this.layers=new lg,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.customDepthMaterial=void 0,this.customDistanceMaterial=void 0,this.userData={}}onBeforeShadow(){}onAfterShadow(){}onBeforeRender(){}onAfterRender(){}applyMatrix4(e){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(e),this.matrix.decompose(this.position,this.quaternion,this.scale)}applyQuaternion(e){return this.quaternion.premultiply(e),this}setRotationFromAxisAngle(e,t){this.quaternion.setFromAxisAngle(e,t)}setRotationFromEuler(e){this.quaternion.setFromEuler(e,!0)}setRotationFromMatrix(e){this.quaternion.setFromRotationMatrix(e)}setRotationFromQuaternion(e){this.quaternion.copy(e)}rotateOnAxis(e,t){return Qm.setFromAxisAngle(e,t),this.quaternion.multiply(Qm),this}rotateOnWorldAxis(e,t){return Qm.setFromAxisAngle(e,t),this.quaternion.premultiply(Qm),this}rotateX(e){return this.rotateOnAxis(BO,e)}rotateY(e){return this.rotateOnAxis(zO,e)}rotateZ(e){return this.rotateOnAxis(kO,e)}translateOnAxis(e,t){return IO.copy(e).applyQuaternion(this.quaternion),this.position.add(IO.multiplyScalar(t)),this}translateX(e){return this.translateOnAxis(BO,e)}translateY(e){return this.translateOnAxis(zO,e)}translateZ(e){return this.translateOnAxis(kO,e)}localToWorld(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(this.matrixWorld)}worldToLocal(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(bu.copy(this.matrixWorld).invert())}lookAt(e,t,n){e.isVector3?pb.copy(e):pb.set(e,t,n);const r=this.parent;this.updateWorldMatrix(!0,!1),Qv.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?bu.lookAt(Qv,pb,this.up):bu.lookAt(pb,Qv,this.up),this.quaternion.setFromRotationMatrix(bu),r&&(bu.extractRotation(r.matrixWorld),Qm.setFromRotationMatrix(bu),this.quaternion.premultiply(Qm.invert()))}add(e){if(arguments.length>1){for(let t=0;t<arguments.length;t++)this.add(arguments[t]);return this}return e===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",e),this):(e&&e.isObject3D?(e.removeFromParent(),e.parent=this,this.children.push(e),e.dispatchEvent(FO),e0.child=e,this.dispatchEvent(e0),e0.child=null):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",e),this)}remove(e){if(arguments.length>1){for(let n=0;n<arguments.length;n++)this.remove(arguments[n]);return this}const t=this.children.indexOf(e);return t!==-1&&(e.parent=null,this.children.splice(t,1),e.dispatchEvent(UW),xM.child=e,this.dispatchEvent(xM),xM.child=null),this}removeFromParent(){const e=this.parent;return e!==null&&e.remove(this),this}clear(){return this.remove(...this.children)}attach(e){return this.updateWorldMatrix(!0,!1),bu.copy(this.matrixWorld).invert(),e.parent!==null&&(e.parent.updateWorldMatrix(!0,!1),bu.multiply(e.parent.matrixWorld)),e.applyMatrix4(bu),e.removeFromParent(),e.parent=this,this.children.push(e),e.updateWorldMatrix(!1,!0),e.dispatchEvent(FO),e0.child=e,this.dispatchEvent(e0),e0.child=null,this}getObjectById(e){return this.getObjectByProperty("id",e)}getObjectByName(e){return this.getObjectByProperty("name",e)}getObjectByProperty(e,t){if(this[e]===t)return this;for(let n=0,r=this.children.length;n<r;n++){const s=this.children[n].getObjectByProperty(e,t);if(s!==void 0)return s}}getObjectsByProperty(e,t,n=[]){this[e]===t&&n.push(this);const r=this.children;for(let a=0,s=r.length;a<s;a++)r[a].getObjectsByProperty(e,t,n);return n}getWorldPosition(e){return this.updateWorldMatrix(!0,!1),e.setFromMatrixPosition(this.matrixWorld)}getWorldQuaternion(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(Qv,e,PW),e}getWorldScale(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(Qv,LW,e),e}getWorldDirection(e){this.updateWorldMatrix(!0,!1);const t=this.matrixWorld.elements;return e.set(t[8],t[9],t[10]).normalize()}raycast(){}traverse(e){e(this);const t=this.children;for(let n=0,r=t.length;n<r;n++)t[n].traverse(e)}traverseVisible(e){if(this.visible===!1)return;e(this);const t=this.children;for(let n=0,r=t.length;n<r;n++)t[n].traverseVisible(e)}traverseAncestors(e){const t=this.parent;t!==null&&(e(t),t.traverseAncestors(e))}updateMatrix(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}updateMatrixWorld(e){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||e)&&(this.matrixWorldAutoUpdate===!0&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix)),this.matrixWorldNeedsUpdate=!1,e=!0);const t=this.children;for(let n=0,r=t.length;n<r;n++)t[n].updateMatrixWorld(e)}updateWorldMatrix(e,t){const n=this.parent;if(e===!0&&n!==null&&n.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),this.matrixWorldAutoUpdate===!0&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix)),t===!0){const r=this.children;for(let a=0,s=r.length;a<s;a++)r[a].updateWorldMatrix(!1,!0)}}toJSON(e){const t=e===void 0||typeof e=="string",n={};t&&(e={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{},nodes:{}},n.metadata={version:4.7,type:"Object",generator:"Object3D.toJSON"});const r={};r.uuid=this.uuid,r.type=this.type,this.name!==""&&(r.name=this.name),this.castShadow===!0&&(r.castShadow=!0),this.receiveShadow===!0&&(r.receiveShadow=!0),this.visible===!1&&(r.visible=!1),this.frustumCulled===!1&&(r.frustumCulled=!1),this.renderOrder!==0&&(r.renderOrder=this.renderOrder),Object.keys(this.userData).length>0&&(r.userData=this.userData),r.layers=this.layers.mask,r.matrix=this.matrix.toArray(),r.up=this.up.toArray(),this.matrixAutoUpdate===!1&&(r.matrixAutoUpdate=!1),this.isInstancedMesh&&(r.type="InstancedMesh",r.count=this.count,r.instanceMatrix=this.instanceMatrix.toJSON(),this.instanceColor!==null&&(r.instanceColor=this.instanceColor.toJSON())),this.isBatchedMesh&&(r.type="BatchedMesh",r.perObjectFrustumCulled=this.perObjectFrustumCulled,r.sortObjects=this.sortObjects,r.drawRanges=this._drawRanges,r.reservedRanges=this._reservedRanges,r.geometryInfo=this._geometryInfo.map(l=>({...l,boundingBox:l.boundingBox?l.boundingBox.toJSON():void 0,boundingSphere:l.boundingSphere?l.boundingSphere.toJSON():void 0})),r.instanceInfo=this._instanceInfo.map(l=>({...l})),r.availableInstanceIds=this._availableInstanceIds.slice(),r.availableGeometryIds=this._availableGeometryIds.slice(),r.nextIndexStart=this._nextIndexStart,r.nextVertexStart=this._nextVertexStart,r.geometryCount=this._geometryCount,r.maxInstanceCount=this._maxInstanceCount,r.maxVertexCount=this._maxVertexCount,r.maxIndexCount=this._maxIndexCount,r.geometryInitialized=this._geometryInitialized,r.matricesTexture=this._matricesTexture.toJSON(e),r.indirectTexture=this._indirectTexture.toJSON(e),this._colorsTexture!==null&&(r.colorsTexture=this._colorsTexture.toJSON(e)),this.boundingSphere!==null&&(r.boundingSphere=this.boundingSphere.toJSON()),this.boundingBox!==null&&(r.boundingBox=this.boundingBox.toJSON()));function a(l,u){return l[u.uuid]===void 0&&(l[u.uuid]=u.toJSON(e)),u.uuid}if(this.isScene)this.background&&(this.background.isColor?r.background=this.background.toJSON():this.background.isTexture&&(r.background=this.background.toJSON(e).uuid)),this.environment&&this.environment.isTexture&&this.environment.isRenderTargetTexture!==!0&&(r.environment=this.environment.toJSON(e).uuid);else if(this.isMesh||this.isLine||this.isPoints){r.geometry=a(e.geometries,this.geometry);const l=this.geometry.parameters;if(l!==void 0&&l.shapes!==void 0){const u=l.shapes;if(Array.isArray(u))for(let f=0,p=u.length;f<p;f++){const g=u[f];a(e.shapes,g)}else a(e.shapes,u)}}if(this.isSkinnedMesh&&(r.bindMode=this.bindMode,r.bindMatrix=this.bindMatrix.toArray(),this.skeleton!==void 0&&(a(e.skeletons,this.skeleton),r.skeleton=this.skeleton.uuid)),this.material!==void 0)if(Array.isArray(this.material)){const l=[];for(let u=0,f=this.material.length;u<f;u++)l.push(a(e.materials,this.material[u]));r.material=l}else r.material=a(e.materials,this.material);if(this.children.length>0){r.children=[];for(let l=0;l<this.children.length;l++)r.children.push(this.children[l].toJSON(e).object)}if(this.animations.length>0){r.animations=[];for(let l=0;l<this.animations.length;l++){const u=this.animations[l];r.animations.push(a(e.animations,u))}}if(t){const l=s(e.geometries),u=s(e.materials),f=s(e.textures),p=s(e.images),g=s(e.shapes),v=s(e.skeletons),_=s(e.animations),S=s(e.nodes);l.length>0&&(n.geometries=l),u.length>0&&(n.materials=u),f.length>0&&(n.textures=f),p.length>0&&(n.images=p),g.length>0&&(n.shapes=g),v.length>0&&(n.skeletons=v),_.length>0&&(n.animations=_),S.length>0&&(n.nodes=S)}return n.object=r,n;function s(l){const u=[];for(const f in l){const p=l[f];delete p.metadata,u.push(p)}return u}}clone(e){return new this.constructor().copy(this,e)}copy(e,t=!0){if(this.name=e.name,this.up.copy(e.up),this.position.copy(e.position),this.rotation.order=e.rotation.order,this.quaternion.copy(e.quaternion),this.scale.copy(e.scale),this.matrix.copy(e.matrix),this.matrixWorld.copy(e.matrixWorld),this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrixWorldAutoUpdate=e.matrixWorldAutoUpdate,this.matrixWorldNeedsUpdate=e.matrixWorldNeedsUpdate,this.layers.mask=e.layers.mask,this.visible=e.visible,this.castShadow=e.castShadow,this.receiveShadow=e.receiveShadow,this.frustumCulled=e.frustumCulled,this.renderOrder=e.renderOrder,this.animations=e.animations.slice(),this.userData=JSON.parse(JSON.stringify(e.userData)),t===!0)for(let n=0;n<e.children.length;n++){const r=e.children[n];this.add(r.clone())}return this}}ai.DEFAULT_UP=new le(0,1,0);ai.DEFAULT_MATRIX_AUTO_UPDATE=!0;ai.DEFAULT_MATRIX_WORLD_AUTO_UPDATE=!0;const Tl=new le,Su=new le,bM=new le,wu=new le,t0=new le,n0=new le,HO=new le,SM=new le,wM=new le,EM=new le,MM=new ri,TM=new ri,AM=new ri;class Bs{constructor(e=new le,t=new le,n=new le){this.a=e,this.b=t,this.c=n}static getNormal(e,t,n,r){r.subVectors(n,t),Tl.subVectors(e,t),r.cross(Tl);const a=r.lengthSq();return a>0?r.multiplyScalar(1/Math.sqrt(a)):r.set(0,0,0)}static getBarycoord(e,t,n,r,a){Tl.subVectors(r,t),Su.subVectors(n,t),bM.subVectors(e,t);const s=Tl.dot(Tl),l=Tl.dot(Su),u=Tl.dot(bM),f=Su.dot(Su),p=Su.dot(bM),g=s*f-l*l;if(g===0)return a.set(0,0,0),null;const v=1/g,_=(f*u-l*p)*v,S=(s*p-l*u)*v;return a.set(1-_-S,S,_)}static containsPoint(e,t,n,r){return this.getBarycoord(e,t,n,r,wu)===null?!1:wu.x>=0&&wu.y>=0&&wu.x+wu.y<=1}static getInterpolation(e,t,n,r,a,s,l,u){return this.getBarycoord(e,t,n,r,wu)===null?(u.x=0,u.y=0,"z"in u&&(u.z=0),"w"in u&&(u.w=0),null):(u.setScalar(0),u.addScaledVector(a,wu.x),u.addScaledVector(s,wu.y),u.addScaledVector(l,wu.z),u)}static getInterpolatedAttribute(e,t,n,r,a,s){return MM.setScalar(0),TM.setScalar(0),AM.setScalar(0),MM.fromBufferAttribute(e,t),TM.fromBufferAttribute(e,n),AM.fromBufferAttribute(e,r),s.setScalar(0),s.addScaledVector(MM,a.x),s.addScaledVector(TM,a.y),s.addScaledVector(AM,a.z),s}static isFrontFacing(e,t,n,r){return Tl.subVectors(n,t),Su.subVectors(e,t),Tl.cross(Su).dot(r)<0}set(e,t,n){return this.a.copy(e),this.b.copy(t),this.c.copy(n),this}setFromPointsAndIndices(e,t,n,r){return this.a.copy(e[t]),this.b.copy(e[n]),this.c.copy(e[r]),this}setFromAttributeAndIndices(e,t,n,r){return this.a.fromBufferAttribute(e,t),this.b.fromBufferAttribute(e,n),this.c.fromBufferAttribute(e,r),this}clone(){return new this.constructor().copy(this)}copy(e){return this.a.copy(e.a),this.b.copy(e.b),this.c.copy(e.c),this}getArea(){return Tl.subVectors(this.c,this.b),Su.subVectors(this.a,this.b),Tl.cross(Su).length()*.5}getMidpoint(e){return e.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}getNormal(e){return Bs.getNormal(this.a,this.b,this.c,e)}getPlane(e){return e.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(e,t){return Bs.getBarycoord(e,this.a,this.b,this.c,t)}getInterpolation(e,t,n,r,a){return Bs.getInterpolation(e,this.a,this.b,this.c,t,n,r,a)}containsPoint(e){return Bs.containsPoint(e,this.a,this.b,this.c)}isFrontFacing(e){return Bs.isFrontFacing(this.a,this.b,this.c,e)}intersectsBox(e){return e.intersectsTriangle(this)}closestPointToPoint(e,t){const n=this.a,r=this.b,a=this.c;let s,l;t0.subVectors(r,n),n0.subVectors(a,n),SM.subVectors(e,n);const u=t0.dot(SM),f=n0.dot(SM);if(u<=0&&f<=0)return t.copy(n);wM.subVectors(e,r);const p=t0.dot(wM),g=n0.dot(wM);if(p>=0&&g<=p)return t.copy(r);const v=u*g-p*f;if(v<=0&&u>=0&&p<=0)return s=u/(u-p),t.copy(n).addScaledVector(t0,s);EM.subVectors(e,a);const _=t0.dot(EM),S=n0.dot(EM);if(S>=0&&_<=S)return t.copy(a);const w=_*f-u*S;if(w<=0&&f>=0&&S<=0)return l=f/(f-S),t.copy(n).addScaledVector(n0,l);const E=p*S-_*g;if(E<=0&&g-p>=0&&_-S>=0)return HO.subVectors(a,r),l=(g-p)/(g-p+(_-S)),t.copy(r).addScaledVector(HO,l);const b=1/(E+w+v);return s=w*b,l=v*b,t.copy(n).addScaledVector(t0,s).addScaledVector(n0,l)}equals(e){return e.a.equals(this.a)&&e.b.equals(this.b)&&e.c.equals(this.c)}}const wB={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},Wf={h:0,s:0,l:0},mb={h:0,s:0,l:0};function CM(i,e,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?i+(e-i)*6*t:t<1/2?e:t<2/3?i+(e-i)*6*(2/3-t):i}class Vt{constructor(e,t,n){return this.isColor=!0,this.r=1,this.g=1,this.b=1,this.set(e,t,n)}set(e,t,n){if(t===void 0&&n===void 0){const r=e;r&&r.isColor?this.copy(r):typeof r=="number"?this.setHex(r):typeof r=="string"&&this.setStyle(r)}else this.setRGB(e,t,n);return this}setScalar(e){return this.r=e,this.g=e,this.b=e,this}setHex(e,t=va){return e=Math.floor(e),this.r=(e>>16&255)/255,this.g=(e>>8&255)/255,this.b=(e&255)/255,Qn.colorSpaceToWorking(this,t),this}setRGB(e,t,n,r=Qn.workingColorSpace){return this.r=e,this.g=t,this.b=n,Qn.colorSpaceToWorking(this,r),this}setHSL(e,t,n,r=Qn.workingColorSpace){if(e=VR(e,1),t=dn(t,0,1),n=dn(n,0,1),t===0)this.r=this.g=this.b=n;else{const a=n<=.5?n*(1+t):n+t-n*t,s=2*n-a;this.r=CM(s,a,e+1/3),this.g=CM(s,a,e),this.b=CM(s,a,e-1/3)}return Qn.colorSpaceToWorking(this,r),this}setStyle(e,t=va){function n(a){a!==void 0&&parseFloat(a)<1&&console.warn("THREE.Color: Alpha component of "+e+" will be ignored.")}let r;if(r=/^(\w+)\(([^\)]*)\)/.exec(e)){let a;const s=r[1],l=r[2];switch(s){case"rgb":case"rgba":if(a=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(l))return n(a[4]),this.setRGB(Math.min(255,parseInt(a[1],10))/255,Math.min(255,parseInt(a[2],10))/255,Math.min(255,parseInt(a[3],10))/255,t);if(a=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(l))return n(a[4]),this.setRGB(Math.min(100,parseInt(a[1],10))/100,Math.min(100,parseInt(a[2],10))/100,Math.min(100,parseInt(a[3],10))/100,t);break;case"hsl":case"hsla":if(a=/^\s*(\d*\.?\d+)\s*,\s*(\d*\.?\d+)\%\s*,\s*(\d*\.?\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(l))return n(a[4]),this.setHSL(parseFloat(a[1])/360,parseFloat(a[2])/100,parseFloat(a[3])/100,t);break;default:console.warn("THREE.Color: Unknown color model "+e)}}else if(r=/^\#([A-Fa-f\d]+)$/.exec(e)){const a=r[1],s=a.length;if(s===3)return this.setRGB(parseInt(a.charAt(0),16)/15,parseInt(a.charAt(1),16)/15,parseInt(a.charAt(2),16)/15,t);if(s===6)return this.setHex(parseInt(a,16),t);console.warn("THREE.Color: Invalid hex color "+e)}else if(e&&e.length>0)return this.setColorName(e,t);return this}setColorName(e,t=va){const n=wB[e.toLowerCase()];return n!==void 0?this.setHex(n,t):console.warn("THREE.Color: Unknown color "+e),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(e){return this.r=e.r,this.g=e.g,this.b=e.b,this}copySRGBToLinear(e){return this.r=Uu(e.r),this.g=Uu(e.g),this.b=Uu(e.b),this}copyLinearToSRGB(e){return this.r=j0(e.r),this.g=j0(e.g),this.b=j0(e.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(e=va){return Qn.workingToColorSpace(Na.copy(this),e),Math.round(dn(Na.r*255,0,255))*65536+Math.round(dn(Na.g*255,0,255))*256+Math.round(dn(Na.b*255,0,255))}getHexString(e=va){return("000000"+this.getHex(e).toString(16)).slice(-6)}getHSL(e,t=Qn.workingColorSpace){Qn.workingToColorSpace(Na.copy(this),t);const n=Na.r,r=Na.g,a=Na.b,s=Math.max(n,r,a),l=Math.min(n,r,a);let u,f;const p=(l+s)/2;if(l===s)u=0,f=0;else{const g=s-l;switch(f=p<=.5?g/(s+l):g/(2-s-l),s){case n:u=(r-a)/g+(r<a?6:0);break;case r:u=(a-n)/g+2;break;case a:u=(n-r)/g+4;break}u/=6}return e.h=u,e.s=f,e.l=p,e}getRGB(e,t=Qn.workingColorSpace){return Qn.workingToColorSpace(Na.copy(this),t),e.r=Na.r,e.g=Na.g,e.b=Na.b,e}getStyle(e=va){Qn.workingToColorSpace(Na.copy(this),e);const t=Na.r,n=Na.g,r=Na.b;return e!==va?`color(${e} ${t.toFixed(3)} ${n.toFixed(3)} ${r.toFixed(3)})`:`rgb(${Math.round(t*255)},${Math.round(n*255)},${Math.round(r*255)})`}offsetHSL(e,t,n){return this.getHSL(Wf),this.setHSL(Wf.h+e,Wf.s+t,Wf.l+n)}add(e){return this.r+=e.r,this.g+=e.g,this.b+=e.b,this}addColors(e,t){return this.r=e.r+t.r,this.g=e.g+t.g,this.b=e.b+t.b,this}addScalar(e){return this.r+=e,this.g+=e,this.b+=e,this}sub(e){return this.r=Math.max(0,this.r-e.r),this.g=Math.max(0,this.g-e.g),this.b=Math.max(0,this.b-e.b),this}multiply(e){return this.r*=e.r,this.g*=e.g,this.b*=e.b,this}multiplyScalar(e){return this.r*=e,this.g*=e,this.b*=e,this}lerp(e,t){return this.r+=(e.r-this.r)*t,this.g+=(e.g-this.g)*t,this.b+=(e.b-this.b)*t,this}lerpColors(e,t,n){return this.r=e.r+(t.r-e.r)*n,this.g=e.g+(t.g-e.g)*n,this.b=e.b+(t.b-e.b)*n,this}lerpHSL(e,t){this.getHSL(Wf),e.getHSL(mb);const n=qy(Wf.h,mb.h,t),r=qy(Wf.s,mb.s,t),a=qy(Wf.l,mb.l,t);return this.setHSL(n,r,a),this}setFromVector3(e){return this.r=e.x,this.g=e.y,this.b=e.z,this}applyMatrix3(e){const t=this.r,n=this.g,r=this.b,a=e.elements;return this.r=a[0]*t+a[3]*n+a[6]*r,this.g=a[1]*t+a[4]*n+a[7]*r,this.b=a[2]*t+a[5]*n+a[8]*r,this}equals(e){return e.r===this.r&&e.g===this.g&&e.b===this.b}fromArray(e,t=0){return this.r=e[t],this.g=e[t+1],this.b=e[t+2],this}toArray(e=[],t=0){return e[t]=this.r,e[t+1]=this.g,e[t+2]=this.b,e}fromBufferAttribute(e,t){return this.r=e.getX(t),this.g=e.getY(t),this.b=e.getZ(t),this}toJSON(){return this.getHex()}*[Symbol.iterator](){yield this.r,yield this.g,yield this.b}}const Na=new Vt;Vt.NAMES=wB;let IW=0;class Va extends Xc{constructor(){super(),this.isMaterial=!0,Object.defineProperty(this,"id",{value:IW++}),this.uuid=go(),this.name="",this.type="Material",this.blending=dp,this.side=ku,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.alphaHash=!1,this.blendSrc=$S,this.blendDst=JS,this.blendEquation=th,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.blendColor=new Vt(0,0,0),this.blendAlpha=0,this.depthFunc=Sp,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=WA,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=Wd,this.stencilZFail=Wd,this.stencilZPass=Wd,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaToCoverage=!1,this.premultipliedAlpha=!1,this.forceSinglePass=!1,this.allowOverride=!0,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0,this._alphaTest=0}get alphaTest(){return this._alphaTest}set alphaTest(e){this._alphaTest>0!=e>0&&this.version++,this._alphaTest=e}onBeforeRender(){}onBeforeCompile(){}customProgramCacheKey(){return this.onBeforeCompile.toString()}setValues(e){if(e!==void 0)for(const t in e){const n=e[t];if(n===void 0){console.warn(`THREE.Material: parameter '${t}' has value of undefined.`);continue}const r=this[t];if(r===void 0){console.warn(`THREE.Material: '${t}' is not a property of THREE.${this.type}.`);continue}r&&r.isColor?r.set(n):r&&r.isVector3&&n&&n.isVector3?r.copy(n):this[t]=n}}toJSON(e){const t=e===void 0||typeof e=="string";t&&(e={textures:{},images:{}});const n={metadata:{version:4.7,type:"Material",generator:"Material.toJSON"}};n.uuid=this.uuid,n.type=this.type,this.name!==""&&(n.name=this.name),this.color&&this.color.isColor&&(n.color=this.color.getHex()),this.roughness!==void 0&&(n.roughness=this.roughness),this.metalness!==void 0&&(n.metalness=this.metalness),this.sheen!==void 0&&(n.sheen=this.sheen),this.sheenColor&&this.sheenColor.isColor&&(n.sheenColor=this.sheenColor.getHex()),this.sheenRoughness!==void 0&&(n.sheenRoughness=this.sheenRoughness),this.emissive&&this.emissive.isColor&&(n.emissive=this.emissive.getHex()),this.emissiveIntensity!==void 0&&this.emissiveIntensity!==1&&(n.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(n.specular=this.specular.getHex()),this.specularIntensity!==void 0&&(n.specularIntensity=this.specularIntensity),this.specularColor&&this.specularColor.isColor&&(n.specularColor=this.specularColor.getHex()),this.shininess!==void 0&&(n.shininess=this.shininess),this.clearcoat!==void 0&&(n.clearcoat=this.clearcoat),this.clearcoatRoughness!==void 0&&(n.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(n.clearcoatMap=this.clearcoatMap.toJSON(e).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(n.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(e).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(n.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(e).uuid,n.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),this.dispersion!==void 0&&(n.dispersion=this.dispersion),this.iridescence!==void 0&&(n.iridescence=this.iridescence),this.iridescenceIOR!==void 0&&(n.iridescenceIOR=this.iridescenceIOR),this.iridescenceThicknessRange!==void 0&&(n.iridescenceThicknessRange=this.iridescenceThicknessRange),this.iridescenceMap&&this.iridescenceMap.isTexture&&(n.iridescenceMap=this.iridescenceMap.toJSON(e).uuid),this.iridescenceThicknessMap&&this.iridescenceThicknessMap.isTexture&&(n.iridescenceThicknessMap=this.iridescenceThicknessMap.toJSON(e).uuid),this.anisotropy!==void 0&&(n.anisotropy=this.anisotropy),this.anisotropyRotation!==void 0&&(n.anisotropyRotation=this.anisotropyRotation),this.anisotropyMap&&this.anisotropyMap.isTexture&&(n.anisotropyMap=this.anisotropyMap.toJSON(e).uuid),this.map&&this.map.isTexture&&(n.map=this.map.toJSON(e).uuid),this.matcap&&this.matcap.isTexture&&(n.matcap=this.matcap.toJSON(e).uuid),this.alphaMap&&this.alphaMap.isTexture&&(n.alphaMap=this.alphaMap.toJSON(e).uuid),this.lightMap&&this.lightMap.isTexture&&(n.lightMap=this.lightMap.toJSON(e).uuid,n.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(n.aoMap=this.aoMap.toJSON(e).uuid,n.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(n.bumpMap=this.bumpMap.toJSON(e).uuid,n.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(n.normalMap=this.normalMap.toJSON(e).uuid,n.normalMapType=this.normalMapType,n.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(n.displacementMap=this.displacementMap.toJSON(e).uuid,n.displacementScale=this.displacementScale,n.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(n.roughnessMap=this.roughnessMap.toJSON(e).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(n.metalnessMap=this.metalnessMap.toJSON(e).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(n.emissiveMap=this.emissiveMap.toJSON(e).uuid),this.specularMap&&this.specularMap.isTexture&&(n.specularMap=this.specularMap.toJSON(e).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(n.specularIntensityMap=this.specularIntensityMap.toJSON(e).uuid),this.specularColorMap&&this.specularColorMap.isTexture&&(n.specularColorMap=this.specularColorMap.toJSON(e).uuid),this.envMap&&this.envMap.isTexture&&(n.envMap=this.envMap.toJSON(e).uuid,this.combine!==void 0&&(n.combine=this.combine)),this.envMapRotation!==void 0&&(n.envMapRotation=this.envMapRotation.toArray()),this.envMapIntensity!==void 0&&(n.envMapIntensity=this.envMapIntensity),this.reflectivity!==void 0&&(n.reflectivity=this.reflectivity),this.refractionRatio!==void 0&&(n.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(n.gradientMap=this.gradientMap.toJSON(e).uuid),this.transmission!==void 0&&(n.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(n.transmissionMap=this.transmissionMap.toJSON(e).uuid),this.thickness!==void 0&&(n.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(n.thicknessMap=this.thicknessMap.toJSON(e).uuid),this.attenuationDistance!==void 0&&this.attenuationDistance!==1/0&&(n.attenuationDistance=this.attenuationDistance),this.attenuationColor!==void 0&&(n.attenuationColor=this.attenuationColor.getHex()),this.size!==void 0&&(n.size=this.size),this.shadowSide!==null&&(n.shadowSide=this.shadowSide),this.sizeAttenuation!==void 0&&(n.sizeAttenuation=this.sizeAttenuation),this.blending!==dp&&(n.blending=this.blending),this.side!==ku&&(n.side=this.side),this.vertexColors===!0&&(n.vertexColors=!0),this.opacity<1&&(n.opacity=this.opacity),this.transparent===!0&&(n.transparent=!0),this.blendSrc!==$S&&(n.blendSrc=this.blendSrc),this.blendDst!==JS&&(n.blendDst=this.blendDst),this.blendEquation!==th&&(n.blendEquation=this.blendEquation),this.blendSrcAlpha!==null&&(n.blendSrcAlpha=this.blendSrcAlpha),this.blendDstAlpha!==null&&(n.blendDstAlpha=this.blendDstAlpha),this.blendEquationAlpha!==null&&(n.blendEquationAlpha=this.blendEquationAlpha),this.blendColor&&this.blendColor.isColor&&(n.blendColor=this.blendColor.getHex()),this.blendAlpha!==0&&(n.blendAlpha=this.blendAlpha),this.depthFunc!==Sp&&(n.depthFunc=this.depthFunc),this.depthTest===!1&&(n.depthTest=this.depthTest),this.depthWrite===!1&&(n.depthWrite=this.depthWrite),this.colorWrite===!1&&(n.colorWrite=this.colorWrite),this.stencilWriteMask!==255&&(n.stencilWriteMask=this.stencilWriteMask),this.stencilFunc!==WA&&(n.stencilFunc=this.stencilFunc),this.stencilRef!==0&&(n.stencilRef=this.stencilRef),this.stencilFuncMask!==255&&(n.stencilFuncMask=this.stencilFuncMask),this.stencilFail!==Wd&&(n.stencilFail=this.stencilFail),this.stencilZFail!==Wd&&(n.stencilZFail=this.stencilZFail),this.stencilZPass!==Wd&&(n.stencilZPass=this.stencilZPass),this.stencilWrite===!0&&(n.stencilWrite=this.stencilWrite),this.rotation!==void 0&&this.rotation!==0&&(n.rotation=this.rotation),this.polygonOffset===!0&&(n.polygonOffset=!0),this.polygonOffsetFactor!==0&&(n.polygonOffsetFactor=this.polygonOffsetFactor),this.polygonOffsetUnits!==0&&(n.polygonOffsetUnits=this.polygonOffsetUnits),this.linewidth!==void 0&&this.linewidth!==1&&(n.linewidth=this.linewidth),this.dashSize!==void 0&&(n.dashSize=this.dashSize),this.gapSize!==void 0&&(n.gapSize=this.gapSize),this.scale!==void 0&&(n.scale=this.scale),this.dithering===!0&&(n.dithering=!0),this.alphaTest>0&&(n.alphaTest=this.alphaTest),this.alphaHash===!0&&(n.alphaHash=!0),this.alphaToCoverage===!0&&(n.alphaToCoverage=!0),this.premultipliedAlpha===!0&&(n.premultipliedAlpha=!0),this.forceSinglePass===!0&&(n.forceSinglePass=!0),this.wireframe===!0&&(n.wireframe=!0),this.wireframeLinewidth>1&&(n.wireframeLinewidth=this.wireframeLinewidth),this.wireframeLinecap!=="round"&&(n.wireframeLinecap=this.wireframeLinecap),this.wireframeLinejoin!=="round"&&(n.wireframeLinejoin=this.wireframeLinejoin),this.flatShading===!0&&(n.flatShading=!0),this.visible===!1&&(n.visible=!1),this.toneMapped===!1&&(n.toneMapped=!1),this.fog===!1&&(n.fog=!1),Object.keys(this.userData).length>0&&(n.userData=this.userData);function r(a){const s=[];for(const l in a){const u=a[l];delete u.metadata,s.push(u)}return s}if(t){const a=r(e.textures),s=r(e.images);a.length>0&&(n.textures=a),s.length>0&&(n.images=s)}return n}clone(){return new this.constructor().copy(this)}copy(e){this.name=e.name,this.blending=e.blending,this.side=e.side,this.vertexColors=e.vertexColors,this.opacity=e.opacity,this.transparent=e.transparent,this.blendSrc=e.blendSrc,this.blendDst=e.blendDst,this.blendEquation=e.blendEquation,this.blendSrcAlpha=e.blendSrcAlpha,this.blendDstAlpha=e.blendDstAlpha,this.blendEquationAlpha=e.blendEquationAlpha,this.blendColor.copy(e.blendColor),this.blendAlpha=e.blendAlpha,this.depthFunc=e.depthFunc,this.depthTest=e.depthTest,this.depthWrite=e.depthWrite,this.stencilWriteMask=e.stencilWriteMask,this.stencilFunc=e.stencilFunc,this.stencilRef=e.stencilRef,this.stencilFuncMask=e.stencilFuncMask,this.stencilFail=e.stencilFail,this.stencilZFail=e.stencilZFail,this.stencilZPass=e.stencilZPass,this.stencilWrite=e.stencilWrite;const t=e.clippingPlanes;let n=null;if(t!==null){const r=t.length;n=new Array(r);for(let a=0;a!==r;++a)n[a]=t[a].clone()}return this.clippingPlanes=n,this.clipIntersection=e.clipIntersection,this.clipShadows=e.clipShadows,this.shadowSide=e.shadowSide,this.colorWrite=e.colorWrite,this.precision=e.precision,this.polygonOffset=e.polygonOffset,this.polygonOffsetFactor=e.polygonOffsetFactor,this.polygonOffsetUnits=e.polygonOffsetUnits,this.dithering=e.dithering,this.alphaTest=e.alphaTest,this.alphaHash=e.alphaHash,this.alphaToCoverage=e.alphaToCoverage,this.premultipliedAlpha=e.premultipliedAlpha,this.forceSinglePass=e.forceSinglePass,this.visible=e.visible,this.toneMapped=e.toneMapped,this.userData=JSON.parse(JSON.stringify(e.userData)),this}dispose(){this.dispatchEvent({type:"dispose"})}set needsUpdate(e){e===!0&&this.version++}}class Xu extends Va{constructor(e){super(),this.isMeshBasicMaterial=!0,this.type="MeshBasicMaterial",this.color=new Vt(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new xo,this.combine=q_,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}const Ou=BW();function BW(){const i=new ArrayBuffer(4),e=new Float32Array(i),t=new Uint32Array(i),n=new Uint32Array(512),r=new Uint32Array(512);for(let u=0;u<256;++u){const f=u-127;f<-27?(n[u]=0,n[u|256]=32768,r[u]=24,r[u|256]=24):f<-14?(n[u]=1024>>-f-14,n[u|256]=1024>>-f-14|32768,r[u]=-f-1,r[u|256]=-f-1):f<=15?(n[u]=f+15<<10,n[u|256]=f+15<<10|32768,r[u]=13,r[u|256]=13):f<128?(n[u]=31744,n[u|256]=64512,r[u]=24,r[u|256]=24):(n[u]=31744,n[u|256]=64512,r[u]=13,r[u|256]=13)}const a=new Uint32Array(2048),s=new Uint32Array(64),l=new Uint32Array(64);for(let u=1;u<1024;++u){let f=u<<13,p=0;for(;(f&8388608)===0;)f<<=1,p-=8388608;f&=-8388609,p+=947912704,a[u]=f|p}for(let u=1024;u<2048;++u)a[u]=939524096+(u-1024<<13);for(let u=1;u<31;++u)s[u]=u<<23;s[31]=1199570944,s[32]=2147483648;for(let u=33;u<63;++u)s[u]=2147483648+(u-32<<23);s[63]=3347054592;for(let u=1;u<64;++u)u!==32&&(l[u]=1024);return{floatView:e,uint32View:t,baseTable:n,shiftTable:r,mantissaTable:a,exponentTable:s,offsetTable:l}}function Us(i){Math.abs(i)>65504&&console.warn("THREE.DataUtils.toHalfFloat(): Value out of range."),i=dn(i,-65504,65504),Ou.floatView[0]=i;const e=Ou.uint32View[0],t=e>>23&511;return Ou.baseTable[t]+((e&8388607)>>Ou.shiftTable[t])}function xy(i){const e=i>>10;return Ou.uint32View[0]=Ou.mantissaTable[Ou.offsetTable[e]+(i&1023)]+Ou.exponentTable[e],Ou.floatView[0]}class ep{static toHalfFloat(e){return Us(e)}static fromHalfFloat(e){return xy(e)}}const Cr=new le,gb=new ut;let zW=0;class Ri{constructor(e,t,n=!1){if(Array.isArray(e))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.isBufferAttribute=!0,Object.defineProperty(this,"id",{value:zW++}),this.name="",this.array=e,this.itemSize=t,this.count=e!==void 0?e.length/t:0,this.normalized=n,this.usage=S_,this.updateRanges=[],this.gpuType=rr,this.version=0}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}addUpdateRange(e,t){this.updateRanges.push({start:e,count:t})}clearUpdateRanges(){this.updateRanges.length=0}copy(e){return this.name=e.name,this.array=new e.array.constructor(e.array),this.itemSize=e.itemSize,this.count=e.count,this.normalized=e.normalized,this.usage=e.usage,this.gpuType=e.gpuType,this}copyAt(e,t,n){e*=this.itemSize,n*=t.itemSize;for(let r=0,a=this.itemSize;r<a;r++)this.array[e+r]=t.array[n+r];return this}copyArray(e){return this.array.set(e),this}applyMatrix3(e){if(this.itemSize===2)for(let t=0,n=this.count;t<n;t++)gb.fromBufferAttribute(this,t),gb.applyMatrix3(e),this.setXY(t,gb.x,gb.y);else if(this.itemSize===3)for(let t=0,n=this.count;t<n;t++)Cr.fromBufferAttribute(this,t),Cr.applyMatrix3(e),this.setXYZ(t,Cr.x,Cr.y,Cr.z);return this}applyMatrix4(e){for(let t=0,n=this.count;t<n;t++)Cr.fromBufferAttribute(this,t),Cr.applyMatrix4(e),this.setXYZ(t,Cr.x,Cr.y,Cr.z);return this}applyNormalMatrix(e){for(let t=0,n=this.count;t<n;t++)Cr.fromBufferAttribute(this,t),Cr.applyNormalMatrix(e),this.setXYZ(t,Cr.x,Cr.y,Cr.z);return this}transformDirection(e){for(let t=0,n=this.count;t<n;t++)Cr.fromBufferAttribute(this,t),Cr.transformDirection(e),this.setXYZ(t,Cr.x,Cr.y,Cr.z);return this}set(e,t=0){return this.array.set(e,t),this}getComponent(e,t){let n=this.array[e*this.itemSize+t];return this.normalized&&(n=ms(n,this.array)),n}setComponent(e,t,n){return this.normalized&&(n=Dn(n,this.array)),this.array[e*this.itemSize+t]=n,this}getX(e){let t=this.array[e*this.itemSize];return this.normalized&&(t=ms(t,this.array)),t}setX(e,t){return this.normalized&&(t=Dn(t,this.array)),this.array[e*this.itemSize]=t,this}getY(e){let t=this.array[e*this.itemSize+1];return this.normalized&&(t=ms(t,this.array)),t}setY(e,t){return this.normalized&&(t=Dn(t,this.array)),this.array[e*this.itemSize+1]=t,this}getZ(e){let t=this.array[e*this.itemSize+2];return this.normalized&&(t=ms(t,this.array)),t}setZ(e,t){return this.normalized&&(t=Dn(t,this.array)),this.array[e*this.itemSize+2]=t,this}getW(e){let t=this.array[e*this.itemSize+3];return this.normalized&&(t=ms(t,this.array)),t}setW(e,t){return this.normalized&&(t=Dn(t,this.array)),this.array[e*this.itemSize+3]=t,this}setXY(e,t,n){return e*=this.itemSize,this.normalized&&(t=Dn(t,this.array),n=Dn(n,this.array)),this.array[e+0]=t,this.array[e+1]=n,this}setXYZ(e,t,n,r){return e*=this.itemSize,this.normalized&&(t=Dn(t,this.array),n=Dn(n,this.array),r=Dn(r,this.array)),this.array[e+0]=t,this.array[e+1]=n,this.array[e+2]=r,this}setXYZW(e,t,n,r,a){return e*=this.itemSize,this.normalized&&(t=Dn(t,this.array),n=Dn(n,this.array),r=Dn(r,this.array),a=Dn(a,this.array)),this.array[e+0]=t,this.array[e+1]=n,this.array[e+2]=r,this.array[e+3]=a,this}onUpload(e){return this.onUploadCallback=e,this}clone(){return new this.constructor(this.array,this.itemSize).copy(this)}toJSON(){const e={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.from(this.array),normalized:this.normalized};return this.name!==""&&(e.name=this.name),this.usage!==S_&&(e.usage=this.usage),e}}class kW extends Ri{constructor(e,t,n){super(new Int8Array(e),t,n)}}class FW extends Ri{constructor(e,t,n){super(new Uint8Array(e),t,n)}}class HW extends Ri{constructor(e,t,n){super(new Uint8ClampedArray(e),t,n)}}class VW extends Ri{constructor(e,t,n){super(new Int16Array(e),t,n)}}class GR extends Ri{constructor(e,t,n){super(new Uint16Array(e),t,n)}}class jW extends Ri{constructor(e,t,n){super(new Int32Array(e),t,n)}}class WR extends Ri{constructor(e,t,n){super(new Uint32Array(e),t,n)}}class GW extends Ri{constructor(e,t,n){super(new Uint16Array(e),t,n),this.isFloat16BufferAttribute=!0}getX(e){let t=xy(this.array[e*this.itemSize]);return this.normalized&&(t=ms(t,this.array)),t}setX(e,t){return this.normalized&&(t=Dn(t,this.array)),this.array[e*this.itemSize]=Us(t),this}getY(e){let t=xy(this.array[e*this.itemSize+1]);return this.normalized&&(t=ms(t,this.array)),t}setY(e,t){return this.normalized&&(t=Dn(t,this.array)),this.array[e*this.itemSize+1]=Us(t),this}getZ(e){let t=xy(this.array[e*this.itemSize+2]);return this.normalized&&(t=ms(t,this.array)),t}setZ(e,t){return this.normalized&&(t=Dn(t,this.array)),this.array[e*this.itemSize+2]=Us(t),this}getW(e){let t=xy(this.array[e*this.itemSize+3]);return this.normalized&&(t=ms(t,this.array)),t}setW(e,t){return this.normalized&&(t=Dn(t,this.array)),this.array[e*this.itemSize+3]=Us(t),this}setXY(e,t,n){return e*=this.itemSize,this.normalized&&(t=Dn(t,this.array),n=Dn(n,this.array)),this.array[e+0]=Us(t),this.array[e+1]=Us(n),this}setXYZ(e,t,n,r){return e*=this.itemSize,this.normalized&&(t=Dn(t,this.array),n=Dn(n,this.array),r=Dn(r,this.array)),this.array[e+0]=Us(t),this.array[e+1]=Us(n),this.array[e+2]=Us(r),this}setXYZW(e,t,n,r,a){return e*=this.itemSize,this.normalized&&(t=Dn(t,this.array),n=Dn(n,this.array),r=Dn(r,this.array),a=Dn(a,this.array)),this.array[e+0]=Us(t),this.array[e+1]=Us(n),this.array[e+2]=Us(r),this.array[e+3]=Us(a),this}}class Yt extends Ri{constructor(e,t,n){super(new Float32Array(e),t,n)}}let WW=0;const Fo=new gn,RM=new ai,i0=new le,ao=new Fa,ey=new Fa,ta=new le;class Nn extends Xc{constructor(){super(),this.isBufferGeometry=!0,Object.defineProperty(this,"id",{value:WW++}),this.uuid=go(),this.name="",this.type="BufferGeometry",this.index=null,this.indirect=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}getIndex(){return this.index}setIndex(e){return Array.isArray(e)?this.index=new(xB(e)?WR:GR)(e,1):this.index=e,this}setIndirect(e){return this.indirect=e,this}getIndirect(){return this.indirect}getAttribute(e){return this.attributes[e]}setAttribute(e,t){return this.attributes[e]=t,this}deleteAttribute(e){return delete this.attributes[e],this}hasAttribute(e){return this.attributes[e]!==void 0}addGroup(e,t,n=0){this.groups.push({start:e,count:t,materialIndex:n})}clearGroups(){this.groups=[]}setDrawRange(e,t){this.drawRange.start=e,this.drawRange.count=t}applyMatrix4(e){const t=this.attributes.position;t!==void 0&&(t.applyMatrix4(e),t.needsUpdate=!0);const n=this.attributes.normal;if(n!==void 0){const a=new Mn().getNormalMatrix(e);n.applyNormalMatrix(a),n.needsUpdate=!0}const r=this.attributes.tangent;return r!==void 0&&(r.transformDirection(e),r.needsUpdate=!0),this.boundingBox!==null&&this.computeBoundingBox(),this.boundingSphere!==null&&this.computeBoundingSphere(),this}applyQuaternion(e){return Fo.makeRotationFromQuaternion(e),this.applyMatrix4(Fo),this}rotateX(e){return Fo.makeRotationX(e),this.applyMatrix4(Fo),this}rotateY(e){return Fo.makeRotationY(e),this.applyMatrix4(Fo),this}rotateZ(e){return Fo.makeRotationZ(e),this.applyMatrix4(Fo),this}translate(e,t,n){return Fo.makeTranslation(e,t,n),this.applyMatrix4(Fo),this}scale(e,t,n){return Fo.makeScale(e,t,n),this.applyMatrix4(Fo),this}lookAt(e){return RM.lookAt(e),RM.updateMatrix(),this.applyMatrix4(RM.matrix),this}center(){return this.computeBoundingBox(),this.boundingBox.getCenter(i0).negate(),this.translate(i0.x,i0.y,i0.z),this}setFromPoints(e){const t=this.getAttribute("position");if(t===void 0){const n=[];for(let r=0,a=e.length;r<a;r++){const s=e[r];n.push(s.x,s.y,s.z||0)}this.setAttribute("position",new Yt(n,3))}else{const n=Math.min(e.length,t.count);for(let r=0;r<n;r++){const a=e[r];t.setXYZ(r,a.x,a.y,a.z||0)}e.length>t.count&&console.warn("THREE.BufferGeometry: Buffer size too small for points data. Use .dispose() and create a new geometry."),t.needsUpdate=!0}return this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new Fa);const e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error("THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box.",this),this.boundingBox.set(new le(-1/0,-1/0,-1/0),new le(1/0,1/0,1/0));return}if(e!==void 0){if(this.boundingBox.setFromBufferAttribute(e),t)for(let n=0,r=t.length;n<r;n++){const a=t[n];ao.setFromBufferAttribute(a),this.morphTargetsRelative?(ta.addVectors(this.boundingBox.min,ao.min),this.boundingBox.expandByPoint(ta),ta.addVectors(this.boundingBox.max,ao.max),this.boundingBox.expandByPoint(ta)):(this.boundingBox.expandByPoint(ao.min),this.boundingBox.expandByPoint(ao.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new ba);const e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error("THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere.",this),this.boundingSphere.set(new le,1/0);return}if(e){const n=this.boundingSphere.center;if(ao.setFromBufferAttribute(e),t)for(let a=0,s=t.length;a<s;a++){const l=t[a];ey.setFromBufferAttribute(l),this.morphTargetsRelative?(ta.addVectors(ao.min,ey.min),ao.expandByPoint(ta),ta.addVectors(ao.max,ey.max),ao.expandByPoint(ta)):(ao.expandByPoint(ey.min),ao.expandByPoint(ey.max))}ao.getCenter(n);let r=0;for(let a=0,s=e.count;a<s;a++)ta.fromBufferAttribute(e,a),r=Math.max(r,n.distanceToSquared(ta));if(t)for(let a=0,s=t.length;a<s;a++){const l=t[a],u=this.morphTargetsRelative;for(let f=0,p=l.count;f<p;f++)ta.fromBufferAttribute(l,f),u&&(i0.fromBufferAttribute(e,f),ta.add(i0)),r=Math.max(r,n.distanceToSquared(ta))}this.boundingSphere.radius=Math.sqrt(r),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}computeTangents(){const e=this.index,t=this.attributes;if(e===null||t.position===void 0||t.normal===void 0||t.uv===void 0){console.error("THREE.BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");return}const n=t.position,r=t.normal,a=t.uv;this.hasAttribute("tangent")===!1&&this.setAttribute("tangent",new Ri(new Float32Array(4*n.count),4));const s=this.getAttribute("tangent"),l=[],u=[];for(let U=0;U<n.count;U++)l[U]=new le,u[U]=new le;const f=new le,p=new le,g=new le,v=new ut,_=new ut,S=new ut,w=new le,E=new le;function b(U,P,z){f.fromBufferAttribute(n,U),p.fromBufferAttribute(n,P),g.fromBufferAttribute(n,z),v.fromBufferAttribute(a,U),_.fromBufferAttribute(a,P),S.fromBufferAttribute(a,z),p.sub(f),g.sub(f),_.sub(v),S.sub(v);const X=1/(_.x*S.y-S.x*_.y);isFinite(X)&&(w.copy(p).multiplyScalar(S.y).addScaledVector(g,-_.y).multiplyScalar(X),E.copy(g).multiplyScalar(_.x).addScaledVector(p,-S.x).multiplyScalar(X),l[U].add(w),l[P].add(w),l[z].add(w),u[U].add(E),u[P].add(E),u[z].add(E))}let R=this.groups;R.length===0&&(R=[{start:0,count:e.count}]);for(let U=0,P=R.length;U<P;++U){const z=R[U],X=z.start,te=z.count;for(let se=X,ae=X+te;se<ae;se+=3)b(e.getX(se+0),e.getX(se+1),e.getX(se+2))}const C=new le,A=new le,N=new le,L=new le;function B(U){N.fromBufferAttribute(r,U),L.copy(N);const P=l[U];C.copy(P),C.sub(N.multiplyScalar(N.dot(P))).normalize(),A.crossVectors(L,P);const X=A.dot(u[U])<0?-1:1;s.setXYZW(U,C.x,C.y,C.z,X)}for(let U=0,P=R.length;U<P;++U){const z=R[U],X=z.start,te=z.count;for(let se=X,ae=X+te;se<ae;se+=3)B(e.getX(se+0)),B(e.getX(se+1)),B(e.getX(se+2))}}computeVertexNormals(){const e=this.index,t=this.getAttribute("position");if(t!==void 0){let n=this.getAttribute("normal");if(n===void 0)n=new Ri(new Float32Array(t.count*3),3),this.setAttribute("normal",n);else for(let v=0,_=n.count;v<_;v++)n.setXYZ(v,0,0,0);const r=new le,a=new le,s=new le,l=new le,u=new le,f=new le,p=new le,g=new le;if(e)for(let v=0,_=e.count;v<_;v+=3){const S=e.getX(v+0),w=e.getX(v+1),E=e.getX(v+2);r.fromBufferAttribute(t,S),a.fromBufferAttribute(t,w),s.fromBufferAttribute(t,E),p.subVectors(s,a),g.subVectors(r,a),p.cross(g),l.fromBufferAttribute(n,S),u.fromBufferAttribute(n,w),f.fromBufferAttribute(n,E),l.add(p),u.add(p),f.add(p),n.setXYZ(S,l.x,l.y,l.z),n.setXYZ(w,u.x,u.y,u.z),n.setXYZ(E,f.x,f.y,f.z)}else for(let v=0,_=t.count;v<_;v+=3)r.fromBufferAttribute(t,v+0),a.fromBufferAttribute(t,v+1),s.fromBufferAttribute(t,v+2),p.subVectors(s,a),g.subVectors(r,a),p.cross(g),n.setXYZ(v+0,p.x,p.y,p.z),n.setXYZ(v+1,p.x,p.y,p.z),n.setXYZ(v+2,p.x,p.y,p.z);this.normalizeNormals(),n.needsUpdate=!0}}normalizeNormals(){const e=this.attributes.normal;for(let t=0,n=e.count;t<n;t++)ta.fromBufferAttribute(e,t),ta.normalize(),e.setXYZ(t,ta.x,ta.y,ta.z)}toNonIndexed(){function e(l,u){const f=l.array,p=l.itemSize,g=l.normalized,v=new f.constructor(u.length*p);let _=0,S=0;for(let w=0,E=u.length;w<E;w++){l.isInterleavedBufferAttribute?_=u[w]*l.data.stride+l.offset:_=u[w]*p;for(let b=0;b<p;b++)v[S++]=f[_++]}return new Ri(v,p,g)}if(this.index===null)return console.warn("THREE.BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;const t=new Nn,n=this.index.array,r=this.attributes;for(const l in r){const u=r[l],f=e(u,n);t.setAttribute(l,f)}const a=this.morphAttributes;for(const l in a){const u=[],f=a[l];for(let p=0,g=f.length;p<g;p++){const v=f[p],_=e(v,n);u.push(_)}t.morphAttributes[l]=u}t.morphTargetsRelative=this.morphTargetsRelative;const s=this.groups;for(let l=0,u=s.length;l<u;l++){const f=s[l];t.addGroup(f.start,f.count,f.materialIndex)}return t}toJSON(){const e={metadata:{version:4.7,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,this.name!==""&&(e.name=this.name),Object.keys(this.userData).length>0&&(e.userData=this.userData),this.parameters!==void 0){const u=this.parameters;for(const f in u)u[f]!==void 0&&(e[f]=u[f]);return e}e.data={attributes:{}};const t=this.index;t!==null&&(e.data.index={type:t.array.constructor.name,array:Array.prototype.slice.call(t.array)});const n=this.attributes;for(const u in n){const f=n[u];e.data.attributes[u]=f.toJSON(e.data)}const r={};let a=!1;for(const u in this.morphAttributes){const f=this.morphAttributes[u],p=[];for(let g=0,v=f.length;g<v;g++){const _=f[g];p.push(_.toJSON(e.data))}p.length>0&&(r[u]=p,a=!0)}a&&(e.data.morphAttributes=r,e.data.morphTargetsRelative=this.morphTargetsRelative);const s=this.groups;s.length>0&&(e.data.groups=JSON.parse(JSON.stringify(s)));const l=this.boundingSphere;return l!==null&&(e.data.boundingSphere=l.toJSON()),e}clone(){return new this.constructor().copy(this)}copy(e){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;const t={};this.name=e.name;const n=e.index;n!==null&&this.setIndex(n.clone());const r=e.attributes;for(const f in r){const p=r[f];this.setAttribute(f,p.clone(t))}const a=e.morphAttributes;for(const f in a){const p=[],g=a[f];for(let v=0,_=g.length;v<_;v++)p.push(g[v].clone(t));this.morphAttributes[f]=p}this.morphTargetsRelative=e.morphTargetsRelative;const s=e.groups;for(let f=0,p=s.length;f<p;f++){const g=s[f];this.addGroup(g.start,g.count,g.materialIndex)}const l=e.boundingBox;l!==null&&(this.boundingBox=l.clone());const u=e.boundingSphere;return u!==null&&(this.boundingSphere=u.clone()),this.drawRange.start=e.drawRange.start,this.drawRange.count=e.drawRange.count,this.userData=e.userData,this}dispose(){this.dispatchEvent({type:"dispose"})}}const VO=new gn,Cd=new wg,vb=new ba,jO=new le,yb=new le,_b=new le,xb=new le,DM=new le,bb=new le,GO=new le,Sb=new le;class ar extends ai{constructor(e=new Nn,t=new Xu){super(),this.isMesh=!0,this.type="Mesh",this.geometry=e,this.material=t,this.morphTargetDictionary=void 0,this.morphTargetInfluences=void 0,this.count=1,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),e.morphTargetInfluences!==void 0&&(this.morphTargetInfluences=e.morphTargetInfluences.slice()),e.morphTargetDictionary!==void 0&&(this.morphTargetDictionary=Object.assign({},e.morphTargetDictionary)),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}updateMorphTargets(){const t=this.geometry.morphAttributes,n=Object.keys(t);if(n.length>0){const r=t[n[0]];if(r!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let a=0,s=r.length;a<s;a++){const l=r[a].name||String(a);this.morphTargetInfluences.push(0),this.morphTargetDictionary[l]=a}}}}getVertexPosition(e,t){const n=this.geometry,r=n.attributes.position,a=n.morphAttributes.position,s=n.morphTargetsRelative;t.fromBufferAttribute(r,e);const l=this.morphTargetInfluences;if(a&&l){bb.set(0,0,0);for(let u=0,f=a.length;u<f;u++){const p=l[u],g=a[u];p!==0&&(DM.fromBufferAttribute(g,e),s?bb.addScaledVector(DM,p):bb.addScaledVector(DM.sub(t),p))}t.add(bb)}return t}raycast(e,t){const n=this.geometry,r=this.material,a=this.matrixWorld;r!==void 0&&(n.boundingSphere===null&&n.computeBoundingSphere(),vb.copy(n.boundingSphere),vb.applyMatrix4(a),Cd.copy(e.ray).recast(e.near),!(vb.containsPoint(Cd.origin)===!1&&(Cd.intersectSphere(vb,jO)===null||Cd.origin.distanceToSquared(jO)>(e.far-e.near)**2))&&(VO.copy(a).invert(),Cd.copy(e.ray).applyMatrix4(VO),!(n.boundingBox!==null&&Cd.intersectsBox(n.boundingBox)===!1)&&this._computeIntersections(e,t,Cd)))}_computeIntersections(e,t,n){let r;const a=this.geometry,s=this.material,l=a.index,u=a.attributes.position,f=a.attributes.uv,p=a.attributes.uv1,g=a.attributes.normal,v=a.groups,_=a.drawRange;if(l!==null)if(Array.isArray(s))for(let S=0,w=v.length;S<w;S++){const E=v[S],b=s[E.materialIndex],R=Math.max(E.start,_.start),C=Math.min(l.count,Math.min(E.start+E.count,_.start+_.count));for(let A=R,N=C;A<N;A+=3){const L=l.getX(A),B=l.getX(A+1),U=l.getX(A+2);r=wb(this,b,e,n,f,p,g,L,B,U),r&&(r.faceIndex=Math.floor(A/3),r.face.materialIndex=E.materialIndex,t.push(r))}}else{const S=Math.max(0,_.start),w=Math.min(l.count,_.start+_.count);for(let E=S,b=w;E<b;E+=3){const R=l.getX(E),C=l.getX(E+1),A=l.getX(E+2);r=wb(this,s,e,n,f,p,g,R,C,A),r&&(r.faceIndex=Math.floor(E/3),t.push(r))}}else if(u!==void 0)if(Array.isArray(s))for(let S=0,w=v.length;S<w;S++){const E=v[S],b=s[E.materialIndex],R=Math.max(E.start,_.start),C=Math.min(u.count,Math.min(E.start+E.count,_.start+_.count));for(let A=R,N=C;A<N;A+=3){const L=A,B=A+1,U=A+2;r=wb(this,b,e,n,f,p,g,L,B,U),r&&(r.faceIndex=Math.floor(A/3),r.face.materialIndex=E.materialIndex,t.push(r))}}else{const S=Math.max(0,_.start),w=Math.min(u.count,_.start+_.count);for(let E=S,b=w;E<b;E+=3){const R=E,C=E+1,A=E+2;r=wb(this,s,e,n,f,p,g,R,C,A),r&&(r.faceIndex=Math.floor(E/3),t.push(r))}}}}function XW(i,e,t,n,r,a,s,l){let u;if(e.side===vs?u=n.intersectTriangle(s,a,r,!0,l):u=n.intersectTriangle(r,a,s,e.side===ku,l),u===null)return null;Sb.copy(l),Sb.applyMatrix4(i.matrixWorld);const f=t.ray.origin.distanceTo(Sb);return f<t.near||f>t.far?null:{distance:f,point:Sb.clone(),object:i}}function wb(i,e,t,n,r,a,s,l,u,f){i.getVertexPosition(l,yb),i.getVertexPosition(u,_b),i.getVertexPosition(f,xb);const p=XW(i,e,t,n,yb,_b,xb,GO);if(p){const g=new le;Bs.getBarycoord(GO,yb,_b,xb,g),r&&(p.uv=Bs.getInterpolatedAttribute(r,l,u,f,g,new ut)),a&&(p.uv1=Bs.getInterpolatedAttribute(a,l,u,f,g,new ut)),s&&(p.normal=Bs.getInterpolatedAttribute(s,l,u,f,g,new le),p.normal.dot(n.direction)>0&&p.normal.multiplyScalar(-1));const v={a:l,b:u,c:f,normal:new le,materialIndex:0};Bs.getNormal(yb,_b,xb,v.normal),p.face=v,p.barycoord=g}return p}class Op extends Nn{constructor(e=1,t=1,n=1,r=1,a=1,s=1){super(),this.type="BoxGeometry",this.parameters={width:e,height:t,depth:n,widthSegments:r,heightSegments:a,depthSegments:s};const l=this;r=Math.floor(r),a=Math.floor(a),s=Math.floor(s);const u=[],f=[],p=[],g=[];let v=0,_=0;S("z","y","x",-1,-1,n,t,e,s,a,0),S("z","y","x",1,-1,n,t,-e,s,a,1),S("x","z","y",1,1,e,n,t,r,s,2),S("x","z","y",1,-1,e,n,-t,r,s,3),S("x","y","z",1,-1,e,t,n,r,a,4),S("x","y","z",-1,-1,e,t,-n,r,a,5),this.setIndex(u),this.setAttribute("position",new Yt(f,3)),this.setAttribute("normal",new Yt(p,3)),this.setAttribute("uv",new Yt(g,2));function S(w,E,b,R,C,A,N,L,B,U,P){const z=A/B,X=N/U,te=A/2,se=N/2,ae=L/2,ue=B+1,G=U+1;let Y=0,Q=0;const ye=new le;for(let F=0;F<G;F++){const fe=F*X-se;for(let Se=0;Se<ue;Se++){const Ce=Se*z-te;ye[w]=Ce*R,ye[E]=fe*C,ye[b]=ae,f.push(ye.x,ye.y,ye.z),ye[w]=0,ye[E]=0,ye[b]=L>0?1:-1,p.push(ye.x,ye.y,ye.z),g.push(Se/B),g.push(1-F/U),Y+=1}}for(let F=0;F<U;F++)for(let fe=0;fe<B;fe++){const Se=v+fe+ue*F,Ce=v+fe+ue*(F+1),ke=v+(fe+1)+ue*(F+1),we=v+(fe+1)+ue*F;u.push(Se,Ce,we),u.push(Ce,ke,we),Q+=6}l.addGroup(_,Q,P),_+=Q,v+=Y}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Op(e.width,e.height,e.depth,e.widthSegments,e.heightSegments,e.depthSegments)}}function cg(i){const e={};for(const t in i){e[t]={};for(const n in i[t]){const r=i[t][n];r&&(r.isColor||r.isMatrix3||r.isMatrix4||r.isVector2||r.isVector3||r.isVector4||r.isTexture||r.isQuaternion)?r.isRenderTargetTexture?(console.warn("UniformsUtils: Textures of render targets cannot be cloned via cloneUniforms() or mergeUniforms()."),e[t][n]=null):e[t][n]=r.clone():Array.isArray(r)?e[t][n]=r.slice():e[t][n]=r}}return e}function ls(i){const e={};for(let t=0;t<i.length;t++){const n=cg(i[t]);for(const r in n)e[r]=n[r]}return e}function qW(i){const e=[];for(let t=0;t<i.length;t++)e.push(i[t].clone());return e}function EB(i){const e=i.getRenderTarget();return e===null?i.outputColorSpace:e.isXRRenderTarget===!0?e.texture.colorSpace:Qn.workingColorSpace}const MB={clone:cg,merge:ls};var YW=`void main() {
	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
}`,ZW=`void main() {
	gl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );
}`;class Ws extends Va{constructor(e){super(),this.isShaderMaterial=!0,this.type="ShaderMaterial",this.defines={},this.uniforms={},this.uniformsGroups=[],this.vertexShader=YW,this.fragmentShader=ZW,this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.forceSinglePass=!0,this.extensions={clipCullDistance:!1,multiDraw:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv1:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,e!==void 0&&this.setValues(e)}copy(e){return super.copy(e),this.fragmentShader=e.fragmentShader,this.vertexShader=e.vertexShader,this.uniforms=cg(e.uniforms),this.uniformsGroups=qW(e.uniformsGroups),this.defines=Object.assign({},e.defines),this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.fog=e.fog,this.lights=e.lights,this.clipping=e.clipping,this.extensions=Object.assign({},e.extensions),this.glslVersion=e.glslVersion,this}toJSON(e){const t=super.toJSON(e);t.glslVersion=this.glslVersion,t.uniforms={};for(const r in this.uniforms){const s=this.uniforms[r].value;s&&s.isTexture?t.uniforms[r]={type:"t",value:s.toJSON(e).uuid}:s&&s.isColor?t.uniforms[r]={type:"c",value:s.getHex()}:s&&s.isVector2?t.uniforms[r]={type:"v2",value:s.toArray()}:s&&s.isVector3?t.uniforms[r]={type:"v3",value:s.toArray()}:s&&s.isVector4?t.uniforms[r]={type:"v4",value:s.toArray()}:s&&s.isMatrix3?t.uniforms[r]={type:"m3",value:s.toArray()}:s&&s.isMatrix4?t.uniforms[r]={type:"m4",value:s.toArray()}:t.uniforms[r]={value:s}}Object.keys(this.defines).length>0&&(t.defines=this.defines),t.vertexShader=this.vertexShader,t.fragmentShader=this.fragmentShader,t.lights=this.lights,t.clipping=this.clipping;const n={};for(const r in this.extensions)this.extensions[r]===!0&&(n[r]=!0);return Object.keys(n).length>0&&(t.extensions=n),t}}class mE extends ai{constructor(){super(),this.isCamera=!0,this.type="Camera",this.matrixWorldInverse=new gn,this.projectionMatrix=new gn,this.projectionMatrixInverse=new gn,this.coordinateSystem=po,this._reversedDepth=!1}get reversedDepth(){return this._reversedDepth}copy(e,t){return super.copy(e,t),this.matrixWorldInverse.copy(e.matrixWorldInverse),this.projectionMatrix.copy(e.projectionMatrix),this.projectionMatrixInverse.copy(e.projectionMatrixInverse),this.coordinateSystem=e.coordinateSystem,this}getWorldDirection(e){return super.getWorldDirection(e).negate()}updateMatrixWorld(e){super.updateMatrixWorld(e),this.matrixWorldInverse.copy(this.matrixWorld).invert()}updateWorldMatrix(e,t){super.updateWorldMatrix(e,t),this.matrixWorldInverse.copy(this.matrixWorld).invert()}clone(){return new this.constructor().copy(this)}}const Xf=new le,WO=new ut,XO=new ut;class ra extends mE{constructor(e=50,t=1,n=.1,r=2e3){super(),this.isPerspectiveCamera=!0,this.type="PerspectiveCamera",this.fov=e,this.zoom=1,this.near=n,this.far=r,this.focus=10,this.aspect=t,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}copy(e,t){return super.copy(e,t),this.fov=e.fov,this.zoom=e.zoom,this.near=e.near,this.far=e.far,this.focus=e.focus,this.aspect=e.aspect,this.view=e.view===null?null:Object.assign({},e.view),this.filmGauge=e.filmGauge,this.filmOffset=e.filmOffset,this}setFocalLength(e){const t=.5*this.getFilmHeight()/e;this.fov=og*2*Math.atan(t),this.updateProjectionMatrix()}getFocalLength(){const e=Math.tan(pp*.5*this.fov);return .5*this.getFilmHeight()/e}getEffectiveFOV(){return og*2*Math.atan(Math.tan(pp*.5*this.fov)/this.zoom)}getFilmWidth(){return this.filmGauge*Math.min(this.aspect,1)}getFilmHeight(){return this.filmGauge/Math.max(this.aspect,1)}getViewBounds(e,t,n){Xf.set(-1,-1,.5).applyMatrix4(this.projectionMatrixInverse),t.set(Xf.x,Xf.y).multiplyScalar(-e/Xf.z),Xf.set(1,1,.5).applyMatrix4(this.projectionMatrixInverse),n.set(Xf.x,Xf.y).multiplyScalar(-e/Xf.z)}getViewSize(e,t){return this.getViewBounds(e,WO,XO),t.subVectors(XO,WO)}setViewOffset(e,t,n,r,a,s){this.aspect=e/t,this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=n,this.view.offsetY=r,this.view.width=a,this.view.height=s,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=this.near;let t=e*Math.tan(pp*.5*this.fov)/this.zoom,n=2*t,r=this.aspect*n,a=-.5*r;const s=this.view;if(this.view!==null&&this.view.enabled){const u=s.fullWidth,f=s.fullHeight;a+=s.offsetX*r/u,t-=s.offsetY*n/f,r*=s.width/u,n*=s.height/f}const l=this.filmOffset;l!==0&&(a+=e*l/this.getFilmWidth()),this.projectionMatrix.makePerspective(a,a+r,t,t-n,e,this.far,this.coordinateSystem,this.reversedDepth),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const t=super.toJSON(e);return t.object.fov=this.fov,t.object.zoom=this.zoom,t.object.near=this.near,t.object.far=this.far,t.object.focus=this.focus,t.object.aspect=this.aspect,this.view!==null&&(t.object.view=Object.assign({},this.view)),t.object.filmGauge=this.filmGauge,t.object.filmOffset=this.filmOffset,t}}const r0=-90,a0=1;class TB extends ai{constructor(e,t,n){super(),this.type="CubeCamera",this.renderTarget=n,this.coordinateSystem=null,this.activeMipmapLevel=0;const r=new ra(r0,a0,e,t);r.layers=this.layers,this.add(r);const a=new ra(r0,a0,e,t);a.layers=this.layers,this.add(a);const s=new ra(r0,a0,e,t);s.layers=this.layers,this.add(s);const l=new ra(r0,a0,e,t);l.layers=this.layers,this.add(l);const u=new ra(r0,a0,e,t);u.layers=this.layers,this.add(u);const f=new ra(r0,a0,e,t);f.layers=this.layers,this.add(f)}updateCoordinateSystem(){const e=this.coordinateSystem,t=this.children.concat(),[n,r,a,s,l,u]=t;for(const f of t)this.remove(f);if(e===po)n.up.set(0,1,0),n.lookAt(1,0,0),r.up.set(0,1,0),r.lookAt(-1,0,0),a.up.set(0,0,-1),a.lookAt(0,1,0),s.up.set(0,0,1),s.lookAt(0,-1,0),l.up.set(0,1,0),l.lookAt(0,0,1),u.up.set(0,1,0),u.lookAt(0,0,-1);else if(e===sg)n.up.set(0,-1,0),n.lookAt(-1,0,0),r.up.set(0,-1,0),r.lookAt(1,0,0),a.up.set(0,0,1),a.lookAt(0,1,0),s.up.set(0,0,-1),s.lookAt(0,-1,0),l.up.set(0,-1,0),l.lookAt(0,0,1),u.up.set(0,-1,0),u.lookAt(0,0,-1);else throw new Error("THREE.CubeCamera.updateCoordinateSystem(): Invalid coordinate system: "+e);for(const f of t)this.add(f),f.updateMatrixWorld()}update(e,t){this.parent===null&&this.updateMatrixWorld();const{renderTarget:n,activeMipmapLevel:r}=this;this.coordinateSystem!==e.coordinateSystem&&(this.coordinateSystem=e.coordinateSystem,this.updateCoordinateSystem());const[a,s,l,u,f,p]=this.children,g=e.getRenderTarget(),v=e.getActiveCubeFace(),_=e.getActiveMipmapLevel(),S=e.xr.enabled;e.xr.enabled=!1;const w=n.texture.generateMipmaps;n.texture.generateMipmaps=!1,e.setRenderTarget(n,0,r),e.render(t,a),e.setRenderTarget(n,1,r),e.render(t,s),e.setRenderTarget(n,2,r),e.render(t,l),e.setRenderTarget(n,3,r),e.render(t,u),e.setRenderTarget(n,4,r),e.render(t,f),n.texture.generateMipmaps=w,e.setRenderTarget(n,5,r),e.render(t,p),e.setRenderTarget(g,v,_),e.xr.enabled=S,n.texture.needsPMREMUpdate=!0}}class $_ extends gi{constructor(e=[],t=jc,n,r,a,s,l,u,f,p){super(e,t,n,r,a,s,l,u,f,p),this.isCubeTexture=!0,this.flipY=!1}get images(){return this.image}set images(e){this.image=e}}class XR extends Jo{constructor(e=1,t={}){super(e,e,t),this.isWebGLCubeRenderTarget=!0;const n={width:e,height:e,depth:1},r=[n,n,n,n,n,n];this.texture=new $_(r),this._setTextureOptions(t),this.texture.isRenderTargetTexture=!0}fromEquirectangularTexture(e,t){this.texture.type=t.type,this.texture.colorSpace=t.colorSpace,this.texture.generateMipmaps=t.generateMipmaps,this.texture.minFilter=t.minFilter,this.texture.magFilter=t.magFilter;const n={uniforms:{tEquirect:{value:null}},vertexShader:`

				varying vec3 vWorldDirection;

				vec3 transformDirection( in vec3 dir, in mat4 matrix ) {

					return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );

				}

				void main() {

					vWorldDirection = transformDirection( position, modelMatrix );

					#include <begin_vertex>
					#include <project_vertex>

				}
			`,fragmentShader:`

				uniform sampler2D tEquirect;

				varying vec3 vWorldDirection;

				#include <common>

				void main() {

					vec3 direction = normalize( vWorldDirection );

					vec2 sampleUV = equirectUv( direction );

					gl_FragColor = texture2D( tEquirect, sampleUV );

				}
			`},r=new Op(5,5,5),a=new Ws({name:"CubemapFromEquirect",uniforms:cg(n.uniforms),vertexShader:n.vertexShader,fragmentShader:n.fragmentShader,side:vs,blending:Ic});a.uniforms.tEquirect.value=t;const s=new ar(r,a),l=t.minFilter;return t.minFilter===Nc&&(t.minFilter=Si),new TB(1,10,this).update(e,s),t.minFilter=l,s.geometry.dispose(),s.material.dispose(),this}clear(e,t=!0,n=!0,r=!0){const a=e.getRenderTarget();for(let s=0;s<6;s++)e.setRenderTarget(this,s),e.clear(t,n,r);e.setRenderTarget(a)}}class C0 extends ai{constructor(){super(),this.isGroup=!0,this.type="Group"}}const KW={type:"move"};class SS{constructor(){this._targetRay=null,this._grip=null,this._hand=null}getHandSpace(){return this._hand===null&&(this._hand=new C0,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand}getTargetRaySpace(){return this._targetRay===null&&(this._targetRay=new C0,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1,this._targetRay.hasLinearVelocity=!1,this._targetRay.linearVelocity=new le,this._targetRay.hasAngularVelocity=!1,this._targetRay.angularVelocity=new le),this._targetRay}getGripSpace(){return this._grip===null&&(this._grip=new C0,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1,this._grip.hasLinearVelocity=!1,this._grip.linearVelocity=new le,this._grip.hasAngularVelocity=!1,this._grip.angularVelocity=new le),this._grip}dispatchEvent(e){return this._targetRay!==null&&this._targetRay.dispatchEvent(e),this._grip!==null&&this._grip.dispatchEvent(e),this._hand!==null&&this._hand.dispatchEvent(e),this}connect(e){if(e&&e.hand){const t=this._hand;if(t)for(const n of e.hand.values())this._getHandJoint(t,n)}return this.dispatchEvent({type:"connected",data:e}),this}disconnect(e){return this.dispatchEvent({type:"disconnected",data:e}),this._targetRay!==null&&(this._targetRay.visible=!1),this._grip!==null&&(this._grip.visible=!1),this._hand!==null&&(this._hand.visible=!1),this}update(e,t,n){let r=null,a=null,s=null;const l=this._targetRay,u=this._grip,f=this._hand;if(e&&t.session.visibilityState!=="visible-blurred"){if(f&&e.hand){s=!0;for(const w of e.hand.values()){const E=t.getJointPose(w,n),b=this._getHandJoint(f,w);E!==null&&(b.matrix.fromArray(E.transform.matrix),b.matrix.decompose(b.position,b.rotation,b.scale),b.matrixWorldNeedsUpdate=!0,b.jointRadius=E.radius),b.visible=E!==null}const p=f.joints["index-finger-tip"],g=f.joints["thumb-tip"],v=p.position.distanceTo(g.position),_=.02,S=.005;f.inputState.pinching&&v>_+S?(f.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:e.handedness,target:this})):!f.inputState.pinching&&v<=_-S&&(f.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:e.handedness,target:this}))}else u!==null&&e.gripSpace&&(a=t.getPose(e.gripSpace,n),a!==null&&(u.matrix.fromArray(a.transform.matrix),u.matrix.decompose(u.position,u.rotation,u.scale),u.matrixWorldNeedsUpdate=!0,a.linearVelocity?(u.hasLinearVelocity=!0,u.linearVelocity.copy(a.linearVelocity)):u.hasLinearVelocity=!1,a.angularVelocity?(u.hasAngularVelocity=!0,u.angularVelocity.copy(a.angularVelocity)):u.hasAngularVelocity=!1));l!==null&&(r=t.getPose(e.targetRaySpace,n),r===null&&a!==null&&(r=a),r!==null&&(l.matrix.fromArray(r.transform.matrix),l.matrix.decompose(l.position,l.rotation,l.scale),l.matrixWorldNeedsUpdate=!0,r.linearVelocity?(l.hasLinearVelocity=!0,l.linearVelocity.copy(r.linearVelocity)):l.hasLinearVelocity=!1,r.angularVelocity?(l.hasAngularVelocity=!0,l.angularVelocity.copy(r.angularVelocity)):l.hasAngularVelocity=!1,this.dispatchEvent(KW)))}return l!==null&&(l.visible=r!==null),u!==null&&(u.visible=a!==null),f!==null&&(f.visible=s!==null),this}_getHandJoint(e,t){if(e.joints[t.jointName]===void 0){const n=new C0;n.matrixAutoUpdate=!1,n.visible=!1,e.joints[t.jointName]=n,e.add(n)}return e.joints[t.jointName]}}class gE{constructor(e,t=25e-5){this.isFogExp2=!0,this.name="",this.color=new Vt(e),this.density=t}clone(){return new gE(this.color,this.density)}toJSON(){return{type:"FogExp2",name:this.name,color:this.color.getHex(),density:this.density}}}class vE{constructor(e,t=1,n=1e3){this.isFog=!0,this.name="",this.color=new Vt(e),this.near=t,this.far=n}clone(){return new vE(this.color,this.near,this.far)}toJSON(){return{type:"Fog",name:this.name,color:this.color.getHex(),near:this.near,far:this.far}}}class J_ extends ai{constructor(){super(),this.isScene=!0,this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.backgroundBlurriness=0,this.backgroundIntensity=1,this.backgroundRotation=new xo,this.environmentIntensity=1,this.environmentRotation=new xo,this.overrideMaterial=null,typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}copy(e,t){return super.copy(e,t),e.background!==null&&(this.background=e.background.clone()),e.environment!==null&&(this.environment=e.environment.clone()),e.fog!==null&&(this.fog=e.fog.clone()),this.backgroundBlurriness=e.backgroundBlurriness,this.backgroundIntensity=e.backgroundIntensity,this.backgroundRotation.copy(e.backgroundRotation),this.environmentIntensity=e.environmentIntensity,this.environmentRotation.copy(e.environmentRotation),e.overrideMaterial!==null&&(this.overrideMaterial=e.overrideMaterial.clone()),this.matrixAutoUpdate=e.matrixAutoUpdate,this}toJSON(e){const t=super.toJSON(e);return this.fog!==null&&(t.object.fog=this.fog.toJSON()),this.backgroundBlurriness>0&&(t.object.backgroundBlurriness=this.backgroundBlurriness),this.backgroundIntensity!==1&&(t.object.backgroundIntensity=this.backgroundIntensity),t.object.backgroundRotation=this.backgroundRotation.toArray(),this.environmentIntensity!==1&&(t.object.environmentIntensity=this.environmentIntensity),t.object.environmentRotation=this.environmentRotation.toArray(),t}}class yE{constructor(e,t){this.isInterleavedBuffer=!0,this.array=e,this.stride=t,this.count=e!==void 0?e.length/t:0,this.usage=S_,this.updateRanges=[],this.version=0,this.uuid=go()}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}addUpdateRange(e,t){this.updateRanges.push({start:e,count:t})}clearUpdateRanges(){this.updateRanges.length=0}copy(e){return this.array=new e.array.constructor(e.array),this.count=e.count,this.stride=e.stride,this.usage=e.usage,this}copyAt(e,t,n){e*=this.stride,n*=t.stride;for(let r=0,a=this.stride;r<a;r++)this.array[e+r]=t.array[n+r];return this}set(e,t=0){return this.array.set(e,t),this}clone(e){e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=go()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=this.array.slice(0).buffer);const t=new this.array.constructor(e.arrayBuffers[this.array.buffer._uuid]),n=new this.constructor(t,this.stride);return n.setUsage(this.usage),n}onUpload(e){return this.onUploadCallback=e,this}toJSON(e){return e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=go()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=Array.from(new Uint32Array(this.array.buffer))),{uuid:this.uuid,buffer:this.array.buffer._uuid,type:this.array.constructor.name,stride:this.stride}}}const ss=new le;class wp{constructor(e,t,n,r=!1){this.isInterleavedBufferAttribute=!0,this.name="",this.data=e,this.itemSize=t,this.offset=n,this.normalized=r}get count(){return this.data.count}get array(){return this.data.array}set needsUpdate(e){this.data.needsUpdate=e}applyMatrix4(e){for(let t=0,n=this.data.count;t<n;t++)ss.fromBufferAttribute(this,t),ss.applyMatrix4(e),this.setXYZ(t,ss.x,ss.y,ss.z);return this}applyNormalMatrix(e){for(let t=0,n=this.count;t<n;t++)ss.fromBufferAttribute(this,t),ss.applyNormalMatrix(e),this.setXYZ(t,ss.x,ss.y,ss.z);return this}transformDirection(e){for(let t=0,n=this.count;t<n;t++)ss.fromBufferAttribute(this,t),ss.transformDirection(e),this.setXYZ(t,ss.x,ss.y,ss.z);return this}getComponent(e,t){let n=this.array[e*this.data.stride+this.offset+t];return this.normalized&&(n=ms(n,this.array)),n}setComponent(e,t,n){return this.normalized&&(n=Dn(n,this.array)),this.data.array[e*this.data.stride+this.offset+t]=n,this}setX(e,t){return this.normalized&&(t=Dn(t,this.array)),this.data.array[e*this.data.stride+this.offset]=t,this}setY(e,t){return this.normalized&&(t=Dn(t,this.array)),this.data.array[e*this.data.stride+this.offset+1]=t,this}setZ(e,t){return this.normalized&&(t=Dn(t,this.array)),this.data.array[e*this.data.stride+this.offset+2]=t,this}setW(e,t){return this.normalized&&(t=Dn(t,this.array)),this.data.array[e*this.data.stride+this.offset+3]=t,this}getX(e){let t=this.data.array[e*this.data.stride+this.offset];return this.normalized&&(t=ms(t,this.array)),t}getY(e){let t=this.data.array[e*this.data.stride+this.offset+1];return this.normalized&&(t=ms(t,this.array)),t}getZ(e){let t=this.data.array[e*this.data.stride+this.offset+2];return this.normalized&&(t=ms(t,this.array)),t}getW(e){let t=this.data.array[e*this.data.stride+this.offset+3];return this.normalized&&(t=ms(t,this.array)),t}setXY(e,t,n){return e=e*this.data.stride+this.offset,this.normalized&&(t=Dn(t,this.array),n=Dn(n,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=n,this}setXYZ(e,t,n,r){return e=e*this.data.stride+this.offset,this.normalized&&(t=Dn(t,this.array),n=Dn(n,this.array),r=Dn(r,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=n,this.data.array[e+2]=r,this}setXYZW(e,t,n,r,a){return e=e*this.data.stride+this.offset,this.normalized&&(t=Dn(t,this.array),n=Dn(n,this.array),r=Dn(r,this.array),a=Dn(a,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=n,this.data.array[e+2]=r,this.data.array[e+3]=a,this}clone(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.clone(): Cloning an interleaved buffer attribute will de-interleave buffer data.");const t=[];for(let n=0;n<this.count;n++){const r=n*this.data.stride+this.offset;for(let a=0;a<this.itemSize;a++)t.push(this.data.array[r+a])}return new Ri(new this.array.constructor(t),this.itemSize,this.normalized)}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.clone(e)),new wp(e.interleavedBuffers[this.data.uuid],this.itemSize,this.offset,this.normalized)}toJSON(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.toJSON(): Serializing an interleaved buffer attribute will de-interleave buffer data.");const t=[];for(let n=0;n<this.count;n++){const r=n*this.data.stride+this.offset;for(let a=0;a<this.itemSize;a++)t.push(this.data.array[r+a])}return{itemSize:this.itemSize,type:this.array.constructor.name,array:t,normalized:this.normalized}}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.toJSON(e)),{isInterleavedBufferAttribute:!0,itemSize:this.itemSize,data:this.data.uuid,offset:this.offset,normalized:this.normalized}}}class qR extends Va{constructor(e){super(),this.isSpriteMaterial=!0,this.type="SpriteMaterial",this.color=new Vt(16777215),this.map=null,this.alphaMap=null,this.rotation=0,this.sizeAttenuation=!0,this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.rotation=e.rotation,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}let s0;const ty=new le,o0=new le,l0=new le,c0=new ut,ny=new ut,AB=new gn,Eb=new le,iy=new le,Mb=new le,qO=new ut,OM=new ut,YO=new ut;class CB extends ai{constructor(e=new qR){if(super(),this.isSprite=!0,this.type="Sprite",s0===void 0){s0=new Nn;const t=new Float32Array([-.5,-.5,0,0,0,.5,-.5,0,1,0,.5,.5,0,1,1,-.5,.5,0,0,1]),n=new yE(t,5);s0.setIndex([0,1,2,0,2,3]),s0.setAttribute("position",new wp(n,3,0,!1)),s0.setAttribute("uv",new wp(n,2,3,!1))}this.geometry=s0,this.material=e,this.center=new ut(.5,.5),this.count=1}raycast(e,t){e.camera===null&&console.error('THREE.Sprite: "Raycaster.camera" needs to be set in order to raycast against sprites.'),o0.setFromMatrixScale(this.matrixWorld),AB.copy(e.camera.matrixWorld),this.modelViewMatrix.multiplyMatrices(e.camera.matrixWorldInverse,this.matrixWorld),l0.setFromMatrixPosition(this.modelViewMatrix),e.camera.isPerspectiveCamera&&this.material.sizeAttenuation===!1&&o0.multiplyScalar(-l0.z);const n=this.material.rotation;let r,a;n!==0&&(a=Math.cos(n),r=Math.sin(n));const s=this.center;Tb(Eb.set(-.5,-.5,0),l0,s,o0,r,a),Tb(iy.set(.5,-.5,0),l0,s,o0,r,a),Tb(Mb.set(.5,.5,0),l0,s,o0,r,a),qO.set(0,0),OM.set(1,0),YO.set(1,1);let l=e.ray.intersectTriangle(Eb,iy,Mb,!1,ty);if(l===null&&(Tb(iy.set(-.5,.5,0),l0,s,o0,r,a),OM.set(0,1),l=e.ray.intersectTriangle(Eb,Mb,iy,!1,ty),l===null))return;const u=e.ray.origin.distanceTo(ty);u<e.near||u>e.far||t.push({distance:u,point:ty.clone(),uv:Bs.getInterpolation(ty,Eb,iy,Mb,qO,OM,YO,new ut),face:null,object:this})}copy(e,t){return super.copy(e,t),e.center!==void 0&&this.center.copy(e.center),this.material=e.material,this}}function Tb(i,e,t,n,r,a){c0.subVectors(i,t).addScalar(.5).multiply(n),r!==void 0?(ny.x=a*c0.x-r*c0.y,ny.y=r*c0.x+a*c0.y):ny.copy(c0),i.copy(e),i.x+=ny.x,i.y+=ny.y,i.applyMatrix4(AB)}const Ab=new le,ZO=new le;class RB extends ai{constructor(){super(),this.isLOD=!0,this._currentLevel=0,this.type="LOD",Object.defineProperties(this,{levels:{enumerable:!0,value:[]}}),this.autoUpdate=!0}copy(e){super.copy(e,!1);const t=e.levels;for(let n=0,r=t.length;n<r;n++){const a=t[n];this.addLevel(a.object.clone(),a.distance,a.hysteresis)}return this.autoUpdate=e.autoUpdate,this}addLevel(e,t=0,n=0){t=Math.abs(t);const r=this.levels;let a;for(a=0;a<r.length&&!(t<r[a].distance);a++);return r.splice(a,0,{distance:t,hysteresis:n,object:e}),this.add(e),this}removeLevel(e){const t=this.levels;for(let n=0;n<t.length;n++)if(t[n].distance===e){const r=t.splice(n,1);return this.remove(r[0].object),!0}return!1}getCurrentLevel(){return this._currentLevel}getObjectForDistance(e){const t=this.levels;if(t.length>0){let n,r;for(n=1,r=t.length;n<r;n++){let a=t[n].distance;if(t[n].object.visible&&(a-=a*t[n].hysteresis),e<a)break}return t[n-1].object}return null}raycast(e,t){if(this.levels.length>0){Ab.setFromMatrixPosition(this.matrixWorld);const r=e.ray.origin.distanceTo(Ab);this.getObjectForDistance(r).raycast(e,t)}}update(e){const t=this.levels;if(t.length>1){Ab.setFromMatrixPosition(e.matrixWorld),ZO.setFromMatrixPosition(this.matrixWorld);const n=Ab.distanceTo(ZO)/e.zoom;t[0].object.visible=!0;let r,a;for(r=1,a=t.length;r<a;r++){let s=t[r].distance;if(t[r].object.visible&&(s-=s*t[r].hysteresis),n>=s)t[r-1].object.visible=!1,t[r].object.visible=!0;else break}for(this._currentLevel=r-1;r<a;r++)t[r].object.visible=!1}}toJSON(e){const t=super.toJSON(e);this.autoUpdate===!1&&(t.object.autoUpdate=!1),t.object.levels=[];const n=this.levels;for(let r=0,a=n.length;r<a;r++){const s=n[r];t.object.levels.push({object:s.object.uuid,distance:s.distance,hysteresis:s.hysteresis})}return t}}const KO=new le,$O=new ri,JO=new ri,$W=new le,QO=new gn,Cb=new le,NM=new ba,eN=new gn,PM=new wg;class DB extends ar{constructor(e,t){super(e,t),this.isSkinnedMesh=!0,this.type="SkinnedMesh",this.bindMode=jA,this.bindMatrix=new gn,this.bindMatrixInverse=new gn,this.boundingBox=null,this.boundingSphere=null}computeBoundingBox(){const e=this.geometry;this.boundingBox===null&&(this.boundingBox=new Fa),this.boundingBox.makeEmpty();const t=e.getAttribute("position");for(let n=0;n<t.count;n++)this.getVertexPosition(n,Cb),this.boundingBox.expandByPoint(Cb)}computeBoundingSphere(){const e=this.geometry;this.boundingSphere===null&&(this.boundingSphere=new ba),this.boundingSphere.makeEmpty();const t=e.getAttribute("position");for(let n=0;n<t.count;n++)this.getVertexPosition(n,Cb),this.boundingSphere.expandByPoint(Cb)}copy(e,t){return super.copy(e,t),this.bindMode=e.bindMode,this.bindMatrix.copy(e.bindMatrix),this.bindMatrixInverse.copy(e.bindMatrixInverse),this.skeleton=e.skeleton,e.boundingBox!==null&&(this.boundingBox=e.boundingBox.clone()),e.boundingSphere!==null&&(this.boundingSphere=e.boundingSphere.clone()),this}raycast(e,t){const n=this.material,r=this.matrixWorld;n!==void 0&&(this.boundingSphere===null&&this.computeBoundingSphere(),NM.copy(this.boundingSphere),NM.applyMatrix4(r),e.ray.intersectsSphere(NM)!==!1&&(eN.copy(r).invert(),PM.copy(e.ray).applyMatrix4(eN),!(this.boundingBox!==null&&PM.intersectsBox(this.boundingBox)===!1)&&this._computeIntersections(e,t,PM)))}getVertexPosition(e,t){return super.getVertexPosition(e,t),this.applyBoneTransform(e,t),t}bind(e,t){this.skeleton=e,t===void 0&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),t=this.matrixWorld),this.bindMatrix.copy(t),this.bindMatrixInverse.copy(t).invert()}pose(){this.skeleton.pose()}normalizeSkinWeights(){const e=new ri,t=this.geometry.attributes.skinWeight;for(let n=0,r=t.count;n<r;n++){e.fromBufferAttribute(t,n);const a=1/e.manhattanLength();a!==1/0?e.multiplyScalar(a):e.set(1,0,0,0),t.setXYZW(n,e.x,e.y,e.z,e.w)}}updateMatrixWorld(e){super.updateMatrixWorld(e),this.bindMode===jA?this.bindMatrixInverse.copy(this.matrixWorld).invert():this.bindMode===sB?this.bindMatrixInverse.copy(this.bindMatrix).invert():console.warn("THREE.SkinnedMesh: Unrecognized bindMode: "+this.bindMode)}applyBoneTransform(e,t){const n=this.skeleton,r=this.geometry;$O.fromBufferAttribute(r.attributes.skinIndex,e),JO.fromBufferAttribute(r.attributes.skinWeight,e),KO.copy(t).applyMatrix4(this.bindMatrix),t.set(0,0,0);for(let a=0;a<4;a++){const s=JO.getComponent(a);if(s!==0){const l=$O.getComponent(a);QO.multiplyMatrices(n.bones[l].matrixWorld,n.boneInverses[l]),t.addScaledVector($W.copy(KO).applyMatrix4(QO),s)}}return t.applyMatrix4(this.bindMatrixInverse)}}class YR extends ai{constructor(){super(),this.isBone=!0,this.type="Bone"}}class Bl extends gi{constructor(e=null,t=1,n=1,r,a,s,l,u,f=xa,p=xa,g,v){super(null,s,l,u,f,p,r,a,g,v),this.isDataTexture=!0,this.image={data:e,width:t,height:n},this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}const tN=new gn,JW=new gn;class _E{constructor(e=[],t=[]){this.uuid=go(),this.bones=e.slice(0),this.boneInverses=t,this.boneMatrices=null,this.boneTexture=null,this.init()}init(){const e=this.bones,t=this.boneInverses;if(this.boneMatrices=new Float32Array(e.length*16),t.length===0)this.calculateInverses();else if(e.length!==t.length){console.warn("THREE.Skeleton: Number of inverse bone matrices does not match amount of bones."),this.boneInverses=[];for(let n=0,r=this.bones.length;n<r;n++)this.boneInverses.push(new gn)}}calculateInverses(){this.boneInverses.length=0;for(let e=0,t=this.bones.length;e<t;e++){const n=new gn;this.bones[e]&&n.copy(this.bones[e].matrixWorld).invert(),this.boneInverses.push(n)}}pose(){for(let e=0,t=this.bones.length;e<t;e++){const n=this.bones[e];n&&n.matrixWorld.copy(this.boneInverses[e]).invert()}for(let e=0,t=this.bones.length;e<t;e++){const n=this.bones[e];n&&(n.parent&&n.parent.isBone?(n.matrix.copy(n.parent.matrixWorld).invert(),n.matrix.multiply(n.matrixWorld)):n.matrix.copy(n.matrixWorld),n.matrix.decompose(n.position,n.quaternion,n.scale))}}update(){const e=this.bones,t=this.boneInverses,n=this.boneMatrices,r=this.boneTexture;for(let a=0,s=e.length;a<s;a++){const l=e[a]?e[a].matrixWorld:JW;tN.multiplyMatrices(l,t[a]),tN.toArray(n,a*16)}r!==null&&(r.needsUpdate=!0)}clone(){return new _E(this.bones,this.boneInverses)}computeBoneTexture(){let e=Math.sqrt(this.bones.length*4);e=Math.ceil(e/4)*4,e=Math.max(e,4);const t=new Float32Array(e*e*4);t.set(this.boneMatrices);const n=new Bl(t,e,e,Sr,rr);return n.needsUpdate=!0,this.boneMatrices=t,this.boneTexture=n,this}getBoneByName(e){for(let t=0,n=this.bones.length;t<n;t++){const r=this.bones[t];if(r.name===e)return r}}dispose(){this.boneTexture!==null&&(this.boneTexture.dispose(),this.boneTexture=null)}fromJSON(e,t){this.uuid=e.uuid;for(let n=0,r=e.bones.length;n<r;n++){const a=e.bones[n];let s=t[a];s===void 0&&(console.warn("THREE.Skeleton: No bone found with UUID:",a),s=new YR),this.bones.push(s),this.boneInverses.push(new gn().fromArray(e.boneInverses[n]))}return this.init(),this}toJSON(){const e={metadata:{version:4.7,type:"Skeleton",generator:"Skeleton.toJSON"},bones:[],boneInverses:[]};e.uuid=this.uuid;const t=this.bones,n=this.boneInverses;for(let r=0,a=t.length;r<a;r++){const s=t[r];e.bones.push(s.uuid);const l=n[r];e.boneInverses.push(l.toArray())}return e}}class ug extends Ri{constructor(e,t,n,r=1){super(e,t,n),this.isInstancedBufferAttribute=!0,this.meshPerAttribute=r}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}toJSON(){const e=super.toJSON();return e.meshPerAttribute=this.meshPerAttribute,e.isInstancedBufferAttribute=!0,e}}const u0=new gn,nN=new gn,Rb=[],iN=new Fa,QW=new gn,ry=new ar,ay=new ba;class OB extends ar{constructor(e,t,n){super(e,t),this.isInstancedMesh=!0,this.instanceMatrix=new ug(new Float32Array(n*16),16),this.instanceColor=null,this.morphTexture=null,this.count=n,this.boundingBox=null,this.boundingSphere=null;for(let r=0;r<n;r++)this.setMatrixAt(r,QW)}computeBoundingBox(){const e=this.geometry,t=this.count;this.boundingBox===null&&(this.boundingBox=new Fa),e.boundingBox===null&&e.computeBoundingBox(),this.boundingBox.makeEmpty();for(let n=0;n<t;n++)this.getMatrixAt(n,u0),iN.copy(e.boundingBox).applyMatrix4(u0),this.boundingBox.union(iN)}computeBoundingSphere(){const e=this.geometry,t=this.count;this.boundingSphere===null&&(this.boundingSphere=new ba),e.boundingSphere===null&&e.computeBoundingSphere(),this.boundingSphere.makeEmpty();for(let n=0;n<t;n++)this.getMatrixAt(n,u0),ay.copy(e.boundingSphere).applyMatrix4(u0),this.boundingSphere.union(ay)}copy(e,t){return super.copy(e,t),this.instanceMatrix.copy(e.instanceMatrix),e.morphTexture!==null&&(this.morphTexture=e.morphTexture.clone()),e.instanceColor!==null&&(this.instanceColor=e.instanceColor.clone()),this.count=e.count,e.boundingBox!==null&&(this.boundingBox=e.boundingBox.clone()),e.boundingSphere!==null&&(this.boundingSphere=e.boundingSphere.clone()),this}getColorAt(e,t){t.fromArray(this.instanceColor.array,e*3)}getMatrixAt(e,t){t.fromArray(this.instanceMatrix.array,e*16)}getMorphAt(e,t){const n=t.morphTargetInfluences,r=this.morphTexture.source.data.data,a=n.length+1,s=e*a+1;for(let l=0;l<n.length;l++)n[l]=r[s+l]}raycast(e,t){const n=this.matrixWorld,r=this.count;if(ry.geometry=this.geometry,ry.material=this.material,ry.material!==void 0&&(this.boundingSphere===null&&this.computeBoundingSphere(),ay.copy(this.boundingSphere),ay.applyMatrix4(n),e.ray.intersectsSphere(ay)!==!1))for(let a=0;a<r;a++){this.getMatrixAt(a,u0),nN.multiplyMatrices(n,u0),ry.matrixWorld=nN,ry.raycast(e,Rb);for(let s=0,l=Rb.length;s<l;s++){const u=Rb[s];u.instanceId=a,u.object=this,t.push(u)}Rb.length=0}}setColorAt(e,t){this.instanceColor===null&&(this.instanceColor=new ug(new Float32Array(this.instanceMatrix.count*3).fill(1),3)),t.toArray(this.instanceColor.array,e*3)}setMatrixAt(e,t){t.toArray(this.instanceMatrix.array,e*16)}setMorphAt(e,t){const n=t.morphTargetInfluences,r=n.length+1;this.morphTexture===null&&(this.morphTexture=new Bl(new Float32Array(r*this.count),r,this.count,Z_,rr));const a=this.morphTexture.source.data.data;let s=0;for(let f=0;f<n.length;f++)s+=n[f];const l=this.geometry.morphTargetsRelative?1:1-s,u=r*e;a[u]=l,a.set(n,u+1)}updateMorphTargets(){}dispose(){this.dispatchEvent({type:"dispose"}),this.morphTexture!==null&&(this.morphTexture.dispose(),this.morphTexture=null)}}const LM=new le,eX=new le,tX=new Mn;class Jf{constructor(e=new le(1,0,0),t=0){this.isPlane=!0,this.normal=e,this.constant=t}set(e,t){return this.normal.copy(e),this.constant=t,this}setComponents(e,t,n,r){return this.normal.set(e,t,n),this.constant=r,this}setFromNormalAndCoplanarPoint(e,t){return this.normal.copy(e),this.constant=-t.dot(this.normal),this}setFromCoplanarPoints(e,t,n){const r=LM.subVectors(n,t).cross(eX.subVectors(e,t)).normalize();return this.setFromNormalAndCoplanarPoint(r,e),this}copy(e){return this.normal.copy(e.normal),this.constant=e.constant,this}normalize(){const e=1/this.normal.length();return this.normal.multiplyScalar(e),this.constant*=e,this}negate(){return this.constant*=-1,this.normal.negate(),this}distanceToPoint(e){return this.normal.dot(e)+this.constant}distanceToSphere(e){return this.distanceToPoint(e.center)-e.radius}projectPoint(e,t){return t.copy(e).addScaledVector(this.normal,-this.distanceToPoint(e))}intersectLine(e,t){const n=e.delta(LM),r=this.normal.dot(n);if(r===0)return this.distanceToPoint(e.start)===0?t.copy(e.start):null;const a=-(e.start.dot(this.normal)+this.constant)/r;return a<0||a>1?null:t.copy(e.start).addScaledVector(n,a)}intersectsLine(e){const t=this.distanceToPoint(e.start),n=this.distanceToPoint(e.end);return t<0&&n>0||n<0&&t>0}intersectsBox(e){return e.intersectsPlane(this)}intersectsSphere(e){return e.intersectsPlane(this)}coplanarPoint(e){return e.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(e,t){const n=t||tX.getNormalMatrix(e),r=this.coplanarPoint(LM).applyMatrix4(e),a=this.normal.applyMatrix3(n).normalize();return this.constant=-r.dot(a),this}translate(e){return this.constant-=e.dot(this.normal),this}equals(e){return e.normal.equals(this.normal)&&e.constant===this.constant}clone(){return new this.constructor().copy(this)}}const Rd=new ba,nX=new ut(.5,.5),Db=new le;class Eg{constructor(e=new Jf,t=new Jf,n=new Jf,r=new Jf,a=new Jf,s=new Jf){this.planes=[e,t,n,r,a,s]}set(e,t,n,r,a,s){const l=this.planes;return l[0].copy(e),l[1].copy(t),l[2].copy(n),l[3].copy(r),l[4].copy(a),l[5].copy(s),this}copy(e){const t=this.planes;for(let n=0;n<6;n++)t[n].copy(e.planes[n]);return this}setFromProjectionMatrix(e,t=po,n=!1){const r=this.planes,a=e.elements,s=a[0],l=a[1],u=a[2],f=a[3],p=a[4],g=a[5],v=a[6],_=a[7],S=a[8],w=a[9],E=a[10],b=a[11],R=a[12],C=a[13],A=a[14],N=a[15];if(r[0].setComponents(f-s,_-p,b-S,N-R).normalize(),r[1].setComponents(f+s,_+p,b+S,N+R).normalize(),r[2].setComponents(f+l,_+g,b+w,N+C).normalize(),r[3].setComponents(f-l,_-g,b-w,N-C).normalize(),n)r[4].setComponents(u,v,E,A).normalize(),r[5].setComponents(f-u,_-v,b-E,N-A).normalize();else if(r[4].setComponents(f-u,_-v,b-E,N-A).normalize(),t===po)r[5].setComponents(f+u,_+v,b+E,N+A).normalize();else if(t===sg)r[5].setComponents(u,v,E,A).normalize();else throw new Error("THREE.Frustum.setFromProjectionMatrix(): Invalid coordinate system: "+t);return this}intersectsObject(e){if(e.boundingSphere!==void 0)e.boundingSphere===null&&e.computeBoundingSphere(),Rd.copy(e.boundingSphere).applyMatrix4(e.matrixWorld);else{const t=e.geometry;t.boundingSphere===null&&t.computeBoundingSphere(),Rd.copy(t.boundingSphere).applyMatrix4(e.matrixWorld)}return this.intersectsSphere(Rd)}intersectsSprite(e){Rd.center.set(0,0,0);const t=nX.distanceTo(e.center);return Rd.radius=.7071067811865476+t,Rd.applyMatrix4(e.matrixWorld),this.intersectsSphere(Rd)}intersectsSphere(e){const t=this.planes,n=e.center,r=-e.radius;for(let a=0;a<6;a++)if(t[a].distanceToPoint(n)<r)return!1;return!0}intersectsBox(e){const t=this.planes;for(let n=0;n<6;n++){const r=t[n];if(Db.x=r.normal.x>0?e.max.x:e.min.x,Db.y=r.normal.y>0?e.max.y:e.min.y,Db.z=r.normal.z>0?e.max.z:e.min.z,r.distanceToPoint(Db)<0)return!1}return!0}containsPoint(e){const t=this.planes;for(let n=0;n<6;n++)if(t[n].distanceToPoint(e)<0)return!1;return!0}clone(){return new this.constructor().copy(this)}}const bc=new gn,Sc=new Eg;class xE{constructor(){this.coordinateSystem=po}intersectsObject(e,t){if(!t.isArrayCamera||t.cameras.length===0)return!1;for(let n=0;n<t.cameras.length;n++){const r=t.cameras[n];if(bc.multiplyMatrices(r.projectionMatrix,r.matrixWorldInverse),Sc.setFromProjectionMatrix(bc,r.coordinateSystem,r.reversedDepth),Sc.intersectsObject(e))return!0}return!1}intersectsSprite(e,t){if(!t||!t.cameras||t.cameras.length===0)return!1;for(let n=0;n<t.cameras.length;n++){const r=t.cameras[n];if(bc.multiplyMatrices(r.projectionMatrix,r.matrixWorldInverse),Sc.setFromProjectionMatrix(bc,r.coordinateSystem,r.reversedDepth),Sc.intersectsSprite(e))return!0}return!1}intersectsSphere(e,t){if(!t||!t.cameras||t.cameras.length===0)return!1;for(let n=0;n<t.cameras.length;n++){const r=t.cameras[n];if(bc.multiplyMatrices(r.projectionMatrix,r.matrixWorldInverse),Sc.setFromProjectionMatrix(bc,r.coordinateSystem,r.reversedDepth),Sc.intersectsSphere(e))return!0}return!1}intersectsBox(e,t){if(!t||!t.cameras||t.cameras.length===0)return!1;for(let n=0;n<t.cameras.length;n++){const r=t.cameras[n];if(bc.multiplyMatrices(r.projectionMatrix,r.matrixWorldInverse),Sc.setFromProjectionMatrix(bc,r.coordinateSystem,r.reversedDepth),Sc.intersectsBox(e))return!0}return!1}containsPoint(e,t){if(!t||!t.cameras||t.cameras.length===0)return!1;for(let n=0;n<t.cameras.length;n++){const r=t.cameras[n];if(bc.multiplyMatrices(r.projectionMatrix,r.matrixWorldInverse),Sc.setFromProjectionMatrix(bc,r.coordinateSystem,r.reversedDepth),Sc.containsPoint(e))return!0}return!1}clone(){return new xE}}function UM(i,e){return i-e}function iX(i,e){return i.z-e.z}function rX(i,e){return e.z-i.z}class aX{constructor(){this.index=0,this.pool=[],this.list=[]}push(e,t,n,r){const a=this.pool,s=this.list;this.index>=a.length&&a.push({start:-1,count:-1,z:-1,index:-1});const l=a[this.index];s.push(l),this.index++,l.start=e,l.count=t,l.z=n,l.index=r}reset(){this.list.length=0,this.index=0}}const Ls=new gn,sX=new Vt(1,1,1),rN=new Eg,oX=new xE,Ob=new Fa,Dd=new ba,sy=new le,aN=new le,lX=new le,IM=new aX,Pa=new ar,Nb=[];function cX(i,e,t=0){const n=e.itemSize;if(i.isInterleavedBufferAttribute||i.array.constructor!==e.array.constructor){const r=i.count;for(let a=0;a<r;a++)for(let s=0;s<n;s++)e.setComponent(a+t,s,i.getComponent(a,s))}else e.array.set(i.array,t*n);e.needsUpdate=!0}function Od(i,e){if(i.constructor!==e.constructor){const t=Math.min(i.length,e.length);for(let n=0;n<t;n++)e[n]=i[n]}else{const t=Math.min(i.length,e.length);e.set(new i.constructor(i.buffer,0,t))}}class NB extends ar{constructor(e,t,n=t*2,r){super(new Nn,r),this.isBatchedMesh=!0,this.perObjectFrustumCulled=!0,this.sortObjects=!0,this.boundingBox=null,this.boundingSphere=null,this.customSort=null,this._instanceInfo=[],this._geometryInfo=[],this._availableInstanceIds=[],this._availableGeometryIds=[],this._nextIndexStart=0,this._nextVertexStart=0,this._geometryCount=0,this._visibilityChanged=!0,this._geometryInitialized=!1,this._maxInstanceCount=e,this._maxVertexCount=t,this._maxIndexCount=n,this._multiDrawCounts=new Int32Array(e),this._multiDrawStarts=new Int32Array(e),this._multiDrawCount=0,this._multiDrawInstances=null,this._matricesTexture=null,this._indirectTexture=null,this._colorsTexture=null,this._initMatricesTexture(),this._initIndirectTexture()}get maxInstanceCount(){return this._maxInstanceCount}get instanceCount(){return this._instanceInfo.length-this._availableInstanceIds.length}get unusedVertexCount(){return this._maxVertexCount-this._nextVertexStart}get unusedIndexCount(){return this._maxIndexCount-this._nextIndexStart}_initMatricesTexture(){let e=Math.sqrt(this._maxInstanceCount*4);e=Math.ceil(e/4)*4,e=Math.max(e,4);const t=new Float32Array(e*e*4),n=new Bl(t,e,e,Sr,rr);this._matricesTexture=n}_initIndirectTexture(){let e=Math.sqrt(this._maxInstanceCount);e=Math.ceil(e);const t=new Uint32Array(e*e),n=new Bl(t,e,e,K_,Gc);this._indirectTexture=n}_initColorsTexture(){let e=Math.sqrt(this._maxInstanceCount);e=Math.ceil(e);const t=new Float32Array(e*e*4).fill(1),n=new Bl(t,e,e,Sr,rr);n.colorSpace=Qn.workingColorSpace,this._colorsTexture=n}_initializeGeometry(e){const t=this.geometry,n=this._maxVertexCount,r=this._maxIndexCount;if(this._geometryInitialized===!1){for(const a in e.attributes){const s=e.getAttribute(a),{array:l,itemSize:u,normalized:f}=s,p=new l.constructor(n*u),g=new Ri(p,u,f);t.setAttribute(a,g)}if(e.getIndex()!==null){const a=n>65535?new Uint32Array(r):new Uint16Array(r);t.setIndex(new Ri(a,1))}this._geometryInitialized=!0}}_validateGeometry(e){const t=this.geometry;if(!!e.getIndex()!=!!t.getIndex())throw new Error('THREE.BatchedMesh: All geometries must consistently have "index".');for(const n in t.attributes){if(!e.hasAttribute(n))throw new Error(`THREE.BatchedMesh: Added geometry missing "${n}". All geometries must have consistent attributes.`);const r=e.getAttribute(n),a=t.getAttribute(n);if(r.itemSize!==a.itemSize||r.normalized!==a.normalized)throw new Error("THREE.BatchedMesh: All attributes must have a consistent itemSize and normalized value.")}}validateInstanceId(e){const t=this._instanceInfo;if(e<0||e>=t.length||t[e].active===!1)throw new Error(`THREE.BatchedMesh: Invalid instanceId ${e}. Instance is either out of range or has been deleted.`)}validateGeometryId(e){const t=this._geometryInfo;if(e<0||e>=t.length||t[e].active===!1)throw new Error(`THREE.BatchedMesh: Invalid geometryId ${e}. Geometry is either out of range or has been deleted.`)}setCustomSort(e){return this.customSort=e,this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new Fa);const e=this.boundingBox,t=this._instanceInfo;e.makeEmpty();for(let n=0,r=t.length;n<r;n++){if(t[n].active===!1)continue;const a=t[n].geometryIndex;this.getMatrixAt(n,Ls),this.getBoundingBoxAt(a,Ob).applyMatrix4(Ls),e.union(Ob)}}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new ba);const e=this.boundingSphere,t=this._instanceInfo;e.makeEmpty();for(let n=0,r=t.length;n<r;n++){if(t[n].active===!1)continue;const a=t[n].geometryIndex;this.getMatrixAt(n,Ls),this.getBoundingSphereAt(a,Dd).applyMatrix4(Ls),e.union(Dd)}}addInstance(e){if(this._instanceInfo.length>=this.maxInstanceCount&&this._availableInstanceIds.length===0)throw new Error("THREE.BatchedMesh: Maximum item count reached.");const n={visible:!0,active:!0,geometryIndex:e};let r=null;this._availableInstanceIds.length>0?(this._availableInstanceIds.sort(UM),r=this._availableInstanceIds.shift(),this._instanceInfo[r]=n):(r=this._instanceInfo.length,this._instanceInfo.push(n));const a=this._matricesTexture;Ls.identity().toArray(a.image.data,r*16),a.needsUpdate=!0;const s=this._colorsTexture;return s&&(sX.toArray(s.image.data,r*4),s.needsUpdate=!0),this._visibilityChanged=!0,r}addGeometry(e,t=-1,n=-1){this._initializeGeometry(e),this._validateGeometry(e);const r={vertexStart:-1,vertexCount:-1,reservedVertexCount:-1,indexStart:-1,indexCount:-1,reservedIndexCount:-1,start:-1,count:-1,boundingBox:null,boundingSphere:null,active:!0},a=this._geometryInfo;r.vertexStart=this._nextVertexStart,r.reservedVertexCount=t===-1?e.getAttribute("position").count:t;const s=e.getIndex();if(s!==null&&(r.indexStart=this._nextIndexStart,r.reservedIndexCount=n===-1?s.count:n),r.indexStart!==-1&&r.indexStart+r.reservedIndexCount>this._maxIndexCount||r.vertexStart+r.reservedVertexCount>this._maxVertexCount)throw new Error("THREE.BatchedMesh: Reserved space request exceeds the maximum buffer size.");let u;return this._availableGeometryIds.length>0?(this._availableGeometryIds.sort(UM),u=this._availableGeometryIds.shift(),a[u]=r):(u=this._geometryCount,this._geometryCount++,a.push(r)),this.setGeometryAt(u,e),this._nextIndexStart=r.indexStart+r.reservedIndexCount,this._nextVertexStart=r.vertexStart+r.reservedVertexCount,u}setGeometryAt(e,t){if(e>=this._geometryCount)throw new Error("THREE.BatchedMesh: Maximum geometry count reached.");this._validateGeometry(t);const n=this.geometry,r=n.getIndex()!==null,a=n.getIndex(),s=t.getIndex(),l=this._geometryInfo[e];if(r&&s.count>l.reservedIndexCount||t.attributes.position.count>l.reservedVertexCount)throw new Error("THREE.BatchedMesh: Reserved space not large enough for provided geometry.");const u=l.vertexStart,f=l.reservedVertexCount;l.vertexCount=t.getAttribute("position").count;for(const p in n.attributes){const g=t.getAttribute(p),v=n.getAttribute(p);cX(g,v,u);const _=g.itemSize;for(let S=g.count,w=f;S<w;S++){const E=u+S;for(let b=0;b<_;b++)v.setComponent(E,b,0)}v.needsUpdate=!0,v.addUpdateRange(u*_,f*_)}if(r){const p=l.indexStart,g=l.reservedIndexCount;l.indexCount=t.getIndex().count;for(let v=0;v<s.count;v++)a.setX(p+v,u+s.getX(v));for(let v=s.count,_=g;v<_;v++)a.setX(p+v,u);a.needsUpdate=!0,a.addUpdateRange(p,l.reservedIndexCount)}return l.start=r?l.indexStart:l.vertexStart,l.count=r?l.indexCount:l.vertexCount,l.boundingBox=null,t.boundingBox!==null&&(l.boundingBox=t.boundingBox.clone()),l.boundingSphere=null,t.boundingSphere!==null&&(l.boundingSphere=t.boundingSphere.clone()),this._visibilityChanged=!0,e}deleteGeometry(e){const t=this._geometryInfo;if(e>=t.length||t[e].active===!1)return this;const n=this._instanceInfo;for(let r=0,a=n.length;r<a;r++)n[r].active&&n[r].geometryIndex===e&&this.deleteInstance(r);return t[e].active=!1,this._availableGeometryIds.push(e),this._visibilityChanged=!0,this}deleteInstance(e){return this.validateInstanceId(e),this._instanceInfo[e].active=!1,this._availableInstanceIds.push(e),this._visibilityChanged=!0,this}optimize(){let e=0,t=0;const n=this._geometryInfo,r=n.map((s,l)=>l).sort((s,l)=>n[s].vertexStart-n[l].vertexStart),a=this.geometry;for(let s=0,l=n.length;s<l;s++){const u=r[s],f=n[u];if(f.active!==!1){if(a.index!==null){if(f.indexStart!==t){const{indexStart:p,vertexStart:g,reservedIndexCount:v}=f,_=a.index,S=_.array,w=e-g;for(let E=p;E<p+v;E++)S[E]=S[E]+w;_.array.copyWithin(t,p,p+v),_.addUpdateRange(t,v),f.indexStart=t}t+=f.reservedIndexCount}if(f.vertexStart!==e){const{vertexStart:p,reservedVertexCount:g}=f,v=a.attributes;for(const _ in v){const S=v[_],{array:w,itemSize:E}=S;w.copyWithin(e*E,p*E,(p+g)*E),S.addUpdateRange(e*E,g*E)}f.vertexStart=e}e+=f.reservedVertexCount,f.start=a.index?f.indexStart:f.vertexStart,this._nextIndexStart=a.index?f.indexStart+f.reservedIndexCount:0,this._nextVertexStart=f.vertexStart+f.reservedVertexCount}}return this}getBoundingBoxAt(e,t){if(e>=this._geometryCount)return null;const n=this.geometry,r=this._geometryInfo[e];if(r.boundingBox===null){const a=new Fa,s=n.index,l=n.attributes.position;for(let u=r.start,f=r.start+r.count;u<f;u++){let p=u;s&&(p=s.getX(p)),a.expandByPoint(sy.fromBufferAttribute(l,p))}r.boundingBox=a}return t.copy(r.boundingBox),t}getBoundingSphereAt(e,t){if(e>=this._geometryCount)return null;const n=this.geometry,r=this._geometryInfo[e];if(r.boundingSphere===null){const a=new ba;this.getBoundingBoxAt(e,Ob),Ob.getCenter(a.center);const s=n.index,l=n.attributes.position;let u=0;for(let f=r.start,p=r.start+r.count;f<p;f++){let g=f;s&&(g=s.getX(g)),sy.fromBufferAttribute(l,g),u=Math.max(u,a.center.distanceToSquared(sy))}a.radius=Math.sqrt(u),r.boundingSphere=a}return t.copy(r.boundingSphere),t}setMatrixAt(e,t){this.validateInstanceId(e);const n=this._matricesTexture,r=this._matricesTexture.image.data;return t.toArray(r,e*16),n.needsUpdate=!0,this}getMatrixAt(e,t){return this.validateInstanceId(e),t.fromArray(this._matricesTexture.image.data,e*16)}setColorAt(e,t){return this.validateInstanceId(e),this._colorsTexture===null&&this._initColorsTexture(),t.toArray(this._colorsTexture.image.data,e*4),this._colorsTexture.needsUpdate=!0,this}getColorAt(e,t){return this.validateInstanceId(e),t.fromArray(this._colorsTexture.image.data,e*4)}setVisibleAt(e,t){return this.validateInstanceId(e),this._instanceInfo[e].visible===t?this:(this._instanceInfo[e].visible=t,this._visibilityChanged=!0,this)}getVisibleAt(e){return this.validateInstanceId(e),this._instanceInfo[e].visible}setGeometryIdAt(e,t){return this.validateInstanceId(e),this.validateGeometryId(t),this._instanceInfo[e].geometryIndex=t,this}getGeometryIdAt(e){return this.validateInstanceId(e),this._instanceInfo[e].geometryIndex}getGeometryRangeAt(e,t={}){this.validateGeometryId(e);const n=this._geometryInfo[e];return t.vertexStart=n.vertexStart,t.vertexCount=n.vertexCount,t.reservedVertexCount=n.reservedVertexCount,t.indexStart=n.indexStart,t.indexCount=n.indexCount,t.reservedIndexCount=n.reservedIndexCount,t.start=n.start,t.count=n.count,t}setInstanceCount(e){const t=this._availableInstanceIds,n=this._instanceInfo;for(t.sort(UM);t[t.length-1]===n.length-1;)n.pop(),t.pop();if(e<n.length)throw new Error(`BatchedMesh: Instance ids outside the range ${e} are being used. Cannot shrink instance count.`);const r=new Int32Array(e),a=new Int32Array(e);Od(this._multiDrawCounts,r),Od(this._multiDrawStarts,a),this._multiDrawCounts=r,this._multiDrawStarts=a,this._maxInstanceCount=e;const s=this._indirectTexture,l=this._matricesTexture,u=this._colorsTexture;s.dispose(),this._initIndirectTexture(),Od(s.image.data,this._indirectTexture.image.data),l.dispose(),this._initMatricesTexture(),Od(l.image.data,this._matricesTexture.image.data),u&&(u.dispose(),this._initColorsTexture(),Od(u.image.data,this._colorsTexture.image.data))}setGeometrySize(e,t){const n=[...this._geometryInfo].filter(l=>l.active);if(Math.max(...n.map(l=>l.vertexStart+l.reservedVertexCount))>e)throw new Error(`BatchedMesh: Geometry vertex values are being used outside the range ${t}. Cannot shrink further.`);if(this.geometry.index&&Math.max(...n.map(u=>u.indexStart+u.reservedIndexCount))>t)throw new Error(`BatchedMesh: Geometry index values are being used outside the range ${t}. Cannot shrink further.`);const a=this.geometry;a.dispose(),this._maxVertexCount=e,this._maxIndexCount=t,this._geometryInitialized&&(this._geometryInitialized=!1,this.geometry=new Nn,this._initializeGeometry(a));const s=this.geometry;a.index&&Od(a.index.array,s.index.array);for(const l in a.attributes)Od(a.attributes[l].array,s.attributes[l].array)}raycast(e,t){const n=this._instanceInfo,r=this._geometryInfo,a=this.matrixWorld,s=this.geometry;Pa.material=this.material,Pa.geometry.index=s.index,Pa.geometry.attributes=s.attributes,Pa.geometry.boundingBox===null&&(Pa.geometry.boundingBox=new Fa),Pa.geometry.boundingSphere===null&&(Pa.geometry.boundingSphere=new ba);for(let l=0,u=n.length;l<u;l++){if(!n[l].visible||!n[l].active)continue;const f=n[l].geometryIndex,p=r[f];Pa.geometry.setDrawRange(p.start,p.count),this.getMatrixAt(l,Pa.matrixWorld).premultiply(a),this.getBoundingBoxAt(f,Pa.geometry.boundingBox),this.getBoundingSphereAt(f,Pa.geometry.boundingSphere),Pa.raycast(e,Nb);for(let g=0,v=Nb.length;g<v;g++){const _=Nb[g];_.object=this,_.batchId=l,t.push(_)}Nb.length=0}Pa.material=null,Pa.geometry.index=null,Pa.geometry.attributes={},Pa.geometry.setDrawRange(0,1/0)}copy(e){return super.copy(e),this.geometry=e.geometry.clone(),this.perObjectFrustumCulled=e.perObjectFrustumCulled,this.sortObjects=e.sortObjects,this.boundingBox=e.boundingBox!==null?e.boundingBox.clone():null,this.boundingSphere=e.boundingSphere!==null?e.boundingSphere.clone():null,this._geometryInfo=e._geometryInfo.map(t=>({...t,boundingBox:t.boundingBox!==null?t.boundingBox.clone():null,boundingSphere:t.boundingSphere!==null?t.boundingSphere.clone():null})),this._instanceInfo=e._instanceInfo.map(t=>({...t})),this._availableInstanceIds=e._availableInstanceIds.slice(),this._availableGeometryIds=e._availableGeometryIds.slice(),this._nextIndexStart=e._nextIndexStart,this._nextVertexStart=e._nextVertexStart,this._geometryCount=e._geometryCount,this._maxInstanceCount=e._maxInstanceCount,this._maxVertexCount=e._maxVertexCount,this._maxIndexCount=e._maxIndexCount,this._geometryInitialized=e._geometryInitialized,this._multiDrawCounts=e._multiDrawCounts.slice(),this._multiDrawStarts=e._multiDrawStarts.slice(),this._indirectTexture=e._indirectTexture.clone(),this._indirectTexture.image.data=this._indirectTexture.image.data.slice(),this._matricesTexture=e._matricesTexture.clone(),this._matricesTexture.image.data=this._matricesTexture.image.data.slice(),this._colorsTexture!==null&&(this._colorsTexture=e._colorsTexture.clone(),this._colorsTexture.image.data=this._colorsTexture.image.data.slice()),this}dispose(){this.geometry.dispose(),this._matricesTexture.dispose(),this._matricesTexture=null,this._indirectTexture.dispose(),this._indirectTexture=null,this._colorsTexture!==null&&(this._colorsTexture.dispose(),this._colorsTexture=null)}onBeforeRender(e,t,n,r,a){if(!this._visibilityChanged&&!this.perObjectFrustumCulled&&!this.sortObjects)return;const s=r.getIndex(),l=s===null?1:s.array.BYTES_PER_ELEMENT,u=this._instanceInfo,f=this._multiDrawStarts,p=this._multiDrawCounts,g=this._geometryInfo,v=this.perObjectFrustumCulled,_=this._indirectTexture,S=_.image.data,w=n.isArrayCamera?oX:rN;v&&!n.isArrayCamera&&(Ls.multiplyMatrices(n.projectionMatrix,n.matrixWorldInverse).multiply(this.matrixWorld),rN.setFromProjectionMatrix(Ls,n.coordinateSystem,n.reversedDepth));let E=0;if(this.sortObjects){Ls.copy(this.matrixWorld).invert(),sy.setFromMatrixPosition(n.matrixWorld).applyMatrix4(Ls),aN.set(0,0,-1).transformDirection(n.matrixWorld).transformDirection(Ls);for(let C=0,A=u.length;C<A;C++)if(u[C].visible&&u[C].active){const N=u[C].geometryIndex;this.getMatrixAt(C,Ls),this.getBoundingSphereAt(N,Dd).applyMatrix4(Ls);let L=!1;if(v&&(L=!w.intersectsSphere(Dd,n)),!L){const B=g[N],U=lX.subVectors(Dd.center,sy).dot(aN);IM.push(B.start,B.count,U,C)}}const b=IM.list,R=this.customSort;R===null?b.sort(a.transparent?rX:iX):R.call(this,b,n);for(let C=0,A=b.length;C<A;C++){const N=b[C];f[E]=N.start*l,p[E]=N.count,S[E]=N.index,E++}IM.reset()}else for(let b=0,R=u.length;b<R;b++)if(u[b].visible&&u[b].active){const C=u[b].geometryIndex;let A=!1;if(v&&(this.getMatrixAt(b,Ls),this.getBoundingSphereAt(C,Dd).applyMatrix4(Ls),A=!w.intersectsSphere(Dd,n)),!A){const N=g[C];f[E]=N.start*l,p[E]=N.count,S[E]=b,E++}}_.needsUpdate=!0,this._multiDrawCount=E,this._visibilityChanged=!1}onBeforeShadow(e,t,n,r,a,s){this.onBeforeRender(e,null,r,a,s)}}class _s extends Va{constructor(e){super(),this.isLineBasicMaterial=!0,this.type="LineBasicMaterial",this.color=new Vt(16777215),this.map=null,this.linewidth=1,this.linecap="round",this.linejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.linewidth=e.linewidth,this.linecap=e.linecap,this.linejoin=e.linejoin,this.fog=e.fog,this}}const Pw=new le,Lw=new le,sN=new gn,oy=new wg,Pb=new ba,BM=new le,oN=new le;class yh extends ai{constructor(e=new Nn,t=new _s){super(),this.isLine=!0,this.type="Line",this.geometry=e,this.material=t,this.morphTargetDictionary=void 0,this.morphTargetInfluences=void 0,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}computeLineDistances(){const e=this.geometry;if(e.index===null){const t=e.attributes.position,n=[0];for(let r=1,a=t.count;r<a;r++)Pw.fromBufferAttribute(t,r-1),Lw.fromBufferAttribute(t,r),n[r]=n[r-1],n[r]+=Pw.distanceTo(Lw);e.setAttribute("lineDistance",new Yt(n,1))}else console.warn("THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}raycast(e,t){const n=this.geometry,r=this.matrixWorld,a=e.params.Line.threshold,s=n.drawRange;if(n.boundingSphere===null&&n.computeBoundingSphere(),Pb.copy(n.boundingSphere),Pb.applyMatrix4(r),Pb.radius+=a,e.ray.intersectsSphere(Pb)===!1)return;sN.copy(r).invert(),oy.copy(e.ray).applyMatrix4(sN);const l=a/((this.scale.x+this.scale.y+this.scale.z)/3),u=l*l,f=this.isLineSegments?2:1,p=n.index,v=n.attributes.position;if(p!==null){const _=Math.max(0,s.start),S=Math.min(p.count,s.start+s.count);for(let w=_,E=S-1;w<E;w+=f){const b=p.getX(w),R=p.getX(w+1),C=Lb(this,e,oy,u,b,R,w);C&&t.push(C)}if(this.isLineLoop){const w=p.getX(S-1),E=p.getX(_),b=Lb(this,e,oy,u,w,E,S-1);b&&t.push(b)}}else{const _=Math.max(0,s.start),S=Math.min(v.count,s.start+s.count);for(let w=_,E=S-1;w<E;w+=f){const b=Lb(this,e,oy,u,w,w+1,w);b&&t.push(b)}if(this.isLineLoop){const w=Lb(this,e,oy,u,S-1,_,S-1);w&&t.push(w)}}}updateMorphTargets(){const t=this.geometry.morphAttributes,n=Object.keys(t);if(n.length>0){const r=t[n[0]];if(r!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let a=0,s=r.length;a<s;a++){const l=r[a].name||String(a);this.morphTargetInfluences.push(0),this.morphTargetDictionary[l]=a}}}}}function Lb(i,e,t,n,r,a,s){const l=i.geometry.attributes.position;if(Pw.fromBufferAttribute(l,r),Lw.fromBufferAttribute(l,a),t.distanceSqToSegment(Pw,Lw,BM,oN)>n)return;BM.applyMatrix4(i.matrixWorld);const f=e.ray.origin.distanceTo(BM);if(!(f<e.near||f>e.far))return{distance:f,point:oN.clone().applyMatrix4(i.matrixWorld),index:s,face:null,faceIndex:null,barycoord:null,object:i}}const lN=new le,cN=new le;class qc extends yh{constructor(e,t){super(e,t),this.isLineSegments=!0,this.type="LineSegments"}computeLineDistances(){const e=this.geometry;if(e.index===null){const t=e.attributes.position,n=[];for(let r=0,a=t.count;r<a;r+=2)lN.fromBufferAttribute(t,r),cN.fromBufferAttribute(t,r+1),n[r]=r===0?0:n[r-1],n[r+1]=n[r]+lN.distanceTo(cN);e.setAttribute("lineDistance",new Yt(n,1))}else console.warn("THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}}class PB extends yh{constructor(e,t){super(e,t),this.isLineLoop=!0,this.type="LineLoop"}}class ZR extends Va{constructor(e){super(),this.isPointsMaterial=!0,this.type="PointsMaterial",this.color=new Vt(16777215),this.map=null,this.alphaMap=null,this.size=1,this.sizeAttenuation=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.size=e.size,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}const uN=new gn,qA=new wg,Ub=new ba,Ib=new le;class LB extends ai{constructor(e=new Nn,t=new ZR){super(),this.isPoints=!0,this.type="Points",this.geometry=e,this.material=t,this.morphTargetDictionary=void 0,this.morphTargetInfluences=void 0,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}raycast(e,t){const n=this.geometry,r=this.matrixWorld,a=e.params.Points.threshold,s=n.drawRange;if(n.boundingSphere===null&&n.computeBoundingSphere(),Ub.copy(n.boundingSphere),Ub.applyMatrix4(r),Ub.radius+=a,e.ray.intersectsSphere(Ub)===!1)return;uN.copy(r).invert(),qA.copy(e.ray).applyMatrix4(uN);const l=a/((this.scale.x+this.scale.y+this.scale.z)/3),u=l*l,f=n.index,g=n.attributes.position;if(f!==null){const v=Math.max(0,s.start),_=Math.min(f.count,s.start+s.count);for(let S=v,w=_;S<w;S++){const E=f.getX(S);Ib.fromBufferAttribute(g,E),fN(Ib,E,u,r,e,t,this)}}else{const v=Math.max(0,s.start),_=Math.min(g.count,s.start+s.count);for(let S=v,w=_;S<w;S++)Ib.fromBufferAttribute(g,S),fN(Ib,S,u,r,e,t,this)}}updateMorphTargets(){const t=this.geometry.morphAttributes,n=Object.keys(t);if(n.length>0){const r=t[n[0]];if(r!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let a=0,s=r.length;a<s;a++){const l=r[a].name||String(a);this.morphTargetInfluences.push(0),this.morphTargetDictionary[l]=a}}}}}function fN(i,e,t,n,r,a,s){const l=qA.distanceSqToPoint(i);if(l<t){const u=new le;qA.closestPointToPoint(i,u),u.applyMatrix4(n);const f=r.ray.origin.distanceTo(u);if(f<r.near||f>r.far)return;a.push({distance:f,distanceToRay:Math.sqrt(l),point:u,index:e,face:null,faceIndex:null,barycoord:null,object:s})}}class UB extends gi{constructor(e,t,n,r,a=Si,s=Si,l,u,f){super(e,t,n,r,a,s,l,u,f),this.isVideoTexture=!0,this.generateMipmaps=!1,this._requestVideoFrameCallbackId=0;const p=this;function g(){p.needsUpdate=!0,p._requestVideoFrameCallbackId=e.requestVideoFrameCallback(g)}"requestVideoFrameCallback"in e&&(this._requestVideoFrameCallbackId=e.requestVideoFrameCallback(g))}clone(){return new this.constructor(this.image).copy(this)}update(){const e=this.image;"requestVideoFrameCallback"in e===!1&&e.readyState>=e.HAVE_CURRENT_DATA&&(this.needsUpdate=!0)}dispose(){this._requestVideoFrameCallbackId!==0&&this.source.data.cancelVideoFrameCallback(this._requestVideoFrameCallbackId),super.dispose()}}class uX extends UB{constructor(e,t,n,r,a,s,l,u){super({},e,t,n,r,a,s,l,u),this.isVideoFrameTexture=!0}update(){}clone(){return new this.constructor().copy(this)}setFrame(e){this.image=e,this.needsUpdate=!0}}class fX extends gi{constructor(e,t){super({width:e,height:t}),this.isFramebufferTexture=!0,this.magFilter=xa,this.minFilter=xa,this.generateMipmaps=!1,this.needsUpdate=!0}}class bE extends gi{constructor(e,t,n,r,a,s,l,u,f,p,g,v){super(null,s,l,u,f,p,r,a,g,v),this.isCompressedTexture=!0,this.image={width:t,height:n},this.mipmaps=e,this.flipY=!1,this.generateMipmaps=!1}}class hX extends bE{constructor(e,t,n,r,a,s){super(e,t,n,a,s),this.isCompressedArrayTexture=!0,this.image.depth=r,this.wrapR=Lr,this.layerUpdates=new Set}addLayerUpdate(e){this.layerUpdates.add(e)}clearLayerUpdates(){this.layerUpdates.clear()}}class dX extends bE{constructor(e,t,n){super(void 0,e[0].width,e[0].height,t,n,jc),this.isCompressedCubeTexture=!0,this.isCubeTexture=!0,this.image=e}}class pX extends gi{constructor(e,t,n,r,a,s,l,u,f){super(e,t,n,r,a,s,l,u,f),this.isCanvasTexture=!0,this.needsUpdate=!0}}class KR extends gi{constructor(e,t,n=Gc,r,a,s,l=xa,u=xa,f,p=rg,g=1){if(p!==rg&&p!==ag)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");const v={width:e,height:t,depth:g};super(v,r,a,s,l,u,p,n,f),this.isDepthTexture=!0,this.flipY=!1,this.generateMipmaps=!1,this.compareFunction=null}copy(e){return super.copy(e),this.source=new oh(Object.assign({},e.image)),this.compareFunction=e.compareFunction,this}toJSON(e){const t=super.toJSON(e);return this.compareFunction!==null&&(t.compareFunction=this.compareFunction),t}}class SE extends Nn{constructor(e=1,t=1,n=4,r=8,a=1){super(),this.type="CapsuleGeometry",this.parameters={radius:e,height:t,capSegments:n,radialSegments:r,heightSegments:a},t=Math.max(0,t),n=Math.max(1,Math.floor(n)),r=Math.max(3,Math.floor(r)),a=Math.max(1,Math.floor(a));const s=[],l=[],u=[],f=[],p=t/2,g=Math.PI/2*e,v=t,_=2*g+v,S=n*2+a,w=r+1,E=new le,b=new le;for(let R=0;R<=S;R++){let C=0,A=0,N=0,L=0;if(R<=n){const P=R/n,z=P*Math.PI/2;A=-p-e*Math.cos(z),N=e*Math.sin(z),L=-e*Math.cos(z),C=P*g}else if(R<=n+a){const P=(R-n)/a;A=-p+P*t,N=e,L=0,C=g+P*v}else{const P=(R-n-a)/n,z=P*Math.PI/2;A=p+e*Math.sin(z),N=e*Math.cos(z),L=e*Math.sin(z),C=g+v+P*g}const B=Math.max(0,Math.min(1,C/_));let U=0;R===0?U=.5/r:R===S&&(U=-.5/r);for(let P=0;P<=r;P++){const z=P/r,X=z*Math.PI*2,te=Math.sin(X),se=Math.cos(X);b.x=-N*se,b.y=A,b.z=N*te,l.push(b.x,b.y,b.z),E.set(-N*se,L,N*te),E.normalize(),u.push(E.x,E.y,E.z),f.push(z+U,B)}if(R>0){const P=(R-1)*w;for(let z=0;z<r;z++){const X=P+z,te=P+z+1,se=R*w+z,ae=R*w+z+1;s.push(X,te,se),s.push(te,ae,se)}}}this.setIndex(s),this.setAttribute("position",new Yt(l,3)),this.setAttribute("normal",new Yt(u,3)),this.setAttribute("uv",new Yt(f,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new SE(e.radius,e.height,e.capSegments,e.radialSegments,e.heightSegments)}}class wE extends Nn{constructor(e=1,t=32,n=0,r=Math.PI*2){super(),this.type="CircleGeometry",this.parameters={radius:e,segments:t,thetaStart:n,thetaLength:r},t=Math.max(3,t);const a=[],s=[],l=[],u=[],f=new le,p=new ut;s.push(0,0,0),l.push(0,0,1),u.push(.5,.5);for(let g=0,v=3;g<=t;g++,v+=3){const _=n+g/t*r;f.x=e*Math.cos(_),f.y=e*Math.sin(_),s.push(f.x,f.y,f.z),l.push(0,0,1),p.x=(s[v]/e+1)/2,p.y=(s[v+1]/e+1)/2,u.push(p.x,p.y)}for(let g=1;g<=t;g++)a.push(g,g+1,0);this.setIndex(a),this.setAttribute("position",new Yt(s,3)),this.setAttribute("normal",new Yt(l,3)),this.setAttribute("uv",new Yt(u,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new wE(e.radius,e.segments,e.thetaStart,e.thetaLength)}}class Q_ extends Nn{constructor(e=1,t=1,n=1,r=32,a=1,s=!1,l=0,u=Math.PI*2){super(),this.type="CylinderGeometry",this.parameters={radiusTop:e,radiusBottom:t,height:n,radialSegments:r,heightSegments:a,openEnded:s,thetaStart:l,thetaLength:u};const f=this;r=Math.floor(r),a=Math.floor(a);const p=[],g=[],v=[],_=[];let S=0;const w=[],E=n/2;let b=0;R(),s===!1&&(e>0&&C(!0),t>0&&C(!1)),this.setIndex(p),this.setAttribute("position",new Yt(g,3)),this.setAttribute("normal",new Yt(v,3)),this.setAttribute("uv",new Yt(_,2));function R(){const A=new le,N=new le;let L=0;const B=(t-e)/n;for(let U=0;U<=a;U++){const P=[],z=U/a,X=z*(t-e)+e;for(let te=0;te<=r;te++){const se=te/r,ae=se*u+l,ue=Math.sin(ae),G=Math.cos(ae);N.x=X*ue,N.y=-z*n+E,N.z=X*G,g.push(N.x,N.y,N.z),A.set(ue,B,G).normalize(),v.push(A.x,A.y,A.z),_.push(se,1-z),P.push(S++)}w.push(P)}for(let U=0;U<r;U++)for(let P=0;P<a;P++){const z=w[P][U],X=w[P+1][U],te=w[P+1][U+1],se=w[P][U+1];(e>0||P!==0)&&(p.push(z,X,se),L+=3),(t>0||P!==a-1)&&(p.push(X,te,se),L+=3)}f.addGroup(b,L,0),b+=L}function C(A){const N=S,L=new ut,B=new le;let U=0;const P=A===!0?e:t,z=A===!0?1:-1;for(let te=1;te<=r;te++)g.push(0,E*z,0),v.push(0,z,0),_.push(.5,.5),S++;const X=S;for(let te=0;te<=r;te++){const ae=te/r*u+l,ue=Math.cos(ae),G=Math.sin(ae);B.x=P*G,B.y=E*z,B.z=P*ue,g.push(B.x,B.y,B.z),v.push(0,z,0),L.x=ue*.5+.5,L.y=G*.5*z+.5,_.push(L.x,L.y),S++}for(let te=0;te<r;te++){const se=N+te,ae=X+te;A===!0?p.push(ae,ae+1,se):p.push(ae+1,ae,se),U+=3}f.addGroup(b,U,A===!0?1:2),b+=U}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Q_(e.radiusTop,e.radiusBottom,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class ex extends Q_{constructor(e=1,t=1,n=32,r=1,a=!1,s=0,l=Math.PI*2){super(0,e,t,n,r,a,s,l),this.type="ConeGeometry",this.parameters={radius:e,height:t,radialSegments:n,heightSegments:r,openEnded:a,thetaStart:s,thetaLength:l}}static fromJSON(e){return new ex(e.radius,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class Ah extends Nn{constructor(e=[],t=[],n=1,r=0){super(),this.type="PolyhedronGeometry",this.parameters={vertices:e,indices:t,radius:n,detail:r};const a=[],s=[];l(r),f(n),p(),this.setAttribute("position",new Yt(a,3)),this.setAttribute("normal",new Yt(a.slice(),3)),this.setAttribute("uv",new Yt(s,2)),r===0?this.computeVertexNormals():this.normalizeNormals();function l(R){const C=new le,A=new le,N=new le;for(let L=0;L<t.length;L+=3)_(t[L+0],C),_(t[L+1],A),_(t[L+2],N),u(C,A,N,R)}function u(R,C,A,N){const L=N+1,B=[];for(let U=0;U<=L;U++){B[U]=[];const P=R.clone().lerp(A,U/L),z=C.clone().lerp(A,U/L),X=L-U;for(let te=0;te<=X;te++)te===0&&U===L?B[U][te]=P:B[U][te]=P.clone().lerp(z,te/X)}for(let U=0;U<L;U++)for(let P=0;P<2*(L-U)-1;P++){const z=Math.floor(P/2);P%2===0?(v(B[U][z+1]),v(B[U+1][z]),v(B[U][z])):(v(B[U][z+1]),v(B[U+1][z+1]),v(B[U+1][z]))}}function f(R){const C=new le;for(let A=0;A<a.length;A+=3)C.x=a[A+0],C.y=a[A+1],C.z=a[A+2],C.normalize().multiplyScalar(R),a[A+0]=C.x,a[A+1]=C.y,a[A+2]=C.z}function p(){const R=new le;for(let C=0;C<a.length;C+=3){R.x=a[C+0],R.y=a[C+1],R.z=a[C+2];const A=E(R)/2/Math.PI+.5,N=b(R)/Math.PI+.5;s.push(A,1-N)}S(),g()}function g(){for(let R=0;R<s.length;R+=6){const C=s[R+0],A=s[R+2],N=s[R+4],L=Math.max(C,A,N),B=Math.min(C,A,N);L>.9&&B<.1&&(C<.2&&(s[R+0]+=1),A<.2&&(s[R+2]+=1),N<.2&&(s[R+4]+=1))}}function v(R){a.push(R.x,R.y,R.z)}function _(R,C){const A=R*3;C.x=e[A+0],C.y=e[A+1],C.z=e[A+2]}function S(){const R=new le,C=new le,A=new le,N=new le,L=new ut,B=new ut,U=new ut;for(let P=0,z=0;P<a.length;P+=9,z+=6){R.set(a[P+0],a[P+1],a[P+2]),C.set(a[P+3],a[P+4],a[P+5]),A.set(a[P+6],a[P+7],a[P+8]),L.set(s[z+0],s[z+1]),B.set(s[z+2],s[z+3]),U.set(s[z+4],s[z+5]),N.copy(R).add(C).add(A).divideScalar(3);const X=E(N);w(L,z+0,R,X),w(B,z+2,C,X),w(U,z+4,A,X)}}function w(R,C,A,N){N<0&&R.x===1&&(s[C]=R.x-1),A.x===0&&A.z===0&&(s[C]=N/2/Math.PI+.5)}function E(R){return Math.atan2(R.z,-R.x)}function b(R){return Math.atan2(-R.y,Math.sqrt(R.x*R.x+R.z*R.z))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Ah(e.vertices,e.indices,e.radius,e.details)}}class EE extends Ah{constructor(e=1,t=0){const n=(1+Math.sqrt(5))/2,r=1/n,a=[-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,0,-r,-n,0,-r,n,0,r,-n,0,r,n,-r,-n,0,-r,n,0,r,-n,0,r,n,0,-n,0,-r,n,0,-r,-n,0,r,n,0,r],s=[3,11,7,3,7,15,3,15,13,7,19,17,7,17,6,7,6,15,17,4,8,17,8,10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,6,2,13,6,13,15,2,16,18,2,18,3,2,3,13,18,1,9,18,9,11,18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,11,19,7,19,5,14,19,14,4,19,4,17,1,12,14,1,14,5,1,5,9];super(a,s,e,t),this.type="DodecahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new EE(e.radius,e.detail)}}const Bb=new le,zb=new le,zM=new le,kb=new Bs;class IB extends Nn{constructor(e=null,t=1){if(super(),this.type="EdgesGeometry",this.parameters={geometry:e,thresholdAngle:t},e!==null){const r=Math.pow(10,4),a=Math.cos(pp*t),s=e.getIndex(),l=e.getAttribute("position"),u=s?s.count:l.count,f=[0,0,0],p=["a","b","c"],g=new Array(3),v={},_=[];for(let S=0;S<u;S+=3){s?(f[0]=s.getX(S),f[1]=s.getX(S+1),f[2]=s.getX(S+2)):(f[0]=S,f[1]=S+1,f[2]=S+2);const{a:w,b:E,c:b}=kb;if(w.fromBufferAttribute(l,f[0]),E.fromBufferAttribute(l,f[1]),b.fromBufferAttribute(l,f[2]),kb.getNormal(zM),g[0]=`${Math.round(w.x*r)},${Math.round(w.y*r)},${Math.round(w.z*r)}`,g[1]=`${Math.round(E.x*r)},${Math.round(E.y*r)},${Math.round(E.z*r)}`,g[2]=`${Math.round(b.x*r)},${Math.round(b.y*r)},${Math.round(b.z*r)}`,!(g[0]===g[1]||g[1]===g[2]||g[2]===g[0]))for(let R=0;R<3;R++){const C=(R+1)%3,A=g[R],N=g[C],L=kb[p[R]],B=kb[p[C]],U=`${A}_${N}`,P=`${N}_${A}`;P in v&&v[P]?(zM.dot(v[P].normal)<=a&&(_.push(L.x,L.y,L.z),_.push(B.x,B.y,B.z)),v[P]=null):U in v||(v[U]={index0:f[R],index1:f[C],normal:zM.clone()})}}for(const S in v)if(v[S]){const{index0:w,index1:E}=v[S];Bb.fromBufferAttribute(l,w),zb.fromBufferAttribute(l,E),_.push(Bb.x,Bb.y,Bb.z),_.push(zb.x,zb.y,zb.z)}this.setAttribute("position",new Yt(_,3))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}}class Fl{constructor(){this.type="Curve",this.arcLengthDivisions=200,this.needsUpdate=!1,this.cacheArcLengths=null}getPoint(){console.warn("THREE.Curve: .getPoint() not implemented.")}getPointAt(e,t){const n=this.getUtoTmapping(e);return this.getPoint(n,t)}getPoints(e=5){const t=[];for(let n=0;n<=e;n++)t.push(this.getPoint(n/e));return t}getSpacedPoints(e=5){const t=[];for(let n=0;n<=e;n++)t.push(this.getPointAt(n/e));return t}getLength(){const e=this.getLengths();return e[e.length-1]}getLengths(e=this.arcLengthDivisions){if(this.cacheArcLengths&&this.cacheArcLengths.length===e+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;const t=[];let n,r=this.getPoint(0),a=0;t.push(0);for(let s=1;s<=e;s++)n=this.getPoint(s/e),a+=n.distanceTo(r),t.push(a),r=n;return this.cacheArcLengths=t,t}updateArcLengths(){this.needsUpdate=!0,this.getLengths()}getUtoTmapping(e,t=null){const n=this.getLengths();let r=0;const a=n.length;let s;t?s=t:s=e*n[a-1];let l=0,u=a-1,f;for(;l<=u;)if(r=Math.floor(l+(u-l)/2),f=n[r]-s,f<0)l=r+1;else if(f>0)u=r-1;else{u=r;break}if(r=u,n[r]===s)return r/(a-1);const p=n[r],v=n[r+1]-p,_=(s-p)/v;return(r+_)/(a-1)}getTangent(e,t){let r=e-1e-4,a=e+1e-4;r<0&&(r=0),a>1&&(a=1);const s=this.getPoint(r),l=this.getPoint(a),u=t||(s.isVector2?new ut:new le);return u.copy(l).sub(s).normalize(),u}getTangentAt(e,t){const n=this.getUtoTmapping(e);return this.getTangent(n,t)}computeFrenetFrames(e,t=!1){const n=new le,r=[],a=[],s=[],l=new le,u=new gn;for(let _=0;_<=e;_++){const S=_/e;r[_]=this.getTangentAt(S,new le)}a[0]=new le,s[0]=new le;let f=Number.MAX_VALUE;const p=Math.abs(r[0].x),g=Math.abs(r[0].y),v=Math.abs(r[0].z);p<=f&&(f=p,n.set(1,0,0)),g<=f&&(f=g,n.set(0,1,0)),v<=f&&n.set(0,0,1),l.crossVectors(r[0],n).normalize(),a[0].crossVectors(r[0],l),s[0].crossVectors(r[0],a[0]);for(let _=1;_<=e;_++){if(a[_]=a[_-1].clone(),s[_]=s[_-1].clone(),l.crossVectors(r[_-1],r[_]),l.length()>Number.EPSILON){l.normalize();const S=Math.acos(dn(r[_-1].dot(r[_]),-1,1));a[_].applyMatrix4(u.makeRotationAxis(l,S))}s[_].crossVectors(r[_],a[_])}if(t===!0){let _=Math.acos(dn(a[0].dot(a[e]),-1,1));_/=e,r[0].dot(l.crossVectors(a[0],a[e]))>0&&(_=-_);for(let S=1;S<=e;S++)a[S].applyMatrix4(u.makeRotationAxis(r[S],_*S)),s[S].crossVectors(r[S],a[S])}return{tangents:r,normals:a,binormals:s}}clone(){return new this.constructor().copy(this)}copy(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}toJSON(){const e={metadata:{version:4.7,type:"Curve",generator:"Curve.toJSON"}};return e.arcLengthDivisions=this.arcLengthDivisions,e.type=this.type,e}fromJSON(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}}class ME extends Fl{constructor(e=0,t=0,n=1,r=1,a=0,s=Math.PI*2,l=!1,u=0){super(),this.isEllipseCurve=!0,this.type="EllipseCurve",this.aX=e,this.aY=t,this.xRadius=n,this.yRadius=r,this.aStartAngle=a,this.aEndAngle=s,this.aClockwise=l,this.aRotation=u}getPoint(e,t=new ut){const n=t,r=Math.PI*2;let a=this.aEndAngle-this.aStartAngle;const s=Math.abs(a)<Number.EPSILON;for(;a<0;)a+=r;for(;a>r;)a-=r;a<Number.EPSILON&&(s?a=0:a=r),this.aClockwise===!0&&!s&&(a===r?a=-r:a=a-r);const l=this.aStartAngle+e*a;let u=this.aX+this.xRadius*Math.cos(l),f=this.aY+this.yRadius*Math.sin(l);if(this.aRotation!==0){const p=Math.cos(this.aRotation),g=Math.sin(this.aRotation),v=u-this.aX,_=f-this.aY;u=v*p-_*g+this.aX,f=v*g+_*p+this.aY}return n.set(u,f)}copy(e){return super.copy(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}toJSON(){const e=super.toJSON();return e.aX=this.aX,e.aY=this.aY,e.xRadius=this.xRadius,e.yRadius=this.yRadius,e.aStartAngle=this.aStartAngle,e.aEndAngle=this.aEndAngle,e.aClockwise=this.aClockwise,e.aRotation=this.aRotation,e}fromJSON(e){return super.fromJSON(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}}class BB extends ME{constructor(e,t,n,r,a,s){super(e,t,n,n,r,a,s),this.isArcCurve=!0,this.type="ArcCurve"}}function $R(){let i=0,e=0,t=0,n=0;function r(a,s,l,u){i=a,e=l,t=-3*a+3*s-2*l-u,n=2*a-2*s+l+u}return{initCatmullRom:function(a,s,l,u,f){r(s,l,f*(l-a),f*(u-s))},initNonuniformCatmullRom:function(a,s,l,u,f,p,g){let v=(s-a)/f-(l-a)/(f+p)+(l-s)/p,_=(l-s)/p-(u-s)/(p+g)+(u-l)/g;v*=p,_*=p,r(s,l,v,_)},calc:function(a){const s=a*a,l=s*a;return i+e*a+t*s+n*l}}}const Fb=new le,kM=new $R,FM=new $R,HM=new $R;class zB extends Fl{constructor(e=[],t=!1,n="centripetal",r=.5){super(),this.isCatmullRomCurve3=!0,this.type="CatmullRomCurve3",this.points=e,this.closed=t,this.curveType=n,this.tension=r}getPoint(e,t=new le){const n=t,r=this.points,a=r.length,s=(a-(this.closed?0:1))*e;let l=Math.floor(s),u=s-l;this.closed?l+=l>0?0:(Math.floor(Math.abs(l)/a)+1)*a:u===0&&l===a-1&&(l=a-2,u=1);let f,p;this.closed||l>0?f=r[(l-1)%a]:(Fb.subVectors(r[0],r[1]).add(r[0]),f=Fb);const g=r[l%a],v=r[(l+1)%a];if(this.closed||l+2<a?p=r[(l+2)%a]:(Fb.subVectors(r[a-1],r[a-2]).add(r[a-1]),p=Fb),this.curveType==="centripetal"||this.curveType==="chordal"){const _=this.curveType==="chordal"?.5:.25;let S=Math.pow(f.distanceToSquared(g),_),w=Math.pow(g.distanceToSquared(v),_),E=Math.pow(v.distanceToSquared(p),_);w<1e-4&&(w=1),S<1e-4&&(S=w),E<1e-4&&(E=w),kM.initNonuniformCatmullRom(f.x,g.x,v.x,p.x,S,w,E),FM.initNonuniformCatmullRom(f.y,g.y,v.y,p.y,S,w,E),HM.initNonuniformCatmullRom(f.z,g.z,v.z,p.z,S,w,E)}else this.curveType==="catmullrom"&&(kM.initCatmullRom(f.x,g.x,v.x,p.x,this.tension),FM.initCatmullRom(f.y,g.y,v.y,p.y,this.tension),HM.initCatmullRom(f.z,g.z,v.z,p.z,this.tension));return n.set(kM.calc(u),FM.calc(u),HM.calc(u)),n}copy(e){super.copy(e),this.points=[];for(let t=0,n=e.points.length;t<n;t++){const r=e.points[t];this.points.push(r.clone())}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}toJSON(){const e=super.toJSON();e.points=[];for(let t=0,n=this.points.length;t<n;t++){const r=this.points[t];e.points.push(r.toArray())}return e.closed=this.closed,e.curveType=this.curveType,e.tension=this.tension,e}fromJSON(e){super.fromJSON(e),this.points=[];for(let t=0,n=e.points.length;t<n;t++){const r=e.points[t];this.points.push(new le().fromArray(r))}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}}function hN(i,e,t,n,r){const a=(n-e)*.5,s=(r-t)*.5,l=i*i,u=i*l;return(2*t-2*n+a+s)*u+(-3*t+3*n-2*a-s)*l+a*i+t}function mX(i,e){const t=1-i;return t*t*e}function gX(i,e){return 2*(1-i)*i*e}function vX(i,e){return i*i*e}function Yy(i,e,t,n){return mX(i,e)+gX(i,t)+vX(i,n)}function yX(i,e){const t=1-i;return t*t*t*e}function _X(i,e){const t=1-i;return 3*t*t*i*e}function xX(i,e){return 3*(1-i)*i*i*e}function bX(i,e){return i*i*i*e}function Zy(i,e,t,n,r){return yX(i,e)+_X(i,t)+xX(i,n)+bX(i,r)}class JR extends Fl{constructor(e=new ut,t=new ut,n=new ut,r=new ut){super(),this.isCubicBezierCurve=!0,this.type="CubicBezierCurve",this.v0=e,this.v1=t,this.v2=n,this.v3=r}getPoint(e,t=new ut){const n=t,r=this.v0,a=this.v1,s=this.v2,l=this.v3;return n.set(Zy(e,r.x,a.x,s.x,l.x),Zy(e,r.y,a.y,s.y,l.y)),n}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class kB extends Fl{constructor(e=new le,t=new le,n=new le,r=new le){super(),this.isCubicBezierCurve3=!0,this.type="CubicBezierCurve3",this.v0=e,this.v1=t,this.v2=n,this.v3=r}getPoint(e,t=new le){const n=t,r=this.v0,a=this.v1,s=this.v2,l=this.v3;return n.set(Zy(e,r.x,a.x,s.x,l.x),Zy(e,r.y,a.y,s.y,l.y),Zy(e,r.z,a.z,s.z,l.z)),n}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class QR extends Fl{constructor(e=new ut,t=new ut){super(),this.isLineCurve=!0,this.type="LineCurve",this.v1=e,this.v2=t}getPoint(e,t=new ut){const n=t;return e===1?n.copy(this.v2):(n.copy(this.v2).sub(this.v1),n.multiplyScalar(e).add(this.v1)),n}getPointAt(e,t){return this.getPoint(e,t)}getTangent(e,t=new ut){return t.subVectors(this.v2,this.v1).normalize()}getTangentAt(e,t){return this.getTangent(e,t)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class FB extends Fl{constructor(e=new le,t=new le){super(),this.isLineCurve3=!0,this.type="LineCurve3",this.v1=e,this.v2=t}getPoint(e,t=new le){const n=t;return e===1?n.copy(this.v2):(n.copy(this.v2).sub(this.v1),n.multiplyScalar(e).add(this.v1)),n}getPointAt(e,t){return this.getPoint(e,t)}getTangent(e,t=new le){return t.subVectors(this.v2,this.v1).normalize()}getTangentAt(e,t){return this.getTangent(e,t)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class e3 extends Fl{constructor(e=new ut,t=new ut,n=new ut){super(),this.isQuadraticBezierCurve=!0,this.type="QuadraticBezierCurve",this.v0=e,this.v1=t,this.v2=n}getPoint(e,t=new ut){const n=t,r=this.v0,a=this.v1,s=this.v2;return n.set(Yy(e,r.x,a.x,s.x),Yy(e,r.y,a.y,s.y)),n}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class t3 extends Fl{constructor(e=new le,t=new le,n=new le){super(),this.isQuadraticBezierCurve3=!0,this.type="QuadraticBezierCurve3",this.v0=e,this.v1=t,this.v2=n}getPoint(e,t=new le){const n=t,r=this.v0,a=this.v1,s=this.v2;return n.set(Yy(e,r.x,a.x,s.x),Yy(e,r.y,a.y,s.y),Yy(e,r.z,a.z,s.z)),n}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class n3 extends Fl{constructor(e=[]){super(),this.isSplineCurve=!0,this.type="SplineCurve",this.points=e}getPoint(e,t=new ut){const n=t,r=this.points,a=(r.length-1)*e,s=Math.floor(a),l=a-s,u=r[s===0?s:s-1],f=r[s],p=r[s>r.length-2?r.length-1:s+1],g=r[s>r.length-3?r.length-1:s+2];return n.set(hN(l,u.x,f.x,p.x,g.x),hN(l,u.y,f.y,p.y,g.y)),n}copy(e){super.copy(e),this.points=[];for(let t=0,n=e.points.length;t<n;t++){const r=e.points[t];this.points.push(r.clone())}return this}toJSON(){const e=super.toJSON();e.points=[];for(let t=0,n=this.points.length;t<n;t++){const r=this.points[t];e.points.push(r.toArray())}return e}fromJSON(e){super.fromJSON(e),this.points=[];for(let t=0,n=e.points.length;t<n;t++){const r=e.points[t];this.points.push(new ut().fromArray(r))}return this}}var Uw=Object.freeze({__proto__:null,ArcCurve:BB,CatmullRomCurve3:zB,CubicBezierCurve:JR,CubicBezierCurve3:kB,EllipseCurve:ME,LineCurve:QR,LineCurve3:FB,QuadraticBezierCurve:e3,QuadraticBezierCurve3:t3,SplineCurve:n3});class HB extends Fl{constructor(){super(),this.type="CurvePath",this.curves=[],this.autoClose=!1}add(e){this.curves.push(e)}closePath(){const e=this.curves[0].getPoint(0),t=this.curves[this.curves.length-1].getPoint(1);if(!e.equals(t)){const n=e.isVector2===!0?"LineCurve":"LineCurve3";this.curves.push(new Uw[n](t,e))}return this}getPoint(e,t){const n=e*this.getLength(),r=this.getCurveLengths();let a=0;for(;a<r.length;){if(r[a]>=n){const s=r[a]-n,l=this.curves[a],u=l.getLength(),f=u===0?0:1-s/u;return l.getPointAt(f,t)}a++}return null}getLength(){const e=this.getCurveLengths();return e[e.length-1]}updateArcLengths(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()}getCurveLengths(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;const e=[];let t=0;for(let n=0,r=this.curves.length;n<r;n++)t+=this.curves[n].getLength(),e.push(t);return this.cacheLengths=e,e}getSpacedPoints(e=40){const t=[];for(let n=0;n<=e;n++)t.push(this.getPoint(n/e));return this.autoClose&&t.push(t[0]),t}getPoints(e=12){const t=[];let n;for(let r=0,a=this.curves;r<a.length;r++){const s=a[r],l=s.isEllipseCurve?e*2:s.isLineCurve||s.isLineCurve3?1:s.isSplineCurve?e*s.points.length:e,u=s.getPoints(l);for(let f=0;f<u.length;f++){const p=u[f];n&&n.equals(p)||(t.push(p),n=p)}}return this.autoClose&&t.length>1&&!t[t.length-1].equals(t[0])&&t.push(t[0]),t}copy(e){super.copy(e),this.curves=[];for(let t=0,n=e.curves.length;t<n;t++){const r=e.curves[t];this.curves.push(r.clone())}return this.autoClose=e.autoClose,this}toJSON(){const e=super.toJSON();e.autoClose=this.autoClose,e.curves=[];for(let t=0,n=this.curves.length;t<n;t++){const r=this.curves[t];e.curves.push(r.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.autoClose=e.autoClose,this.curves=[];for(let t=0,n=e.curves.length;t<n;t++){const r=e.curves[t];this.curves.push(new Uw[r.type]().fromJSON(r))}return this}}class Iw extends HB{constructor(e){super(),this.type="Path",this.currentPoint=new ut,e&&this.setFromPoints(e)}setFromPoints(e){this.moveTo(e[0].x,e[0].y);for(let t=1,n=e.length;t<n;t++)this.lineTo(e[t].x,e[t].y);return this}moveTo(e,t){return this.currentPoint.set(e,t),this}lineTo(e,t){const n=new QR(this.currentPoint.clone(),new ut(e,t));return this.curves.push(n),this.currentPoint.set(e,t),this}quadraticCurveTo(e,t,n,r){const a=new e3(this.currentPoint.clone(),new ut(e,t),new ut(n,r));return this.curves.push(a),this.currentPoint.set(n,r),this}bezierCurveTo(e,t,n,r,a,s){const l=new JR(this.currentPoint.clone(),new ut(e,t),new ut(n,r),new ut(a,s));return this.curves.push(l),this.currentPoint.set(a,s),this}splineThru(e){const t=[this.currentPoint.clone()].concat(e),n=new n3(t);return this.curves.push(n),this.currentPoint.copy(e[e.length-1]),this}arc(e,t,n,r,a,s){const l=this.currentPoint.x,u=this.currentPoint.y;return this.absarc(e+l,t+u,n,r,a,s),this}absarc(e,t,n,r,a,s){return this.absellipse(e,t,n,n,r,a,s),this}ellipse(e,t,n,r,a,s,l,u){const f=this.currentPoint.x,p=this.currentPoint.y;return this.absellipse(e+f,t+p,n,r,a,s,l,u),this}absellipse(e,t,n,r,a,s,l,u){const f=new ME(e,t,n,r,a,s,l,u);if(this.curves.length>0){const g=f.getPoint(0);g.equals(this.currentPoint)||this.lineTo(g.x,g.y)}this.curves.push(f);const p=f.getPoint(1);return this.currentPoint.copy(p),this}copy(e){return super.copy(e),this.currentPoint.copy(e.currentPoint),this}toJSON(){const e=super.toJSON();return e.currentPoint=this.currentPoint.toArray(),e}fromJSON(e){return super.fromJSON(e),this.currentPoint.fromArray(e.currentPoint),this}}class mp extends Iw{constructor(e){super(e),this.uuid=go(),this.type="Shape",this.holes=[]}getPointsHoles(e){const t=[];for(let n=0,r=this.holes.length;n<r;n++)t[n]=this.holes[n].getPoints(e);return t}extractPoints(e){return{shape:this.getPoints(e),holes:this.getPointsHoles(e)}}copy(e){super.copy(e),this.holes=[];for(let t=0,n=e.holes.length;t<n;t++){const r=e.holes[t];this.holes.push(r.clone())}return this}toJSON(){const e=super.toJSON();e.uuid=this.uuid,e.holes=[];for(let t=0,n=this.holes.length;t<n;t++){const r=this.holes[t];e.holes.push(r.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.uuid=e.uuid,this.holes=[];for(let t=0,n=e.holes.length;t<n;t++){const r=e.holes[t];this.holes.push(new Iw().fromJSON(r))}return this}}function SX(i,e,t=2){const n=e&&e.length,r=n?e[0]*t:i.length;let a=VB(i,0,r,t,!0);const s=[];if(!a||a.next===a.prev)return s;let l,u,f;if(n&&(a=AX(i,e,a,t)),i.length>80*t){l=1/0,u=1/0;let p=-1/0,g=-1/0;for(let v=t;v<r;v+=t){const _=i[v],S=i[v+1];_<l&&(l=_),S<u&&(u=S),_>p&&(p=_),S>g&&(g=S)}f=Math.max(p-l,g-u),f=f!==0?32767/f:0}return E_(a,s,t,l,u,f,0),s}function VB(i,e,t,n,r){let a;if(r===zX(i,e,t,n)>0)for(let s=e;s<t;s+=n)a=dN(s/n|0,i[s],i[s+1],a);else for(let s=t-n;s>=e;s-=n)a=dN(s/n|0,i[s],i[s+1],a);return a&&fg(a,a.next)&&(T_(a),a=a.next),a}function Ep(i,e){if(!i)return i;e||(e=i);let t=i,n;do if(n=!1,!t.steiner&&(fg(t,t.next)||nr(t.prev,t,t.next)===0)){if(T_(t),t=e=t.prev,t===t.next)break;n=!0}else t=t.next;while(n||t!==e);return e}function E_(i,e,t,n,r,a,s){if(!i)return;!s&&a&&NX(i,n,r,a);let l=i;for(;i.prev!==i.next;){const u=i.prev,f=i.next;if(a?EX(i,n,r,a):wX(i)){e.push(u.i,i.i,f.i),T_(i),i=f.next,l=f.next;continue}if(i=f,i===l){s?s===1?(i=MX(Ep(i),e),E_(i,e,t,n,r,a,2)):s===2&&TX(i,e,t,n,r,a):E_(Ep(i),e,t,n,r,a,1);break}}}function wX(i){const e=i.prev,t=i,n=i.next;if(nr(e,t,n)>=0)return!1;const r=e.x,a=t.x,s=n.x,l=e.y,u=t.y,f=n.y,p=Math.min(r,a,s),g=Math.min(l,u,f),v=Math.max(r,a,s),_=Math.max(l,u,f);let S=n.next;for(;S!==e;){if(S.x>=p&&S.x<=v&&S.y>=g&&S.y<=_&&by(r,l,a,u,s,f,S.x,S.y)&&nr(S.prev,S,S.next)>=0)return!1;S=S.next}return!0}function EX(i,e,t,n){const r=i.prev,a=i,s=i.next;if(nr(r,a,s)>=0)return!1;const l=r.x,u=a.x,f=s.x,p=r.y,g=a.y,v=s.y,_=Math.min(l,u,f),S=Math.min(p,g,v),w=Math.max(l,u,f),E=Math.max(p,g,v),b=YA(_,S,e,t,n),R=YA(w,E,e,t,n);let C=i.prevZ,A=i.nextZ;for(;C&&C.z>=b&&A&&A.z<=R;){if(C.x>=_&&C.x<=w&&C.y>=S&&C.y<=E&&C!==r&&C!==s&&by(l,p,u,g,f,v,C.x,C.y)&&nr(C.prev,C,C.next)>=0||(C=C.prevZ,A.x>=_&&A.x<=w&&A.y>=S&&A.y<=E&&A!==r&&A!==s&&by(l,p,u,g,f,v,A.x,A.y)&&nr(A.prev,A,A.next)>=0))return!1;A=A.nextZ}for(;C&&C.z>=b;){if(C.x>=_&&C.x<=w&&C.y>=S&&C.y<=E&&C!==r&&C!==s&&by(l,p,u,g,f,v,C.x,C.y)&&nr(C.prev,C,C.next)>=0)return!1;C=C.prevZ}for(;A&&A.z<=R;){if(A.x>=_&&A.x<=w&&A.y>=S&&A.y<=E&&A!==r&&A!==s&&by(l,p,u,g,f,v,A.x,A.y)&&nr(A.prev,A,A.next)>=0)return!1;A=A.nextZ}return!0}function MX(i,e){let t=i;do{const n=t.prev,r=t.next.next;!fg(n,r)&&GB(n,t,t.next,r)&&M_(n,r)&&M_(r,n)&&(e.push(n.i,t.i,r.i),T_(t),T_(t.next),t=i=r),t=t.next}while(t!==i);return Ep(t)}function TX(i,e,t,n,r,a){let s=i;do{let l=s.next.next;for(;l!==s.prev;){if(s.i!==l.i&&UX(s,l)){let u=WB(s,l);s=Ep(s,s.next),u=Ep(u,u.next),E_(s,e,t,n,r,a,0),E_(u,e,t,n,r,a,0);return}l=l.next}s=s.next}while(s!==i)}function AX(i,e,t,n){const r=[];for(let a=0,s=e.length;a<s;a++){const l=e[a]*n,u=a<s-1?e[a+1]*n:i.length,f=VB(i,l,u,n,!1);f===f.next&&(f.steiner=!0),r.push(LX(f))}r.sort(CX);for(let a=0;a<r.length;a++)t=RX(r[a],t);return t}function CX(i,e){let t=i.x-e.x;if(t===0&&(t=i.y-e.y,t===0)){const n=(i.next.y-i.y)/(i.next.x-i.x),r=(e.next.y-e.y)/(e.next.x-e.x);t=n-r}return t}function RX(i,e){const t=DX(i,e);if(!t)return e;const n=WB(t,i);return Ep(n,n.next),Ep(t,t.next)}function DX(i,e){let t=e;const n=i.x,r=i.y;let a=-1/0,s;if(fg(i,t))return t;do{if(fg(i,t.next))return t.next;if(r<=t.y&&r>=t.next.y&&t.next.y!==t.y){const g=t.x+(r-t.y)*(t.next.x-t.x)/(t.next.y-t.y);if(g<=n&&g>a&&(a=g,s=t.x<t.next.x?t:t.next,g===n))return s}t=t.next}while(t!==e);if(!s)return null;const l=s,u=s.x,f=s.y;let p=1/0;t=s;do{if(n>=t.x&&t.x>=u&&n!==t.x&&jB(r<f?n:a,r,u,f,r<f?a:n,r,t.x,t.y)){const g=Math.abs(r-t.y)/(n-t.x);M_(t,i)&&(g<p||g===p&&(t.x>s.x||t.x===s.x&&OX(s,t)))&&(s=t,p=g)}t=t.next}while(t!==l);return s}function OX(i,e){return nr(i.prev,i,e.prev)<0&&nr(e.next,i,i.next)<0}function NX(i,e,t,n){let r=i;do r.z===0&&(r.z=YA(r.x,r.y,e,t,n)),r.prevZ=r.prev,r.nextZ=r.next,r=r.next;while(r!==i);r.prevZ.nextZ=null,r.prevZ=null,PX(r)}function PX(i){let e,t=1;do{let n=i,r;i=null;let a=null;for(e=0;n;){e++;let s=n,l=0;for(let f=0;f<t&&(l++,s=s.nextZ,!!s);f++);let u=t;for(;l>0||u>0&&s;)l!==0&&(u===0||!s||n.z<=s.z)?(r=n,n=n.nextZ,l--):(r=s,s=s.nextZ,u--),a?a.nextZ=r:i=r,r.prevZ=a,a=r;n=s}a.nextZ=null,t*=2}while(e>1);return i}function YA(i,e,t,n,r){return i=(i-t)*r|0,e=(e-n)*r|0,i=(i|i<<8)&16711935,i=(i|i<<4)&252645135,i=(i|i<<2)&858993459,i=(i|i<<1)&1431655765,e=(e|e<<8)&16711935,e=(e|e<<4)&252645135,e=(e|e<<2)&858993459,e=(e|e<<1)&1431655765,i|e<<1}function LX(i){let e=i,t=i;do(e.x<t.x||e.x===t.x&&e.y<t.y)&&(t=e),e=e.next;while(e!==i);return t}function jB(i,e,t,n,r,a,s,l){return(r-s)*(e-l)>=(i-s)*(a-l)&&(i-s)*(n-l)>=(t-s)*(e-l)&&(t-s)*(a-l)>=(r-s)*(n-l)}function by(i,e,t,n,r,a,s,l){return!(i===s&&e===l)&&jB(i,e,t,n,r,a,s,l)}function UX(i,e){return i.next.i!==e.i&&i.prev.i!==e.i&&!IX(i,e)&&(M_(i,e)&&M_(e,i)&&BX(i,e)&&(nr(i.prev,i,e.prev)||nr(i,e.prev,e))||fg(i,e)&&nr(i.prev,i,i.next)>0&&nr(e.prev,e,e.next)>0)}function nr(i,e,t){return(e.y-i.y)*(t.x-e.x)-(e.x-i.x)*(t.y-e.y)}function fg(i,e){return i.x===e.x&&i.y===e.y}function GB(i,e,t,n){const r=Vb(nr(i,e,t)),a=Vb(nr(i,e,n)),s=Vb(nr(t,n,i)),l=Vb(nr(t,n,e));return!!(r!==a&&s!==l||r===0&&Hb(i,t,e)||a===0&&Hb(i,n,e)||s===0&&Hb(t,i,n)||l===0&&Hb(t,e,n))}function Hb(i,e,t){return e.x<=Math.max(i.x,t.x)&&e.x>=Math.min(i.x,t.x)&&e.y<=Math.max(i.y,t.y)&&e.y>=Math.min(i.y,t.y)}function Vb(i){return i>0?1:i<0?-1:0}function IX(i,e){let t=i;do{if(t.i!==i.i&&t.next.i!==i.i&&t.i!==e.i&&t.next.i!==e.i&&GB(t,t.next,i,e))return!0;t=t.next}while(t!==i);return!1}function M_(i,e){return nr(i.prev,i,i.next)<0?nr(i,e,i.next)>=0&&nr(i,i.prev,e)>=0:nr(i,e,i.prev)<0||nr(i,i.next,e)<0}function BX(i,e){let t=i,n=!1;const r=(i.x+e.x)/2,a=(i.y+e.y)/2;do t.y>a!=t.next.y>a&&t.next.y!==t.y&&r<(t.next.x-t.x)*(a-t.y)/(t.next.y-t.y)+t.x&&(n=!n),t=t.next;while(t!==i);return n}function WB(i,e){const t=ZA(i.i,i.x,i.y),n=ZA(e.i,e.x,e.y),r=i.next,a=e.prev;return i.next=e,e.prev=i,t.next=r,r.prev=t,n.next=t,t.prev=n,a.next=n,n.prev=a,n}function dN(i,e,t,n){const r=ZA(i,e,t);return n?(r.next=n.next,r.prev=n,n.next.prev=r,n.next=r):(r.prev=r,r.next=r),r}function T_(i){i.next.prev=i.prev,i.prev.next=i.next,i.prevZ&&(i.prevZ.nextZ=i.nextZ),i.nextZ&&(i.nextZ.prevZ=i.prevZ)}function ZA(i,e,t){return{i,x:e,y:t,prev:null,next:null,z:0,prevZ:null,nextZ:null,steiner:!1}}function zX(i,e,t,n){let r=0;for(let a=e,s=t-n;a<t;a+=n)r+=(i[s]-i[a])*(i[a+1]+i[s+1]),s=a;return r}class kX{static triangulate(e,t,n=2){return SX(e,t,n)}}class Ul{static area(e){const t=e.length;let n=0;for(let r=t-1,a=0;a<t;r=a++)n+=e[r].x*e[a].y-e[a].x*e[r].y;return n*.5}static isClockWise(e){return Ul.area(e)<0}static triangulateShape(e,t){const n=[],r=[],a=[];pN(e),mN(n,e);let s=e.length;t.forEach(pN);for(let u=0;u<t.length;u++)r.push(s),s+=t[u].length,mN(n,t[u]);const l=kX.triangulate(n,r);for(let u=0;u<l.length;u+=3)a.push(l.slice(u,u+3));return a}}function pN(i){const e=i.length;e>2&&i[e-1].equals(i[0])&&i.pop()}function mN(i,e){for(let t=0;t<e.length;t++)i.push(e[t].x),i.push(e[t].y)}class TE extends Nn{constructor(e=new mp([new ut(.5,.5),new ut(-.5,.5),new ut(-.5,-.5),new ut(.5,-.5)]),t={}){super(),this.type="ExtrudeGeometry",this.parameters={shapes:e,options:t},e=Array.isArray(e)?e:[e];const n=this,r=[],a=[];for(let l=0,u=e.length;l<u;l++){const f=e[l];s(f)}this.setAttribute("position",new Yt(r,3)),this.setAttribute("uv",new Yt(a,2)),this.computeVertexNormals();function s(l){const u=[],f=t.curveSegments!==void 0?t.curveSegments:12,p=t.steps!==void 0?t.steps:1,g=t.depth!==void 0?t.depth:1;let v=t.bevelEnabled!==void 0?t.bevelEnabled:!0,_=t.bevelThickness!==void 0?t.bevelThickness:.2,S=t.bevelSize!==void 0?t.bevelSize:_-.1,w=t.bevelOffset!==void 0?t.bevelOffset:0,E=t.bevelSegments!==void 0?t.bevelSegments:3;const b=t.extrudePath,R=t.UVGenerator!==void 0?t.UVGenerator:FX;let C,A=!1,N,L,B,U;b&&(C=b.getSpacedPoints(p),A=!0,v=!1,N=b.computeFrenetFrames(p,!1),L=new le,B=new le,U=new le),v||(E=0,_=0,S=0,w=0);const P=l.extractPoints(f);let z=P.shape;const X=P.holes;if(!Ul.isClockWise(z)){z=z.reverse();for(let be=0,De=X.length;be<De;be++){const Ye=X[be];Ul.isClockWise(Ye)&&(X[be]=Ye.reverse())}}function se(be){const Ye=10000000000000001e-36;let re=be[0];for(let Ve=1;Ve<=be.length;Ve++){const Ke=Ve%be.length,$e=be[Ke],_t=$e.x-re.x,vt=$e.y-re.y,$=_t*_t+vt*vt,q=Math.max(Math.abs($e.x),Math.abs($e.y),Math.abs(re.x),Math.abs(re.y)),xe=Ye*q*q;if($<=xe){be.splice(Ke,1),Ve--;continue}re=$e}}se(z),X.forEach(se);const ae=X.length,ue=z;for(let be=0;be<ae;be++){const De=X[be];z=z.concat(De)}function G(be,De,Ye){return De||console.error("THREE.ExtrudeGeometry: vec does not exist"),be.clone().addScaledVector(De,Ye)}const Y=z.length;function Q(be,De,Ye){let re,Ve,Ke;const $e=be.x-De.x,_t=be.y-De.y,vt=Ye.x-be.x,$=Ye.y-be.y,q=$e*$e+_t*_t,xe=$e*$-_t*vt;if(Math.abs(xe)>Number.EPSILON){const Ne=Math.sqrt(q),ze=Math.sqrt(vt*vt+$*$),Ue=De.x-_t/Ne,mt=De.y+$e/Ne,ht=Ye.x-$/ze,Dt=Ye.y+vt/ze,wt=((ht-Ue)*$-(Dt-mt)*vt)/($e*$-_t*vt);re=Ue+$e*wt-be.x,Ve=mt+_t*wt-be.y;const it=re*re+Ve*Ve;if(it<=2)return new ut(re,Ve);Ke=Math.sqrt(it/2)}else{let Ne=!1;$e>Number.EPSILON?vt>Number.EPSILON&&(Ne=!0):$e<-Number.EPSILON?vt<-Number.EPSILON&&(Ne=!0):Math.sign(_t)===Math.sign($)&&(Ne=!0),Ne?(re=-_t,Ve=$e,Ke=Math.sqrt(q)):(re=$e,Ve=_t,Ke=Math.sqrt(q/2))}return new ut(re/Ke,Ve/Ke)}const ye=[];for(let be=0,De=ue.length,Ye=De-1,re=be+1;be<De;be++,Ye++,re++)Ye===De&&(Ye=0),re===De&&(re=0),ye[be]=Q(ue[be],ue[Ye],ue[re]);const F=[];let fe,Se=ye.concat();for(let be=0,De=ae;be<De;be++){const Ye=X[be];fe=[];for(let re=0,Ve=Ye.length,Ke=Ve-1,$e=re+1;re<Ve;re++,Ke++,$e++)Ke===Ve&&(Ke=0),$e===Ve&&($e=0),fe[re]=Q(Ye[re],Ye[Ke],Ye[$e]);F.push(fe),Se=Se.concat(fe)}let Ce;if(E===0)Ce=Ul.triangulateShape(ue,X);else{const be=[],De=[];for(let Ye=0;Ye<E;Ye++){const re=Ye/E,Ve=_*Math.cos(re*Math.PI/2),Ke=S*Math.sin(re*Math.PI/2)+w;for(let $e=0,_t=ue.length;$e<_t;$e++){const vt=G(ue[$e],ye[$e],Ke);Be(vt.x,vt.y,-Ve),re===0&&be.push(vt)}for(let $e=0,_t=ae;$e<_t;$e++){const vt=X[$e];fe=F[$e];const $=[];for(let q=0,xe=vt.length;q<xe;q++){const Ne=G(vt[q],fe[q],Ke);Be(Ne.x,Ne.y,-Ve),re===0&&$.push(Ne)}re===0&&De.push($)}}Ce=Ul.triangulateShape(be,De)}const ke=Ce.length,we=S+w;for(let be=0;be<Y;be++){const De=v?G(z[be],Se[be],we):z[be];A?(B.copy(N.normals[0]).multiplyScalar(De.x),L.copy(N.binormals[0]).multiplyScalar(De.y),U.copy(C[0]).add(B).add(L),Be(U.x,U.y,U.z)):Be(De.x,De.y,0)}for(let be=1;be<=p;be++)for(let De=0;De<Y;De++){const Ye=v?G(z[De],Se[De],we):z[De];A?(B.copy(N.normals[be]).multiplyScalar(Ye.x),L.copy(N.binormals[be]).multiplyScalar(Ye.y),U.copy(C[be]).add(B).add(L),Be(U.x,U.y,U.z)):Be(Ye.x,Ye.y,g/p*be)}for(let be=E-1;be>=0;be--){const De=be/E,Ye=_*Math.cos(De*Math.PI/2),re=S*Math.sin(De*Math.PI/2)+w;for(let Ve=0,Ke=ue.length;Ve<Ke;Ve++){const $e=G(ue[Ve],ye[Ve],re);Be($e.x,$e.y,g+Ye)}for(let Ve=0,Ke=X.length;Ve<Ke;Ve++){const $e=X[Ve];fe=F[Ve];for(let _t=0,vt=$e.length;_t<vt;_t++){const $=G($e[_t],fe[_t],re);A?Be($.x,$.y+C[p-1].y,C[p-1].x+Ye):Be($.x,$.y,g+Ye)}}}ee(),ie();function ee(){const be=r.length/3;if(v){let De=0,Ye=Y*De;for(let re=0;re<ke;re++){const Ve=Ce[re];Ze(Ve[2]+Ye,Ve[1]+Ye,Ve[0]+Ye)}De=p+E*2,Ye=Y*De;for(let re=0;re<ke;re++){const Ve=Ce[re];Ze(Ve[0]+Ye,Ve[1]+Ye,Ve[2]+Ye)}}else{for(let De=0;De<ke;De++){const Ye=Ce[De];Ze(Ye[2],Ye[1],Ye[0])}for(let De=0;De<ke;De++){const Ye=Ce[De];Ze(Ye[0]+Y*p,Ye[1]+Y*p,Ye[2]+Y*p)}}n.addGroup(be,r.length/3-be,0)}function ie(){const be=r.length/3;let De=0;_e(ue,De),De+=ue.length;for(let Ye=0,re=X.length;Ye<re;Ye++){const Ve=X[Ye];_e(Ve,De),De+=Ve.length}n.addGroup(be,r.length/3-be,1)}function _e(be,De){let Ye=be.length;for(;--Ye>=0;){const re=Ye;let Ve=Ye-1;Ve<0&&(Ve=be.length-1);for(let Ke=0,$e=p+E*2;Ke<$e;Ke++){const _t=Y*Ke,vt=Y*(Ke+1),$=De+re+_t,q=De+Ve+_t,xe=De+Ve+vt,Ne=De+re+vt;gt($,q,xe,Ne)}}}function Be(be,De,Ye){u.push(be),u.push(De),u.push(Ye)}function Ze(be,De,Ye){pt(be),pt(De),pt(Ye);const re=r.length/3,Ve=R.generateTopUV(n,r,re-3,re-2,re-1);ne(Ve[0]),ne(Ve[1]),ne(Ve[2])}function gt(be,De,Ye,re){pt(be),pt(De),pt(re),pt(De),pt(Ye),pt(re);const Ve=r.length/3,Ke=R.generateSideWallUV(n,r,Ve-6,Ve-3,Ve-2,Ve-1);ne(Ke[0]),ne(Ke[1]),ne(Ke[3]),ne(Ke[1]),ne(Ke[2]),ne(Ke[3])}function pt(be){r.push(u[be*3+0]),r.push(u[be*3+1]),r.push(u[be*3+2])}function ne(be){a.push(be.x),a.push(be.y)}}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON(),t=this.parameters.shapes,n=this.parameters.options;return HX(t,n,e)}static fromJSON(e,t){const n=[];for(let a=0,s=e.shapes.length;a<s;a++){const l=t[e.shapes[a]];n.push(l)}const r=e.options.extrudePath;return r!==void 0&&(e.options.extrudePath=new Uw[r.type]().fromJSON(r)),new TE(n,e.options)}}const FX={generateTopUV:function(i,e,t,n,r){const a=e[t*3],s=e[t*3+1],l=e[n*3],u=e[n*3+1],f=e[r*3],p=e[r*3+1];return[new ut(a,s),new ut(l,u),new ut(f,p)]},generateSideWallUV:function(i,e,t,n,r,a){const s=e[t*3],l=e[t*3+1],u=e[t*3+2],f=e[n*3],p=e[n*3+1],g=e[n*3+2],v=e[r*3],_=e[r*3+1],S=e[r*3+2],w=e[a*3],E=e[a*3+1],b=e[a*3+2];return Math.abs(l-p)<Math.abs(s-f)?[new ut(s,1-u),new ut(f,1-g),new ut(v,1-S),new ut(w,1-b)]:[new ut(l,1-u),new ut(p,1-g),new ut(_,1-S),new ut(E,1-b)]}};function HX(i,e,t){if(t.shapes=[],Array.isArray(i))for(let n=0,r=i.length;n<r;n++){const a=i[n];t.shapes.push(a.uuid)}else t.shapes.push(i.uuid);return t.options=Object.assign({},e),e.extrudePath!==void 0&&(t.options.extrudePath=e.extrudePath.toJSON()),t}class tx extends Ah{constructor(e=1,t=0){const n=(1+Math.sqrt(5))/2,r=[-1,n,0,1,n,0,-1,-n,0,1,-n,0,0,-1,n,0,1,n,0,-1,-n,0,1,-n,n,0,-1,n,0,1,-n,0,-1,-n,0,1],a=[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1];super(r,a,e,t),this.type="IcosahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new tx(e.radius,e.detail)}}class AE extends Nn{constructor(e=[new ut(0,-.5),new ut(.5,0),new ut(0,.5)],t=12,n=0,r=Math.PI*2){super(),this.type="LatheGeometry",this.parameters={points:e,segments:t,phiStart:n,phiLength:r},t=Math.floor(t),r=dn(r,0,Math.PI*2);const a=[],s=[],l=[],u=[],f=[],p=1/t,g=new le,v=new ut,_=new le,S=new le,w=new le;let E=0,b=0;for(let R=0;R<=e.length-1;R++)switch(R){case 0:E=e[R+1].x-e[R].x,b=e[R+1].y-e[R].y,_.x=b*1,_.y=-E,_.z=b*0,w.copy(_),_.normalize(),u.push(_.x,_.y,_.z);break;case e.length-1:u.push(w.x,w.y,w.z);break;default:E=e[R+1].x-e[R].x,b=e[R+1].y-e[R].y,_.x=b*1,_.y=-E,_.z=b*0,S.copy(_),_.x+=w.x,_.y+=w.y,_.z+=w.z,_.normalize(),u.push(_.x,_.y,_.z),w.copy(S)}for(let R=0;R<=t;R++){const C=n+R*p*r,A=Math.sin(C),N=Math.cos(C);for(let L=0;L<=e.length-1;L++){g.x=e[L].x*A,g.y=e[L].y,g.z=e[L].x*N,s.push(g.x,g.y,g.z),v.x=R/t,v.y=L/(e.length-1),l.push(v.x,v.y);const B=u[3*L+0]*A,U=u[3*L+1],P=u[3*L+0]*N;f.push(B,U,P)}}for(let R=0;R<t;R++)for(let C=0;C<e.length-1;C++){const A=C+R*e.length,N=A,L=A+e.length,B=A+e.length+1,U=A+1;a.push(N,L,U),a.push(B,U,L)}this.setIndex(a),this.setAttribute("position",new Yt(s,3)),this.setAttribute("uv",new Yt(l,2)),this.setAttribute("normal",new Yt(f,3))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new AE(e.points,e.segments,e.phiStart,e.phiLength)}}class nx extends Ah{constructor(e=1,t=0){const n=[1,0,0,-1,0,0,0,1,0,0,-1,0,0,0,1,0,0,-1],r=[0,2,4,0,4,3,0,3,5,0,5,2,1,2,5,1,5,3,1,3,4,1,4,2];super(n,r,e,t),this.type="OctahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new nx(e.radius,e.detail)}}class Ch extends Nn{constructor(e=1,t=1,n=1,r=1){super(),this.type="PlaneGeometry",this.parameters={width:e,height:t,widthSegments:n,heightSegments:r};const a=e/2,s=t/2,l=Math.floor(n),u=Math.floor(r),f=l+1,p=u+1,g=e/l,v=t/u,_=[],S=[],w=[],E=[];for(let b=0;b<p;b++){const R=b*v-s;for(let C=0;C<f;C++){const A=C*g-a;S.push(A,-R,0),w.push(0,0,1),E.push(C/l),E.push(1-b/u)}}for(let b=0;b<u;b++)for(let R=0;R<l;R++){const C=R+f*b,A=R+f*(b+1),N=R+1+f*(b+1),L=R+1+f*b;_.push(C,A,L),_.push(A,N,L)}this.setIndex(_),this.setAttribute("position",new Yt(S,3)),this.setAttribute("normal",new Yt(w,3)),this.setAttribute("uv",new Yt(E,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Ch(e.width,e.height,e.widthSegments,e.heightSegments)}}class CE extends Nn{constructor(e=.5,t=1,n=32,r=1,a=0,s=Math.PI*2){super(),this.type="RingGeometry",this.parameters={innerRadius:e,outerRadius:t,thetaSegments:n,phiSegments:r,thetaStart:a,thetaLength:s},n=Math.max(3,n),r=Math.max(1,r);const l=[],u=[],f=[],p=[];let g=e;const v=(t-e)/r,_=new le,S=new ut;for(let w=0;w<=r;w++){for(let E=0;E<=n;E++){const b=a+E/n*s;_.x=g*Math.cos(b),_.y=g*Math.sin(b),u.push(_.x,_.y,_.z),f.push(0,0,1),S.x=(_.x/t+1)/2,S.y=(_.y/t+1)/2,p.push(S.x,S.y)}g+=v}for(let w=0;w<r;w++){const E=w*(n+1);for(let b=0;b<n;b++){const R=b+E,C=R,A=R+n+1,N=R+n+2,L=R+1;l.push(C,A,L),l.push(A,N,L)}}this.setIndex(l),this.setAttribute("position",new Yt(u,3)),this.setAttribute("normal",new Yt(f,3)),this.setAttribute("uv",new Yt(p,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new CE(e.innerRadius,e.outerRadius,e.thetaSegments,e.phiSegments,e.thetaStart,e.thetaLength)}}class RE extends Nn{constructor(e=new mp([new ut(0,.5),new ut(-.5,-.5),new ut(.5,-.5)]),t=12){super(),this.type="ShapeGeometry",this.parameters={shapes:e,curveSegments:t};const n=[],r=[],a=[],s=[];let l=0,u=0;if(Array.isArray(e)===!1)f(e);else for(let p=0;p<e.length;p++)f(e[p]),this.addGroup(l,u,p),l+=u,u=0;this.setIndex(n),this.setAttribute("position",new Yt(r,3)),this.setAttribute("normal",new Yt(a,3)),this.setAttribute("uv",new Yt(s,2));function f(p){const g=r.length/3,v=p.extractPoints(t);let _=v.shape;const S=v.holes;Ul.isClockWise(_)===!1&&(_=_.reverse());for(let E=0,b=S.length;E<b;E++){const R=S[E];Ul.isClockWise(R)===!0&&(S[E]=R.reverse())}const w=Ul.triangulateShape(_,S);for(let E=0,b=S.length;E<b;E++){const R=S[E];_=_.concat(R)}for(let E=0,b=_.length;E<b;E++){const R=_[E];r.push(R.x,R.y,0),a.push(0,0,1),s.push(R.x,R.y)}for(let E=0,b=w.length;E<b;E++){const R=w[E],C=R[0]+g,A=R[1]+g,N=R[2]+g;n.push(C,A,N),u+=3}}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON(),t=this.parameters.shapes;return VX(t,e)}static fromJSON(e,t){const n=[];for(let r=0,a=e.shapes.length;r<a;r++){const s=t[e.shapes[r]];n.push(s)}return new RE(n,e.curveSegments)}}function VX(i,e){if(e.shapes=[],Array.isArray(i))for(let t=0,n=i.length;t<n;t++){const r=i[t];e.shapes.push(r.uuid)}else e.shapes.push(i.uuid);return e}class ix extends Nn{constructor(e=1,t=32,n=16,r=0,a=Math.PI*2,s=0,l=Math.PI){super(),this.type="SphereGeometry",this.parameters={radius:e,widthSegments:t,heightSegments:n,phiStart:r,phiLength:a,thetaStart:s,thetaLength:l},t=Math.max(3,Math.floor(t)),n=Math.max(2,Math.floor(n));const u=Math.min(s+l,Math.PI);let f=0;const p=[],g=new le,v=new le,_=[],S=[],w=[],E=[];for(let b=0;b<=n;b++){const R=[],C=b/n;let A=0;b===0&&s===0?A=.5/t:b===n&&u===Math.PI&&(A=-.5/t);for(let N=0;N<=t;N++){const L=N/t;g.x=-e*Math.cos(r+L*a)*Math.sin(s+C*l),g.y=e*Math.cos(s+C*l),g.z=e*Math.sin(r+L*a)*Math.sin(s+C*l),S.push(g.x,g.y,g.z),v.copy(g).normalize(),w.push(v.x,v.y,v.z),E.push(L+A,1-C),R.push(f++)}p.push(R)}for(let b=0;b<n;b++)for(let R=0;R<t;R++){const C=p[b][R+1],A=p[b][R],N=p[b+1][R],L=p[b+1][R+1];(b!==0||s>0)&&_.push(C,A,L),(b!==n-1||u<Math.PI)&&_.push(A,N,L)}this.setIndex(_),this.setAttribute("position",new Yt(S,3)),this.setAttribute("normal",new Yt(w,3)),this.setAttribute("uv",new Yt(E,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new ix(e.radius,e.widthSegments,e.heightSegments,e.phiStart,e.phiLength,e.thetaStart,e.thetaLength)}}class DE extends Ah{constructor(e=1,t=0){const n=[1,1,1,-1,-1,1,-1,1,-1,1,-1,-1],r=[2,1,0,0,3,2,1,3,0,2,3,1];super(n,r,e,t),this.type="TetrahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new DE(e.radius,e.detail)}}class OE extends Nn{constructor(e=1,t=.4,n=12,r=48,a=Math.PI*2){super(),this.type="TorusGeometry",this.parameters={radius:e,tube:t,radialSegments:n,tubularSegments:r,arc:a},n=Math.floor(n),r=Math.floor(r);const s=[],l=[],u=[],f=[],p=new le,g=new le,v=new le;for(let _=0;_<=n;_++)for(let S=0;S<=r;S++){const w=S/r*a,E=_/n*Math.PI*2;g.x=(e+t*Math.cos(E))*Math.cos(w),g.y=(e+t*Math.cos(E))*Math.sin(w),g.z=t*Math.sin(E),l.push(g.x,g.y,g.z),p.x=e*Math.cos(w),p.y=e*Math.sin(w),v.subVectors(g,p).normalize(),u.push(v.x,v.y,v.z),f.push(S/r),f.push(_/n)}for(let _=1;_<=n;_++)for(let S=1;S<=r;S++){const w=(r+1)*_+S-1,E=(r+1)*(_-1)+S-1,b=(r+1)*(_-1)+S,R=(r+1)*_+S;s.push(w,E,R),s.push(E,b,R)}this.setIndex(s),this.setAttribute("position",new Yt(l,3)),this.setAttribute("normal",new Yt(u,3)),this.setAttribute("uv",new Yt(f,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new OE(e.radius,e.tube,e.radialSegments,e.tubularSegments,e.arc)}}class NE extends Nn{constructor(e=1,t=.4,n=64,r=8,a=2,s=3){super(),this.type="TorusKnotGeometry",this.parameters={radius:e,tube:t,tubularSegments:n,radialSegments:r,p:a,q:s},n=Math.floor(n),r=Math.floor(r);const l=[],u=[],f=[],p=[],g=new le,v=new le,_=new le,S=new le,w=new le,E=new le,b=new le;for(let C=0;C<=n;++C){const A=C/n*a*Math.PI*2;R(A,a,s,e,_),R(A+.01,a,s,e,S),E.subVectors(S,_),b.addVectors(S,_),w.crossVectors(E,b),b.crossVectors(w,E),w.normalize(),b.normalize();for(let N=0;N<=r;++N){const L=N/r*Math.PI*2,B=-t*Math.cos(L),U=t*Math.sin(L);g.x=_.x+(B*b.x+U*w.x),g.y=_.y+(B*b.y+U*w.y),g.z=_.z+(B*b.z+U*w.z),u.push(g.x,g.y,g.z),v.subVectors(g,_).normalize(),f.push(v.x,v.y,v.z),p.push(C/n),p.push(N/r)}}for(let C=1;C<=n;C++)for(let A=1;A<=r;A++){const N=(r+1)*(C-1)+(A-1),L=(r+1)*C+(A-1),B=(r+1)*C+A,U=(r+1)*(C-1)+A;l.push(N,L,U),l.push(L,B,U)}this.setIndex(l),this.setAttribute("position",new Yt(u,3)),this.setAttribute("normal",new Yt(f,3)),this.setAttribute("uv",new Yt(p,2));function R(C,A,N,L,B){const U=Math.cos(C),P=Math.sin(C),z=N/A*C,X=Math.cos(z);B.x=L*(2+X)*.5*U,B.y=L*(2+X)*P*.5,B.z=L*Math.sin(z)*.5}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new NE(e.radius,e.tube,e.tubularSegments,e.radialSegments,e.p,e.q)}}class PE extends Nn{constructor(e=new t3(new le(-1,-1,0),new le(-1,1,0),new le(1,1,0)),t=64,n=1,r=8,a=!1){super(),this.type="TubeGeometry",this.parameters={path:e,tubularSegments:t,radius:n,radialSegments:r,closed:a};const s=e.computeFrenetFrames(t,a);this.tangents=s.tangents,this.normals=s.normals,this.binormals=s.binormals;const l=new le,u=new le,f=new ut;let p=new le;const g=[],v=[],_=[],S=[];w(),this.setIndex(S),this.setAttribute("position",new Yt(g,3)),this.setAttribute("normal",new Yt(v,3)),this.setAttribute("uv",new Yt(_,2));function w(){for(let C=0;C<t;C++)E(C);E(a===!1?t:0),R(),b()}function E(C){p=e.getPointAt(C/t,p);const A=s.normals[C],N=s.binormals[C];for(let L=0;L<=r;L++){const B=L/r*Math.PI*2,U=Math.sin(B),P=-Math.cos(B);u.x=P*A.x+U*N.x,u.y=P*A.y+U*N.y,u.z=P*A.z+U*N.z,u.normalize(),v.push(u.x,u.y,u.z),l.x=p.x+n*u.x,l.y=p.y+n*u.y,l.z=p.z+n*u.z,g.push(l.x,l.y,l.z)}}function b(){for(let C=1;C<=t;C++)for(let A=1;A<=r;A++){const N=(r+1)*(C-1)+(A-1),L=(r+1)*C+(A-1),B=(r+1)*C+A,U=(r+1)*(C-1)+A;S.push(N,L,U),S.push(L,B,U)}}function R(){for(let C=0;C<=t;C++)for(let A=0;A<=r;A++)f.x=C/t,f.y=A/r,_.push(f.x,f.y)}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON();return e.path=this.parameters.path.toJSON(),e}static fromJSON(e){return new PE(new Uw[e.path.type]().fromJSON(e.path),e.tubularSegments,e.radius,e.radialSegments,e.closed)}}class XB extends Nn{constructor(e=null){if(super(),this.type="WireframeGeometry",this.parameters={geometry:e},e!==null){const t=[],n=new Set,r=new le,a=new le;if(e.index!==null){const s=e.attributes.position,l=e.index;let u=e.groups;u.length===0&&(u=[{start:0,count:l.count,materialIndex:0}]);for(let f=0,p=u.length;f<p;++f){const g=u[f],v=g.start,_=g.count;for(let S=v,w=v+_;S<w;S+=3)for(let E=0;E<3;E++){const b=l.getX(S+E),R=l.getX(S+(E+1)%3);r.fromBufferAttribute(s,b),a.fromBufferAttribute(s,R),gN(r,a,n)===!0&&(t.push(r.x,r.y,r.z),t.push(a.x,a.y,a.z))}}}else{const s=e.attributes.position;for(let l=0,u=s.count/3;l<u;l++)for(let f=0;f<3;f++){const p=3*l+f,g=3*l+(f+1)%3;r.fromBufferAttribute(s,p),a.fromBufferAttribute(s,g),gN(r,a,n)===!0&&(t.push(r.x,r.y,r.z),t.push(a.x,a.y,a.z))}}this.setAttribute("position",new Yt(t,3))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}}function gN(i,e,t){const n=`${i.x},${i.y},${i.z}-${e.x},${e.y},${e.z}`,r=`${e.x},${e.y},${e.z}-${i.x},${i.y},${i.z}`;return t.has(n)===!0||t.has(r)===!0?!1:(t.add(n),t.add(r),!0)}var vN=Object.freeze({__proto__:null,BoxGeometry:Op,CapsuleGeometry:SE,CircleGeometry:wE,ConeGeometry:ex,CylinderGeometry:Q_,DodecahedronGeometry:EE,EdgesGeometry:IB,ExtrudeGeometry:TE,IcosahedronGeometry:tx,LatheGeometry:AE,OctahedronGeometry:nx,PlaneGeometry:Ch,PolyhedronGeometry:Ah,RingGeometry:CE,ShapeGeometry:RE,SphereGeometry:ix,TetrahedronGeometry:DE,TorusGeometry:OE,TorusKnotGeometry:NE,TubeGeometry:PE,WireframeGeometry:XB});class qB extends Va{constructor(e){super(),this.isShadowMaterial=!0,this.type="ShadowMaterial",this.color=new Vt(0),this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.fog=e.fog,this}}class YB extends Ws{constructor(e){super(e),this.isRawShaderMaterial=!0,this.type="RawShaderMaterial"}}class i3 extends Va{constructor(e){super(),this.isMeshStandardMaterial=!0,this.type="MeshStandardMaterial",this.defines={STANDARD:""},this.color=new Vt(16777215),this.roughness=1,this.metalness=0,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Vt(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Th,this.normalScale=new ut(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new xo,this.envMapIntensity=1,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={STANDARD:""},this.color.copy(e.color),this.roughness=e.roughness,this.metalness=e.metalness,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.roughnessMap=e.roughnessMap,this.metalnessMap=e.metalnessMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.envMapIntensity=e.envMapIntensity,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class ZB extends i3{constructor(e){super(),this.isMeshPhysicalMaterial=!0,this.defines={STANDARD:"",PHYSICAL:""},this.type="MeshPhysicalMaterial",this.anisotropyRotation=0,this.anisotropyMap=null,this.clearcoatMap=null,this.clearcoatRoughness=0,this.clearcoatRoughnessMap=null,this.clearcoatNormalScale=new ut(1,1),this.clearcoatNormalMap=null,this.ior=1.5,Object.defineProperty(this,"reflectivity",{get:function(){return dn(2.5*(this.ior-1)/(this.ior+1),0,1)},set:function(t){this.ior=(1+.4*t)/(1-.4*t)}}),this.iridescenceMap=null,this.iridescenceIOR=1.3,this.iridescenceThicknessRange=[100,400],this.iridescenceThicknessMap=null,this.sheenColor=new Vt(0),this.sheenColorMap=null,this.sheenRoughness=1,this.sheenRoughnessMap=null,this.transmissionMap=null,this.thickness=0,this.thicknessMap=null,this.attenuationDistance=1/0,this.attenuationColor=new Vt(1,1,1),this.specularIntensity=1,this.specularIntensityMap=null,this.specularColor=new Vt(1,1,1),this.specularColorMap=null,this._anisotropy=0,this._clearcoat=0,this._dispersion=0,this._iridescence=0,this._sheen=0,this._transmission=0,this.setValues(e)}get anisotropy(){return this._anisotropy}set anisotropy(e){this._anisotropy>0!=e>0&&this.version++,this._anisotropy=e}get clearcoat(){return this._clearcoat}set clearcoat(e){this._clearcoat>0!=e>0&&this.version++,this._clearcoat=e}get iridescence(){return this._iridescence}set iridescence(e){this._iridescence>0!=e>0&&this.version++,this._iridescence=e}get dispersion(){return this._dispersion}set dispersion(e){this._dispersion>0!=e>0&&this.version++,this._dispersion=e}get sheen(){return this._sheen}set sheen(e){this._sheen>0!=e>0&&this.version++,this._sheen=e}get transmission(){return this._transmission}set transmission(e){this._transmission>0!=e>0&&this.version++,this._transmission=e}copy(e){return super.copy(e),this.defines={STANDARD:"",PHYSICAL:""},this.anisotropy=e.anisotropy,this.anisotropyRotation=e.anisotropyRotation,this.anisotropyMap=e.anisotropyMap,this.clearcoat=e.clearcoat,this.clearcoatMap=e.clearcoatMap,this.clearcoatRoughness=e.clearcoatRoughness,this.clearcoatRoughnessMap=e.clearcoatRoughnessMap,this.clearcoatNormalMap=e.clearcoatNormalMap,this.clearcoatNormalScale.copy(e.clearcoatNormalScale),this.dispersion=e.dispersion,this.ior=e.ior,this.iridescence=e.iridescence,this.iridescenceMap=e.iridescenceMap,this.iridescenceIOR=e.iridescenceIOR,this.iridescenceThicknessRange=[...e.iridescenceThicknessRange],this.iridescenceThicknessMap=e.iridescenceThicknessMap,this.sheen=e.sheen,this.sheenColor.copy(e.sheenColor),this.sheenColorMap=e.sheenColorMap,this.sheenRoughness=e.sheenRoughness,this.sheenRoughnessMap=e.sheenRoughnessMap,this.transmission=e.transmission,this.transmissionMap=e.transmissionMap,this.thickness=e.thickness,this.thicknessMap=e.thicknessMap,this.attenuationDistance=e.attenuationDistance,this.attenuationColor.copy(e.attenuationColor),this.specularIntensity=e.specularIntensity,this.specularIntensityMap=e.specularIntensityMap,this.specularColor.copy(e.specularColor),this.specularColorMap=e.specularColorMap,this}}class KB extends Va{constructor(e){super(),this.isMeshPhongMaterial=!0,this.type="MeshPhongMaterial",this.color=new Vt(16777215),this.specular=new Vt(1118481),this.shininess=30,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Vt(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Th,this.normalScale=new ut(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new xo,this.combine=q_,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.specular.copy(e.specular),this.shininess=e.shininess,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class $B extends Va{constructor(e){super(),this.isMeshToonMaterial=!0,this.defines={TOON:""},this.type="MeshToonMaterial",this.color=new Vt(16777215),this.map=null,this.gradientMap=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Vt(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Th,this.normalScale=new ut(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.gradientMap=e.gradientMap,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}class JB extends Va{constructor(e){super(),this.isMeshNormalMaterial=!0,this.type="MeshNormalMaterial",this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Th,this.normalScale=new ut(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.flatShading=!1,this.setValues(e)}copy(e){return super.copy(e),this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.flatShading=e.flatShading,this}}class QB extends Va{constructor(e){super(),this.isMeshLambertMaterial=!0,this.type="MeshLambertMaterial",this.color=new Vt(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Vt(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Th,this.normalScale=new ut(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new xo,this.combine=q_,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class r3 extends Va{constructor(e){super(),this.isMeshDepthMaterial=!0,this.type="MeshDepthMaterial",this.depthPacking=uB,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.setValues(e)}copy(e){return super.copy(e),this.depthPacking=e.depthPacking,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this}}class a3 extends Va{constructor(e){super(),this.isMeshDistanceMaterial=!0,this.type="MeshDistanceMaterial",this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.setValues(e)}copy(e){return super.copy(e),this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this}}class ez extends Va{constructor(e){super(),this.isMeshMatcapMaterial=!0,this.defines={MATCAP:""},this.type="MeshMatcapMaterial",this.color=new Vt(16777215),this.matcap=null,this.map=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Th,this.normalScale=new ut(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={MATCAP:""},this.color.copy(e.color),this.matcap=e.matcap,this.map=e.map,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.flatShading=e.flatShading,this.fog=e.fog,this}}class tz extends _s{constructor(e){super(),this.isLineDashedMaterial=!0,this.type="LineDashedMaterial",this.scale=1,this.dashSize=3,this.gapSize=1,this.setValues(e)}copy(e){return super.copy(e),this.scale=e.scale,this.dashSize=e.dashSize,this.gapSize=e.gapSize,this}}function tp(i,e){return!i||i.constructor===e?i:typeof e.BYTES_PER_ELEMENT=="number"?new e(i):Array.prototype.slice.call(i)}function nz(i){return ArrayBuffer.isView(i)&&!(i instanceof DataView)}function iz(i){function e(r,a){return i[r]-i[a]}const t=i.length,n=new Array(t);for(let r=0;r!==t;++r)n[r]=r;return n.sort(e),n}function KA(i,e,t){const n=i.length,r=new i.constructor(n);for(let a=0,s=0;s!==n;++a){const l=t[a]*e;for(let u=0;u!==e;++u)r[s++]=i[l+u]}return r}function s3(i,e,t,n){let r=1,a=i[0];for(;a!==void 0&&a[n]===void 0;)a=i[r++];if(a===void 0)return;let s=a[n];if(s!==void 0)if(Array.isArray(s))do s=a[n],s!==void 0&&(e.push(a.time),t.push(...s)),a=i[r++];while(a!==void 0);else if(s.toArray!==void 0)do s=a[n],s!==void 0&&(e.push(a.time),s.toArray(t,t.length)),a=i[r++];while(a!==void 0);else do s=a[n],s!==void 0&&(e.push(a.time),t.push(s)),a=i[r++];while(a!==void 0)}function jX(i,e,t,n,r=30){const a=i.clone();a.name=e;const s=[];for(let u=0;u<a.tracks.length;++u){const f=a.tracks[u],p=f.getValueSize(),g=[],v=[];for(let _=0;_<f.times.length;++_){const S=f.times[_]*r;if(!(S<t||S>=n)){g.push(f.times[_]);for(let w=0;w<p;++w)v.push(f.values[_*p+w])}}g.length!==0&&(f.times=tp(g,f.times.constructor),f.values=tp(v,f.values.constructor),s.push(f))}a.tracks=s;let l=1/0;for(let u=0;u<a.tracks.length;++u)l>a.tracks[u].times[0]&&(l=a.tracks[u].times[0]);for(let u=0;u<a.tracks.length;++u)a.tracks[u].shift(-1*l);return a.resetDuration(),a}function GX(i,e=0,t=i,n=30){n<=0&&(n=30);const r=t.tracks.length,a=e/n;for(let s=0;s<r;++s){const l=t.tracks[s],u=l.ValueTypeName;if(u==="bool"||u==="string")continue;const f=i.tracks.find(function(b){return b.name===l.name&&b.ValueTypeName===u});if(f===void 0)continue;let p=0;const g=l.getValueSize();l.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(p=g/3);let v=0;const _=f.getValueSize();f.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(v=_/3);const S=l.times.length-1;let w;if(a<=l.times[0]){const b=p,R=g-p;w=l.values.slice(b,R)}else if(a>=l.times[S]){const b=S*g+p,R=b+g-p;w=l.values.slice(b,R)}else{const b=l.createInterpolant(),R=p,C=g-p;b.evaluate(a),w=b.resultBuffer.slice(R,C)}u==="quaternion"&&new js().fromArray(w).normalize().conjugate().toArray(w);const E=f.times.length;for(let b=0;b<E;++b){const R=b*_+v;if(u==="quaternion")js.multiplyQuaternionsFlat(f.values,R,w,0,f.values,R);else{const C=_-v*2;for(let A=0;A<C;++A)f.values[R+A]-=w[A]}}}return i.blendMode=FR,i}class WX{static convertArray(e,t){return tp(e,t)}static isTypedArray(e){return nz(e)}static getKeyframeOrder(e){return iz(e)}static sortedArray(e,t,n){return KA(e,t,n)}static flattenJSON(e,t,n,r){s3(e,t,n,r)}static subclip(e,t,n,r,a=30){return jX(e,t,n,r,a)}static makeClipAdditive(e,t=0,n=e,r=30){return GX(e,t,n,r)}}class rx{constructor(e,t,n,r){this.parameterPositions=e,this._cachedIndex=0,this.resultBuffer=r!==void 0?r:new t.constructor(n),this.sampleValues=t,this.valueSize=n,this.settings=null,this.DefaultSettings_={}}evaluate(e){const t=this.parameterPositions;let n=this._cachedIndex,r=t[n],a=t[n-1];e:{t:{let s;n:{i:if(!(e<r)){for(let l=n+2;;){if(r===void 0){if(e<a)break i;return n=t.length,this._cachedIndex=n,this.copySampleValue_(n-1)}if(n===l)break;if(a=r,r=t[++n],e<r)break t}s=t.length;break n}if(!(e>=a)){const l=t[1];e<l&&(n=2,a=l);for(let u=n-2;;){if(a===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(n===u)break;if(r=a,a=t[--n-1],e>=a)break t}s=n,n=0;break n}break e}for(;n<s;){const l=n+s>>>1;e<t[l]?s=l:n=l+1}if(r=t[n],a=t[n-1],a===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(r===void 0)return n=t.length,this._cachedIndex=n,this.copySampleValue_(n-1)}this._cachedIndex=n,this.intervalChanged_(n,a,r)}return this.interpolate_(n,a,e,r)}getSettings_(){return this.settings||this.DefaultSettings_}copySampleValue_(e){const t=this.resultBuffer,n=this.sampleValues,r=this.valueSize,a=e*r;for(let s=0;s!==r;++s)t[s]=n[a+s];return t}interpolate_(){throw new Error("call to abstract method")}intervalChanged_(){}}class rz extends rx{constructor(e,t,n,r){super(e,t,n,r),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0,this.DefaultSettings_={endingStart:Jd,endingEnd:Jd}}intervalChanged_(e,t,n){const r=this.parameterPositions;let a=e-2,s=e+1,l=r[a],u=r[s];if(l===void 0)switch(this.getSettings_().endingStart){case Qd:a=e,l=2*t-n;break;case x_:a=r.length-2,l=t+r[a]-r[a+1];break;default:a=e,l=n}if(u===void 0)switch(this.getSettings_().endingEnd){case Qd:s=e,u=2*n-t;break;case x_:s=1,u=n+r[1]-r[0];break;default:s=e-1,u=t}const f=(n-t)*.5,p=this.valueSize;this._weightPrev=f/(t-l),this._weightNext=f/(u-n),this._offsetPrev=a*p,this._offsetNext=s*p}interpolate_(e,t,n,r){const a=this.resultBuffer,s=this.sampleValues,l=this.valueSize,u=e*l,f=u-l,p=this._offsetPrev,g=this._offsetNext,v=this._weightPrev,_=this._weightNext,S=(n-t)/(r-t),w=S*S,E=w*S,b=-v*E+2*v*w-v*S,R=(1+v)*E+(-1.5-2*v)*w+(-.5+v)*S+1,C=(-1-_)*E+(1.5+_)*w+.5*S,A=_*E-_*w;for(let N=0;N!==l;++N)a[N]=b*s[p+N]+R*s[f+N]+C*s[u+N]+A*s[g+N];return a}}class o3 extends rx{constructor(e,t,n,r){super(e,t,n,r)}interpolate_(e,t,n,r){const a=this.resultBuffer,s=this.sampleValues,l=this.valueSize,u=e*l,f=u-l,p=(n-t)/(r-t),g=1-p;for(let v=0;v!==l;++v)a[v]=s[f+v]*g+s[u+v]*p;return a}}class az extends rx{constructor(e,t,n,r){super(e,t,n,r)}interpolate_(e){return this.copySampleValue_(e-1)}}class Qo{constructor(e,t,n,r){if(e===void 0)throw new Error("THREE.KeyframeTrack: track name is undefined");if(t===void 0||t.length===0)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+e);this.name=e,this.times=tp(t,this.TimeBufferType),this.values=tp(n,this.ValueBufferType),this.setInterpolation(r||this.DefaultInterpolation)}static toJSON(e){const t=e.constructor;let n;if(t.toJSON!==this.toJSON)n=t.toJSON(e);else{n={name:e.name,times:tp(e.times,Array),values:tp(e.values,Array)};const r=e.getInterpolation();r!==e.DefaultInterpolation&&(n.interpolation=r)}return n.type=e.ValueTypeName,n}InterpolantFactoryMethodDiscrete(e){return new az(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodLinear(e){return new o3(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodSmooth(e){return new rz(this.times,this.values,this.getValueSize(),e)}setInterpolation(e){let t;switch(e){case __:t=this.InterpolantFactoryMethodDiscrete;break;case Nw:t=this.InterpolantFactoryMethodLinear;break;case bS:t=this.InterpolantFactoryMethodSmooth;break}if(t===void 0){const n="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(this.createInterpolant===void 0)if(e!==this.DefaultInterpolation)this.setInterpolation(this.DefaultInterpolation);else throw new Error(n);return console.warn("THREE.KeyframeTrack:",n),this}return this.createInterpolant=t,this}getInterpolation(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return __;case this.InterpolantFactoryMethodLinear:return Nw;case this.InterpolantFactoryMethodSmooth:return bS}}getValueSize(){return this.values.length/this.times.length}shift(e){if(e!==0){const t=this.times;for(let n=0,r=t.length;n!==r;++n)t[n]+=e}return this}scale(e){if(e!==1){const t=this.times;for(let n=0,r=t.length;n!==r;++n)t[n]*=e}return this}trim(e,t){const n=this.times,r=n.length;let a=0,s=r-1;for(;a!==r&&n[a]<e;)++a;for(;s!==-1&&n[s]>t;)--s;if(++s,a!==0||s!==r){a>=s&&(s=Math.max(s,1),a=s-1);const l=this.getValueSize();this.times=n.slice(a,s),this.values=this.values.slice(a*l,s*l)}return this}validate(){let e=!0;const t=this.getValueSize();t-Math.floor(t)!==0&&(console.error("THREE.KeyframeTrack: Invalid value size in track.",this),e=!1);const n=this.times,r=this.values,a=n.length;a===0&&(console.error("THREE.KeyframeTrack: Track is empty.",this),e=!1);let s=null;for(let l=0;l!==a;l++){const u=n[l];if(typeof u=="number"&&isNaN(u)){console.error("THREE.KeyframeTrack: Time is not a valid number.",this,l,u),e=!1;break}if(s!==null&&s>u){console.error("THREE.KeyframeTrack: Out of order keys.",this,l,u,s),e=!1;break}s=u}if(r!==void 0&&nz(r))for(let l=0,u=r.length;l!==u;++l){const f=r[l];if(isNaN(f)){console.error("THREE.KeyframeTrack: Value is not a valid number.",this,l,f),e=!1;break}}return e}optimize(){const e=this.times.slice(),t=this.values.slice(),n=this.getValueSize(),r=this.getInterpolation()===bS,a=e.length-1;let s=1;for(let l=1;l<a;++l){let u=!1;const f=e[l],p=e[l+1];if(f!==p&&(l!==1||f!==e[0]))if(r)u=!0;else{const g=l*n,v=g-n,_=g+n;for(let S=0;S!==n;++S){const w=t[g+S];if(w!==t[v+S]||w!==t[_+S]){u=!0;break}}}if(u){if(l!==s){e[s]=e[l];const g=l*n,v=s*n;for(let _=0;_!==n;++_)t[v+_]=t[g+_]}++s}}if(a>0){e[s]=e[a];for(let l=a*n,u=s*n,f=0;f!==n;++f)t[u+f]=t[l+f];++s}return s!==e.length?(this.times=e.slice(0,s),this.values=t.slice(0,s*n)):(this.times=e,this.values=t),this}clone(){const e=this.times.slice(),t=this.values.slice(),n=this.constructor,r=new n(this.name,e,t);return r.createInterpolant=this.createInterpolant,r}}Qo.prototype.ValueTypeName="";Qo.prototype.TimeBufferType=Float32Array;Qo.prototype.ValueBufferType=Float32Array;Qo.prototype.DefaultInterpolation=Nw;class Np extends Qo{constructor(e,t,n){super(e,t,n)}}Np.prototype.ValueTypeName="bool";Np.prototype.ValueBufferType=Array;Np.prototype.DefaultInterpolation=__;Np.prototype.InterpolantFactoryMethodLinear=void 0;Np.prototype.InterpolantFactoryMethodSmooth=void 0;class l3 extends Qo{constructor(e,t,n,r){super(e,t,n,r)}}l3.prototype.ValueTypeName="color";class A_ extends Qo{constructor(e,t,n,r){super(e,t,n,r)}}A_.prototype.ValueTypeName="number";class sz extends rx{constructor(e,t,n,r){super(e,t,n,r)}interpolate_(e,t,n,r){const a=this.resultBuffer,s=this.sampleValues,l=this.valueSize,u=(n-t)/(r-t);let f=e*l;for(let p=f+l;f!==p;f+=4)js.slerpFlat(a,0,s,f-l,s,f,u);return a}}class ax extends Qo{constructor(e,t,n,r){super(e,t,n,r)}InterpolantFactoryMethodLinear(e){return new sz(this.times,this.values,this.getValueSize(),e)}}ax.prototype.ValueTypeName="quaternion";ax.prototype.InterpolantFactoryMethodSmooth=void 0;class Pp extends Qo{constructor(e,t,n){super(e,t,n)}}Pp.prototype.ValueTypeName="string";Pp.prototype.ValueBufferType=Array;Pp.prototype.DefaultInterpolation=__;Pp.prototype.InterpolantFactoryMethodLinear=void 0;Pp.prototype.InterpolantFactoryMethodSmooth=void 0;class C_ extends Qo{constructor(e,t,n,r){super(e,t,n,r)}}C_.prototype.ValueTypeName="vector";class R_{constructor(e="",t=-1,n=[],r=hE){this.name=e,this.tracks=n,this.duration=t,this.blendMode=r,this.uuid=go(),this.duration<0&&this.resetDuration()}static parse(e){const t=[],n=e.tracks,r=1/(e.fps||1);for(let s=0,l=n.length;s!==l;++s)t.push(qX(n[s]).scale(r));const a=new this(e.name,e.duration,t,e.blendMode);return a.uuid=e.uuid,a}static toJSON(e){const t=[],n=e.tracks,r={name:e.name,duration:e.duration,tracks:t,uuid:e.uuid,blendMode:e.blendMode};for(let a=0,s=n.length;a!==s;++a)t.push(Qo.toJSON(n[a]));return r}static CreateFromMorphTargetSequence(e,t,n,r){const a=t.length,s=[];for(let l=0;l<a;l++){let u=[],f=[];u.push((l+a-1)%a,l,(l+1)%a),f.push(0,1,0);const p=iz(u);u=KA(u,1,p),f=KA(f,1,p),!r&&u[0]===0&&(u.push(a),f.push(f[0])),s.push(new A_(".morphTargetInfluences["+t[l].name+"]",u,f).scale(1/n))}return new this(e,-1,s)}static findByName(e,t){let n=e;if(!Array.isArray(e)){const r=e;n=r.geometry&&r.geometry.animations||r.animations}for(let r=0;r<n.length;r++)if(n[r].name===t)return n[r];return null}static CreateClipsFromMorphTargetSequences(e,t,n){const r={},a=/^([\w-]*?)([\d]+)$/;for(let l=0,u=e.length;l<u;l++){const f=e[l],p=f.name.match(a);if(p&&p.length>1){const g=p[1];let v=r[g];v||(r[g]=v=[]),v.push(f)}}const s=[];for(const l in r)s.push(this.CreateFromMorphTargetSequence(l,r[l],t,n));return s}static parseAnimation(e,t){if(console.warn("THREE.AnimationClip: parseAnimation() is deprecated and will be removed with r185"),!e)return console.error("THREE.AnimationClip: No animation in JSONLoader data."),null;const n=function(g,v,_,S,w){if(_.length!==0){const E=[],b=[];s3(_,E,b,S),E.length!==0&&w.push(new g(v,E,b))}},r=[],a=e.name||"default",s=e.fps||30,l=e.blendMode;let u=e.length||-1;const f=e.hierarchy||[];for(let g=0;g<f.length;g++){const v=f[g].keys;if(!(!v||v.length===0))if(v[0].morphTargets){const _={};let S;for(S=0;S<v.length;S++)if(v[S].morphTargets)for(let w=0;w<v[S].morphTargets.length;w++)_[v[S].morphTargets[w]]=-1;for(const w in _){const E=[],b=[];for(let R=0;R!==v[S].morphTargets.length;++R){const C=v[S];E.push(C.time),b.push(C.morphTarget===w?1:0)}r.push(new A_(".morphTargetInfluence["+w+"]",E,b))}u=_.length*s}else{const _=".bones["+t[g].name+"]";n(C_,_+".position",v,"pos",r),n(ax,_+".quaternion",v,"rot",r),n(C_,_+".scale",v,"scl",r)}}return r.length===0?null:new this(a,u,r,l)}resetDuration(){const e=this.tracks;let t=0;for(let n=0,r=e.length;n!==r;++n){const a=this.tracks[n];t=Math.max(t,a.times[a.times.length-1])}return this.duration=t,this}trim(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].trim(0,this.duration);return this}validate(){let e=!0;for(let t=0;t<this.tracks.length;t++)e=e&&this.tracks[t].validate();return e}optimize(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].optimize();return this}clone(){const e=[];for(let t=0;t<this.tracks.length;t++)e.push(this.tracks[t].clone());return new this.constructor(this.name,this.duration,e,this.blendMode)}toJSON(){return this.constructor.toJSON(this)}}function XX(i){switch(i.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return A_;case"vector":case"vector2":case"vector3":case"vector4":return C_;case"color":return l3;case"quaternion":return ax;case"bool":case"boolean":return Np;case"string":return Pp}throw new Error("THREE.KeyframeTrack: Unsupported typeName: "+i)}function qX(i){if(i.type===void 0)throw new Error("THREE.KeyframeTrack: track type undefined, can not parse");const e=XX(i.type);if(i.times===void 0){const t=[],n=[];s3(i.keys,t,n,"value"),i.times=t,i.values=n}return e.parse!==void 0?e.parse(i):new e(i.name,i.times,i.values,i.interpolation)}const Pc={enabled:!1,files:{},add:function(i,e){this.enabled!==!1&&(this.files[i]=e)},get:function(i){if(this.enabled!==!1)return this.files[i]},remove:function(i){delete this.files[i]},clear:function(){this.files={}}};class LE{constructor(e,t,n){const r=this;let a=!1,s=0,l=0,u;const f=[];this.onStart=void 0,this.onLoad=e,this.onProgress=t,this.onError=n,this.abortController=new AbortController,this.itemStart=function(p){l++,a===!1&&r.onStart!==void 0&&r.onStart(p,s,l),a=!0},this.itemEnd=function(p){s++,r.onProgress!==void 0&&r.onProgress(p,s,l),s===l&&(a=!1,r.onLoad!==void 0&&r.onLoad())},this.itemError=function(p){r.onError!==void 0&&r.onError(p)},this.resolveURL=function(p){return u?u(p):p},this.setURLModifier=function(p){return u=p,this},this.addHandler=function(p,g){return f.push(p,g),this},this.removeHandler=function(p){const g=f.indexOf(p);return g!==-1&&f.splice(g,2),this},this.getHandler=function(p){for(let g=0,v=f.length;g<v;g+=2){const _=f[g],S=f[g+1];if(_.global&&(_.lastIndex=0),_.test(p))return S}return null},this.abort=function(){return this.abortController.abort(),this.abortController=new AbortController,this}}}const oz=new LE;class xs{constructor(e){this.manager=e!==void 0?e:oz,this.crossOrigin="anonymous",this.withCredentials=!1,this.path="",this.resourcePath="",this.requestHeader={}}load(){}loadAsync(e,t){const n=this;return new Promise(function(r,a){n.load(e,r,t,a)})}parse(){}setCrossOrigin(e){return this.crossOrigin=e,this}setWithCredentials(e){return this.withCredentials=e,this}setPath(e){return this.path=e,this}setResourcePath(e){return this.resourcePath=e,this}setRequestHeader(e){return this.requestHeader=e,this}abort(){return this}}xs.DEFAULT_MATERIAL_NAME="__DEFAULT";const Eu={};class YX extends Error{constructor(e,t){super(e),this.response=t}}class vo extends xs{constructor(e){super(e),this.mimeType="",this.responseType="",this._abortController=new AbortController}load(e,t,n,r){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const a=Pc.get(`file:${e}`);if(a!==void 0)return this.manager.itemStart(e),setTimeout(()=>{t&&t(a),this.manager.itemEnd(e)},0),a;if(Eu[e]!==void 0){Eu[e].push({onLoad:t,onProgress:n,onError:r});return}Eu[e]=[],Eu[e].push({onLoad:t,onProgress:n,onError:r});const s=new Request(e,{headers:new Headers(this.requestHeader),credentials:this.withCredentials?"include":"same-origin",signal:typeof AbortSignal.any=="function"?AbortSignal.any([this._abortController.signal,this.manager.abortController.signal]):this._abortController.signal}),l=this.mimeType,u=this.responseType;fetch(s).then(f=>{if(f.status===200||f.status===0){if(f.status===0&&console.warn("THREE.FileLoader: HTTP Status 0 received."),typeof ReadableStream>"u"||f.body===void 0||f.body.getReader===void 0)return f;const p=Eu[e],g=f.body.getReader(),v=f.headers.get("X-File-Size")||f.headers.get("Content-Length"),_=v?parseInt(v):0,S=_!==0;let w=0;const E=new ReadableStream({start(b){R();function R(){g.read().then(({done:C,value:A})=>{if(C)b.close();else{w+=A.byteLength;const N=new ProgressEvent("progress",{lengthComputable:S,loaded:w,total:_});for(let L=0,B=p.length;L<B;L++){const U=p[L];U.onProgress&&U.onProgress(N)}b.enqueue(A),R()}},C=>{b.error(C)})}}});return new Response(E)}else throw new YX(`fetch for "${f.url}" responded with ${f.status}: ${f.statusText}`,f)}).then(f=>{switch(u){case"arraybuffer":return f.arrayBuffer();case"blob":return f.blob();case"document":return f.text().then(p=>new DOMParser().parseFromString(p,l));case"json":return f.json();default:if(l==="")return f.text();{const g=/charset="?([^;"\s]*)"?/i.exec(l),v=g&&g[1]?g[1].toLowerCase():void 0,_=new TextDecoder(v);return f.arrayBuffer().then(S=>_.decode(S))}}}).then(f=>{Pc.add(`file:${e}`,f);const p=Eu[e];delete Eu[e];for(let g=0,v=p.length;g<v;g++){const _=p[g];_.onLoad&&_.onLoad(f)}}).catch(f=>{const p=Eu[e];if(p===void 0)throw this.manager.itemError(e),f;delete Eu[e];for(let g=0,v=p.length;g<v;g++){const _=p[g];_.onError&&_.onError(f)}this.manager.itemError(e)}).finally(()=>{this.manager.itemEnd(e)}),this.manager.itemStart(e)}setResponseType(e){return this.responseType=e,this}setMimeType(e){return this.mimeType=e,this}abort(){return this._abortController.abort(),this._abortController=new AbortController,this}}class ZX extends xs{constructor(e){super(e)}load(e,t,n,r){const a=this,s=new vo(this.manager);s.setPath(this.path),s.setRequestHeader(this.requestHeader),s.setWithCredentials(this.withCredentials),s.load(e,function(l){try{t(a.parse(JSON.parse(l)))}catch(u){r?r(u):console.error(u),a.manager.itemError(e)}},n,r)}parse(e){const t=[];for(let n=0;n<e.length;n++){const r=R_.parse(e[n]);t.push(r)}return t}}class KX extends xs{constructor(e){super(e)}load(e,t,n,r){const a=this,s=[],l=new bE,u=new vo(this.manager);u.setPath(this.path),u.setResponseType("arraybuffer"),u.setRequestHeader(this.requestHeader),u.setWithCredentials(a.withCredentials);let f=0;function p(g){u.load(e[g],function(v){const _=a.parse(v,!0);s[g]={width:_.width,height:_.height,format:_.format,mipmaps:_.mipmaps},f+=1,f===6&&(_.mipmapCount===1&&(l.minFilter=Si),l.image=s,l.format=_.format,l.needsUpdate=!0,t&&t(l))},n,r)}if(Array.isArray(e))for(let g=0,v=e.length;g<v;++g)p(g);else u.load(e,function(g){const v=a.parse(g,!0);if(v.isCubemap){const _=v.mipmaps.length/v.mipmapCount;for(let S=0;S<_;S++){s[S]={mipmaps:[]};for(let w=0;w<v.mipmapCount;w++)s[S].mipmaps.push(v.mipmaps[S*v.mipmapCount+w]),s[S].format=v.format,s[S].width=v.width,s[S].height=v.height}l.image=s}else l.image.width=v.width,l.image.height=v.height,l.mipmaps=v.mipmaps;v.mipmapCount===1&&(l.minFilter=Si),l.format=v.format,l.needsUpdate=!0,t&&t(l)},n,r);return l}}const f0=new WeakMap;class D_ extends xs{constructor(e){super(e)}load(e,t,n,r){this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const a=this,s=Pc.get(`image:${e}`);if(s!==void 0){if(s.complete===!0)a.manager.itemStart(e),setTimeout(function(){t&&t(s),a.manager.itemEnd(e)},0);else{let g=f0.get(s);g===void 0&&(g=[],f0.set(s,g)),g.push({onLoad:t,onError:r})}return s}const l=w_("img");function u(){p(),t&&t(this);const g=f0.get(this)||[];for(let v=0;v<g.length;v++){const _=g[v];_.onLoad&&_.onLoad(this)}f0.delete(this),a.manager.itemEnd(e)}function f(g){p(),r&&r(g),Pc.remove(`image:${e}`);const v=f0.get(this)||[];for(let _=0;_<v.length;_++){const S=v[_];S.onError&&S.onError(g)}f0.delete(this),a.manager.itemError(e),a.manager.itemEnd(e)}function p(){l.removeEventListener("load",u,!1),l.removeEventListener("error",f,!1)}return l.addEventListener("load",u,!1),l.addEventListener("error",f,!1),e.slice(0,5)!=="data:"&&this.crossOrigin!==void 0&&(l.crossOrigin=this.crossOrigin),Pc.add(`image:${e}`,l),a.manager.itemStart(e),l.src=e,l}}class lz extends xs{constructor(e){super(e)}load(e,t,n,r){const a=new $_;a.colorSpace=va;const s=new D_(this.manager);s.setCrossOrigin(this.crossOrigin),s.setPath(this.path);let l=0;function u(f){s.load(e[f],function(p){a.images[f]=p,l++,l===6&&(a.needsUpdate=!0,t&&t(a))},void 0,r)}for(let f=0;f<e.length;++f)u(f);return a}}class c3 extends xs{constructor(e){super(e)}load(e,t,n,r){const a=this,s=new Bl,l=new vo(this.manager);return l.setResponseType("arraybuffer"),l.setRequestHeader(this.requestHeader),l.setPath(this.path),l.setWithCredentials(a.withCredentials),l.load(e,function(u){let f;try{f=a.parse(u)}catch(p){if(r!==void 0)r(p);else{console.error(p);return}}f.image!==void 0?s.image=f.image:f.data!==void 0&&(s.image.width=f.width,s.image.height=f.height,s.image.data=f.data),s.wrapS=f.wrapS!==void 0?f.wrapS:Lr,s.wrapT=f.wrapT!==void 0?f.wrapT:Lr,s.magFilter=f.magFilter!==void 0?f.magFilter:Si,s.minFilter=f.minFilter!==void 0?f.minFilter:Si,s.anisotropy=f.anisotropy!==void 0?f.anisotropy:1,f.colorSpace!==void 0&&(s.colorSpace=f.colorSpace),f.flipY!==void 0&&(s.flipY=f.flipY),f.format!==void 0&&(s.format=f.format),f.type!==void 0&&(s.type=f.type),f.mipmaps!==void 0&&(s.mipmaps=f.mipmaps,s.minFilter=Nc),f.mipmapCount===1&&(s.minFilter=Si),f.generateMipmaps!==void 0&&(s.generateMipmaps=f.generateMipmaps),s.needsUpdate=!0,t&&t(s,f)},n,r),s}}class UE extends xs{constructor(e){super(e)}load(e,t,n,r){const a=new gi,s=new D_(this.manager);return s.setCrossOrigin(this.crossOrigin),s.setPath(this.path),s.load(e,function(l){a.image=l,a.needsUpdate=!0,t!==void 0&&t(a)},n,r),a}}class Rh extends ai{constructor(e,t=1){super(),this.isLight=!0,this.type="Light",this.color=new Vt(e),this.intensity=t}dispose(){}copy(e,t){return super.copy(e,t),this.color.copy(e.color),this.intensity=e.intensity,this}toJSON(e){const t=super.toJSON(e);return t.object.color=this.color.getHex(),t.object.intensity=this.intensity,this.groundColor!==void 0&&(t.object.groundColor=this.groundColor.getHex()),this.distance!==void 0&&(t.object.distance=this.distance),this.angle!==void 0&&(t.object.angle=this.angle),this.decay!==void 0&&(t.object.decay=this.decay),this.penumbra!==void 0&&(t.object.penumbra=this.penumbra),this.shadow!==void 0&&(t.object.shadow=this.shadow.toJSON()),this.target!==void 0&&(t.object.target=this.target.uuid),t}}class cz extends Rh{constructor(e,t,n){super(e,n),this.isHemisphereLight=!0,this.type="HemisphereLight",this.position.copy(ai.DEFAULT_UP),this.updateMatrix(),this.groundColor=new Vt(t)}copy(e,t){return super.copy(e,t),this.groundColor.copy(e.groundColor),this}}const VM=new gn,yN=new le,_N=new le;class u3{constructor(e){this.camera=e,this.intensity=1,this.bias=0,this.normalBias=0,this.radius=1,this.blurSamples=8,this.mapSize=new ut(512,512),this.mapType=ys,this.map=null,this.mapPass=null,this.matrix=new gn,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new Eg,this._frameExtents=new ut(1,1),this._viewportCount=1,this._viewports=[new ri(0,0,1,1)]}getViewportCount(){return this._viewportCount}getFrustum(){return this._frustum}updateMatrices(e){const t=this.camera,n=this.matrix;yN.setFromMatrixPosition(e.matrixWorld),t.position.copy(yN),_N.setFromMatrixPosition(e.target.matrixWorld),t.lookAt(_N),t.updateMatrixWorld(),VM.multiplyMatrices(t.projectionMatrix,t.matrixWorldInverse),this._frustum.setFromProjectionMatrix(VM,t.coordinateSystem,t.reversedDepth),t.reversedDepth?n.set(.5,0,0,.5,0,.5,0,.5,0,0,1,0,0,0,0,1):n.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),n.multiply(VM)}getViewport(e){return this._viewports[e]}getFrameExtents(){return this._frameExtents}dispose(){this.map&&this.map.dispose(),this.mapPass&&this.mapPass.dispose()}copy(e){return this.camera=e.camera.clone(),this.intensity=e.intensity,this.bias=e.bias,this.radius=e.radius,this.autoUpdate=e.autoUpdate,this.needsUpdate=e.needsUpdate,this.normalBias=e.normalBias,this.blurSamples=e.blurSamples,this.mapSize.copy(e.mapSize),this}clone(){return new this.constructor().copy(this)}toJSON(){const e={};return this.intensity!==1&&(e.intensity=this.intensity),this.bias!==0&&(e.bias=this.bias),this.normalBias!==0&&(e.normalBias=this.normalBias),this.radius!==1&&(e.radius=this.radius),(this.mapSize.x!==512||this.mapSize.y!==512)&&(e.mapSize=this.mapSize.toArray()),e.camera=this.camera.toJSON(!1).object,delete e.camera.matrix,e}}class $X extends u3{constructor(){super(new ra(50,1,.5,500)),this.isSpotLightShadow=!0,this.focus=1,this.aspect=1}updateMatrices(e){const t=this.camera,n=og*2*e.angle*this.focus,r=this.mapSize.width/this.mapSize.height*this.aspect,a=e.distance||t.far;(n!==t.fov||r!==t.aspect||a!==t.far)&&(t.fov=n,t.aspect=r,t.far=a,t.updateProjectionMatrix()),super.updateMatrices(e)}copy(e){return super.copy(e),this.focus=e.focus,this}}class uz extends Rh{constructor(e,t,n=0,r=Math.PI/3,a=0,s=2){super(e,t),this.isSpotLight=!0,this.type="SpotLight",this.position.copy(ai.DEFAULT_UP),this.updateMatrix(),this.target=new ai,this.distance=n,this.angle=r,this.penumbra=a,this.decay=s,this.map=null,this.shadow=new $X}get power(){return this.intensity*Math.PI}set power(e){this.intensity=e/Math.PI}dispose(){this.shadow.dispose()}copy(e,t){return super.copy(e,t),this.distance=e.distance,this.angle=e.angle,this.penumbra=e.penumbra,this.decay=e.decay,this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}const xN=new gn,ly=new le,jM=new le;class JX extends u3{constructor(){super(new ra(90,1,.5,500)),this.isPointLightShadow=!0,this._frameExtents=new ut(4,2),this._viewportCount=6,this._viewports=[new ri(2,1,1,1),new ri(0,1,1,1),new ri(3,1,1,1),new ri(1,1,1,1),new ri(3,0,1,1),new ri(1,0,1,1)],this._cubeDirections=[new le(1,0,0),new le(-1,0,0),new le(0,0,1),new le(0,0,-1),new le(0,1,0),new le(0,-1,0)],this._cubeUps=[new le(0,1,0),new le(0,1,0),new le(0,1,0),new le(0,1,0),new le(0,0,1),new le(0,0,-1)]}updateMatrices(e,t=0){const n=this.camera,r=this.matrix,a=e.distance||n.far;a!==n.far&&(n.far=a,n.updateProjectionMatrix()),ly.setFromMatrixPosition(e.matrixWorld),n.position.copy(ly),jM.copy(n.position),jM.add(this._cubeDirections[t]),n.up.copy(this._cubeUps[t]),n.lookAt(jM),n.updateMatrixWorld(),r.makeTranslation(-ly.x,-ly.y,-ly.z),xN.multiplyMatrices(n.projectionMatrix,n.matrixWorldInverse),this._frustum.setFromProjectionMatrix(xN,n.coordinateSystem,n.reversedDepth)}}class fz extends Rh{constructor(e,t,n=0,r=2){super(e,t),this.isPointLight=!0,this.type="PointLight",this.distance=n,this.decay=r,this.shadow=new JX}get power(){return this.intensity*4*Math.PI}set power(e){this.intensity=e/(4*Math.PI)}dispose(){this.shadow.dispose()}copy(e,t){return super.copy(e,t),this.distance=e.distance,this.decay=e.decay,this.shadow=e.shadow.clone(),this}}class Mg extends mE{constructor(e=-1,t=1,n=1,r=-1,a=.1,s=2e3){super(),this.isOrthographicCamera=!0,this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=e,this.right=t,this.top=n,this.bottom=r,this.near=a,this.far=s,this.updateProjectionMatrix()}copy(e,t){return super.copy(e,t),this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.near=e.near,this.far=e.far,this.zoom=e.zoom,this.view=e.view===null?null:Object.assign({},e.view),this}setViewOffset(e,t,n,r,a,s){this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=n,this.view.offsetY=r,this.view.width=a,this.view.height=s,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=(this.right-this.left)/(2*this.zoom),t=(this.top-this.bottom)/(2*this.zoom),n=(this.right+this.left)/2,r=(this.top+this.bottom)/2;let a=n-e,s=n+e,l=r+t,u=r-t;if(this.view!==null&&this.view.enabled){const f=(this.right-this.left)/this.view.fullWidth/this.zoom,p=(this.top-this.bottom)/this.view.fullHeight/this.zoom;a+=f*this.view.offsetX,s=a+f*this.view.width,l-=p*this.view.offsetY,u=l-p*this.view.height}this.projectionMatrix.makeOrthographic(a,s,l,u,this.near,this.far,this.coordinateSystem,this.reversedDepth),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const t=super.toJSON(e);return t.object.zoom=this.zoom,t.object.left=this.left,t.object.right=this.right,t.object.top=this.top,t.object.bottom=this.bottom,t.object.near=this.near,t.object.far=this.far,this.view!==null&&(t.object.view=Object.assign({},this.view)),t}}class QX extends u3{constructor(){super(new Mg(-5,5,5,-5,.5,500)),this.isDirectionalLightShadow=!0}}class hz extends Rh{constructor(e,t){super(e,t),this.isDirectionalLight=!0,this.type="DirectionalLight",this.position.copy(ai.DEFAULT_UP),this.updateMatrix(),this.target=new ai,this.shadow=new QX}dispose(){this.shadow.dispose()}copy(e){return super.copy(e),this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}class dz extends Rh{constructor(e,t){super(e,t),this.isAmbientLight=!0,this.type="AmbientLight"}}class pz extends Rh{constructor(e,t,n=10,r=10){super(e,t),this.isRectAreaLight=!0,this.type="RectAreaLight",this.width=n,this.height=r}get power(){return this.intensity*this.width*this.height*Math.PI}set power(e){this.intensity=e/(this.width*this.height*Math.PI)}copy(e){return super.copy(e),this.width=e.width,this.height=e.height,this}toJSON(e){const t=super.toJSON(e);return t.object.width=this.width,t.object.height=this.height,t}}class mz{constructor(){this.isSphericalHarmonics3=!0,this.coefficients=[];for(let e=0;e<9;e++)this.coefficients.push(new le)}set(e){for(let t=0;t<9;t++)this.coefficients[t].copy(e[t]);return this}zero(){for(let e=0;e<9;e++)this.coefficients[e].set(0,0,0);return this}getAt(e,t){const n=e.x,r=e.y,a=e.z,s=this.coefficients;return t.copy(s[0]).multiplyScalar(.282095),t.addScaledVector(s[1],.488603*r),t.addScaledVector(s[2],.488603*a),t.addScaledVector(s[3],.488603*n),t.addScaledVector(s[4],1.092548*(n*r)),t.addScaledVector(s[5],1.092548*(r*a)),t.addScaledVector(s[6],.315392*(3*a*a-1)),t.addScaledVector(s[7],1.092548*(n*a)),t.addScaledVector(s[8],.546274*(n*n-r*r)),t}getIrradianceAt(e,t){const n=e.x,r=e.y,a=e.z,s=this.coefficients;return t.copy(s[0]).multiplyScalar(.886227),t.addScaledVector(s[1],2*.511664*r),t.addScaledVector(s[2],2*.511664*a),t.addScaledVector(s[3],2*.511664*n),t.addScaledVector(s[4],2*.429043*n*r),t.addScaledVector(s[5],2*.429043*r*a),t.addScaledVector(s[6],.743125*a*a-.247708),t.addScaledVector(s[7],2*.429043*n*a),t.addScaledVector(s[8],.429043*(n*n-r*r)),t}add(e){for(let t=0;t<9;t++)this.coefficients[t].add(e.coefficients[t]);return this}addScaledSH(e,t){for(let n=0;n<9;n++)this.coefficients[n].addScaledVector(e.coefficients[n],t);return this}scale(e){for(let t=0;t<9;t++)this.coefficients[t].multiplyScalar(e);return this}lerp(e,t){for(let n=0;n<9;n++)this.coefficients[n].lerp(e.coefficients[n],t);return this}equals(e){for(let t=0;t<9;t++)if(!this.coefficients[t].equals(e.coefficients[t]))return!1;return!0}copy(e){return this.set(e.coefficients)}clone(){return new this.constructor().copy(this)}fromArray(e,t=0){const n=this.coefficients;for(let r=0;r<9;r++)n[r].fromArray(e,t+r*3);return this}toArray(e=[],t=0){const n=this.coefficients;for(let r=0;r<9;r++)n[r].toArray(e,t+r*3);return e}static getBasisAt(e,t){const n=e.x,r=e.y,a=e.z;t[0]=.282095,t[1]=.488603*r,t[2]=.488603*a,t[3]=.488603*n,t[4]=1.092548*n*r,t[5]=1.092548*r*a,t[6]=.315392*(3*a*a-1),t[7]=1.092548*n*a,t[8]=.546274*(n*n-r*r)}}class gz extends Rh{constructor(e=new mz,t=1){super(void 0,t),this.isLightProbe=!0,this.sh=e}copy(e){return super.copy(e),this.sh.copy(e.sh),this}fromJSON(e){return this.intensity=e.intensity,this.sh.fromArray(e.sh),this}toJSON(e){const t=super.toJSON(e);return t.object.sh=this.sh.toArray(),t}}class IE extends xs{constructor(e){super(e),this.textures={}}load(e,t,n,r){const a=this,s=new vo(a.manager);s.setPath(a.path),s.setRequestHeader(a.requestHeader),s.setWithCredentials(a.withCredentials),s.load(e,function(l){try{t(a.parse(JSON.parse(l)))}catch(u){r?r(u):console.error(u),a.manager.itemError(e)}},n,r)}parse(e){const t=this.textures;function n(a){return t[a]===void 0&&console.warn("THREE.MaterialLoader: Undefined texture",a),t[a]}const r=this.createMaterialFromType(e.type);if(e.uuid!==void 0&&(r.uuid=e.uuid),e.name!==void 0&&(r.name=e.name),e.color!==void 0&&r.color!==void 0&&r.color.setHex(e.color),e.roughness!==void 0&&(r.roughness=e.roughness),e.metalness!==void 0&&(r.metalness=e.metalness),e.sheen!==void 0&&(r.sheen=e.sheen),e.sheenColor!==void 0&&(r.sheenColor=new Vt().setHex(e.sheenColor)),e.sheenRoughness!==void 0&&(r.sheenRoughness=e.sheenRoughness),e.emissive!==void 0&&r.emissive!==void 0&&r.emissive.setHex(e.emissive),e.specular!==void 0&&r.specular!==void 0&&r.specular.setHex(e.specular),e.specularIntensity!==void 0&&(r.specularIntensity=e.specularIntensity),e.specularColor!==void 0&&r.specularColor!==void 0&&r.specularColor.setHex(e.specularColor),e.shininess!==void 0&&(r.shininess=e.shininess),e.clearcoat!==void 0&&(r.clearcoat=e.clearcoat),e.clearcoatRoughness!==void 0&&(r.clearcoatRoughness=e.clearcoatRoughness),e.dispersion!==void 0&&(r.dispersion=e.dispersion),e.iridescence!==void 0&&(r.iridescence=e.iridescence),e.iridescenceIOR!==void 0&&(r.iridescenceIOR=e.iridescenceIOR),e.iridescenceThicknessRange!==void 0&&(r.iridescenceThicknessRange=e.iridescenceThicknessRange),e.transmission!==void 0&&(r.transmission=e.transmission),e.thickness!==void 0&&(r.thickness=e.thickness),e.attenuationDistance!==void 0&&(r.attenuationDistance=e.attenuationDistance),e.attenuationColor!==void 0&&r.attenuationColor!==void 0&&r.attenuationColor.setHex(e.attenuationColor),e.anisotropy!==void 0&&(r.anisotropy=e.anisotropy),e.anisotropyRotation!==void 0&&(r.anisotropyRotation=e.anisotropyRotation),e.fog!==void 0&&(r.fog=e.fog),e.flatShading!==void 0&&(r.flatShading=e.flatShading),e.blending!==void 0&&(r.blending=e.blending),e.combine!==void 0&&(r.combine=e.combine),e.side!==void 0&&(r.side=e.side),e.shadowSide!==void 0&&(r.shadowSide=e.shadowSide),e.opacity!==void 0&&(r.opacity=e.opacity),e.transparent!==void 0&&(r.transparent=e.transparent),e.alphaTest!==void 0&&(r.alphaTest=e.alphaTest),e.alphaHash!==void 0&&(r.alphaHash=e.alphaHash),e.depthFunc!==void 0&&(r.depthFunc=e.depthFunc),e.depthTest!==void 0&&(r.depthTest=e.depthTest),e.depthWrite!==void 0&&(r.depthWrite=e.depthWrite),e.colorWrite!==void 0&&(r.colorWrite=e.colorWrite),e.blendSrc!==void 0&&(r.blendSrc=e.blendSrc),e.blendDst!==void 0&&(r.blendDst=e.blendDst),e.blendEquation!==void 0&&(r.blendEquation=e.blendEquation),e.blendSrcAlpha!==void 0&&(r.blendSrcAlpha=e.blendSrcAlpha),e.blendDstAlpha!==void 0&&(r.blendDstAlpha=e.blendDstAlpha),e.blendEquationAlpha!==void 0&&(r.blendEquationAlpha=e.blendEquationAlpha),e.blendColor!==void 0&&r.blendColor!==void 0&&r.blendColor.setHex(e.blendColor),e.blendAlpha!==void 0&&(r.blendAlpha=e.blendAlpha),e.stencilWriteMask!==void 0&&(r.stencilWriteMask=e.stencilWriteMask),e.stencilFunc!==void 0&&(r.stencilFunc=e.stencilFunc),e.stencilRef!==void 0&&(r.stencilRef=e.stencilRef),e.stencilFuncMask!==void 0&&(r.stencilFuncMask=e.stencilFuncMask),e.stencilFail!==void 0&&(r.stencilFail=e.stencilFail),e.stencilZFail!==void 0&&(r.stencilZFail=e.stencilZFail),e.stencilZPass!==void 0&&(r.stencilZPass=e.stencilZPass),e.stencilWrite!==void 0&&(r.stencilWrite=e.stencilWrite),e.wireframe!==void 0&&(r.wireframe=e.wireframe),e.wireframeLinewidth!==void 0&&(r.wireframeLinewidth=e.wireframeLinewidth),e.wireframeLinecap!==void 0&&(r.wireframeLinecap=e.wireframeLinecap),e.wireframeLinejoin!==void 0&&(r.wireframeLinejoin=e.wireframeLinejoin),e.rotation!==void 0&&(r.rotation=e.rotation),e.linewidth!==void 0&&(r.linewidth=e.linewidth),e.dashSize!==void 0&&(r.dashSize=e.dashSize),e.gapSize!==void 0&&(r.gapSize=e.gapSize),e.scale!==void 0&&(r.scale=e.scale),e.polygonOffset!==void 0&&(r.polygonOffset=e.polygonOffset),e.polygonOffsetFactor!==void 0&&(r.polygonOffsetFactor=e.polygonOffsetFactor),e.polygonOffsetUnits!==void 0&&(r.polygonOffsetUnits=e.polygonOffsetUnits),e.dithering!==void 0&&(r.dithering=e.dithering),e.alphaToCoverage!==void 0&&(r.alphaToCoverage=e.alphaToCoverage),e.premultipliedAlpha!==void 0&&(r.premultipliedAlpha=e.premultipliedAlpha),e.forceSinglePass!==void 0&&(r.forceSinglePass=e.forceSinglePass),e.visible!==void 0&&(r.visible=e.visible),e.toneMapped!==void 0&&(r.toneMapped=e.toneMapped),e.userData!==void 0&&(r.userData=e.userData),e.vertexColors!==void 0&&(typeof e.vertexColors=="number"?r.vertexColors=e.vertexColors>0:r.vertexColors=e.vertexColors),e.uniforms!==void 0)for(const a in e.uniforms){const s=e.uniforms[a];switch(r.uniforms[a]={},s.type){case"t":r.uniforms[a].value=n(s.value);break;case"c":r.uniforms[a].value=new Vt().setHex(s.value);break;case"v2":r.uniforms[a].value=new ut().fromArray(s.value);break;case"v3":r.uniforms[a].value=new le().fromArray(s.value);break;case"v4":r.uniforms[a].value=new ri().fromArray(s.value);break;case"m3":r.uniforms[a].value=new Mn().fromArray(s.value);break;case"m4":r.uniforms[a].value=new gn().fromArray(s.value);break;default:r.uniforms[a].value=s.value}}if(e.defines!==void 0&&(r.defines=e.defines),e.vertexShader!==void 0&&(r.vertexShader=e.vertexShader),e.fragmentShader!==void 0&&(r.fragmentShader=e.fragmentShader),e.glslVersion!==void 0&&(r.glslVersion=e.glslVersion),e.extensions!==void 0)for(const a in e.extensions)r.extensions[a]=e.extensions[a];if(e.lights!==void 0&&(r.lights=e.lights),e.clipping!==void 0&&(r.clipping=e.clipping),e.size!==void 0&&(r.size=e.size),e.sizeAttenuation!==void 0&&(r.sizeAttenuation=e.sizeAttenuation),e.map!==void 0&&(r.map=n(e.map)),e.matcap!==void 0&&(r.matcap=n(e.matcap)),e.alphaMap!==void 0&&(r.alphaMap=n(e.alphaMap)),e.bumpMap!==void 0&&(r.bumpMap=n(e.bumpMap)),e.bumpScale!==void 0&&(r.bumpScale=e.bumpScale),e.normalMap!==void 0&&(r.normalMap=n(e.normalMap)),e.normalMapType!==void 0&&(r.normalMapType=e.normalMapType),e.normalScale!==void 0){let a=e.normalScale;Array.isArray(a)===!1&&(a=[a,a]),r.normalScale=new ut().fromArray(a)}return e.displacementMap!==void 0&&(r.displacementMap=n(e.displacementMap)),e.displacementScale!==void 0&&(r.displacementScale=e.displacementScale),e.displacementBias!==void 0&&(r.displacementBias=e.displacementBias),e.roughnessMap!==void 0&&(r.roughnessMap=n(e.roughnessMap)),e.metalnessMap!==void 0&&(r.metalnessMap=n(e.metalnessMap)),e.emissiveMap!==void 0&&(r.emissiveMap=n(e.emissiveMap)),e.emissiveIntensity!==void 0&&(r.emissiveIntensity=e.emissiveIntensity),e.specularMap!==void 0&&(r.specularMap=n(e.specularMap)),e.specularIntensityMap!==void 0&&(r.specularIntensityMap=n(e.specularIntensityMap)),e.specularColorMap!==void 0&&(r.specularColorMap=n(e.specularColorMap)),e.envMap!==void 0&&(r.envMap=n(e.envMap)),e.envMapRotation!==void 0&&r.envMapRotation.fromArray(e.envMapRotation),e.envMapIntensity!==void 0&&(r.envMapIntensity=e.envMapIntensity),e.reflectivity!==void 0&&(r.reflectivity=e.reflectivity),e.refractionRatio!==void 0&&(r.refractionRatio=e.refractionRatio),e.lightMap!==void 0&&(r.lightMap=n(e.lightMap)),e.lightMapIntensity!==void 0&&(r.lightMapIntensity=e.lightMapIntensity),e.aoMap!==void 0&&(r.aoMap=n(e.aoMap)),e.aoMapIntensity!==void 0&&(r.aoMapIntensity=e.aoMapIntensity),e.gradientMap!==void 0&&(r.gradientMap=n(e.gradientMap)),e.clearcoatMap!==void 0&&(r.clearcoatMap=n(e.clearcoatMap)),e.clearcoatRoughnessMap!==void 0&&(r.clearcoatRoughnessMap=n(e.clearcoatRoughnessMap)),e.clearcoatNormalMap!==void 0&&(r.clearcoatNormalMap=n(e.clearcoatNormalMap)),e.clearcoatNormalScale!==void 0&&(r.clearcoatNormalScale=new ut().fromArray(e.clearcoatNormalScale)),e.iridescenceMap!==void 0&&(r.iridescenceMap=n(e.iridescenceMap)),e.iridescenceThicknessMap!==void 0&&(r.iridescenceThicknessMap=n(e.iridescenceThicknessMap)),e.transmissionMap!==void 0&&(r.transmissionMap=n(e.transmissionMap)),e.thicknessMap!==void 0&&(r.thicknessMap=n(e.thicknessMap)),e.anisotropyMap!==void 0&&(r.anisotropyMap=n(e.anisotropyMap)),e.sheenColorMap!==void 0&&(r.sheenColorMap=n(e.sheenColorMap)),e.sheenRoughnessMap!==void 0&&(r.sheenRoughnessMap=n(e.sheenRoughnessMap)),r}setTextures(e){return this.textures=e,this}createMaterialFromType(e){return IE.createMaterialFromType(e)}static createMaterialFromType(e){const t={ShadowMaterial:qB,SpriteMaterial:qR,RawShaderMaterial:YB,ShaderMaterial:Ws,PointsMaterial:ZR,MeshPhysicalMaterial:ZB,MeshStandardMaterial:i3,MeshPhongMaterial:KB,MeshToonMaterial:$B,MeshNormalMaterial:JB,MeshLambertMaterial:QB,MeshDepthMaterial:r3,MeshDistanceMaterial:a3,MeshBasicMaterial:Xu,MeshMatcapMaterial:ez,LineDashedMaterial:tz,LineBasicMaterial:_s,Material:Va};return new t[e]}}class $A{static extractUrlBase(e){const t=e.lastIndexOf("/");return t===-1?"./":e.slice(0,t+1)}static resolveURL(e,t){return typeof e!="string"||e===""?"":(/^https?:\/\//i.test(t)&&/^\//.test(e)&&(t=t.replace(/(^https?:\/\/[^\/]+).*/i,"$1")),/^(https?:)?\/\//i.test(e)||/^data:.*,.*$/i.test(e)||/^blob:.*$/i.test(e)?e:t+e)}}class vz extends Nn{constructor(){super(),this.isInstancedBufferGeometry=!0,this.type="InstancedBufferGeometry",this.instanceCount=1/0}copy(e){return super.copy(e),this.instanceCount=e.instanceCount,this}toJSON(){const e=super.toJSON();return e.instanceCount=this.instanceCount,e.isInstancedBufferGeometry=!0,e}}class yz extends xs{constructor(e){super(e)}load(e,t,n,r){const a=this,s=new vo(a.manager);s.setPath(a.path),s.setRequestHeader(a.requestHeader),s.setWithCredentials(a.withCredentials),s.load(e,function(l){try{t(a.parse(JSON.parse(l)))}catch(u){r?r(u):console.error(u),a.manager.itemError(e)}},n,r)}parse(e){const t={},n={};function r(_,S){if(t[S]!==void 0)return t[S];const E=_.interleavedBuffers[S],b=a(_,E.buffer),R=A0(E.type,b),C=new yE(R,E.stride);return C.uuid=E.uuid,t[S]=C,C}function a(_,S){if(n[S]!==void 0)return n[S];const E=_.arrayBuffers[S],b=new Uint32Array(E).buffer;return n[S]=b,b}const s=e.isInstancedBufferGeometry?new vz:new Nn,l=e.data.index;if(l!==void 0){const _=A0(l.type,l.array);s.setIndex(new Ri(_,1))}const u=e.data.attributes;for(const _ in u){const S=u[_];let w;if(S.isInterleavedBufferAttribute){const E=r(e.data,S.data);w=new wp(E,S.itemSize,S.offset,S.normalized)}else{const E=A0(S.type,S.array),b=S.isInstancedBufferAttribute?ug:Ri;w=new b(E,S.itemSize,S.normalized)}S.name!==void 0&&(w.name=S.name),S.usage!==void 0&&w.setUsage(S.usage),s.setAttribute(_,w)}const f=e.data.morphAttributes;if(f)for(const _ in f){const S=f[_],w=[];for(let E=0,b=S.length;E<b;E++){const R=S[E];let C;if(R.isInterleavedBufferAttribute){const A=r(e.data,R.data);C=new wp(A,R.itemSize,R.offset,R.normalized)}else{const A=A0(R.type,R.array);C=new Ri(A,R.itemSize,R.normalized)}R.name!==void 0&&(C.name=R.name),w.push(C)}s.morphAttributes[_]=w}e.data.morphTargetsRelative&&(s.morphTargetsRelative=!0);const g=e.data.groups||e.data.drawcalls||e.data.offsets;if(g!==void 0)for(let _=0,S=g.length;_!==S;++_){const w=g[_];s.addGroup(w.start,w.count,w.materialIndex)}const v=e.data.boundingSphere;return v!==void 0&&(s.boundingSphere=new ba().fromJSON(v)),e.name&&(s.name=e.name),e.userData&&(s.userData=e.userData),s}}class eq extends xs{constructor(e){super(e)}load(e,t,n,r){const a=this,s=this.path===""?$A.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||s;const l=new vo(this.manager);l.setPath(this.path),l.setRequestHeader(this.requestHeader),l.setWithCredentials(this.withCredentials),l.load(e,function(u){let f=null;try{f=JSON.parse(u)}catch(g){r!==void 0&&r(g),console.error("THREE:ObjectLoader: Can't parse "+e+".",g.message);return}const p=f.metadata;if(p===void 0||p.type===void 0||p.type.toLowerCase()==="geometry"){r!==void 0&&r(new Error("THREE.ObjectLoader: Can't load "+e)),console.error("THREE.ObjectLoader: Can't load "+e);return}a.parse(f,t)},n,r)}async loadAsync(e,t){const n=this,r=this.path===""?$A.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||r;const a=new vo(this.manager);a.setPath(this.path),a.setRequestHeader(this.requestHeader),a.setWithCredentials(this.withCredentials);const s=await a.loadAsync(e,t),l=JSON.parse(s),u=l.metadata;if(u===void 0||u.type===void 0||u.type.toLowerCase()==="geometry")throw new Error("THREE.ObjectLoader: Can't load "+e);return await n.parseAsync(l)}parse(e,t){const n=this.parseAnimations(e.animations),r=this.parseShapes(e.shapes),a=this.parseGeometries(e.geometries,r),s=this.parseImages(e.images,function(){t!==void 0&&t(f)}),l=this.parseTextures(e.textures,s),u=this.parseMaterials(e.materials,l),f=this.parseObject(e.object,a,u,l,n),p=this.parseSkeletons(e.skeletons,f);if(this.bindSkeletons(f,p),this.bindLightTargets(f),t!==void 0){let g=!1;for(const v in s)if(s[v].data instanceof HTMLImageElement){g=!0;break}g===!1&&t(f)}return f}async parseAsync(e){const t=this.parseAnimations(e.animations),n=this.parseShapes(e.shapes),r=this.parseGeometries(e.geometries,n),a=await this.parseImagesAsync(e.images),s=this.parseTextures(e.textures,a),l=this.parseMaterials(e.materials,s),u=this.parseObject(e.object,r,l,s,t),f=this.parseSkeletons(e.skeletons,u);return this.bindSkeletons(u,f),this.bindLightTargets(u),u}parseShapes(e){const t={};if(e!==void 0)for(let n=0,r=e.length;n<r;n++){const a=new mp().fromJSON(e[n]);t[a.uuid]=a}return t}parseSkeletons(e,t){const n={},r={};if(t.traverse(function(a){a.isBone&&(r[a.uuid]=a)}),e!==void 0)for(let a=0,s=e.length;a<s;a++){const l=new _E().fromJSON(e[a],r);n[l.uuid]=l}return n}parseGeometries(e,t){const n={};if(e!==void 0){const r=new yz;for(let a=0,s=e.length;a<s;a++){let l;const u=e[a];switch(u.type){case"BufferGeometry":case"InstancedBufferGeometry":l=r.parse(u);break;default:u.type in vN?l=vN[u.type].fromJSON(u,t):console.warn(`THREE.ObjectLoader: Unsupported geometry type "${u.type}"`)}l.uuid=u.uuid,u.name!==void 0&&(l.name=u.name),u.userData!==void 0&&(l.userData=u.userData),n[u.uuid]=l}}return n}parseMaterials(e,t){const n={},r={};if(e!==void 0){const a=new IE;a.setTextures(t);for(let s=0,l=e.length;s<l;s++){const u=e[s];n[u.uuid]===void 0&&(n[u.uuid]=a.parse(u)),r[u.uuid]=n[u.uuid]}}return r}parseAnimations(e){const t={};if(e!==void 0)for(let n=0;n<e.length;n++){const r=e[n],a=R_.parse(r);t[a.uuid]=a}return t}parseImages(e,t){const n=this,r={};let a;function s(u){return n.manager.itemStart(u),a.load(u,function(){n.manager.itemEnd(u)},void 0,function(){n.manager.itemError(u),n.manager.itemEnd(u)})}function l(u){if(typeof u=="string"){const f=u,p=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(f)?f:n.resourcePath+f;return s(p)}else return u.data?{data:A0(u.type,u.data),width:u.width,height:u.height}:null}if(e!==void 0&&e.length>0){const u=new LE(t);a=new D_(u),a.setCrossOrigin(this.crossOrigin);for(let f=0,p=e.length;f<p;f++){const g=e[f],v=g.url;if(Array.isArray(v)){const _=[];for(let S=0,w=v.length;S<w;S++){const E=v[S],b=l(E);b!==null&&(b instanceof HTMLImageElement?_.push(b):_.push(new Bl(b.data,b.width,b.height)))}r[g.uuid]=new oh(_)}else{const _=l(g.url);r[g.uuid]=new oh(_)}}}return r}async parseImagesAsync(e){const t=this,n={};let r;async function a(s){if(typeof s=="string"){const l=s,u=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(l)?l:t.resourcePath+l;return await r.loadAsync(u)}else return s.data?{data:A0(s.type,s.data),width:s.width,height:s.height}:null}if(e!==void 0&&e.length>0){r=new D_(this.manager),r.setCrossOrigin(this.crossOrigin);for(let s=0,l=e.length;s<l;s++){const u=e[s],f=u.url;if(Array.isArray(f)){const p=[];for(let g=0,v=f.length;g<v;g++){const _=f[g],S=await a(_);S!==null&&(S instanceof HTMLImageElement?p.push(S):p.push(new Bl(S.data,S.width,S.height)))}n[u.uuid]=new oh(p)}else{const p=await a(u.url);n[u.uuid]=new oh(p)}}}return n}parseTextures(e,t){function n(a,s){return typeof a=="number"?a:(console.warn("THREE.ObjectLoader.parseTexture: Constant should be in numeric form.",a),s[a])}const r={};if(e!==void 0)for(let a=0,s=e.length;a<s;a++){const l=e[a];l.image===void 0&&console.warn('THREE.ObjectLoader: No "image" specified for',l.uuid),t[l.image]===void 0&&console.warn("THREE.ObjectLoader: Undefined image",l.image);const u=t[l.image],f=u.data;let p;Array.isArray(f)?(p=new $_,f.length===6&&(p.needsUpdate=!0)):(f&&f.data?p=new Bl:p=new gi,f&&(p.needsUpdate=!0)),p.source=u,p.uuid=l.uuid,l.name!==void 0&&(p.name=l.name),l.mapping!==void 0&&(p.mapping=n(l.mapping,tq)),l.channel!==void 0&&(p.channel=l.channel),l.offset!==void 0&&p.offset.fromArray(l.offset),l.repeat!==void 0&&p.repeat.fromArray(l.repeat),l.center!==void 0&&p.center.fromArray(l.center),l.rotation!==void 0&&(p.rotation=l.rotation),l.wrap!==void 0&&(p.wrapS=n(l.wrap[0],bN),p.wrapT=n(l.wrap[1],bN)),l.format!==void 0&&(p.format=l.format),l.internalFormat!==void 0&&(p.internalFormat=l.internalFormat),l.type!==void 0&&(p.type=l.type),l.colorSpace!==void 0&&(p.colorSpace=l.colorSpace),l.minFilter!==void 0&&(p.minFilter=n(l.minFilter,SN)),l.magFilter!==void 0&&(p.magFilter=n(l.magFilter,SN)),l.anisotropy!==void 0&&(p.anisotropy=l.anisotropy),l.flipY!==void 0&&(p.flipY=l.flipY),l.generateMipmaps!==void 0&&(p.generateMipmaps=l.generateMipmaps),l.premultiplyAlpha!==void 0&&(p.premultiplyAlpha=l.premultiplyAlpha),l.unpackAlignment!==void 0&&(p.unpackAlignment=l.unpackAlignment),l.compareFunction!==void 0&&(p.compareFunction=l.compareFunction),l.userData!==void 0&&(p.userData=l.userData),r[l.uuid]=p}return r}parseObject(e,t,n,r,a){let s;function l(v){return t[v]===void 0&&console.warn("THREE.ObjectLoader: Undefined geometry",v),t[v]}function u(v){if(v!==void 0){if(Array.isArray(v)){const _=[];for(let S=0,w=v.length;S<w;S++){const E=v[S];n[E]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",E),_.push(n[E])}return _}return n[v]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",v),n[v]}}function f(v){return r[v]===void 0&&console.warn("THREE.ObjectLoader: Undefined texture",v),r[v]}let p,g;switch(e.type){case"Scene":s=new J_,e.background!==void 0&&(Number.isInteger(e.background)?s.background=new Vt(e.background):s.background=f(e.background)),e.environment!==void 0&&(s.environment=f(e.environment)),e.fog!==void 0&&(e.fog.type==="Fog"?s.fog=new vE(e.fog.color,e.fog.near,e.fog.far):e.fog.type==="FogExp2"&&(s.fog=new gE(e.fog.color,e.fog.density)),e.fog.name!==""&&(s.fog.name=e.fog.name)),e.backgroundBlurriness!==void 0&&(s.backgroundBlurriness=e.backgroundBlurriness),e.backgroundIntensity!==void 0&&(s.backgroundIntensity=e.backgroundIntensity),e.backgroundRotation!==void 0&&s.backgroundRotation.fromArray(e.backgroundRotation),e.environmentIntensity!==void 0&&(s.environmentIntensity=e.environmentIntensity),e.environmentRotation!==void 0&&s.environmentRotation.fromArray(e.environmentRotation);break;case"PerspectiveCamera":s=new ra(e.fov,e.aspect,e.near,e.far),e.focus!==void 0&&(s.focus=e.focus),e.zoom!==void 0&&(s.zoom=e.zoom),e.filmGauge!==void 0&&(s.filmGauge=e.filmGauge),e.filmOffset!==void 0&&(s.filmOffset=e.filmOffset),e.view!==void 0&&(s.view=Object.assign({},e.view));break;case"OrthographicCamera":s=new Mg(e.left,e.right,e.top,e.bottom,e.near,e.far),e.zoom!==void 0&&(s.zoom=e.zoom),e.view!==void 0&&(s.view=Object.assign({},e.view));break;case"AmbientLight":s=new dz(e.color,e.intensity);break;case"DirectionalLight":s=new hz(e.color,e.intensity),s.target=e.target||"";break;case"PointLight":s=new fz(e.color,e.intensity,e.distance,e.decay);break;case"RectAreaLight":s=new pz(e.color,e.intensity,e.width,e.height);break;case"SpotLight":s=new uz(e.color,e.intensity,e.distance,e.angle,e.penumbra,e.decay),s.target=e.target||"";break;case"HemisphereLight":s=new cz(e.color,e.groundColor,e.intensity);break;case"LightProbe":s=new gz().fromJSON(e);break;case"SkinnedMesh":p=l(e.geometry),g=u(e.material),s=new DB(p,g),e.bindMode!==void 0&&(s.bindMode=e.bindMode),e.bindMatrix!==void 0&&s.bindMatrix.fromArray(e.bindMatrix),e.skeleton!==void 0&&(s.skeleton=e.skeleton);break;case"Mesh":p=l(e.geometry),g=u(e.material),s=new ar(p,g);break;case"InstancedMesh":p=l(e.geometry),g=u(e.material);const v=e.count,_=e.instanceMatrix,S=e.instanceColor;s=new OB(p,g,v),s.instanceMatrix=new ug(new Float32Array(_.array),16),S!==void 0&&(s.instanceColor=new ug(new Float32Array(S.array),S.itemSize));break;case"BatchedMesh":p=l(e.geometry),g=u(e.material),s=new NB(e.maxInstanceCount,e.maxVertexCount,e.maxIndexCount,g),s.geometry=p,s.perObjectFrustumCulled=e.perObjectFrustumCulled,s.sortObjects=e.sortObjects,s._drawRanges=e.drawRanges,s._reservedRanges=e.reservedRanges,s._geometryInfo=e.geometryInfo.map(w=>{let E=null,b=null;return w.boundingBox!==void 0&&(E=new Fa().fromJSON(w.boundingBox)),w.boundingSphere!==void 0&&(b=new ba().fromJSON(w.boundingSphere)),{...w,boundingBox:E,boundingSphere:b}}),s._instanceInfo=e.instanceInfo,s._availableInstanceIds=e._availableInstanceIds,s._availableGeometryIds=e._availableGeometryIds,s._nextIndexStart=e.nextIndexStart,s._nextVertexStart=e.nextVertexStart,s._geometryCount=e.geometryCount,s._maxInstanceCount=e.maxInstanceCount,s._maxVertexCount=e.maxVertexCount,s._maxIndexCount=e.maxIndexCount,s._geometryInitialized=e.geometryInitialized,s._matricesTexture=f(e.matricesTexture.uuid),s._indirectTexture=f(e.indirectTexture.uuid),e.colorsTexture!==void 0&&(s._colorsTexture=f(e.colorsTexture.uuid)),e.boundingSphere!==void 0&&(s.boundingSphere=new ba().fromJSON(e.boundingSphere)),e.boundingBox!==void 0&&(s.boundingBox=new Fa().fromJSON(e.boundingBox));break;case"LOD":s=new RB;break;case"Line":s=new yh(l(e.geometry),u(e.material));break;case"LineLoop":s=new PB(l(e.geometry),u(e.material));break;case"LineSegments":s=new qc(l(e.geometry),u(e.material));break;case"PointCloud":case"Points":s=new LB(l(e.geometry),u(e.material));break;case"Sprite":s=new CB(u(e.material));break;case"Group":s=new C0;break;case"Bone":s=new YR;break;default:s=new ai}if(s.uuid=e.uuid,e.name!==void 0&&(s.name=e.name),e.matrix!==void 0?(s.matrix.fromArray(e.matrix),e.matrixAutoUpdate!==void 0&&(s.matrixAutoUpdate=e.matrixAutoUpdate),s.matrixAutoUpdate&&s.matrix.decompose(s.position,s.quaternion,s.scale)):(e.position!==void 0&&s.position.fromArray(e.position),e.rotation!==void 0&&s.rotation.fromArray(e.rotation),e.quaternion!==void 0&&s.quaternion.fromArray(e.quaternion),e.scale!==void 0&&s.scale.fromArray(e.scale)),e.up!==void 0&&s.up.fromArray(e.up),e.castShadow!==void 0&&(s.castShadow=e.castShadow),e.receiveShadow!==void 0&&(s.receiveShadow=e.receiveShadow),e.shadow&&(e.shadow.intensity!==void 0&&(s.shadow.intensity=e.shadow.intensity),e.shadow.bias!==void 0&&(s.shadow.bias=e.shadow.bias),e.shadow.normalBias!==void 0&&(s.shadow.normalBias=e.shadow.normalBias),e.shadow.radius!==void 0&&(s.shadow.radius=e.shadow.radius),e.shadow.mapSize!==void 0&&s.shadow.mapSize.fromArray(e.shadow.mapSize),e.shadow.camera!==void 0&&(s.shadow.camera=this.parseObject(e.shadow.camera))),e.visible!==void 0&&(s.visible=e.visible),e.frustumCulled!==void 0&&(s.frustumCulled=e.frustumCulled),e.renderOrder!==void 0&&(s.renderOrder=e.renderOrder),e.userData!==void 0&&(s.userData=e.userData),e.layers!==void 0&&(s.layers.mask=e.layers),e.children!==void 0){const v=e.children;for(let _=0;_<v.length;_++)s.add(this.parseObject(v[_],t,n,r,a))}if(e.animations!==void 0){const v=e.animations;for(let _=0;_<v.length;_++){const S=v[_];s.animations.push(a[S])}}if(e.type==="LOD"){e.autoUpdate!==void 0&&(s.autoUpdate=e.autoUpdate);const v=e.levels;for(let _=0;_<v.length;_++){const S=v[_],w=s.getObjectByProperty("uuid",S.object);w!==void 0&&s.addLevel(w,S.distance,S.hysteresis)}}return s}bindSkeletons(e,t){Object.keys(t).length!==0&&e.traverse(function(n){if(n.isSkinnedMesh===!0&&n.skeleton!==void 0){const r=t[n.skeleton];r===void 0?console.warn("THREE.ObjectLoader: No skeleton found with UUID:",n.skeleton):n.bind(r,n.bindMatrix)}})}bindLightTargets(e){e.traverse(function(t){if(t.isDirectionalLight||t.isSpotLight){const n=t.target,r=e.getObjectByProperty("uuid",n);r!==void 0?t.target=r:t.target=new ai}})}}const tq={UVMapping:gh,CubeReflectionMapping:jc,CubeRefractionMapping:vh,EquirectangularReflectionMapping:tg,EquirectangularRefractionMapping:g_,CubeUVReflectionMapping:Sg},bN={RepeatWrapping:v_,ClampToEdgeWrapping:Lr,MirroredRepeatWrapping:y_},SN={NearestFilter:xa,NearestMipmapNearestFilter:LR,NearestMipmapLinearFilter:T0,LinearFilter:Si,LinearMipmapNearestFilter:Hy,LinearMipmapLinearFilter:Nc},GM=new WeakMap;class nq extends xs{constructor(e){super(e),this.isImageBitmapLoader=!0,typeof createImageBitmap>"u"&&console.warn("THREE.ImageBitmapLoader: createImageBitmap() not supported."),typeof fetch>"u"&&console.warn("THREE.ImageBitmapLoader: fetch() not supported."),this.options={premultiplyAlpha:"none"},this._abortController=new AbortController}setOptions(e){return this.options=e,this}load(e,t,n,r){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const a=this,s=Pc.get(`image-bitmap:${e}`);if(s!==void 0){if(a.manager.itemStart(e),s.then){s.then(f=>{if(GM.has(s)===!0)r&&r(GM.get(s)),a.manager.itemError(e),a.manager.itemEnd(e);else return t&&t(f),a.manager.itemEnd(e),f});return}return setTimeout(function(){t&&t(s),a.manager.itemEnd(e)},0),s}const l={};l.credentials=this.crossOrigin==="anonymous"?"same-origin":"include",l.headers=this.requestHeader,l.signal=typeof AbortSignal.any=="function"?AbortSignal.any([this._abortController.signal,this.manager.abortController.signal]):this._abortController.signal;const u=fetch(e,l).then(function(f){return f.blob()}).then(function(f){return createImageBitmap(f,Object.assign(a.options,{colorSpaceConversion:"none"}))}).then(function(f){return Pc.add(`image-bitmap:${e}`,f),t&&t(f),a.manager.itemEnd(e),f}).catch(function(f){r&&r(f),GM.set(u,f),Pc.remove(`image-bitmap:${e}`),a.manager.itemError(e),a.manager.itemEnd(e)});Pc.add(`image-bitmap:${e}`,u),a.manager.itemStart(e)}abort(){return this._abortController.abort(),this._abortController=new AbortController,this}}let jb;class f3{static getContext(){return jb===void 0&&(jb=new(window.AudioContext||window.webkitAudioContext)),jb}static setContext(e){jb=e}}class iq extends xs{constructor(e){super(e)}load(e,t,n,r){const a=this,s=new vo(this.manager);s.setResponseType("arraybuffer"),s.setPath(this.path),s.setRequestHeader(this.requestHeader),s.setWithCredentials(this.withCredentials),s.load(e,function(u){try{const f=u.slice(0);f3.getContext().decodeAudioData(f,function(g){t(g)}).catch(l)}catch(f){l(f)}},n,r);function l(u){r?r(u):console.error(u),a.manager.itemError(e)}}}const wN=new gn,EN=new gn,Nd=new gn;class rq{constructor(){this.type="StereoCamera",this.aspect=1,this.eyeSep=.064,this.cameraL=new ra,this.cameraL.layers.enable(1),this.cameraL.matrixAutoUpdate=!1,this.cameraR=new ra,this.cameraR.layers.enable(2),this.cameraR.matrixAutoUpdate=!1,this._cache={focus:null,fov:null,aspect:null,near:null,far:null,zoom:null,eyeSep:null}}update(e){const t=this._cache;if(t.focus!==e.focus||t.fov!==e.fov||t.aspect!==e.aspect*this.aspect||t.near!==e.near||t.far!==e.far||t.zoom!==e.zoom||t.eyeSep!==this.eyeSep){t.focus=e.focus,t.fov=e.fov,t.aspect=e.aspect*this.aspect,t.near=e.near,t.far=e.far,t.zoom=e.zoom,t.eyeSep=this.eyeSep,Nd.copy(e.projectionMatrix);const r=t.eyeSep/2,a=r*t.near/t.focus,s=t.near*Math.tan(pp*t.fov*.5)/t.zoom;let l,u;EN.elements[12]=-r,wN.elements[12]=r,l=-s*t.aspect+a,u=s*t.aspect+a,Nd.elements[0]=2*t.near/(u-l),Nd.elements[8]=(u+l)/(u-l),this.cameraL.projectionMatrix.copy(Nd),l=-s*t.aspect-a,u=s*t.aspect-a,Nd.elements[0]=2*t.near/(u-l),Nd.elements[8]=(u+l)/(u-l),this.cameraR.projectionMatrix.copy(Nd)}this.cameraL.matrixWorld.copy(e.matrixWorld).multiply(EN),this.cameraR.matrixWorld.copy(e.matrixWorld).multiply(wN)}}class _z extends ra{constructor(e=[]){super(),this.isArrayCamera=!0,this.isMultiViewCamera=!1,this.cameras=e}}class h3{constructor(e=!0){this.autoStart=e,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1}start(){this.startTime=performance.now(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0}stop(){this.getElapsedTime(),this.running=!1,this.autoStart=!1}getElapsedTime(){return this.getDelta(),this.elapsedTime}getDelta(){let e=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){const t=performance.now();e=(t-this.oldTime)/1e3,this.oldTime=t,this.elapsedTime+=e}return e}}const Pd=new le,WM=new js,aq=new le,Ld=new le,Ud=new le;class sq extends ai{constructor(){super(),this.type="AudioListener",this.context=f3.getContext(),this.gain=this.context.createGain(),this.gain.connect(this.context.destination),this.filter=null,this.timeDelta=0,this._clock=new h3}getInput(){return this.gain}removeFilter(){return this.filter!==null&&(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination),this.gain.connect(this.context.destination),this.filter=null),this}getFilter(){return this.filter}setFilter(e){return this.filter!==null?(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination)):this.gain.disconnect(this.context.destination),this.filter=e,this.gain.connect(this.filter),this.filter.connect(this.context.destination),this}getMasterVolume(){return this.gain.gain.value}setMasterVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}updateMatrixWorld(e){super.updateMatrixWorld(e);const t=this.context.listener;if(this.timeDelta=this._clock.getDelta(),this.matrixWorld.decompose(Pd,WM,aq),Ld.set(0,0,-1).applyQuaternion(WM),Ud.set(0,1,0).applyQuaternion(WM),t.positionX){const n=this.context.currentTime+this.timeDelta;t.positionX.linearRampToValueAtTime(Pd.x,n),t.positionY.linearRampToValueAtTime(Pd.y,n),t.positionZ.linearRampToValueAtTime(Pd.z,n),t.forwardX.linearRampToValueAtTime(Ld.x,n),t.forwardY.linearRampToValueAtTime(Ld.y,n),t.forwardZ.linearRampToValueAtTime(Ld.z,n),t.upX.linearRampToValueAtTime(Ud.x,n),t.upY.linearRampToValueAtTime(Ud.y,n),t.upZ.linearRampToValueAtTime(Ud.z,n)}else t.setPosition(Pd.x,Pd.y,Pd.z),t.setOrientation(Ld.x,Ld.y,Ld.z,Ud.x,Ud.y,Ud.z)}}class xz extends ai{constructor(e){super(),this.type="Audio",this.listener=e,this.context=e.context,this.gain=this.context.createGain(),this.gain.connect(e.getInput()),this.autoplay=!1,this.buffer=null,this.detune=0,this.loop=!1,this.loopStart=0,this.loopEnd=0,this.offset=0,this.duration=void 0,this.playbackRate=1,this.isPlaying=!1,this.hasPlaybackControl=!0,this.source=null,this.sourceType="empty",this._startedAt=0,this._progress=0,this._connected=!1,this.filters=[]}getOutput(){return this.gain}setNodeSource(e){return this.hasPlaybackControl=!1,this.sourceType="audioNode",this.source=e,this.connect(),this}setMediaElementSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaNode",this.source=this.context.createMediaElementSource(e),this.connect(),this}setMediaStreamSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaStreamNode",this.source=this.context.createMediaStreamSource(e),this.connect(),this}setBuffer(e){return this.buffer=e,this.sourceType="buffer",this.autoplay&&this.play(),this}play(e=0){if(this.isPlaying===!0){console.warn("THREE.Audio: Audio is already playing.");return}if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}this._startedAt=this.context.currentTime+e;const t=this.context.createBufferSource();return t.buffer=this.buffer,t.loop=this.loop,t.loopStart=this.loopStart,t.loopEnd=this.loopEnd,t.onended=this.onEnded.bind(this),t.start(this._startedAt,this._progress+this.offset,this.duration),this.isPlaying=!0,this.source=t,this.setDetune(this.detune),this.setPlaybackRate(this.playbackRate),this.connect()}pause(){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.isPlaying===!0&&(this._progress+=Math.max(this.context.currentTime-this._startedAt,0)*this.playbackRate,this.loop===!0&&(this._progress=this._progress%(this.duration||this.buffer.duration)),this.source.stop(),this.source.onended=null,this.isPlaying=!1),this}stop(e=0){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this._progress=0,this.source!==null&&(this.source.stop(this.context.currentTime+e),this.source.onended=null),this.isPlaying=!1,this}connect(){if(this.filters.length>0){this.source.connect(this.filters[0]);for(let e=1,t=this.filters.length;e<t;e++)this.filters[e-1].connect(this.filters[e]);this.filters[this.filters.length-1].connect(this.getOutput())}else this.source.connect(this.getOutput());return this._connected=!0,this}disconnect(){if(this._connected!==!1){if(this.filters.length>0){this.source.disconnect(this.filters[0]);for(let e=1,t=this.filters.length;e<t;e++)this.filters[e-1].disconnect(this.filters[e]);this.filters[this.filters.length-1].disconnect(this.getOutput())}else this.source.disconnect(this.getOutput());return this._connected=!1,this}}getFilters(){return this.filters}setFilters(e){return e||(e=[]),this._connected===!0?(this.disconnect(),this.filters=e.slice(),this.connect()):this.filters=e.slice(),this}setDetune(e){return this.detune=e,this.isPlaying===!0&&this.source.detune!==void 0&&this.source.detune.setTargetAtTime(this.detune,this.context.currentTime,.01),this}getDetune(){return this.detune}getFilter(){return this.getFilters()[0]}setFilter(e){return this.setFilters(e?[e]:[])}setPlaybackRate(e){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.playbackRate=e,this.isPlaying===!0&&this.source.playbackRate.setTargetAtTime(this.playbackRate,this.context.currentTime,.01),this}getPlaybackRate(){return this.playbackRate}onEnded(){this.isPlaying=!1,this._progress=0}getLoop(){return this.hasPlaybackControl===!1?(console.warn("THREE.Audio: this Audio has no playback control."),!1):this.loop}setLoop(e){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.loop=e,this.isPlaying===!0&&(this.source.loop=this.loop),this}setLoopStart(e){return this.loopStart=e,this}setLoopEnd(e){return this.loopEnd=e,this}getVolume(){return this.gain.gain.value}setVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}copy(e,t){return super.copy(e,t),e.sourceType!=="buffer"?(console.warn("THREE.Audio: Audio source type cannot be copied."),this):(this.autoplay=e.autoplay,this.buffer=e.buffer,this.detune=e.detune,this.loop=e.loop,this.loopStart=e.loopStart,this.loopEnd=e.loopEnd,this.offset=e.offset,this.duration=e.duration,this.playbackRate=e.playbackRate,this.hasPlaybackControl=e.hasPlaybackControl,this.sourceType=e.sourceType,this.filters=e.filters.slice(),this)}clone(e){return new this.constructor(this.listener).copy(this,e)}}const Id=new le,MN=new js,oq=new le,Bd=new le;class lq extends xz{constructor(e){super(e),this.panner=this.context.createPanner(),this.panner.panningModel="HRTF",this.panner.connect(this.gain)}connect(){return super.connect(),this.panner.connect(this.gain),this}disconnect(){return super.disconnect(),this.panner.disconnect(this.gain),this}getOutput(){return this.panner}getRefDistance(){return this.panner.refDistance}setRefDistance(e){return this.panner.refDistance=e,this}getRolloffFactor(){return this.panner.rolloffFactor}setRolloffFactor(e){return this.panner.rolloffFactor=e,this}getDistanceModel(){return this.panner.distanceModel}setDistanceModel(e){return this.panner.distanceModel=e,this}getMaxDistance(){return this.panner.maxDistance}setMaxDistance(e){return this.panner.maxDistance=e,this}setDirectionalCone(e,t,n){return this.panner.coneInnerAngle=e,this.panner.coneOuterAngle=t,this.panner.coneOuterGain=n,this}updateMatrixWorld(e){if(super.updateMatrixWorld(e),this.hasPlaybackControl===!0&&this.isPlaying===!1)return;this.matrixWorld.decompose(Id,MN,oq),Bd.set(0,0,1).applyQuaternion(MN);const t=this.panner;if(t.positionX){const n=this.context.currentTime+this.listener.timeDelta;t.positionX.linearRampToValueAtTime(Id.x,n),t.positionY.linearRampToValueAtTime(Id.y,n),t.positionZ.linearRampToValueAtTime(Id.z,n),t.orientationX.linearRampToValueAtTime(Bd.x,n),t.orientationY.linearRampToValueAtTime(Bd.y,n),t.orientationZ.linearRampToValueAtTime(Bd.z,n)}else t.setPosition(Id.x,Id.y,Id.z),t.setOrientation(Bd.x,Bd.y,Bd.z)}}class cq{constructor(e,t=2048){this.analyser=e.context.createAnalyser(),this.analyser.fftSize=t,this.data=new Uint8Array(this.analyser.frequencyBinCount),e.getOutput().connect(this.analyser)}getFrequencyData(){return this.analyser.getByteFrequencyData(this.data),this.data}getAverageFrequency(){let e=0;const t=this.getFrequencyData();for(let n=0;n<t.length;n++)e+=t[n];return e/t.length}}class bz{constructor(e,t,n){this.binding=e,this.valueSize=n;let r,a,s;switch(t){case"quaternion":r=this._slerp,a=this._slerpAdditive,s=this._setAdditiveIdentityQuaternion,this.buffer=new Float64Array(n*6),this._workIndex=5;break;case"string":case"bool":r=this._select,a=this._select,s=this._setAdditiveIdentityOther,this.buffer=new Array(n*5);break;default:r=this._lerp,a=this._lerpAdditive,s=this._setAdditiveIdentityNumeric,this.buffer=new Float64Array(n*5)}this._mixBufferRegion=r,this._mixBufferRegionAdditive=a,this._setIdentity=s,this._origIndex=3,this._addIndex=4,this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,this.useCount=0,this.referenceCount=0}accumulate(e,t){const n=this.buffer,r=this.valueSize,a=e*r+r;let s=this.cumulativeWeight;if(s===0){for(let l=0;l!==r;++l)n[a+l]=n[l];s=t}else{s+=t;const l=t/s;this._mixBufferRegion(n,a,0,l,r)}this.cumulativeWeight=s}accumulateAdditive(e){const t=this.buffer,n=this.valueSize,r=n*this._addIndex;this.cumulativeWeightAdditive===0&&this._setIdentity(),this._mixBufferRegionAdditive(t,r,0,e,n),this.cumulativeWeightAdditive+=e}apply(e){const t=this.valueSize,n=this.buffer,r=e*t+t,a=this.cumulativeWeight,s=this.cumulativeWeightAdditive,l=this.binding;if(this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,a<1){const u=t*this._origIndex;this._mixBufferRegion(n,r,u,1-a,t)}s>0&&this._mixBufferRegionAdditive(n,r,this._addIndex*t,1,t);for(let u=t,f=t+t;u!==f;++u)if(n[u]!==n[u+t]){l.setValue(n,r);break}}saveOriginalState(){const e=this.binding,t=this.buffer,n=this.valueSize,r=n*this._origIndex;e.getValue(t,r);for(let a=n,s=r;a!==s;++a)t[a]=t[r+a%n];this._setIdentity(),this.cumulativeWeight=0,this.cumulativeWeightAdditive=0}restoreOriginalState(){const e=this.valueSize*3;this.binding.setValue(this.buffer,e)}_setAdditiveIdentityNumeric(){const e=this._addIndex*this.valueSize,t=e+this.valueSize;for(let n=e;n<t;n++)this.buffer[n]=0}_setAdditiveIdentityQuaternion(){this._setAdditiveIdentityNumeric(),this.buffer[this._addIndex*this.valueSize+3]=1}_setAdditiveIdentityOther(){const e=this._origIndex*this.valueSize,t=this._addIndex*this.valueSize;for(let n=0;n<this.valueSize;n++)this.buffer[t+n]=this.buffer[e+n]}_select(e,t,n,r,a){if(r>=.5)for(let s=0;s!==a;++s)e[t+s]=e[n+s]}_slerp(e,t,n,r){js.slerpFlat(e,t,e,t,e,n,r)}_slerpAdditive(e,t,n,r,a){const s=this._workIndex*a;js.multiplyQuaternionsFlat(e,s,e,t,e,n),js.slerpFlat(e,t,e,t,e,s,r)}_lerp(e,t,n,r,a){const s=1-r;for(let l=0;l!==a;++l){const u=t+l;e[u]=e[u]*s+e[n+l]*r}}_lerpAdditive(e,t,n,r,a){for(let s=0;s!==a;++s){const l=t+s;e[l]=e[l]+e[n+s]*r}}}const d3="\\[\\]\\.:\\/",uq=new RegExp("["+d3+"]","g"),p3="[^"+d3+"]",fq="[^"+d3.replace("\\.","")+"]",hq=/((?:WC+[\/:])*)/.source.replace("WC",p3),dq=/(WCOD+)?/.source.replace("WCOD",fq),pq=/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",p3),mq=/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",p3),gq=new RegExp("^"+hq+dq+pq+mq+"$"),vq=["material","materials","bones","map"];class yq{constructor(e,t,n){const r=n||ii.parseTrackName(t);this._targetGroup=e,this._bindings=e.subscribe_(t,r)}getValue(e,t){this.bind();const n=this._targetGroup.nCachedObjects_,r=this._bindings[n];r!==void 0&&r.getValue(e,t)}setValue(e,t){const n=this._bindings;for(let r=this._targetGroup.nCachedObjects_,a=n.length;r!==a;++r)n[r].setValue(e,t)}bind(){const e=this._bindings;for(let t=this._targetGroup.nCachedObjects_,n=e.length;t!==n;++t)e[t].bind()}unbind(){const e=this._bindings;for(let t=this._targetGroup.nCachedObjects_,n=e.length;t!==n;++t)e[t].unbind()}}class ii{constructor(e,t,n){this.path=t,this.parsedPath=n||ii.parseTrackName(t),this.node=ii.findNode(e,this.parsedPath.nodeName),this.rootNode=e,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}static create(e,t,n){return e&&e.isAnimationObjectGroup?new ii.Composite(e,t,n):new ii(e,t,n)}static sanitizeNodeName(e){return e.replace(/\s/g,"_").replace(uq,"")}static parseTrackName(e){const t=gq.exec(e);if(t===null)throw new Error("PropertyBinding: Cannot parse trackName: "+e);const n={nodeName:t[2],objectName:t[3],objectIndex:t[4],propertyName:t[5],propertyIndex:t[6]},r=n.nodeName&&n.nodeName.lastIndexOf(".");if(r!==void 0&&r!==-1){const a=n.nodeName.substring(r+1);vq.indexOf(a)!==-1&&(n.nodeName=n.nodeName.substring(0,r),n.objectName=a)}if(n.propertyName===null||n.propertyName.length===0)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+e);return n}static findNode(e,t){if(t===void 0||t===""||t==="."||t===-1||t===e.name||t===e.uuid)return e;if(e.skeleton){const n=e.skeleton.getBoneByName(t);if(n!==void 0)return n}if(e.children){const n=function(a){for(let s=0;s<a.length;s++){const l=a[s];if(l.name===t||l.uuid===t)return l;const u=n(l.children);if(u)return u}return null},r=n(e.children);if(r)return r}return null}_getValue_unavailable(){}_setValue_unavailable(){}_getValue_direct(e,t){e[t]=this.targetObject[this.propertyName]}_getValue_array(e,t){const n=this.resolvedProperty;for(let r=0,a=n.length;r!==a;++r)e[t++]=n[r]}_getValue_arrayElement(e,t){e[t]=this.resolvedProperty[this.propertyIndex]}_getValue_toArray(e,t){this.resolvedProperty.toArray(e,t)}_setValue_direct(e,t){this.targetObject[this.propertyName]=e[t]}_setValue_direct_setNeedsUpdate(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.needsUpdate=!0}_setValue_direct_setMatrixWorldNeedsUpdate(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_array(e,t){const n=this.resolvedProperty;for(let r=0,a=n.length;r!==a;++r)n[r]=e[t++]}_setValue_array_setNeedsUpdate(e,t){const n=this.resolvedProperty;for(let r=0,a=n.length;r!==a;++r)n[r]=e[t++];this.targetObject.needsUpdate=!0}_setValue_array_setMatrixWorldNeedsUpdate(e,t){const n=this.resolvedProperty;for(let r=0,a=n.length;r!==a;++r)n[r]=e[t++];this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_arrayElement(e,t){this.resolvedProperty[this.propertyIndex]=e[t]}_setValue_arrayElement_setNeedsUpdate(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.needsUpdate=!0}_setValue_arrayElement_setMatrixWorldNeedsUpdate(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_fromArray(e,t){this.resolvedProperty.fromArray(e,t)}_setValue_fromArray_setNeedsUpdate(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.needsUpdate=!0}_setValue_fromArray_setMatrixWorldNeedsUpdate(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.matrixWorldNeedsUpdate=!0}_getValue_unbound(e,t){this.bind(),this.getValue(e,t)}_setValue_unbound(e,t){this.bind(),this.setValue(e,t)}bind(){let e=this.node;const t=this.parsedPath,n=t.objectName,r=t.propertyName;let a=t.propertyIndex;if(e||(e=ii.findNode(this.rootNode,t.nodeName),this.node=e),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,!e){console.warn("THREE.PropertyBinding: No target node found for track: "+this.path+".");return}if(n){let f=t.objectIndex;switch(n){case"materials":if(!e.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.materials){console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);return}e=e.material.materials;break;case"bones":if(!e.skeleton){console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);return}e=e.skeleton.bones;for(let p=0;p<e.length;p++)if(e[p].name===f){f=p;break}break;case"map":if("map"in e){e=e.map;break}if(!e.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.map){console.error("THREE.PropertyBinding: Can not bind to material.map as node.material does not have a map.",this);return}e=e.material.map;break;default:if(e[n]===void 0){console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.",this);return}e=e[n]}if(f!==void 0){if(e[f]===void 0){console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,e);return}e=e[f]}}const s=e[r];if(s===void 0){const f=t.nodeName;console.error("THREE.PropertyBinding: Trying to update property for track: "+f+"."+r+" but it wasn't found.",e);return}let l=this.Versioning.None;this.targetObject=e,e.isMaterial===!0?l=this.Versioning.NeedsUpdate:e.isObject3D===!0&&(l=this.Versioning.MatrixWorldNeedsUpdate);let u=this.BindingType.Direct;if(a!==void 0){if(r==="morphTargetInfluences"){if(!e.geometry){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);return}if(!e.geometry.morphAttributes){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);return}e.morphTargetDictionary[a]!==void 0&&(a=e.morphTargetDictionary[a])}u=this.BindingType.ArrayElement,this.resolvedProperty=s,this.propertyIndex=a}else s.fromArray!==void 0&&s.toArray!==void 0?(u=this.BindingType.HasFromToArray,this.resolvedProperty=s):Array.isArray(s)?(u=this.BindingType.EntireArray,this.resolvedProperty=s):this.propertyName=r;this.getValue=this.GetterByBindingType[u],this.setValue=this.SetterByBindingTypeAndVersioning[u][l]}unbind(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}ii.Composite=yq;ii.prototype.BindingType={Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3};ii.prototype.Versioning={None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2};ii.prototype.GetterByBindingType=[ii.prototype._getValue_direct,ii.prototype._getValue_array,ii.prototype._getValue_arrayElement,ii.prototype._getValue_toArray];ii.prototype.SetterByBindingTypeAndVersioning=[[ii.prototype._setValue_direct,ii.prototype._setValue_direct_setNeedsUpdate,ii.prototype._setValue_direct_setMatrixWorldNeedsUpdate],[ii.prototype._setValue_array,ii.prototype._setValue_array_setNeedsUpdate,ii.prototype._setValue_array_setMatrixWorldNeedsUpdate],[ii.prototype._setValue_arrayElement,ii.prototype._setValue_arrayElement_setNeedsUpdate,ii.prototype._setValue_arrayElement_setMatrixWorldNeedsUpdate],[ii.prototype._setValue_fromArray,ii.prototype._setValue_fromArray_setNeedsUpdate,ii.prototype._setValue_fromArray_setMatrixWorldNeedsUpdate]];class _q{constructor(){this.isAnimationObjectGroup=!0,this.uuid=go(),this._objects=Array.prototype.slice.call(arguments),this.nCachedObjects_=0;const e={};this._indicesByUUID=e;for(let n=0,r=arguments.length;n!==r;++n)e[arguments[n].uuid]=n;this._paths=[],this._parsedPaths=[],this._bindings=[],this._bindingsIndicesByPath={};const t=this;this.stats={objects:{get total(){return t._objects.length},get inUse(){return this.total-t.nCachedObjects_}},get bindingsPerObject(){return t._bindings.length}}}add(){const e=this._objects,t=this._indicesByUUID,n=this._paths,r=this._parsedPaths,a=this._bindings,s=a.length;let l,u=e.length,f=this.nCachedObjects_;for(let p=0,g=arguments.length;p!==g;++p){const v=arguments[p],_=v.uuid;let S=t[_];if(S===void 0){S=u++,t[_]=S,e.push(v);for(let w=0,E=s;w!==E;++w)a[w].push(new ii(v,n[w],r[w]))}else if(S<f){l=e[S];const w=--f,E=e[w];t[E.uuid]=S,e[S]=E,t[_]=w,e[w]=v;for(let b=0,R=s;b!==R;++b){const C=a[b],A=C[w];let N=C[S];C[S]=A,N===void 0&&(N=new ii(v,n[b],r[b])),C[w]=N}}else e[S]!==l&&console.error("THREE.AnimationObjectGroup: Different objects with the same UUID detected. Clean the caches or recreate your infrastructure when reloading scenes.")}this.nCachedObjects_=f}remove(){const e=this._objects,t=this._indicesByUUID,n=this._bindings,r=n.length;let a=this.nCachedObjects_;for(let s=0,l=arguments.length;s!==l;++s){const u=arguments[s],f=u.uuid,p=t[f];if(p!==void 0&&p>=a){const g=a++,v=e[g];t[v.uuid]=p,e[p]=v,t[f]=g,e[g]=u;for(let _=0,S=r;_!==S;++_){const w=n[_],E=w[g],b=w[p];w[p]=E,w[g]=b}}}this.nCachedObjects_=a}uncache(){const e=this._objects,t=this._indicesByUUID,n=this._bindings,r=n.length;let a=this.nCachedObjects_,s=e.length;for(let l=0,u=arguments.length;l!==u;++l){const f=arguments[l],p=f.uuid,g=t[p];if(g!==void 0)if(delete t[p],g<a){const v=--a,_=e[v],S=--s,w=e[S];t[_.uuid]=g,e[g]=_,t[w.uuid]=v,e[v]=w,e.pop();for(let E=0,b=r;E!==b;++E){const R=n[E],C=R[v],A=R[S];R[g]=C,R[v]=A,R.pop()}}else{const v=--s,_=e[v];v>0&&(t[_.uuid]=g),e[g]=_,e.pop();for(let S=0,w=r;S!==w;++S){const E=n[S];E[g]=E[v],E.pop()}}}this.nCachedObjects_=a}subscribe_(e,t){const n=this._bindingsIndicesByPath;let r=n[e];const a=this._bindings;if(r!==void 0)return a[r];const s=this._paths,l=this._parsedPaths,u=this._objects,f=u.length,p=this.nCachedObjects_,g=new Array(f);r=a.length,n[e]=r,s.push(e),l.push(t),a.push(g);for(let v=p,_=u.length;v!==_;++v){const S=u[v];g[v]=new ii(S,e,t)}return g}unsubscribe_(e){const t=this._bindingsIndicesByPath,n=t[e];if(n!==void 0){const r=this._paths,a=this._parsedPaths,s=this._bindings,l=s.length-1,u=s[l],f=e[l];t[f]=n,s[n]=u,s.pop(),a[n]=a[l],a.pop(),r[n]=r[l],r.pop()}}}class Sz{constructor(e,t,n=null,r=t.blendMode){this._mixer=e,this._clip=t,this._localRoot=n,this.blendMode=r;const a=t.tracks,s=a.length,l=new Array(s),u={endingStart:Jd,endingEnd:Jd};for(let f=0;f!==s;++f){const p=a[f].createInterpolant(null);l[f]=p,p.settings=u}this._interpolantSettings=u,this._interpolants=l,this._propertyBindings=new Array(s),this._cacheIndex=null,this._byClipCacheIndex=null,this._timeScaleInterpolant=null,this._weightInterpolant=null,this.loop=lB,this._loopCount=-1,this._startTime=null,this.time=0,this.timeScale=1,this._effectiveTimeScale=1,this.weight=1,this._effectiveWeight=1,this.repetitions=1/0,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtStart=!0,this.zeroSlopeAtEnd=!0}play(){return this._mixer._activateAction(this),this}stop(){return this._mixer._deactivateAction(this),this.reset()}reset(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()}isRunning(){return this.enabled&&!this.paused&&this.timeScale!==0&&this._startTime===null&&this._mixer._isActiveAction(this)}isScheduled(){return this._mixer._isActiveAction(this)}startAt(e){return this._startTime=e,this}setLoop(e,t){return this.loop=e,this.repetitions=t,this}setEffectiveWeight(e){return this.weight=e,this._effectiveWeight=this.enabled?e:0,this.stopFading()}getEffectiveWeight(){return this._effectiveWeight}fadeIn(e){return this._scheduleFading(e,0,1)}fadeOut(e){return this._scheduleFading(e,1,0)}crossFadeFrom(e,t,n=!1){if(e.fadeOut(t),this.fadeIn(t),n===!0){const r=this._clip.duration,a=e._clip.duration,s=a/r,l=r/a;e.warp(1,s,t),this.warp(l,1,t)}return this}crossFadeTo(e,t,n=!1){return e.crossFadeFrom(this,t,n)}stopFading(){const e=this._weightInterpolant;return e!==null&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}setEffectiveTimeScale(e){return this.timeScale=e,this._effectiveTimeScale=this.paused?0:e,this.stopWarping()}getEffectiveTimeScale(){return this._effectiveTimeScale}setDuration(e){return this.timeScale=this._clip.duration/e,this.stopWarping()}syncWith(e){return this.time=e.time,this.timeScale=e.timeScale,this.stopWarping()}halt(e){return this.warp(this._effectiveTimeScale,0,e)}warp(e,t,n){const r=this._mixer,a=r.time,s=this.timeScale;let l=this._timeScaleInterpolant;l===null&&(l=r._lendControlInterpolant(),this._timeScaleInterpolant=l);const u=l.parameterPositions,f=l.sampleValues;return u[0]=a,u[1]=a+n,f[0]=e/s,f[1]=t/s,this}stopWarping(){const e=this._timeScaleInterpolant;return e!==null&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}getMixer(){return this._mixer}getClip(){return this._clip}getRoot(){return this._localRoot||this._mixer._root}_update(e,t,n,r){if(!this.enabled){this._updateWeight(e);return}const a=this._startTime;if(a!==null){const u=(e-a)*n;u<0||n===0?t=0:(this._startTime=null,t=n*u)}t*=this._updateTimeScale(e);const s=this._updateTime(t),l=this._updateWeight(e);if(l>0){const u=this._interpolants,f=this._propertyBindings;switch(this.blendMode){case FR:for(let p=0,g=u.length;p!==g;++p)u[p].evaluate(s),f[p].accumulateAdditive(l);break;case hE:default:for(let p=0,g=u.length;p!==g;++p)u[p].evaluate(s),f[p].accumulate(r,l)}}}_updateWeight(e){let t=0;if(this.enabled){t=this.weight;const n=this._weightInterpolant;if(n!==null){const r=n.evaluate(e)[0];t*=r,e>n.parameterPositions[1]&&(this.stopFading(),r===0&&(this.enabled=!1))}}return this._effectiveWeight=t,t}_updateTimeScale(e){let t=0;if(!this.paused){t=this.timeScale;const n=this._timeScaleInterpolant;if(n!==null){const r=n.evaluate(e)[0];t*=r,e>n.parameterPositions[1]&&(this.stopWarping(),t===0?this.paused=!0:this.timeScale=t)}}return this._effectiveTimeScale=t,t}_updateTime(e){const t=this._clip.duration,n=this.loop;let r=this.time+e,a=this._loopCount;const s=n===cB;if(e===0)return a===-1?r:s&&(a&1)===1?t-r:r;if(n===oB){a===-1&&(this._loopCount=0,this._setEndings(!0,!0,!1));e:{if(r>=t)r=t;else if(r<0)r=0;else{this.time=r;break e}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this.time=r,this._mixer.dispatchEvent({type:"finished",action:this,direction:e<0?-1:1})}}else{if(a===-1&&(e>=0?(a=0,this._setEndings(!0,this.repetitions===0,s)):this._setEndings(this.repetitions===0,!0,s)),r>=t||r<0){const l=Math.floor(r/t);r-=t*l,a+=Math.abs(l);const u=this.repetitions-a;if(u<=0)this.clampWhenFinished?this.paused=!0:this.enabled=!1,r=e>0?t:0,this.time=r,this._mixer.dispatchEvent({type:"finished",action:this,direction:e>0?1:-1});else{if(u===1){const f=e<0;this._setEndings(f,!f,s)}else this._setEndings(!1,!1,s);this._loopCount=a,this.time=r,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:l})}}else this.time=r;if(s&&(a&1)===1)return t-r}return r}_setEndings(e,t,n){const r=this._interpolantSettings;n?(r.endingStart=Qd,r.endingEnd=Qd):(e?r.endingStart=this.zeroSlopeAtStart?Qd:Jd:r.endingStart=x_,t?r.endingEnd=this.zeroSlopeAtEnd?Qd:Jd:r.endingEnd=x_)}_scheduleFading(e,t,n){const r=this._mixer,a=r.time;let s=this._weightInterpolant;s===null&&(s=r._lendControlInterpolant(),this._weightInterpolant=s);const l=s.parameterPositions,u=s.sampleValues;return l[0]=a,u[0]=t,l[1]=a+e,u[1]=n,this}}const xq=new Float32Array(1);class bq extends Xc{constructor(e){super(),this._root=e,this._initMemoryManager(),this._accuIndex=0,this.time=0,this.timeScale=1}_bindAction(e,t){const n=e._localRoot||this._root,r=e._clip.tracks,a=r.length,s=e._propertyBindings,l=e._interpolants,u=n.uuid,f=this._bindingsByRootAndName;let p=f[u];p===void 0&&(p={},f[u]=p);for(let g=0;g!==a;++g){const v=r[g],_=v.name;let S=p[_];if(S!==void 0)++S.referenceCount,s[g]=S;else{if(S=s[g],S!==void 0){S._cacheIndex===null&&(++S.referenceCount,this._addInactiveBinding(S,u,_));continue}const w=t&&t._propertyBindings[g].binding.parsedPath;S=new bz(ii.create(n,_,w),v.ValueTypeName,v.getValueSize()),++S.referenceCount,this._addInactiveBinding(S,u,_),s[g]=S}l[g].resultBuffer=S.buffer}}_activateAction(e){if(!this._isActiveAction(e)){if(e._cacheIndex===null){const n=(e._localRoot||this._root).uuid,r=e._clip.uuid,a=this._actionsByClip[r];this._bindAction(e,a&&a.knownActions[0]),this._addInactiveAction(e,r,n)}const t=e._propertyBindings;for(let n=0,r=t.length;n!==r;++n){const a=t[n];a.useCount++===0&&(this._lendBinding(a),a.saveOriginalState())}this._lendAction(e)}}_deactivateAction(e){if(this._isActiveAction(e)){const t=e._propertyBindings;for(let n=0,r=t.length;n!==r;++n){const a=t[n];--a.useCount===0&&(a.restoreOriginalState(),this._takeBackBinding(a))}this._takeBackAction(e)}}_initMemoryManager(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;const e=this;this.stats={actions:{get total(){return e._actions.length},get inUse(){return e._nActiveActions}},bindings:{get total(){return e._bindings.length},get inUse(){return e._nActiveBindings}},controlInterpolants:{get total(){return e._controlInterpolants.length},get inUse(){return e._nActiveControlInterpolants}}}}_isActiveAction(e){const t=e._cacheIndex;return t!==null&&t<this._nActiveActions}_addInactiveAction(e,t,n){const r=this._actions,a=this._actionsByClip;let s=a[t];if(s===void 0)s={knownActions:[e],actionByRoot:{}},e._byClipCacheIndex=0,a[t]=s;else{const l=s.knownActions;e._byClipCacheIndex=l.length,l.push(e)}e._cacheIndex=r.length,r.push(e),s.actionByRoot[n]=e}_removeInactiveAction(e){const t=this._actions,n=t[t.length-1],r=e._cacheIndex;n._cacheIndex=r,t[r]=n,t.pop(),e._cacheIndex=null;const a=e._clip.uuid,s=this._actionsByClip,l=s[a],u=l.knownActions,f=u[u.length-1],p=e._byClipCacheIndex;f._byClipCacheIndex=p,u[p]=f,u.pop(),e._byClipCacheIndex=null;const g=l.actionByRoot,v=(e._localRoot||this._root).uuid;delete g[v],u.length===0&&delete s[a],this._removeInactiveBindingsForAction(e)}_removeInactiveBindingsForAction(e){const t=e._propertyBindings;for(let n=0,r=t.length;n!==r;++n){const a=t[n];--a.referenceCount===0&&this._removeInactiveBinding(a)}}_lendAction(e){const t=this._actions,n=e._cacheIndex,r=this._nActiveActions++,a=t[r];e._cacheIndex=r,t[r]=e,a._cacheIndex=n,t[n]=a}_takeBackAction(e){const t=this._actions,n=e._cacheIndex,r=--this._nActiveActions,a=t[r];e._cacheIndex=r,t[r]=e,a._cacheIndex=n,t[n]=a}_addInactiveBinding(e,t,n){const r=this._bindingsByRootAndName,a=this._bindings;let s=r[t];s===void 0&&(s={},r[t]=s),s[n]=e,e._cacheIndex=a.length,a.push(e)}_removeInactiveBinding(e){const t=this._bindings,n=e.binding,r=n.rootNode.uuid,a=n.path,s=this._bindingsByRootAndName,l=s[r],u=t[t.length-1],f=e._cacheIndex;u._cacheIndex=f,t[f]=u,t.pop(),delete l[a],Object.keys(l).length===0&&delete s[r]}_lendBinding(e){const t=this._bindings,n=e._cacheIndex,r=this._nActiveBindings++,a=t[r];e._cacheIndex=r,t[r]=e,a._cacheIndex=n,t[n]=a}_takeBackBinding(e){const t=this._bindings,n=e._cacheIndex,r=--this._nActiveBindings,a=t[r];e._cacheIndex=r,t[r]=e,a._cacheIndex=n,t[n]=a}_lendControlInterpolant(){const e=this._controlInterpolants,t=this._nActiveControlInterpolants++;let n=e[t];return n===void 0&&(n=new o3(new Float32Array(2),new Float32Array(2),1,xq),n.__cacheIndex=t,e[t]=n),n}_takeBackControlInterpolant(e){const t=this._controlInterpolants,n=e.__cacheIndex,r=--this._nActiveControlInterpolants,a=t[r];e.__cacheIndex=r,t[r]=e,a.__cacheIndex=n,t[n]=a}clipAction(e,t,n){const r=t||this._root,a=r.uuid;let s=typeof e=="string"?R_.findByName(r,e):e;const l=s!==null?s.uuid:e,u=this._actionsByClip[l];let f=null;if(n===void 0&&(s!==null?n=s.blendMode:n=hE),u!==void 0){const g=u.actionByRoot[a];if(g!==void 0&&g.blendMode===n)return g;f=u.knownActions[0],s===null&&(s=f._clip)}if(s===null)return null;const p=new Sz(this,s,t,n);return this._bindAction(p,f),this._addInactiveAction(p,l,a),p}existingAction(e,t){const n=t||this._root,r=n.uuid,a=typeof e=="string"?R_.findByName(n,e):e,s=a?a.uuid:e,l=this._actionsByClip[s];return l!==void 0&&l.actionByRoot[r]||null}stopAllAction(){const e=this._actions,t=this._nActiveActions;for(let n=t-1;n>=0;--n)e[n].stop();return this}update(e){e*=this.timeScale;const t=this._actions,n=this._nActiveActions,r=this.time+=e,a=Math.sign(e),s=this._accuIndex^=1;for(let f=0;f!==n;++f)t[f]._update(r,e,a,s);const l=this._bindings,u=this._nActiveBindings;for(let f=0;f!==u;++f)l[f].apply(s);return this}setTime(e){this.time=0;for(let t=0;t<this._actions.length;t++)this._actions[t].time=0;return this.update(e)}getRoot(){return this._root}uncacheClip(e){const t=this._actions,n=e.uuid,r=this._actionsByClip,a=r[n];if(a!==void 0){const s=a.knownActions;for(let l=0,u=s.length;l!==u;++l){const f=s[l];this._deactivateAction(f);const p=f._cacheIndex,g=t[t.length-1];f._cacheIndex=null,f._byClipCacheIndex=null,g._cacheIndex=p,t[p]=g,t.pop(),this._removeInactiveBindingsForAction(f)}delete r[n]}}uncacheRoot(e){const t=e.uuid,n=this._actionsByClip;for(const s in n){const l=n[s].actionByRoot,u=l[t];u!==void 0&&(this._deactivateAction(u),this._removeInactiveAction(u))}const r=this._bindingsByRootAndName,a=r[t];if(a!==void 0)for(const s in a){const l=a[s];l.restoreOriginalState(),this._removeInactiveBinding(l)}}uncacheAction(e,t){const n=this.existingAction(e,t);n!==null&&(this._deactivateAction(n),this._removeInactiveAction(n))}}class Sq extends jR{constructor(e=1,t=1,n=1,r={}){super(e,t,r),this.isRenderTarget3D=!0,this.depth=n,this.texture=new pE(null,e,t,n),this._setTextureOptions(r),this.texture.isRenderTargetTexture=!0}}class m3{constructor(e){this.value=e}clone(){return new m3(this.value.clone===void 0?this.value:this.value.clone())}}let wq=0;class Eq extends Xc{constructor(){super(),this.isUniformsGroup=!0,Object.defineProperty(this,"id",{value:wq++}),this.name="",this.usage=S_,this.uniforms=[]}add(e){return this.uniforms.push(e),this}remove(e){const t=this.uniforms.indexOf(e);return t!==-1&&this.uniforms.splice(t,1),this}setName(e){return this.name=e,this}setUsage(e){return this.usage=e,this}dispose(){this.dispatchEvent({type:"dispose"})}copy(e){this.name=e.name,this.usage=e.usage;const t=e.uniforms;this.uniforms.length=0;for(let n=0,r=t.length;n<r;n++){const a=Array.isArray(t[n])?t[n]:[t[n]];for(let s=0;s<a.length;s++)this.uniforms.push(a[s].clone())}return this}clone(){return new this.constructor().copy(this)}}class Mq extends yE{constructor(e,t,n=1){super(e,t),this.isInstancedInterleavedBuffer=!0,this.meshPerAttribute=n}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}clone(e){const t=super.clone(e);return t.meshPerAttribute=this.meshPerAttribute,t}toJSON(e){const t=super.toJSON(e);return t.isInstancedInterleavedBuffer=!0,t.meshPerAttribute=this.meshPerAttribute,t}}class Tq{constructor(e,t,n,r,a,s=!1){this.isGLBufferAttribute=!0,this.name="",this.buffer=e,this.type=t,this.itemSize=n,this.elementSize=r,this.count=a,this.normalized=s,this.version=0}set needsUpdate(e){e===!0&&this.version++}setBuffer(e){return this.buffer=e,this}setType(e,t){return this.type=e,this.elementSize=t,this}setItemSize(e){return this.itemSize=e,this}setCount(e){return this.count=e,this}}const TN=new gn;class g3{constructor(e,t,n=0,r=1/0){this.ray=new wg(e,t),this.near=n,this.far=r,this.camera=null,this.layers=new lg,this.params={Mesh:{},Line:{threshold:1},LOD:{},Points:{threshold:1},Sprite:{}}}set(e,t){this.ray.set(e,t)}setFromCamera(e,t){t.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(t.matrixWorld),this.ray.direction.set(e.x,e.y,.5).unproject(t).sub(this.ray.origin).normalize(),this.camera=t):t.isOrthographicCamera?(this.ray.origin.set(e.x,e.y,(t.near+t.far)/(t.near-t.far)).unproject(t),this.ray.direction.set(0,0,-1).transformDirection(t.matrixWorld),this.camera=t):console.error("THREE.Raycaster: Unsupported camera type: "+t.type)}setFromXRController(e){return TN.identity().extractRotation(e.matrixWorld),this.ray.origin.setFromMatrixPosition(e.matrixWorld),this.ray.direction.set(0,0,-1).applyMatrix4(TN),this}intersectObject(e,t=!0,n=[]){return JA(e,this,n,t),n.sort(AN),n}intersectObjects(e,t=!0,n=[]){for(let r=0,a=e.length;r<a;r++)JA(e[r],this,n,t);return n.sort(AN),n}}function AN(i,e){return i.distance-e.distance}function JA(i,e,t,n){let r=!0;if(i.layers.test(e.layers)&&i.raycast(e,t)===!1&&(r=!1),r===!0&&n===!0){const a=i.children;for(let s=0,l=a.length;s<l;s++)JA(a[s],e,t,!0)}}class Aq{constructor(){this._previousTime=0,this._currentTime=0,this._startTime=performance.now(),this._delta=0,this._elapsed=0,this._timescale=1,this._document=null,this._pageVisibilityHandler=null}connect(e){this._document=e,e.hidden!==void 0&&(this._pageVisibilityHandler=Cq.bind(this),e.addEventListener("visibilitychange",this._pageVisibilityHandler,!1))}disconnect(){this._pageVisibilityHandler!==null&&(this._document.removeEventListener("visibilitychange",this._pageVisibilityHandler),this._pageVisibilityHandler=null),this._document=null}getDelta(){return this._delta/1e3}getElapsed(){return this._elapsed/1e3}getTimescale(){return this._timescale}setTimescale(e){return this._timescale=e,this}reset(){return this._currentTime=performance.now()-this._startTime,this}dispose(){this.disconnect()}update(e){return this._pageVisibilityHandler!==null&&this._document.hidden===!0?this._delta=0:(this._previousTime=this._currentTime,this._currentTime=(e!==void 0?e:performance.now())-this._startTime,this._delta=(this._currentTime-this._previousTime)*this._timescale,this._elapsed+=this._delta),this}}function Cq(){this._document.hidden===!1&&this.reset()}class Rq{constructor(e=1,t=0,n=0){this.radius=e,this.phi=t,this.theta=n}set(e,t,n){return this.radius=e,this.phi=t,this.theta=n,this}copy(e){return this.radius=e.radius,this.phi=e.phi,this.theta=e.theta,this}makeSafe(){return this.phi=dn(this.phi,1e-6,Math.PI-1e-6),this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,t,n){return this.radius=Math.sqrt(e*e+t*t+n*n),this.radius===0?(this.theta=0,this.phi=0):(this.theta=Math.atan2(e,n),this.phi=Math.acos(dn(t/this.radius,-1,1))),this}clone(){return new this.constructor().copy(this)}}class Dq{constructor(e=1,t=0,n=0){this.radius=e,this.theta=t,this.y=n}set(e,t,n){return this.radius=e,this.theta=t,this.y=n,this}copy(e){return this.radius=e.radius,this.theta=e.theta,this.y=e.y,this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,t,n){return this.radius=Math.sqrt(e*e+n*n),this.theta=Math.atan2(e,n),this.y=t,this}clone(){return new this.constructor().copy(this)}}class v3{constructor(e,t,n,r){v3.prototype.isMatrix2=!0,this.elements=[1,0,0,1],e!==void 0&&this.set(e,t,n,r)}identity(){return this.set(1,0,0,1),this}fromArray(e,t=0){for(let n=0;n<4;n++)this.elements[n]=e[n+t];return this}set(e,t,n,r){const a=this.elements;return a[0]=e,a[2]=t,a[1]=n,a[3]=r,this}}const CN=new ut;class Oq{constructor(e=new ut(1/0,1/0),t=new ut(-1/0,-1/0)){this.isBox2=!0,this.min=e,this.max=t}set(e,t){return this.min.copy(e),this.max.copy(t),this}setFromPoints(e){this.makeEmpty();for(let t=0,n=e.length;t<n;t++)this.expandByPoint(e[t]);return this}setFromCenterAndSize(e,t){const n=CN.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(n),this.max.copy(e).add(n),this}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=1/0,this.max.x=this.max.y=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y}getCenter(e){return this.isEmpty()?e.set(0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}containsPoint(e){return e.x>=this.min.x&&e.x<=this.max.x&&e.y>=this.min.y&&e.y<=this.max.y}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y}getParameter(e,t){return t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y))}intersectsBox(e){return e.max.x>=this.min.x&&e.min.x<=this.max.x&&e.max.y>=this.min.y&&e.min.y<=this.max.y}clampPoint(e,t){return t.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,CN).distanceTo(e)}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}const RN=new le,Gb=new le,h0=new le,d0=new le,XM=new le,Nq=new le,Pq=new le;class Lq{constructor(e=new le,t=new le){this.start=e,this.end=t}set(e,t){return this.start.copy(e),this.end.copy(t),this}copy(e){return this.start.copy(e.start),this.end.copy(e.end),this}getCenter(e){return e.addVectors(this.start,this.end).multiplyScalar(.5)}delta(e){return e.subVectors(this.end,this.start)}distanceSq(){return this.start.distanceToSquared(this.end)}distance(){return this.start.distanceTo(this.end)}at(e,t){return this.delta(t).multiplyScalar(e).add(this.start)}closestPointToPointParameter(e,t){RN.subVectors(e,this.start),Gb.subVectors(this.end,this.start);const n=Gb.dot(Gb);let a=Gb.dot(RN)/n;return t&&(a=dn(a,0,1)),a}closestPointToPoint(e,t,n){const r=this.closestPointToPointParameter(e,t);return this.delta(n).multiplyScalar(r).add(this.start)}distanceSqToLine3(e,t=Nq,n=Pq){const r=10000000000000001e-32;let a,s;const l=this.start,u=e.start,f=this.end,p=e.end;h0.subVectors(f,l),d0.subVectors(p,u),XM.subVectors(l,u);const g=h0.dot(h0),v=d0.dot(d0),_=d0.dot(XM);if(g<=r&&v<=r)return t.copy(l),n.copy(u),t.sub(n),t.dot(t);if(g<=r)a=0,s=_/v,s=dn(s,0,1);else{const S=h0.dot(XM);if(v<=r)s=0,a=dn(-S/g,0,1);else{const w=h0.dot(d0),E=g*v-w*w;E!==0?a=dn((w*_-S*v)/E,0,1):a=0,s=(w*a+_)/v,s<0?(s=0,a=dn(-S/g,0,1)):s>1&&(s=1,a=dn((w-S)/g,0,1))}}return t.copy(l).add(h0.multiplyScalar(a)),n.copy(u).add(d0.multiplyScalar(s)),t.sub(n),t.dot(t)}applyMatrix4(e){return this.start.applyMatrix4(e),this.end.applyMatrix4(e),this}equals(e){return e.start.equals(this.start)&&e.end.equals(this.end)}clone(){return new this.constructor().copy(this)}}const DN=new le;class Uq extends ai{constructor(e,t){super(),this.light=e,this.matrixAutoUpdate=!1,this.color=t,this.type="SpotLightHelper";const n=new Nn,r=[0,0,0,0,0,1,0,0,0,1,0,1,0,0,0,-1,0,1,0,0,0,0,1,1,0,0,0,0,-1,1];for(let s=0,l=1,u=32;s<u;s++,l++){const f=s/u*Math.PI*2,p=l/u*Math.PI*2;r.push(Math.cos(f),Math.sin(f),1,Math.cos(p),Math.sin(p),1)}n.setAttribute("position",new Yt(r,3));const a=new _s({fog:!1,toneMapped:!1});this.cone=new qc(n,a),this.add(this.cone),this.update()}dispose(){this.cone.geometry.dispose(),this.cone.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1),this.parent?(this.parent.updateWorldMatrix(!0),this.matrix.copy(this.parent.matrixWorld).invert().multiply(this.light.matrixWorld)):this.matrix.copy(this.light.matrixWorld),this.matrixWorld.copy(this.light.matrixWorld);const e=this.light.distance?this.light.distance:1e3,t=e*Math.tan(this.light.angle);this.cone.scale.set(t,t,e),DN.setFromMatrixPosition(this.light.target.matrixWorld),this.cone.lookAt(DN),this.color!==void 0?this.cone.material.color.set(this.color):this.cone.material.color.copy(this.light.color)}}const qf=new le,Wb=new gn,qM=new gn;class Iq extends qc{constructor(e){const t=wz(e),n=new Nn,r=[],a=[];for(let f=0;f<t.length;f++){const p=t[f];p.parent&&p.parent.isBone&&(r.push(0,0,0),r.push(0,0,0),a.push(0,0,0),a.push(0,0,0))}n.setAttribute("position",new Yt(r,3)),n.setAttribute("color",new Yt(a,3));const s=new _s({vertexColors:!0,depthTest:!1,depthWrite:!1,toneMapped:!1,transparent:!0});super(n,s),this.isSkeletonHelper=!0,this.type="SkeletonHelper",this.root=e,this.bones=t,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1;const l=new Vt(255),u=new Vt(65280);this.setColors(l,u)}updateMatrixWorld(e){const t=this.bones,n=this.geometry,r=n.getAttribute("position");qM.copy(this.root.matrixWorld).invert();for(let a=0,s=0;a<t.length;a++){const l=t[a];l.parent&&l.parent.isBone&&(Wb.multiplyMatrices(qM,l.matrixWorld),qf.setFromMatrixPosition(Wb),r.setXYZ(s,qf.x,qf.y,qf.z),Wb.multiplyMatrices(qM,l.parent.matrixWorld),qf.setFromMatrixPosition(Wb),r.setXYZ(s+1,qf.x,qf.y,qf.z),s+=2)}n.getAttribute("position").needsUpdate=!0,super.updateMatrixWorld(e)}setColors(e,t){const r=this.geometry.getAttribute("color");for(let a=0;a<r.count;a+=2)r.setXYZ(a,e.r,e.g,e.b),r.setXYZ(a+1,t.r,t.g,t.b);return r.needsUpdate=!0,this}dispose(){this.geometry.dispose(),this.material.dispose()}}function wz(i){const e=[];i.isBone===!0&&e.push(i);for(let t=0;t<i.children.length;t++)e.push(...wz(i.children[t]));return e}class Bq extends ar{constructor(e,t,n){const r=new ix(t,4,2),a=new Xu({wireframe:!0,fog:!1,toneMapped:!1});super(r,a),this.light=e,this.color=n,this.type="PointLightHelper",this.matrix=this.light.matrixWorld,this.matrixAutoUpdate=!1,this.update()}dispose(){this.geometry.dispose(),this.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.color!==void 0?this.material.color.set(this.color):this.material.color.copy(this.light.color)}}const zq=new le,ON=new Vt,NN=new Vt;class kq extends ai{constructor(e,t,n){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=n,this.type="HemisphereLightHelper";const r=new nx(t);r.rotateY(Math.PI*.5),this.material=new Xu({wireframe:!0,fog:!1,toneMapped:!1}),this.color===void 0&&(this.material.vertexColors=!0);const a=r.getAttribute("position"),s=new Float32Array(a.count*3);r.setAttribute("color",new Ri(s,3)),this.add(new ar(r,this.material)),this.update()}dispose(){this.children[0].geometry.dispose(),this.children[0].material.dispose()}update(){const e=this.children[0];if(this.color!==void 0)this.material.color.set(this.color);else{const t=e.geometry.getAttribute("color");ON.copy(this.light.color),NN.copy(this.light.groundColor);for(let n=0,r=t.count;n<r;n++){const a=n<r/2?ON:NN;t.setXYZ(n,a.r,a.g,a.b)}t.needsUpdate=!0}this.light.updateWorldMatrix(!0,!1),e.lookAt(zq.setFromMatrixPosition(this.light.matrixWorld).negate())}}class Fq extends qc{constructor(e=10,t=10,n=4473924,r=8947848){n=new Vt(n),r=new Vt(r);const a=t/2,s=e/t,l=e/2,u=[],f=[];for(let v=0,_=0,S=-l;v<=t;v++,S+=s){u.push(-l,0,S,l,0,S),u.push(S,0,-l,S,0,l);const w=v===a?n:r;w.toArray(f,_),_+=3,w.toArray(f,_),_+=3,w.toArray(f,_),_+=3,w.toArray(f,_),_+=3}const p=new Nn;p.setAttribute("position",new Yt(u,3)),p.setAttribute("color",new Yt(f,3));const g=new _s({vertexColors:!0,toneMapped:!1});super(p,g),this.type="GridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}class Hq extends qc{constructor(e=10,t=16,n=8,r=64,a=4473924,s=8947848){a=new Vt(a),s=new Vt(s);const l=[],u=[];if(t>1)for(let g=0;g<t;g++){const v=g/t*(Math.PI*2),_=Math.sin(v)*e,S=Math.cos(v)*e;l.push(0,0,0),l.push(_,0,S);const w=g&1?a:s;u.push(w.r,w.g,w.b),u.push(w.r,w.g,w.b)}for(let g=0;g<n;g++){const v=g&1?a:s,_=e-e/n*g;for(let S=0;S<r;S++){let w=S/r*(Math.PI*2),E=Math.sin(w)*_,b=Math.cos(w)*_;l.push(E,0,b),u.push(v.r,v.g,v.b),w=(S+1)/r*(Math.PI*2),E=Math.sin(w)*_,b=Math.cos(w)*_,l.push(E,0,b),u.push(v.r,v.g,v.b)}}const f=new Nn;f.setAttribute("position",new Yt(l,3)),f.setAttribute("color",new Yt(u,3));const p=new _s({vertexColors:!0,toneMapped:!1});super(f,p),this.type="PolarGridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}const PN=new le,Xb=new le,LN=new le;class Vq extends ai{constructor(e,t,n){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=n,this.type="DirectionalLightHelper",t===void 0&&(t=1);let r=new Nn;r.setAttribute("position",new Yt([-t,t,0,t,t,0,t,-t,0,-t,-t,0,-t,t,0],3));const a=new _s({fog:!1,toneMapped:!1});this.lightPlane=new yh(r,a),this.add(this.lightPlane),r=new Nn,r.setAttribute("position",new Yt([0,0,0,0,0,1],3)),this.targetLine=new yh(r,a),this.add(this.targetLine),this.update()}dispose(){this.lightPlane.geometry.dispose(),this.lightPlane.material.dispose(),this.targetLine.geometry.dispose(),this.targetLine.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1),PN.setFromMatrixPosition(this.light.matrixWorld),Xb.setFromMatrixPosition(this.light.target.matrixWorld),LN.subVectors(Xb,PN),this.lightPlane.lookAt(Xb),this.color!==void 0?(this.lightPlane.material.color.set(this.color),this.targetLine.material.color.set(this.color)):(this.lightPlane.material.color.copy(this.light.color),this.targetLine.material.color.copy(this.light.color)),this.targetLine.lookAt(Xb),this.targetLine.scale.z=LN.length()}}const qb=new le,ur=new mE;class jq extends qc{constructor(e){const t=new Nn,n=new _s({color:16777215,vertexColors:!0,toneMapped:!1}),r=[],a=[],s={};l("n1","n2"),l("n2","n4"),l("n4","n3"),l("n3","n1"),l("f1","f2"),l("f2","f4"),l("f4","f3"),l("f3","f1"),l("n1","f1"),l("n2","f2"),l("n3","f3"),l("n4","f4"),l("p","n1"),l("p","n2"),l("p","n3"),l("p","n4"),l("u1","u2"),l("u2","u3"),l("u3","u1"),l("c","t"),l("p","c"),l("cn1","cn2"),l("cn3","cn4"),l("cf1","cf2"),l("cf3","cf4");function l(S,w){u(S),u(w)}function u(S){r.push(0,0,0),a.push(0,0,0),s[S]===void 0&&(s[S]=[]),s[S].push(r.length/3-1)}t.setAttribute("position",new Yt(r,3)),t.setAttribute("color",new Yt(a,3)),super(t,n),this.type="CameraHelper",this.camera=e,this.camera.updateProjectionMatrix&&this.camera.updateProjectionMatrix(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.pointMap=s,this.update();const f=new Vt(16755200),p=new Vt(16711680),g=new Vt(43775),v=new Vt(16777215),_=new Vt(3355443);this.setColors(f,p,g,v,_)}setColors(e,t,n,r,a){const l=this.geometry.getAttribute("color");return l.setXYZ(0,e.r,e.g,e.b),l.setXYZ(1,e.r,e.g,e.b),l.setXYZ(2,e.r,e.g,e.b),l.setXYZ(3,e.r,e.g,e.b),l.setXYZ(4,e.r,e.g,e.b),l.setXYZ(5,e.r,e.g,e.b),l.setXYZ(6,e.r,e.g,e.b),l.setXYZ(7,e.r,e.g,e.b),l.setXYZ(8,e.r,e.g,e.b),l.setXYZ(9,e.r,e.g,e.b),l.setXYZ(10,e.r,e.g,e.b),l.setXYZ(11,e.r,e.g,e.b),l.setXYZ(12,e.r,e.g,e.b),l.setXYZ(13,e.r,e.g,e.b),l.setXYZ(14,e.r,e.g,e.b),l.setXYZ(15,e.r,e.g,e.b),l.setXYZ(16,e.r,e.g,e.b),l.setXYZ(17,e.r,e.g,e.b),l.setXYZ(18,e.r,e.g,e.b),l.setXYZ(19,e.r,e.g,e.b),l.setXYZ(20,e.r,e.g,e.b),l.setXYZ(21,e.r,e.g,e.b),l.setXYZ(22,e.r,e.g,e.b),l.setXYZ(23,e.r,e.g,e.b),l.setXYZ(24,t.r,t.g,t.b),l.setXYZ(25,t.r,t.g,t.b),l.setXYZ(26,t.r,t.g,t.b),l.setXYZ(27,t.r,t.g,t.b),l.setXYZ(28,t.r,t.g,t.b),l.setXYZ(29,t.r,t.g,t.b),l.setXYZ(30,t.r,t.g,t.b),l.setXYZ(31,t.r,t.g,t.b),l.setXYZ(32,n.r,n.g,n.b),l.setXYZ(33,n.r,n.g,n.b),l.setXYZ(34,n.r,n.g,n.b),l.setXYZ(35,n.r,n.g,n.b),l.setXYZ(36,n.r,n.g,n.b),l.setXYZ(37,n.r,n.g,n.b),l.setXYZ(38,r.r,r.g,r.b),l.setXYZ(39,r.r,r.g,r.b),l.setXYZ(40,a.r,a.g,a.b),l.setXYZ(41,a.r,a.g,a.b),l.setXYZ(42,a.r,a.g,a.b),l.setXYZ(43,a.r,a.g,a.b),l.setXYZ(44,a.r,a.g,a.b),l.setXYZ(45,a.r,a.g,a.b),l.setXYZ(46,a.r,a.g,a.b),l.setXYZ(47,a.r,a.g,a.b),l.setXYZ(48,a.r,a.g,a.b),l.setXYZ(49,a.r,a.g,a.b),l.needsUpdate=!0,this}update(){const e=this.geometry,t=this.pointMap,n=1,r=1;let a,s;if(ur.projectionMatrixInverse.copy(this.camera.projectionMatrixInverse),this.camera.reversedDepth===!0)a=1,s=0;else if(this.camera.coordinateSystem===po)a=-1,s=1;else if(this.camera.coordinateSystem===sg)a=0,s=1;else throw new Error("THREE.CameraHelper.update(): Invalid coordinate system: "+this.camera.coordinateSystem);yr("c",t,e,ur,0,0,a),yr("t",t,e,ur,0,0,s),yr("n1",t,e,ur,-n,-r,a),yr("n2",t,e,ur,n,-r,a),yr("n3",t,e,ur,-n,r,a),yr("n4",t,e,ur,n,r,a),yr("f1",t,e,ur,-n,-r,s),yr("f2",t,e,ur,n,-r,s),yr("f3",t,e,ur,-n,r,s),yr("f4",t,e,ur,n,r,s),yr("u1",t,e,ur,n*.7,r*1.1,a),yr("u2",t,e,ur,-n*.7,r*1.1,a),yr("u3",t,e,ur,0,r*2,a),yr("cf1",t,e,ur,-n,0,s),yr("cf2",t,e,ur,n,0,s),yr("cf3",t,e,ur,0,-r,s),yr("cf4",t,e,ur,0,r,s),yr("cn1",t,e,ur,-n,0,a),yr("cn2",t,e,ur,n,0,a),yr("cn3",t,e,ur,0,-r,a),yr("cn4",t,e,ur,0,r,a),e.getAttribute("position").needsUpdate=!0}dispose(){this.geometry.dispose(),this.material.dispose()}}function yr(i,e,t,n,r,a,s){qb.set(r,a,s).unproject(n);const l=e[i];if(l!==void 0){const u=t.getAttribute("position");for(let f=0,p=l.length;f<p;f++)u.setXYZ(l[f],qb.x,qb.y,qb.z)}}const Yb=new Fa;class Gq extends qc{constructor(e,t=16776960){const n=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),r=new Float32Array(24),a=new Nn;a.setIndex(new Ri(n,1)),a.setAttribute("position",new Ri(r,3)),super(a,new _s({color:t,toneMapped:!1})),this.object=e,this.type="BoxHelper",this.matrixAutoUpdate=!1,this.update()}update(){if(this.object!==void 0&&Yb.setFromObject(this.object),Yb.isEmpty())return;const e=Yb.min,t=Yb.max,n=this.geometry.attributes.position,r=n.array;r[0]=t.x,r[1]=t.y,r[2]=t.z,r[3]=e.x,r[4]=t.y,r[5]=t.z,r[6]=e.x,r[7]=e.y,r[8]=t.z,r[9]=t.x,r[10]=e.y,r[11]=t.z,r[12]=t.x,r[13]=t.y,r[14]=e.z,r[15]=e.x,r[16]=t.y,r[17]=e.z,r[18]=e.x,r[19]=e.y,r[20]=e.z,r[21]=t.x,r[22]=e.y,r[23]=e.z,n.needsUpdate=!0,this.geometry.computeBoundingSphere()}setFromObject(e){return this.object=e,this.update(),this}copy(e,t){return super.copy(e,t),this.object=e.object,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class Wq extends qc{constructor(e,t=16776960){const n=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),r=[1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,-1,-1,1,-1,-1,-1,-1,1,-1,-1],a=new Nn;a.setIndex(new Ri(n,1)),a.setAttribute("position",new Yt(r,3)),super(a,new _s({color:t,toneMapped:!1})),this.box=e,this.type="Box3Helper",this.geometry.computeBoundingSphere()}updateMatrixWorld(e){const t=this.box;t.isEmpty()||(t.getCenter(this.position),t.getSize(this.scale),this.scale.multiplyScalar(.5),super.updateMatrixWorld(e))}dispose(){this.geometry.dispose(),this.material.dispose()}}class Xq extends yh{constructor(e,t=1,n=16776960){const r=n,a=[1,-1,0,-1,1,0,-1,-1,0,1,1,0,-1,1,0,-1,-1,0,1,-1,0,1,1,0],s=new Nn;s.setAttribute("position",new Yt(a,3)),s.computeBoundingSphere(),super(s,new _s({color:r,toneMapped:!1})),this.type="PlaneHelper",this.plane=e,this.size=t;const l=[1,1,0,-1,1,0,-1,-1,0,1,1,0,-1,-1,0,1,-1,0],u=new Nn;u.setAttribute("position",new Yt(l,3)),u.computeBoundingSphere(),this.add(new ar(u,new Xu({color:r,opacity:.2,transparent:!0,depthWrite:!1,toneMapped:!1})))}updateMatrixWorld(e){this.position.set(0,0,0),this.scale.set(.5*this.size,.5*this.size,1),this.lookAt(this.plane.normal),this.translateZ(-this.plane.constant),super.updateMatrixWorld(e)}dispose(){this.geometry.dispose(),this.material.dispose(),this.children[0].geometry.dispose(),this.children[0].material.dispose()}}const UN=new le;let Zb,YM;class qq extends ai{constructor(e=new le(0,0,1),t=new le(0,0,0),n=1,r=16776960,a=n*.2,s=a*.2){super(),this.type="ArrowHelper",Zb===void 0&&(Zb=new Nn,Zb.setAttribute("position",new Yt([0,0,0,0,1,0],3)),YM=new ex(.5,1,5,1),YM.translate(0,-.5,0)),this.position.copy(t),this.line=new yh(Zb,new _s({color:r,toneMapped:!1})),this.line.matrixAutoUpdate=!1,this.add(this.line),this.cone=new ar(YM,new Xu({color:r,toneMapped:!1})),this.cone.matrixAutoUpdate=!1,this.add(this.cone),this.setDirection(e),this.setLength(n,a,s)}setDirection(e){if(e.y>.99999)this.quaternion.set(0,0,0,1);else if(e.y<-.99999)this.quaternion.set(1,0,0,0);else{UN.set(e.z,0,-e.x).normalize();const t=Math.acos(e.y);this.quaternion.setFromAxisAngle(UN,t)}}setLength(e,t=e*.2,n=t*.2){this.line.scale.set(1,Math.max(1e-4,e-t),1),this.line.updateMatrix(),this.cone.scale.set(n,t,n),this.cone.position.y=e,this.cone.updateMatrix()}setColor(e){this.line.material.color.set(e),this.cone.material.color.set(e)}copy(e){return super.copy(e,!1),this.line.copy(e.line),this.cone.copy(e.cone),this}dispose(){this.line.geometry.dispose(),this.line.material.dispose(),this.cone.geometry.dispose(),this.cone.material.dispose()}}class Yq extends qc{constructor(e=1){const t=[0,0,0,e,0,0,0,0,0,0,e,0,0,0,0,0,0,e],n=[1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1],r=new Nn;r.setAttribute("position",new Yt(t,3)),r.setAttribute("color",new Yt(n,3));const a=new _s({vertexColors:!0,toneMapped:!1});super(r,a),this.type="AxesHelper"}setColors(e,t,n){const r=new Vt,a=this.geometry.attributes.color.array;return r.set(e),r.toArray(a,0),r.toArray(a,3),r.set(t),r.toArray(a,6),r.toArray(a,9),r.set(n),r.toArray(a,12),r.toArray(a,15),this.geometry.attributes.color.needsUpdate=!0,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class Zq{constructor(){this.type="ShapePath",this.color=new Vt,this.subPaths=[],this.currentPath=null}moveTo(e,t){return this.currentPath=new Iw,this.subPaths.push(this.currentPath),this.currentPath.moveTo(e,t),this}lineTo(e,t){return this.currentPath.lineTo(e,t),this}quadraticCurveTo(e,t,n,r){return this.currentPath.quadraticCurveTo(e,t,n,r),this}bezierCurveTo(e,t,n,r,a,s){return this.currentPath.bezierCurveTo(e,t,n,r,a,s),this}splineThru(e){return this.currentPath.splineThru(e),this}toShapes(e){function t(b){const R=[];for(let C=0,A=b.length;C<A;C++){const N=b[C],L=new mp;L.curves=N.curves,R.push(L)}return R}function n(b,R){const C=R.length;let A=!1;for(let N=C-1,L=0;L<C;N=L++){let B=R[N],U=R[L],P=U.x-B.x,z=U.y-B.y;if(Math.abs(z)>Number.EPSILON){if(z<0&&(B=R[L],P=-P,U=R[N],z=-z),b.y<B.y||b.y>U.y)continue;if(b.y===B.y){if(b.x===B.x)return!0}else{const X=z*(b.x-B.x)-P*(b.y-B.y);if(X===0)return!0;if(X<0)continue;A=!A}}else{if(b.y!==B.y)continue;if(U.x<=b.x&&b.x<=B.x||B.x<=b.x&&b.x<=U.x)return!0}}return A}const r=Ul.isClockWise,a=this.subPaths;if(a.length===0)return[];let s,l,u;const f=[];if(a.length===1)return l=a[0],u=new mp,u.curves=l.curves,f.push(u),f;let p=!r(a[0].getPoints());p=e?!p:p;const g=[],v=[];let _=[],S=0,w;v[S]=void 0,_[S]=[];for(let b=0,R=a.length;b<R;b++)l=a[b],w=l.getPoints(),s=r(w),s=e?!s:s,s?(!p&&v[S]&&S++,v[S]={s:new mp,p:w},v[S].s.curves=l.curves,p&&S++,_[S]=[]):_[S].push({h:l,p:w[0]});if(!v[0])return t(a);if(v.length>1){let b=!1,R=0;for(let C=0,A=v.length;C<A;C++)g[C]=[];for(let C=0,A=v.length;C<A;C++){const N=_[C];for(let L=0;L<N.length;L++){const B=N[L];let U=!0;for(let P=0;P<v.length;P++)n(B.p,v[P].p)&&(C!==P&&R++,U?(U=!1,g[P].push(B)):b=!0);U&&g[C].push(B)}}R>0&&b===!1&&(_=g)}let E;for(let b=0,R=v.length;b<R;b++){u=v[b].s,f.push(u),E=_[b];for(let C=0,A=E.length;C<A;C++)u.holes.push(E[C].h)}return f}}class Kq extends Xc{constructor(e,t=null){super(),this.object=e,this.domElement=t,this.enabled=!0,this.state=-1,this.keys={},this.mouseButtons={LEFT:null,MIDDLE:null,RIGHT:null},this.touches={ONE:null,TWO:null}}connect(e){if(e===void 0){console.warn("THREE.Controls: connect() now requires an element.");return}this.domElement!==null&&this.disconnect(),this.domElement=e}disconnect(){}dispose(){}update(){}}function $q(i,e){const t=i.image&&i.image.width?i.image.width/i.image.height:1;return t>e?(i.repeat.x=1,i.repeat.y=t/e,i.offset.x=0,i.offset.y=(1-i.repeat.y)/2):(i.repeat.x=e/t,i.repeat.y=1,i.offset.x=(1-i.repeat.x)/2,i.offset.y=0),i}function Jq(i,e){const t=i.image&&i.image.width?i.image.width/i.image.height:1;return t>e?(i.repeat.x=e/t,i.repeat.y=1,i.offset.x=(1-i.repeat.x)/2,i.offset.y=0):(i.repeat.x=1,i.repeat.y=t/e,i.offset.x=0,i.offset.y=(1-i.repeat.y)/2),i}function Qq(i){return i.repeat.x=1,i.repeat.y=1,i.offset.x=0,i.offset.y=0,i}function QA(i,e,t,n){const r=eY(n);switch(t){case IR:return i*e;case Z_:return i*e/r.components*r.byteLength;case K_:return i*e/r.components*r.byteLength;case zR:return i*e*2/r.components*r.byteLength;case uE:return i*e*2/r.components*r.byteLength;case BR:return i*e*3/r.components*r.byteLength;case Sr:return i*e*4/r.components*r.byteLength;case fE:return i*e*4/r.components*r.byteLength;case Vy:case jy:return Math.floor((i+3)/4)*Math.floor((e+3)/4)*8;case Gy:case Wy:return Math.floor((i+3)/4)*Math.floor((e+3)/4)*16;case ow:case cw:return Math.max(i,16)*Math.max(e,8)/4;case sw:case lw:return Math.max(i,8)*Math.max(e,8)/2;case uw:case fw:return Math.floor((i+3)/4)*Math.floor((e+3)/4)*8;case hw:return Math.floor((i+3)/4)*Math.floor((e+3)/4)*16;case dw:return Math.floor((i+3)/4)*Math.floor((e+3)/4)*16;case pw:return Math.floor((i+4)/5)*Math.floor((e+3)/4)*16;case mw:return Math.floor((i+4)/5)*Math.floor((e+4)/5)*16;case gw:return Math.floor((i+5)/6)*Math.floor((e+4)/5)*16;case vw:return Math.floor((i+5)/6)*Math.floor((e+5)/6)*16;case yw:return Math.floor((i+7)/8)*Math.floor((e+4)/5)*16;case _w:return Math.floor((i+7)/8)*Math.floor((e+5)/6)*16;case xw:return Math.floor((i+7)/8)*Math.floor((e+7)/8)*16;case bw:return Math.floor((i+9)/10)*Math.floor((e+4)/5)*16;case Sw:return Math.floor((i+9)/10)*Math.floor((e+5)/6)*16;case ww:return Math.floor((i+9)/10)*Math.floor((e+7)/8)*16;case Ew:return Math.floor((i+9)/10)*Math.floor((e+9)/10)*16;case Mw:return Math.floor((i+11)/12)*Math.floor((e+9)/10)*16;case Tw:return Math.floor((i+11)/12)*Math.floor((e+11)/12)*16;case Xy:case Aw:case Cw:return Math.ceil(i/4)*Math.ceil(e/4)*16;case kR:case Rw:return Math.ceil(i/4)*Math.ceil(e/4)*8;case Dw:case Ow:return Math.ceil(i/4)*Math.ceil(e/4)*16}throw new Error(`Unable to determine texture byte length for ${t} format.`)}function eY(i){switch(i){case ys:case sE:return{byteLength:1,components:1};case ng:case oE:case aa:return{byteLength:2,components:1};case lE:case cE:return{byteLength:2,components:4};case Gc:case Y_:case rr:return{byteLength:4,components:1};case UR:return{byteLength:4,components:3}}throw new Error(`Unknown texture type ${i}.`)}class tY{static contain(e,t){return $q(e,t)}static cover(e,t){return Jq(e,t)}static fill(e){return Qq(e)}static getByteLength(e,t,n,r){return QA(e,t,n,r)}}typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:X_}}));typeof window<"u"&&(window.__THREE__?console.warn("WARNING: Multiple instances of Three.js being imported."):window.__THREE__=X_);/**
 * @license
 * Copyright 2010-2025 Three.js Authors
 * SPDX-License-Identifier: MIT
 */function Ez(){let i=null,e=!1,t=null,n=null;function r(a,s){t(a,s),n=i.requestAnimationFrame(r)}return{start:function(){e!==!0&&t!==null&&(n=i.requestAnimationFrame(r),e=!0)},stop:function(){i.cancelAnimationFrame(n),e=!1},setAnimationLoop:function(a){t=a},setContext:function(a){i=a}}}function nY(i){const e=new WeakMap;function t(l,u){const f=l.array,p=l.usage,g=f.byteLength,v=i.createBuffer();i.bindBuffer(u,v),i.bufferData(u,f,p),l.onUploadCallback();let _;if(f instanceof Float32Array)_=i.FLOAT;else if(typeof Float16Array<"u"&&f instanceof Float16Array)_=i.HALF_FLOAT;else if(f instanceof Uint16Array)l.isFloat16BufferAttribute?_=i.HALF_FLOAT:_=i.UNSIGNED_SHORT;else if(f instanceof Int16Array)_=i.SHORT;else if(f instanceof Uint32Array)_=i.UNSIGNED_INT;else if(f instanceof Int32Array)_=i.INT;else if(f instanceof Int8Array)_=i.BYTE;else if(f instanceof Uint8Array)_=i.UNSIGNED_BYTE;else if(f instanceof Uint8ClampedArray)_=i.UNSIGNED_BYTE;else throw new Error("THREE.WebGLAttributes: Unsupported buffer data format: "+f);return{buffer:v,type:_,bytesPerElement:f.BYTES_PER_ELEMENT,version:l.version,size:g}}function n(l,u,f){const p=u.array,g=u.updateRanges;if(i.bindBuffer(f,l),g.length===0)i.bufferSubData(f,0,p);else{g.sort((_,S)=>_.start-S.start);let v=0;for(let _=1;_<g.length;_++){const S=g[v],w=g[_];w.start<=S.start+S.count+1?S.count=Math.max(S.count,w.start+w.count-S.start):(++v,g[v]=w)}g.length=v+1;for(let _=0,S=g.length;_<S;_++){const w=g[_];i.bufferSubData(f,w.start*p.BYTES_PER_ELEMENT,p,w.start,w.count)}u.clearUpdateRanges()}u.onUploadCallback()}function r(l){return l.isInterleavedBufferAttribute&&(l=l.data),e.get(l)}function a(l){l.isInterleavedBufferAttribute&&(l=l.data);const u=e.get(l);u&&(i.deleteBuffer(u.buffer),e.delete(l))}function s(l,u){if(l.isInterleavedBufferAttribute&&(l=l.data),l.isGLBufferAttribute){const p=e.get(l);(!p||p.version<l.version)&&e.set(l,{buffer:l.buffer,type:l.type,bytesPerElement:l.elementSize,version:l.version});return}const f=e.get(l);if(f===void 0)e.set(l,t(l,u));else if(f.version<l.version){if(f.size!==l.array.byteLength)throw new Error("THREE.WebGLAttributes: The size of the buffer attribute's array buffer does not match the original size. Resizing buffer attributes is not supported.");n(f.buffer,l,u),f.version=l.version}}return{get:r,remove:a,update:s}}var iY=`#ifdef USE_ALPHAHASH
	if ( diffuseColor.a < getAlphaHashThreshold( vPosition ) ) discard;
#endif`,rY=`#ifdef USE_ALPHAHASH
	const float ALPHA_HASH_SCALE = 0.05;
	float hash2D( vec2 value ) {
		return fract( 1.0e4 * sin( 17.0 * value.x + 0.1 * value.y ) * ( 0.1 + abs( sin( 13.0 * value.y + value.x ) ) ) );
	}
	float hash3D( vec3 value ) {
		return hash2D( vec2( hash2D( value.xy ), value.z ) );
	}
	float getAlphaHashThreshold( vec3 position ) {
		float maxDeriv = max(
			length( dFdx( position.xyz ) ),
			length( dFdy( position.xyz ) )
		);
		float pixScale = 1.0 / ( ALPHA_HASH_SCALE * maxDeriv );
		vec2 pixScales = vec2(
			exp2( floor( log2( pixScale ) ) ),
			exp2( ceil( log2( pixScale ) ) )
		);
		vec2 alpha = vec2(
			hash3D( floor( pixScales.x * position.xyz ) ),
			hash3D( floor( pixScales.y * position.xyz ) )
		);
		float lerpFactor = fract( log2( pixScale ) );
		float x = ( 1.0 - lerpFactor ) * alpha.x + lerpFactor * alpha.y;
		float a = min( lerpFactor, 1.0 - lerpFactor );
		vec3 cases = vec3(
			x * x / ( 2.0 * a * ( 1.0 - a ) ),
			( x - 0.5 * a ) / ( 1.0 - a ),
			1.0 - ( ( 1.0 - x ) * ( 1.0 - x ) / ( 2.0 * a * ( 1.0 - a ) ) )
		);
		float threshold = ( x < ( 1.0 - a ) )
			? ( ( x < a ) ? cases.x : cases.y )
			: cases.z;
		return clamp( threshold , 1.0e-6, 1.0 );
	}
#endif`,aY=`#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, vAlphaMapUv ).g;
#endif`,sY=`#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,oY=`#ifdef USE_ALPHATEST
	#ifdef ALPHA_TO_COVERAGE
	diffuseColor.a = smoothstep( alphaTest, alphaTest + fwidth( diffuseColor.a ), diffuseColor.a );
	if ( diffuseColor.a == 0.0 ) discard;
	#else
	if ( diffuseColor.a < alphaTest ) discard;
	#endif
#endif`,lY=`#ifdef USE_ALPHATEST
	uniform float alphaTest;
#endif`,cY=`#ifdef USE_AOMAP
	float ambientOcclusion = ( texture2D( aoMap, vAoMapUv ).r - 1.0 ) * aoMapIntensity + 1.0;
	reflectedLight.indirectDiffuse *= ambientOcclusion;
	#if defined( USE_CLEARCOAT ) 
		clearcoatSpecularIndirect *= ambientOcclusion;
	#endif
	#if defined( USE_SHEEN ) 
		sheenSpecularIndirect *= ambientOcclusion;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD )
		float dotNV = saturate( dot( geometryNormal, geometryViewDir ) );
		reflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.roughness );
	#endif
#endif`,uY=`#ifdef USE_AOMAP
	uniform sampler2D aoMap;
	uniform float aoMapIntensity;
#endif`,fY=`#ifdef USE_BATCHING
	#if ! defined( GL_ANGLE_multi_draw )
	#define gl_DrawID _gl_DrawID
	uniform int _gl_DrawID;
	#endif
	uniform highp sampler2D batchingTexture;
	uniform highp usampler2D batchingIdTexture;
	mat4 getBatchingMatrix( const in float i ) {
		int size = textureSize( batchingTexture, 0 ).x;
		int j = int( i ) * 4;
		int x = j % size;
		int y = j / size;
		vec4 v1 = texelFetch( batchingTexture, ivec2( x, y ), 0 );
		vec4 v2 = texelFetch( batchingTexture, ivec2( x + 1, y ), 0 );
		vec4 v3 = texelFetch( batchingTexture, ivec2( x + 2, y ), 0 );
		vec4 v4 = texelFetch( batchingTexture, ivec2( x + 3, y ), 0 );
		return mat4( v1, v2, v3, v4 );
	}
	float getIndirectIndex( const in int i ) {
		int size = textureSize( batchingIdTexture, 0 ).x;
		int x = i % size;
		int y = i / size;
		return float( texelFetch( batchingIdTexture, ivec2( x, y ), 0 ).r );
	}
#endif
#ifdef USE_BATCHING_COLOR
	uniform sampler2D batchingColorTexture;
	vec3 getBatchingColor( const in float i ) {
		int size = textureSize( batchingColorTexture, 0 ).x;
		int j = int( i );
		int x = j % size;
		int y = j / size;
		return texelFetch( batchingColorTexture, ivec2( x, y ), 0 ).rgb;
	}
#endif`,hY=`#ifdef USE_BATCHING
	mat4 batchingMatrix = getBatchingMatrix( getIndirectIndex( gl_DrawID ) );
#endif`,dY=`vec3 transformed = vec3( position );
#ifdef USE_ALPHAHASH
	vPosition = vec3( position );
#endif`,pY=`vec3 objectNormal = vec3( normal );
#ifdef USE_TANGENT
	vec3 objectTangent = vec3( tangent.xyz );
#endif`,mY=`float G_BlinnPhong_Implicit( ) {
	return 0.25;
}
float D_BlinnPhong( const in float shininess, const in float dotNH ) {
	return RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );
}
vec3 BRDF_BlinnPhong( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float shininess ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( specularColor, 1.0, dotVH );
	float G = G_BlinnPhong_Implicit( );
	float D = D_BlinnPhong( shininess, dotNH );
	return F * ( G * D );
} // validated`,gY=`#ifdef USE_IRIDESCENCE
	const mat3 XYZ_TO_REC709 = mat3(
		 3.2404542, -0.9692660,  0.0556434,
		-1.5371385,  1.8760108, -0.2040259,
		-0.4985314,  0.0415560,  1.0572252
	);
	vec3 Fresnel0ToIor( vec3 fresnel0 ) {
		vec3 sqrtF0 = sqrt( fresnel0 );
		return ( vec3( 1.0 ) + sqrtF0 ) / ( vec3( 1.0 ) - sqrtF0 );
	}
	vec3 IorToFresnel0( vec3 transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - vec3( incidentIor ) ) / ( transmittedIor + vec3( incidentIor ) ) );
	}
	float IorToFresnel0( float transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - incidentIor ) / ( transmittedIor + incidentIor ));
	}
	vec3 evalSensitivity( float OPD, vec3 shift ) {
		float phase = 2.0 * PI * OPD * 1.0e-9;
		vec3 val = vec3( 5.4856e-13, 4.4201e-13, 5.2481e-13 );
		vec3 pos = vec3( 1.6810e+06, 1.7953e+06, 2.2084e+06 );
		vec3 var = vec3( 4.3278e+09, 9.3046e+09, 6.6121e+09 );
		vec3 xyz = val * sqrt( 2.0 * PI * var ) * cos( pos * phase + shift ) * exp( - pow2( phase ) * var );
		xyz.x += 9.7470e-14 * sqrt( 2.0 * PI * 4.5282e+09 ) * cos( 2.2399e+06 * phase + shift[ 0 ] ) * exp( - 4.5282e+09 * pow2( phase ) );
		xyz /= 1.0685e-7;
		vec3 rgb = XYZ_TO_REC709 * xyz;
		return rgb;
	}
	vec3 evalIridescence( float outsideIOR, float eta2, float cosTheta1, float thinFilmThickness, vec3 baseF0 ) {
		vec3 I;
		float iridescenceIOR = mix( outsideIOR, eta2, smoothstep( 0.0, 0.03, thinFilmThickness ) );
		float sinTheta2Sq = pow2( outsideIOR / iridescenceIOR ) * ( 1.0 - pow2( cosTheta1 ) );
		float cosTheta2Sq = 1.0 - sinTheta2Sq;
		if ( cosTheta2Sq < 0.0 ) {
			return vec3( 1.0 );
		}
		float cosTheta2 = sqrt( cosTheta2Sq );
		float R0 = IorToFresnel0( iridescenceIOR, outsideIOR );
		float R12 = F_Schlick( R0, 1.0, cosTheta1 );
		float T121 = 1.0 - R12;
		float phi12 = 0.0;
		if ( iridescenceIOR < outsideIOR ) phi12 = PI;
		float phi21 = PI - phi12;
		vec3 baseIOR = Fresnel0ToIor( clamp( baseF0, 0.0, 0.9999 ) );		vec3 R1 = IorToFresnel0( baseIOR, iridescenceIOR );
		vec3 R23 = F_Schlick( R1, 1.0, cosTheta2 );
		vec3 phi23 = vec3( 0.0 );
		if ( baseIOR[ 0 ] < iridescenceIOR ) phi23[ 0 ] = PI;
		if ( baseIOR[ 1 ] < iridescenceIOR ) phi23[ 1 ] = PI;
		if ( baseIOR[ 2 ] < iridescenceIOR ) phi23[ 2 ] = PI;
		float OPD = 2.0 * iridescenceIOR * thinFilmThickness * cosTheta2;
		vec3 phi = vec3( phi21 ) + phi23;
		vec3 R123 = clamp( R12 * R23, 1e-5, 0.9999 );
		vec3 r123 = sqrt( R123 );
		vec3 Rs = pow2( T121 ) * R23 / ( vec3( 1.0 ) - R123 );
		vec3 C0 = R12 + Rs;
		I = C0;
		vec3 Cm = Rs - T121;
		for ( int m = 1; m <= 2; ++ m ) {
			Cm *= r123;
			vec3 Sm = 2.0 * evalSensitivity( float( m ) * OPD, float( m ) * phi );
			I += Cm * Sm;
		}
		return max( I, vec3( 0.0 ) );
	}
#endif`,vY=`#ifdef USE_BUMPMAP
	uniform sampler2D bumpMap;
	uniform float bumpScale;
	vec2 dHdxy_fwd() {
		vec2 dSTdx = dFdx( vBumpMapUv );
		vec2 dSTdy = dFdy( vBumpMapUv );
		float Hll = bumpScale * texture2D( bumpMap, vBumpMapUv ).x;
		float dBx = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdx ).x - Hll;
		float dBy = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdy ).x - Hll;
		return vec2( dBx, dBy );
	}
	vec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {
		vec3 vSigmaX = normalize( dFdx( surf_pos.xyz ) );
		vec3 vSigmaY = normalize( dFdy( surf_pos.xyz ) );
		vec3 vN = surf_norm;
		vec3 R1 = cross( vSigmaY, vN );
		vec3 R2 = cross( vN, vSigmaX );
		float fDet = dot( vSigmaX, R1 ) * faceDirection;
		vec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );
		return normalize( abs( fDet ) * surf_norm - vGrad );
	}
#endif`,yY=`#if NUM_CLIPPING_PLANES > 0
	vec4 plane;
	#ifdef ALPHA_TO_COVERAGE
		float distanceToPlane, distanceGradient;
		float clipOpacity = 1.0;
		#pragma unroll_loop_start
		for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			distanceToPlane = - dot( vClipPosition, plane.xyz ) + plane.w;
			distanceGradient = fwidth( distanceToPlane ) / 2.0;
			clipOpacity *= smoothstep( - distanceGradient, distanceGradient, distanceToPlane );
			if ( clipOpacity == 0.0 ) discard;
		}
		#pragma unroll_loop_end
		#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
			float unionClipOpacity = 1.0;
			#pragma unroll_loop_start
			for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
				plane = clippingPlanes[ i ];
				distanceToPlane = - dot( vClipPosition, plane.xyz ) + plane.w;
				distanceGradient = fwidth( distanceToPlane ) / 2.0;
				unionClipOpacity *= 1.0 - smoothstep( - distanceGradient, distanceGradient, distanceToPlane );
			}
			#pragma unroll_loop_end
			clipOpacity *= 1.0 - unionClipOpacity;
		#endif
		diffuseColor.a *= clipOpacity;
		if ( diffuseColor.a == 0.0 ) discard;
	#else
		#pragma unroll_loop_start
		for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			if ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;
		}
		#pragma unroll_loop_end
		#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
			bool clipped = true;
			#pragma unroll_loop_start
			for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
				plane = clippingPlanes[ i ];
				clipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;
			}
			#pragma unroll_loop_end
			if ( clipped ) discard;
		#endif
	#endif
#endif`,_Y=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
	uniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];
#endif`,xY=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
#endif`,bY=`#if NUM_CLIPPING_PLANES > 0
	vClipPosition = - mvPosition.xyz;
#endif`,SY=`#if defined( USE_COLOR_ALPHA )
	diffuseColor *= vColor;
#elif defined( USE_COLOR )
	diffuseColor.rgb *= vColor;
#endif`,wY=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR )
	varying vec3 vColor;
#endif`,EY=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR ) || defined( USE_BATCHING_COLOR )
	varying vec3 vColor;
#endif`,MY=`#if defined( USE_COLOR_ALPHA )
	vColor = vec4( 1.0 );
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR ) || defined( USE_BATCHING_COLOR )
	vColor = vec3( 1.0 );
#endif
#ifdef USE_COLOR
	vColor *= color;
#endif
#ifdef USE_INSTANCING_COLOR
	vColor.xyz *= instanceColor.xyz;
#endif
#ifdef USE_BATCHING_COLOR
	vec3 batchingColor = getBatchingColor( getIndirectIndex( gl_DrawID ) );
	vColor.xyz *= batchingColor.xyz;
#endif`,TY=`#define PI 3.141592653589793
#define PI2 6.283185307179586
#define PI_HALF 1.5707963267948966
#define RECIPROCAL_PI 0.3183098861837907
#define RECIPROCAL_PI2 0.15915494309189535
#define EPSILON 1e-6
#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
#define whiteComplement( a ) ( 1.0 - saturate( a ) )
float pow2( const in float x ) { return x*x; }
vec3 pow2( const in vec3 x ) { return x*x; }
float pow3( const in float x ) { return x*x*x; }
float pow4( const in float x ) { float x2 = x*x; return x2*x2; }
float max3( const in vec3 v ) { return max( max( v.x, v.y ), v.z ); }
float average( const in vec3 v ) { return dot( v, vec3( 0.3333333 ) ); }
highp float rand( const in vec2 uv ) {
	const highp float a = 12.9898, b = 78.233, c = 43758.5453;
	highp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );
	return fract( sin( sn ) * c );
}
#ifdef HIGH_PRECISION
	float precisionSafeLength( vec3 v ) { return length( v ); }
#else
	float precisionSafeLength( vec3 v ) {
		float maxComponent = max3( abs( v ) );
		return length( v / maxComponent ) * maxComponent;
	}
#endif
struct IncidentLight {
	vec3 color;
	vec3 direction;
	bool visible;
};
struct ReflectedLight {
	vec3 directDiffuse;
	vec3 directSpecular;
	vec3 indirectDiffuse;
	vec3 indirectSpecular;
};
#ifdef USE_ALPHAHASH
	varying vec3 vPosition;
#endif
vec3 transformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );
}
vec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );
}
mat3 transposeMat3( const in mat3 m ) {
	mat3 tmp;
	tmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );
	tmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );
	tmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );
	return tmp;
}
bool isPerspectiveMatrix( mat4 m ) {
	return m[ 2 ][ 3 ] == - 1.0;
}
vec2 equirectUv( in vec3 dir ) {
	float u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;
	float v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;
	return vec2( u, v );
}
vec3 BRDF_Lambert( const in vec3 diffuseColor ) {
	return RECIPROCAL_PI * diffuseColor;
}
vec3 F_Schlick( const in vec3 f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
}
float F_Schlick( const in float f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
} // validated`,AY=`#ifdef ENVMAP_TYPE_CUBE_UV
	#define cubeUV_minMipLevel 4.0
	#define cubeUV_minTileSize 16.0
	float getFace( vec3 direction ) {
		vec3 absDirection = abs( direction );
		float face = - 1.0;
		if ( absDirection.x > absDirection.z ) {
			if ( absDirection.x > absDirection.y )
				face = direction.x > 0.0 ? 0.0 : 3.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		} else {
			if ( absDirection.z > absDirection.y )
				face = direction.z > 0.0 ? 2.0 : 5.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		}
		return face;
	}
	vec2 getUV( vec3 direction, float face ) {
		vec2 uv;
		if ( face == 0.0 ) {
			uv = vec2( direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 1.0 ) {
			uv = vec2( - direction.x, - direction.z ) / abs( direction.y );
		} else if ( face == 2.0 ) {
			uv = vec2( - direction.x, direction.y ) / abs( direction.z );
		} else if ( face == 3.0 ) {
			uv = vec2( - direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 4.0 ) {
			uv = vec2( - direction.x, direction.z ) / abs( direction.y );
		} else {
			uv = vec2( direction.x, direction.y ) / abs( direction.z );
		}
		return 0.5 * ( uv + 1.0 );
	}
	vec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {
		float face = getFace( direction );
		float filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );
		mipInt = max( mipInt, cubeUV_minMipLevel );
		float faceSize = exp2( mipInt );
		highp vec2 uv = getUV( direction, face ) * ( faceSize - 2.0 ) + 1.0;
		if ( face > 2.0 ) {
			uv.y += faceSize;
			face -= 3.0;
		}
		uv.x += face * faceSize;
		uv.x += filterInt * 3.0 * cubeUV_minTileSize;
		uv.y += 4.0 * ( exp2( CUBEUV_MAX_MIP ) - faceSize );
		uv.x *= CUBEUV_TEXEL_WIDTH;
		uv.y *= CUBEUV_TEXEL_HEIGHT;
		#ifdef texture2DGradEXT
			return texture2DGradEXT( envMap, uv, vec2( 0.0 ), vec2( 0.0 ) ).rgb;
		#else
			return texture2D( envMap, uv ).rgb;
		#endif
	}
	#define cubeUV_r0 1.0
	#define cubeUV_m0 - 2.0
	#define cubeUV_r1 0.8
	#define cubeUV_m1 - 1.0
	#define cubeUV_r4 0.4
	#define cubeUV_m4 2.0
	#define cubeUV_r5 0.305
	#define cubeUV_m5 3.0
	#define cubeUV_r6 0.21
	#define cubeUV_m6 4.0
	float roughnessToMip( float roughness ) {
		float mip = 0.0;
		if ( roughness >= cubeUV_r1 ) {
			mip = ( cubeUV_r0 - roughness ) * ( cubeUV_m1 - cubeUV_m0 ) / ( cubeUV_r0 - cubeUV_r1 ) + cubeUV_m0;
		} else if ( roughness >= cubeUV_r4 ) {
			mip = ( cubeUV_r1 - roughness ) * ( cubeUV_m4 - cubeUV_m1 ) / ( cubeUV_r1 - cubeUV_r4 ) + cubeUV_m1;
		} else if ( roughness >= cubeUV_r5 ) {
			mip = ( cubeUV_r4 - roughness ) * ( cubeUV_m5 - cubeUV_m4 ) / ( cubeUV_r4 - cubeUV_r5 ) + cubeUV_m4;
		} else if ( roughness >= cubeUV_r6 ) {
			mip = ( cubeUV_r5 - roughness ) * ( cubeUV_m6 - cubeUV_m5 ) / ( cubeUV_r5 - cubeUV_r6 ) + cubeUV_m5;
		} else {
			mip = - 2.0 * log2( 1.16 * roughness );		}
		return mip;
	}
	vec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {
		float mip = clamp( roughnessToMip( roughness ), cubeUV_m0, CUBEUV_MAX_MIP );
		float mipF = fract( mip );
		float mipInt = floor( mip );
		vec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );
		if ( mipF == 0.0 ) {
			return vec4( color0, 1.0 );
		} else {
			vec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );
			return vec4( mix( color0, color1, mipF ), 1.0 );
		}
	}
#endif`,CY=`vec3 transformedNormal = objectNormal;
#ifdef USE_TANGENT
	vec3 transformedTangent = objectTangent;
#endif
#ifdef USE_BATCHING
	mat3 bm = mat3( batchingMatrix );
	transformedNormal /= vec3( dot( bm[ 0 ], bm[ 0 ] ), dot( bm[ 1 ], bm[ 1 ] ), dot( bm[ 2 ], bm[ 2 ] ) );
	transformedNormal = bm * transformedNormal;
	#ifdef USE_TANGENT
		transformedTangent = bm * transformedTangent;
	#endif
#endif
#ifdef USE_INSTANCING
	mat3 im = mat3( instanceMatrix );
	transformedNormal /= vec3( dot( im[ 0 ], im[ 0 ] ), dot( im[ 1 ], im[ 1 ] ), dot( im[ 2 ], im[ 2 ] ) );
	transformedNormal = im * transformedNormal;
	#ifdef USE_TANGENT
		transformedTangent = im * transformedTangent;
	#endif
#endif
transformedNormal = normalMatrix * transformedNormal;
#ifdef FLIP_SIDED
	transformedNormal = - transformedNormal;
#endif
#ifdef USE_TANGENT
	transformedTangent = ( modelViewMatrix * vec4( transformedTangent, 0.0 ) ).xyz;
	#ifdef FLIP_SIDED
		transformedTangent = - transformedTangent;
	#endif
#endif`,RY=`#ifdef USE_DISPLACEMENTMAP
	uniform sampler2D displacementMap;
	uniform float displacementScale;
	uniform float displacementBias;
#endif`,DY=`#ifdef USE_DISPLACEMENTMAP
	transformed += normalize( objectNormal ) * ( texture2D( displacementMap, vDisplacementMapUv ).x * displacementScale + displacementBias );
#endif`,OY=`#ifdef USE_EMISSIVEMAP
	vec4 emissiveColor = texture2D( emissiveMap, vEmissiveMapUv );
	#ifdef DECODE_VIDEO_TEXTURE_EMISSIVE
		emissiveColor = sRGBTransferEOTF( emissiveColor );
	#endif
	totalEmissiveRadiance *= emissiveColor.rgb;
#endif`,NY=`#ifdef USE_EMISSIVEMAP
	uniform sampler2D emissiveMap;
#endif`,PY="gl_FragColor = linearToOutputTexel( gl_FragColor );",LY=`vec4 LinearTransferOETF( in vec4 value ) {
	return value;
}
vec4 sRGBTransferEOTF( in vec4 value ) {
	return vec4( mix( pow( value.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), value.rgb * 0.0773993808, vec3( lessThanEqual( value.rgb, vec3( 0.04045 ) ) ) ), value.a );
}
vec4 sRGBTransferOETF( in vec4 value ) {
	return vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );
}`,UY=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vec3 cameraToFrag;
		if ( isOrthographic ) {
			cameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToFrag = normalize( vWorldPosition - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vec3 reflectVec = reflect( cameraToFrag, worldNormal );
		#else
			vec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );
		#endif
	#else
		vec3 reflectVec = vReflect;
	#endif
	#ifdef ENVMAP_TYPE_CUBE
		vec4 envColor = textureCube( envMap, envMapRotation * vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );
	#else
		vec4 envColor = vec4( 0.0 );
	#endif
	#ifdef ENVMAP_BLENDING_MULTIPLY
		outgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_MIX )
		outgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_ADD )
		outgoingLight += envColor.xyz * specularStrength * reflectivity;
	#endif
#endif`,IY=`#ifdef USE_ENVMAP
	uniform float envMapIntensity;
	uniform float flipEnvMap;
	uniform mat3 envMapRotation;
	#ifdef ENVMAP_TYPE_CUBE
		uniform samplerCube envMap;
	#else
		uniform sampler2D envMap;
	#endif
	
#endif`,BY=`#ifdef USE_ENVMAP
	uniform float reflectivity;
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		varying vec3 vWorldPosition;
		uniform float refractionRatio;
	#else
		varying vec3 vReflect;
	#endif
#endif`,zY=`#ifdef USE_ENVMAP
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		
		varying vec3 vWorldPosition;
	#else
		varying vec3 vReflect;
		uniform float refractionRatio;
	#endif
#endif`,kY=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vWorldPosition = worldPosition.xyz;
	#else
		vec3 cameraToVertex;
		if ( isOrthographic ) {
			cameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToVertex = normalize( worldPosition.xyz - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vReflect = reflect( cameraToVertex, worldNormal );
		#else
			vReflect = refract( cameraToVertex, worldNormal, refractionRatio );
		#endif
	#endif
#endif`,FY=`#ifdef USE_FOG
	vFogDepth = - mvPosition.z;
#endif`,HY=`#ifdef USE_FOG
	varying float vFogDepth;
#endif`,VY=`#ifdef USE_FOG
	#ifdef FOG_EXP2
		float fogFactor = 1.0 - exp( - fogDensity * fogDensity * vFogDepth * vFogDepth );
	#else
		float fogFactor = smoothstep( fogNear, fogFar, vFogDepth );
	#endif
	gl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );
#endif`,jY=`#ifdef USE_FOG
	uniform vec3 fogColor;
	varying float vFogDepth;
	#ifdef FOG_EXP2
		uniform float fogDensity;
	#else
		uniform float fogNear;
		uniform float fogFar;
	#endif
#endif`,GY=`#ifdef USE_GRADIENTMAP
	uniform sampler2D gradientMap;
#endif
vec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {
	float dotNL = dot( normal, lightDirection );
	vec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );
	#ifdef USE_GRADIENTMAP
		return vec3( texture2D( gradientMap, coord ).r );
	#else
		vec2 fw = fwidth( coord ) * 0.5;
		return mix( vec3( 0.7 ), vec3( 1.0 ), smoothstep( 0.7 - fw.x, 0.7 + fw.x, coord.x ) );
	#endif
}`,WY=`#ifdef USE_LIGHTMAP
	uniform sampler2D lightMap;
	uniform float lightMapIntensity;
#endif`,XY=`LambertMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularStrength = specularStrength;`,qY=`varying vec3 vViewPosition;
struct LambertMaterial {
	vec3 diffuseColor;
	float specularStrength;
};
void RE_Direct_Lambert( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Lambert( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Lambert
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Lambert`,YY=`uniform bool receiveShadow;
uniform vec3 ambientLightColor;
#if defined( USE_LIGHT_PROBES )
	uniform vec3 lightProbe[ 9 ];
#endif
vec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {
	float x = normal.x, y = normal.y, z = normal.z;
	vec3 result = shCoefficients[ 0 ] * 0.886227;
	result += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;
	result += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;
	result += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;
	result += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;
	result += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;
	result += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );
	result += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;
	result += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );
	return result;
}
vec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in vec3 normal ) {
	vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
	vec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );
	return irradiance;
}
vec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {
	vec3 irradiance = ambientLightColor;
	return irradiance;
}
float getDistanceAttenuation( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {
	float distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );
	if ( cutoffDistance > 0.0 ) {
		distanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );
	}
	return distanceFalloff;
}
float getSpotAttenuation( const in float coneCosine, const in float penumbraCosine, const in float angleCosine ) {
	return smoothstep( coneCosine, penumbraCosine, angleCosine );
}
#if NUM_DIR_LIGHTS > 0
	struct DirectionalLight {
		vec3 direction;
		vec3 color;
	};
	uniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];
	void getDirectionalLightInfo( const in DirectionalLight directionalLight, out IncidentLight light ) {
		light.color = directionalLight.color;
		light.direction = directionalLight.direction;
		light.visible = true;
	}
#endif
#if NUM_POINT_LIGHTS > 0
	struct PointLight {
		vec3 position;
		vec3 color;
		float distance;
		float decay;
	};
	uniform PointLight pointLights[ NUM_POINT_LIGHTS ];
	void getPointLightInfo( const in PointLight pointLight, const in vec3 geometryPosition, out IncidentLight light ) {
		vec3 lVector = pointLight.position - geometryPosition;
		light.direction = normalize( lVector );
		float lightDistance = length( lVector );
		light.color = pointLight.color;
		light.color *= getDistanceAttenuation( lightDistance, pointLight.distance, pointLight.decay );
		light.visible = ( light.color != vec3( 0.0 ) );
	}
#endif
#if NUM_SPOT_LIGHTS > 0
	struct SpotLight {
		vec3 position;
		vec3 direction;
		vec3 color;
		float distance;
		float decay;
		float coneCos;
		float penumbraCos;
	};
	uniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];
	void getSpotLightInfo( const in SpotLight spotLight, const in vec3 geometryPosition, out IncidentLight light ) {
		vec3 lVector = spotLight.position - geometryPosition;
		light.direction = normalize( lVector );
		float angleCos = dot( light.direction, spotLight.direction );
		float spotAttenuation = getSpotAttenuation( spotLight.coneCos, spotLight.penumbraCos, angleCos );
		if ( spotAttenuation > 0.0 ) {
			float lightDistance = length( lVector );
			light.color = spotLight.color * spotAttenuation;
			light.color *= getDistanceAttenuation( lightDistance, spotLight.distance, spotLight.decay );
			light.visible = ( light.color != vec3( 0.0 ) );
		} else {
			light.color = vec3( 0.0 );
			light.visible = false;
		}
	}
#endif
#if NUM_RECT_AREA_LIGHTS > 0
	struct RectAreaLight {
		vec3 color;
		vec3 position;
		vec3 halfWidth;
		vec3 halfHeight;
	};
	uniform sampler2D ltc_1;	uniform sampler2D ltc_2;
	uniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];
#endif
#if NUM_HEMI_LIGHTS > 0
	struct HemisphereLight {
		vec3 direction;
		vec3 skyColor;
		vec3 groundColor;
	};
	uniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];
	vec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in vec3 normal ) {
		float dotNL = dot( normal, hemiLight.direction );
		float hemiDiffuseWeight = 0.5 * dotNL + 0.5;
		vec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );
		return irradiance;
	}
#endif`,ZY=`#ifdef USE_ENVMAP
	vec3 getIBLIrradiance( const in vec3 normal ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, envMapRotation * worldNormal, 1.0 );
			return PI * envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	vec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 reflectVec = reflect( - viewDir, normal );
			reflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );
			reflectVec = inverseTransformDirection( reflectVec, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, envMapRotation * reflectVec, roughness );
			return envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	#ifdef USE_ANISOTROPY
		vec3 getIBLAnisotropyRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness, const in vec3 bitangent, const in float anisotropy ) {
			#ifdef ENVMAP_TYPE_CUBE_UV
				vec3 bentNormal = cross( bitangent, viewDir );
				bentNormal = normalize( cross( bentNormal, bitangent ) );
				bentNormal = normalize( mix( bentNormal, normal, pow2( pow2( 1.0 - anisotropy * ( 1.0 - roughness ) ) ) ) );
				return getIBLRadiance( viewDir, bentNormal, roughness );
			#else
				return vec3( 0.0 );
			#endif
		}
	#endif
#endif`,KY=`ToonMaterial material;
material.diffuseColor = diffuseColor.rgb;`,$Y=`varying vec3 vViewPosition;
struct ToonMaterial {
	vec3 diffuseColor;
};
void RE_Direct_Toon( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	vec3 irradiance = getGradientIrradiance( geometryNormal, directLight.direction ) * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Toon
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Toon`,JY=`BlinnPhongMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularColor = specular;
material.specularShininess = shininess;
material.specularStrength = specularStrength;`,QY=`varying vec3 vViewPosition;
struct BlinnPhongMaterial {
	vec3 diffuseColor;
	vec3 specularColor;
	float specularShininess;
	float specularStrength;
};
void RE_Direct_BlinnPhong( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
	reflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight.direction, geometryViewDir, geometryNormal, material.specularColor, material.specularShininess ) * material.specularStrength;
}
void RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_BlinnPhong
#define RE_IndirectDiffuse		RE_IndirectDiffuse_BlinnPhong`,eZ=`PhysicalMaterial material;
material.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );
vec3 dxy = max( abs( dFdx( nonPerturbedNormal ) ), abs( dFdy( nonPerturbedNormal ) ) );
float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );
material.roughness = max( roughnessFactor, 0.0525 );material.roughness += geometryRoughness;
material.roughness = min( material.roughness, 1.0 );
#ifdef IOR
	material.ior = ior;
	#ifdef USE_SPECULAR
		float specularIntensityFactor = specularIntensity;
		vec3 specularColorFactor = specularColor;
		#ifdef USE_SPECULAR_COLORMAP
			specularColorFactor *= texture2D( specularColorMap, vSpecularColorMapUv ).rgb;
		#endif
		#ifdef USE_SPECULAR_INTENSITYMAP
			specularIntensityFactor *= texture2D( specularIntensityMap, vSpecularIntensityMapUv ).a;
		#endif
		material.specularF90 = mix( specularIntensityFactor, 1.0, metalnessFactor );
	#else
		float specularIntensityFactor = 1.0;
		vec3 specularColorFactor = vec3( 1.0 );
		material.specularF90 = 1.0;
	#endif
	material.specularColor = mix( min( pow2( ( material.ior - 1.0 ) / ( material.ior + 1.0 ) ) * specularColorFactor, vec3( 1.0 ) ) * specularIntensityFactor, diffuseColor.rgb, metalnessFactor );
#else
	material.specularColor = mix( vec3( 0.04 ), diffuseColor.rgb, metalnessFactor );
	material.specularF90 = 1.0;
#endif
#ifdef USE_CLEARCOAT
	material.clearcoat = clearcoat;
	material.clearcoatRoughness = clearcoatRoughness;
	material.clearcoatF0 = vec3( 0.04 );
	material.clearcoatF90 = 1.0;
	#ifdef USE_CLEARCOATMAP
		material.clearcoat *= texture2D( clearcoatMap, vClearcoatMapUv ).x;
	#endif
	#ifdef USE_CLEARCOAT_ROUGHNESSMAP
		material.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vClearcoatRoughnessMapUv ).y;
	#endif
	material.clearcoat = saturate( material.clearcoat );	material.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );
	material.clearcoatRoughness += geometryRoughness;
	material.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );
#endif
#ifdef USE_DISPERSION
	material.dispersion = dispersion;
#endif
#ifdef USE_IRIDESCENCE
	material.iridescence = iridescence;
	material.iridescenceIOR = iridescenceIOR;
	#ifdef USE_IRIDESCENCEMAP
		material.iridescence *= texture2D( iridescenceMap, vIridescenceMapUv ).r;
	#endif
	#ifdef USE_IRIDESCENCE_THICKNESSMAP
		material.iridescenceThickness = (iridescenceThicknessMaximum - iridescenceThicknessMinimum) * texture2D( iridescenceThicknessMap, vIridescenceThicknessMapUv ).g + iridescenceThicknessMinimum;
	#else
		material.iridescenceThickness = iridescenceThicknessMaximum;
	#endif
#endif
#ifdef USE_SHEEN
	material.sheenColor = sheenColor;
	#ifdef USE_SHEEN_COLORMAP
		material.sheenColor *= texture2D( sheenColorMap, vSheenColorMapUv ).rgb;
	#endif
	material.sheenRoughness = clamp( sheenRoughness, 0.07, 1.0 );
	#ifdef USE_SHEEN_ROUGHNESSMAP
		material.sheenRoughness *= texture2D( sheenRoughnessMap, vSheenRoughnessMapUv ).a;
	#endif
#endif
#ifdef USE_ANISOTROPY
	#ifdef USE_ANISOTROPYMAP
		mat2 anisotropyMat = mat2( anisotropyVector.x, anisotropyVector.y, - anisotropyVector.y, anisotropyVector.x );
		vec3 anisotropyPolar = texture2D( anisotropyMap, vAnisotropyMapUv ).rgb;
		vec2 anisotropyV = anisotropyMat * normalize( 2.0 * anisotropyPolar.rg - vec2( 1.0 ) ) * anisotropyPolar.b;
	#else
		vec2 anisotropyV = anisotropyVector;
	#endif
	material.anisotropy = length( anisotropyV );
	if( material.anisotropy == 0.0 ) {
		anisotropyV = vec2( 1.0, 0.0 );
	} else {
		anisotropyV /= material.anisotropy;
		material.anisotropy = saturate( material.anisotropy );
	}
	material.alphaT = mix( pow2( material.roughness ), 1.0, pow2( material.anisotropy ) );
	material.anisotropyT = tbn[ 0 ] * anisotropyV.x + tbn[ 1 ] * anisotropyV.y;
	material.anisotropyB = tbn[ 1 ] * anisotropyV.x - tbn[ 0 ] * anisotropyV.y;
#endif`,tZ=`struct PhysicalMaterial {
	vec3 diffuseColor;
	float roughness;
	vec3 specularColor;
	float specularF90;
	float dispersion;
	#ifdef USE_CLEARCOAT
		float clearcoat;
		float clearcoatRoughness;
		vec3 clearcoatF0;
		float clearcoatF90;
	#endif
	#ifdef USE_IRIDESCENCE
		float iridescence;
		float iridescenceIOR;
		float iridescenceThickness;
		vec3 iridescenceFresnel;
		vec3 iridescenceF0;
	#endif
	#ifdef USE_SHEEN
		vec3 sheenColor;
		float sheenRoughness;
	#endif
	#ifdef IOR
		float ior;
	#endif
	#ifdef USE_TRANSMISSION
		float transmission;
		float transmissionAlpha;
		float thickness;
		float attenuationDistance;
		vec3 attenuationColor;
	#endif
	#ifdef USE_ANISOTROPY
		float anisotropy;
		float alphaT;
		vec3 anisotropyT;
		vec3 anisotropyB;
	#endif
};
vec3 clearcoatSpecularDirect = vec3( 0.0 );
vec3 clearcoatSpecularIndirect = vec3( 0.0 );
vec3 sheenSpecularDirect = vec3( 0.0 );
vec3 sheenSpecularIndirect = vec3(0.0 );
vec3 Schlick_to_F0( const in vec3 f, const in float f90, const in float dotVH ) {
    float x = clamp( 1.0 - dotVH, 0.0, 1.0 );
    float x2 = x * x;
    float x5 = clamp( x * x2 * x2, 0.0, 0.9999 );
    return ( f - vec3( f90 ) * x5 ) / ( 1.0 - x5 );
}
float V_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {
	float a2 = pow2( alpha );
	float gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );
	float gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );
	return 0.5 / max( gv + gl, EPSILON );
}
float D_GGX( const in float alpha, const in float dotNH ) {
	float a2 = pow2( alpha );
	float denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;
	return RECIPROCAL_PI * a2 / pow2( denom );
}
#ifdef USE_ANISOTROPY
	float V_GGX_SmithCorrelated_Anisotropic( const in float alphaT, const in float alphaB, const in float dotTV, const in float dotBV, const in float dotTL, const in float dotBL, const in float dotNV, const in float dotNL ) {
		float gv = dotNL * length( vec3( alphaT * dotTV, alphaB * dotBV, dotNV ) );
		float gl = dotNV * length( vec3( alphaT * dotTL, alphaB * dotBL, dotNL ) );
		float v = 0.5 / ( gv + gl );
		return saturate(v);
	}
	float D_GGX_Anisotropic( const in float alphaT, const in float alphaB, const in float dotNH, const in float dotTH, const in float dotBH ) {
		float a2 = alphaT * alphaB;
		highp vec3 v = vec3( alphaB * dotTH, alphaT * dotBH, a2 * dotNH );
		highp float v2 = dot( v, v );
		float w2 = a2 / v2;
		return RECIPROCAL_PI * a2 * pow2 ( w2 );
	}
#endif
#ifdef USE_CLEARCOAT
	vec3 BRDF_GGX_Clearcoat( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material) {
		vec3 f0 = material.clearcoatF0;
		float f90 = material.clearcoatF90;
		float roughness = material.clearcoatRoughness;
		float alpha = pow2( roughness );
		vec3 halfDir = normalize( lightDir + viewDir );
		float dotNL = saturate( dot( normal, lightDir ) );
		float dotNV = saturate( dot( normal, viewDir ) );
		float dotNH = saturate( dot( normal, halfDir ) );
		float dotVH = saturate( dot( viewDir, halfDir ) );
		vec3 F = F_Schlick( f0, f90, dotVH );
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
		return F * ( V * D );
	}
#endif
vec3 BRDF_GGX( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material ) {
	vec3 f0 = material.specularColor;
	float f90 = material.specularF90;
	float roughness = material.roughness;
	float alpha = pow2( roughness );
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( f0, f90, dotVH );
	#ifdef USE_IRIDESCENCE
		F = mix( F, material.iridescenceFresnel, material.iridescence );
	#endif
	#ifdef USE_ANISOTROPY
		float dotTL = dot( material.anisotropyT, lightDir );
		float dotTV = dot( material.anisotropyT, viewDir );
		float dotTH = dot( material.anisotropyT, halfDir );
		float dotBL = dot( material.anisotropyB, lightDir );
		float dotBV = dot( material.anisotropyB, viewDir );
		float dotBH = dot( material.anisotropyB, halfDir );
		float V = V_GGX_SmithCorrelated_Anisotropic( material.alphaT, alpha, dotTV, dotBV, dotTL, dotBL, dotNV, dotNL );
		float D = D_GGX_Anisotropic( material.alphaT, alpha, dotNH, dotTH, dotBH );
	#else
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
	#endif
	return F * ( V * D );
}
vec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {
	const float LUT_SIZE = 64.0;
	const float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;
	const float LUT_BIAS = 0.5 / LUT_SIZE;
	float dotNV = saturate( dot( N, V ) );
	vec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );
	uv = uv * LUT_SCALE + LUT_BIAS;
	return uv;
}
float LTC_ClippedSphereFormFactor( const in vec3 f ) {
	float l = length( f );
	return max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );
}
vec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {
	float x = dot( v1, v2 );
	float y = abs( x );
	float a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;
	float b = 3.4175940 + ( 4.1616724 + y ) * y;
	float v = a / b;
	float theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;
	return cross( v1, v2 ) * theta_sintheta;
}
vec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {
	vec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];
	vec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];
	vec3 lightNormal = cross( v1, v2 );
	if( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );
	vec3 T1, T2;
	T1 = normalize( V - N * dot( V, N ) );
	T2 = - cross( N, T1 );
	mat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );
	vec3 coords[ 4 ];
	coords[ 0 ] = mat * ( rectCoords[ 0 ] - P );
	coords[ 1 ] = mat * ( rectCoords[ 1 ] - P );
	coords[ 2 ] = mat * ( rectCoords[ 2 ] - P );
	coords[ 3 ] = mat * ( rectCoords[ 3 ] - P );
	coords[ 0 ] = normalize( coords[ 0 ] );
	coords[ 1 ] = normalize( coords[ 1 ] );
	coords[ 2 ] = normalize( coords[ 2 ] );
	coords[ 3 ] = normalize( coords[ 3 ] );
	vec3 vectorFormFactor = vec3( 0.0 );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );
	float result = LTC_ClippedSphereFormFactor( vectorFormFactor );
	return vec3( result );
}
#if defined( USE_SHEEN )
float D_Charlie( float roughness, float dotNH ) {
	float alpha = pow2( roughness );
	float invAlpha = 1.0 / alpha;
	float cos2h = dotNH * dotNH;
	float sin2h = max( 1.0 - cos2h, 0.0078125 );
	return ( 2.0 + invAlpha ) * pow( sin2h, invAlpha * 0.5 ) / ( 2.0 * PI );
}
float V_Neubelt( float dotNV, float dotNL ) {
	return saturate( 1.0 / ( 4.0 * ( dotNL + dotNV - dotNL * dotNV ) ) );
}
vec3 BRDF_Sheen( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, vec3 sheenColor, const in float sheenRoughness ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float D = D_Charlie( sheenRoughness, dotNH );
	float V = V_Neubelt( dotNV, dotNL );
	return sheenColor * ( D * V );
}
#endif
float IBLSheenBRDF( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	float r2 = roughness * roughness;
	float a = roughness < 0.25 ? -339.2 * r2 + 161.4 * roughness - 25.9 : -8.48 * r2 + 14.3 * roughness - 9.95;
	float b = roughness < 0.25 ? 44.0 * r2 - 23.7 * roughness + 3.26 : 1.97 * r2 - 3.27 * roughness + 0.72;
	float DG = exp( a * dotNV + b ) + ( roughness < 0.25 ? 0.0 : 0.1 * ( roughness - 0.25 ) );
	return saturate( DG * RECIPROCAL_PI );
}
vec2 DFGApprox( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	const vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );
	const vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );
	vec4 r = roughness * c0 + c1;
	float a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;
	vec2 fab = vec2( - 1.04, 1.04 ) * a004 + r.zw;
	return fab;
}
vec3 EnvironmentBRDF( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness ) {
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	return specularColor * fab.x + specularF90 * fab.y;
}
#ifdef USE_IRIDESCENCE
void computeMultiscatteringIridescence( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float iridescence, const in vec3 iridescenceF0, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#else
void computeMultiscattering( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#endif
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	#ifdef USE_IRIDESCENCE
		vec3 Fr = mix( specularColor, iridescenceF0, iridescence );
	#else
		vec3 Fr = specularColor;
	#endif
	vec3 FssEss = Fr * fab.x + specularF90 * fab.y;
	float Ess = fab.x + fab.y;
	float Ems = 1.0 - Ess;
	vec3 Favg = Fr + ( 1.0 - Fr ) * 0.047619;	vec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );
	singleScatter += FssEss;
	multiScatter += Fms * Ems;
}
#if NUM_RECT_AREA_LIGHTS > 0
	void RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
		vec3 normal = geometryNormal;
		vec3 viewDir = geometryViewDir;
		vec3 position = geometryPosition;
		vec3 lightPos = rectAreaLight.position;
		vec3 halfWidth = rectAreaLight.halfWidth;
		vec3 halfHeight = rectAreaLight.halfHeight;
		vec3 lightColor = rectAreaLight.color;
		float roughness = material.roughness;
		vec3 rectCoords[ 4 ];
		rectCoords[ 0 ] = lightPos + halfWidth - halfHeight;		rectCoords[ 1 ] = lightPos - halfWidth - halfHeight;
		rectCoords[ 2 ] = lightPos - halfWidth + halfHeight;
		rectCoords[ 3 ] = lightPos + halfWidth + halfHeight;
		vec2 uv = LTC_Uv( normal, viewDir, roughness );
		vec4 t1 = texture2D( ltc_1, uv );
		vec4 t2 = texture2D( ltc_2, uv );
		mat3 mInv = mat3(
			vec3( t1.x, 0, t1.y ),
			vec3(    0, 1,    0 ),
			vec3( t1.z, 0, t1.w )
		);
		vec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );
		reflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );
		reflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );
	}
#endif
void RE_Direct_Physical( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	#ifdef USE_CLEARCOAT
		float dotNLcc = saturate( dot( geometryClearcoatNormal, directLight.direction ) );
		vec3 ccIrradiance = dotNLcc * directLight.color;
		clearcoatSpecularDirect += ccIrradiance * BRDF_GGX_Clearcoat( directLight.direction, geometryViewDir, geometryClearcoatNormal, material );
	#endif
	#ifdef USE_SHEEN
		sheenSpecularDirect += irradiance * BRDF_Sheen( directLight.direction, geometryViewDir, geometryNormal, material.sheenColor, material.sheenRoughness );
	#endif
	reflectedLight.directSpecular += irradiance * BRDF_GGX( directLight.direction, geometryViewDir, geometryNormal, material );
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {
	#ifdef USE_CLEARCOAT
		clearcoatSpecularIndirect += clearcoatRadiance * EnvironmentBRDF( geometryClearcoatNormal, geometryViewDir, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );
	#endif
	#ifdef USE_SHEEN
		sheenSpecularIndirect += irradiance * material.sheenColor * IBLSheenBRDF( geometryNormal, geometryViewDir, material.sheenRoughness );
	#endif
	vec3 singleScattering = vec3( 0.0 );
	vec3 multiScattering = vec3( 0.0 );
	vec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;
	#ifdef USE_IRIDESCENCE
		computeMultiscatteringIridescence( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness, singleScattering, multiScattering );
	#else
		computeMultiscattering( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.roughness, singleScattering, multiScattering );
	#endif
	vec3 totalScattering = singleScattering + multiScattering;
	vec3 diffuse = material.diffuseColor * ( 1.0 - max( max( totalScattering.r, totalScattering.g ), totalScattering.b ) );
	reflectedLight.indirectSpecular += radiance * singleScattering;
	reflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;
	reflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;
}
#define RE_Direct				RE_Direct_Physical
#define RE_Direct_RectArea		RE_Direct_RectArea_Physical
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Physical
#define RE_IndirectSpecular		RE_IndirectSpecular_Physical
float computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {
	return saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );
}`,nZ=`
vec3 geometryPosition = - vViewPosition;
vec3 geometryNormal = normal;
vec3 geometryViewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );
vec3 geometryClearcoatNormal = vec3( 0.0 );
#ifdef USE_CLEARCOAT
	geometryClearcoatNormal = clearcoatNormal;
#endif
#ifdef USE_IRIDESCENCE
	float dotNVi = saturate( dot( normal, geometryViewDir ) );
	if ( material.iridescenceThickness == 0.0 ) {
		material.iridescence = 0.0;
	} else {
		material.iridescence = saturate( material.iridescence );
	}
	if ( material.iridescence > 0.0 ) {
		material.iridescenceFresnel = evalIridescence( 1.0, material.iridescenceIOR, dotNVi, material.iridescenceThickness, material.specularColor );
		material.iridescenceF0 = Schlick_to_F0( material.iridescenceFresnel, 1.0, dotNVi );
	}
#endif
IncidentLight directLight;
#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )
	PointLight pointLight;
	#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {
		pointLight = pointLights[ i ];
		getPointLightInfo( pointLight, geometryPosition, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )
		pointLightShadow = pointLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowIntensity, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )
	SpotLight spotLight;
	vec4 spotColor;
	vec3 spotLightCoord;
	bool inSpotLightMap;
	#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {
		spotLight = spotLights[ i ];
		getSpotLightInfo( spotLight, geometryPosition, directLight );
		#if ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#define SPOT_LIGHT_MAP_INDEX UNROLLED_LOOP_INDEX
		#elif ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		#define SPOT_LIGHT_MAP_INDEX NUM_SPOT_LIGHT_MAPS
		#else
		#define SPOT_LIGHT_MAP_INDEX ( UNROLLED_LOOP_INDEX - NUM_SPOT_LIGHT_SHADOWS + NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#endif
		#if ( SPOT_LIGHT_MAP_INDEX < NUM_SPOT_LIGHT_MAPS )
			spotLightCoord = vSpotLightCoord[ i ].xyz / vSpotLightCoord[ i ].w;
			inSpotLightMap = all( lessThan( abs( spotLightCoord * 2. - 1. ), vec3( 1.0 ) ) );
			spotColor = texture2D( spotLightMap[ SPOT_LIGHT_MAP_INDEX ], spotLightCoord.xy );
			directLight.color = inSpotLightMap ? directLight.color * spotColor.rgb : directLight.color;
		#endif
		#undef SPOT_LIGHT_MAP_INDEX
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		spotLightShadow = spotLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowIntensity, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )
	DirectionalLight directionalLight;
	#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {
		directionalLight = directionalLights[ i ];
		getDirectionalLightInfo( directionalLight, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )
		directionalLightShadow = directionalLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowIntensity, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )
	RectAreaLight rectAreaLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {
		rectAreaLight = rectAreaLights[ i ];
		RE_Direct_RectArea( rectAreaLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if defined( RE_IndirectDiffuse )
	vec3 iblIrradiance = vec3( 0.0 );
	vec3 irradiance = getAmbientLightIrradiance( ambientLightColor );
	#if defined( USE_LIGHT_PROBES )
		irradiance += getLightProbeIrradiance( lightProbe, geometryNormal );
	#endif
	#if ( NUM_HEMI_LIGHTS > 0 )
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {
			irradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometryNormal );
		}
		#pragma unroll_loop_end
	#endif
#endif
#if defined( RE_IndirectSpecular )
	vec3 radiance = vec3( 0.0 );
	vec3 clearcoatRadiance = vec3( 0.0 );
#endif`,iZ=`#if defined( RE_IndirectDiffuse )
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
		irradiance += lightMapIrradiance;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )
		iblIrradiance += getIBLIrradiance( geometryNormal );
	#endif
#endif
#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )
	#ifdef USE_ANISOTROPY
		radiance += getIBLAnisotropyRadiance( geometryViewDir, geometryNormal, material.roughness, material.anisotropyB, material.anisotropy );
	#else
		radiance += getIBLRadiance( geometryViewDir, geometryNormal, material.roughness );
	#endif
	#ifdef USE_CLEARCOAT
		clearcoatRadiance += getIBLRadiance( geometryViewDir, geometryClearcoatNormal, material.clearcoatRoughness );
	#endif
#endif`,rZ=`#if defined( RE_IndirectDiffuse )
	RE_IndirectDiffuse( irradiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
#endif
#if defined( RE_IndirectSpecular )
	RE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
#endif`,aZ=`#if defined( USE_LOGDEPTHBUF )
	gl_FragDepth = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;
#endif`,sZ=`#if defined( USE_LOGDEPTHBUF )
	uniform float logDepthBufFC;
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,oZ=`#ifdef USE_LOGDEPTHBUF
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,lZ=`#ifdef USE_LOGDEPTHBUF
	vFragDepth = 1.0 + gl_Position.w;
	vIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );
#endif`,cZ=`#ifdef USE_MAP
	vec4 sampledDiffuseColor = texture2D( map, vMapUv );
	#ifdef DECODE_VIDEO_TEXTURE
		sampledDiffuseColor = sRGBTransferEOTF( sampledDiffuseColor );
	#endif
	diffuseColor *= sampledDiffuseColor;
#endif`,uZ=`#ifdef USE_MAP
	uniform sampler2D map;
#endif`,fZ=`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	#if defined( USE_POINTS_UV )
		vec2 uv = vUv;
	#else
		vec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;
	#endif
#endif
#ifdef USE_MAP
	diffuseColor *= texture2D( map, uv );
#endif
#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, uv ).g;
#endif`,hZ=`#if defined( USE_POINTS_UV )
	varying vec2 vUv;
#else
	#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
		uniform mat3 uvTransform;
	#endif
#endif
#ifdef USE_MAP
	uniform sampler2D map;
#endif
#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,dZ=`float metalnessFactor = metalness;
#ifdef USE_METALNESSMAP
	vec4 texelMetalness = texture2D( metalnessMap, vMetalnessMapUv );
	metalnessFactor *= texelMetalness.b;
#endif`,pZ=`#ifdef USE_METALNESSMAP
	uniform sampler2D metalnessMap;
#endif`,mZ=`#ifdef USE_INSTANCING_MORPH
	float morphTargetInfluences[ MORPHTARGETS_COUNT ];
	float morphTargetBaseInfluence = texelFetch( morphTexture, ivec2( 0, gl_InstanceID ), 0 ).r;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		morphTargetInfluences[i] =  texelFetch( morphTexture, ivec2( i + 1, gl_InstanceID ), 0 ).r;
	}
#endif`,gZ=`#if defined( USE_MORPHCOLORS )
	vColor *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		#if defined( USE_COLOR_ALPHA )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ) * morphTargetInfluences[ i ];
		#elif defined( USE_COLOR )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ).rgb * morphTargetInfluences[ i ];
		#endif
	}
#endif`,vZ=`#ifdef USE_MORPHNORMALS
	objectNormal *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		if ( morphTargetInfluences[ i ] != 0.0 ) objectNormal += getMorph( gl_VertexID, i, 1 ).xyz * morphTargetInfluences[ i ];
	}
#endif`,yZ=`#ifdef USE_MORPHTARGETS
	#ifndef USE_INSTANCING_MORPH
		uniform float morphTargetBaseInfluence;
		uniform float morphTargetInfluences[ MORPHTARGETS_COUNT ];
	#endif
	uniform sampler2DArray morphTargetsTexture;
	uniform ivec2 morphTargetsTextureSize;
	vec4 getMorph( const in int vertexIndex, const in int morphTargetIndex, const in int offset ) {
		int texelIndex = vertexIndex * MORPHTARGETS_TEXTURE_STRIDE + offset;
		int y = texelIndex / morphTargetsTextureSize.x;
		int x = texelIndex - y * morphTargetsTextureSize.x;
		ivec3 morphUV = ivec3( x, y, morphTargetIndex );
		return texelFetch( morphTargetsTexture, morphUV, 0 );
	}
#endif`,_Z=`#ifdef USE_MORPHTARGETS
	transformed *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		if ( morphTargetInfluences[ i ] != 0.0 ) transformed += getMorph( gl_VertexID, i, 0 ).xyz * morphTargetInfluences[ i ];
	}
#endif`,xZ=`float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;
#ifdef FLAT_SHADED
	vec3 fdx = dFdx( vViewPosition );
	vec3 fdy = dFdy( vViewPosition );
	vec3 normal = normalize( cross( fdx, fdy ) );
#else
	vec3 normal = normalize( vNormal );
	#ifdef DOUBLE_SIDED
		normal *= faceDirection;
	#endif
#endif
#if defined( USE_NORMALMAP_TANGENTSPACE ) || defined( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY )
	#ifdef USE_TANGENT
		mat3 tbn = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn = getTangentFrame( - vViewPosition, normal,
		#if defined( USE_NORMALMAP )
			vNormalMapUv
		#elif defined( USE_CLEARCOAT_NORMALMAP )
			vClearcoatNormalMapUv
		#else
			vUv
		#endif
		);
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn[0] *= faceDirection;
		tbn[1] *= faceDirection;
	#endif
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	#ifdef USE_TANGENT
		mat3 tbn2 = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn2 = getTangentFrame( - vViewPosition, normal, vClearcoatNormalMapUv );
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn2[0] *= faceDirection;
		tbn2[1] *= faceDirection;
	#endif
#endif
vec3 nonPerturbedNormal = normal;`,bZ=`#ifdef USE_NORMALMAP_OBJECTSPACE
	normal = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	#ifdef FLIP_SIDED
		normal = - normal;
	#endif
	#ifdef DOUBLE_SIDED
		normal = normal * faceDirection;
	#endif
	normal = normalize( normalMatrix * normal );
#elif defined( USE_NORMALMAP_TANGENTSPACE )
	vec3 mapN = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	mapN.xy *= normalScale;
	normal = normalize( tbn * mapN );
#elif defined( USE_BUMPMAP )
	normal = perturbNormalArb( - vViewPosition, normal, dHdxy_fwd(), faceDirection );
#endif`,SZ=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,wZ=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,EZ=`#ifndef FLAT_SHADED
	vNormal = normalize( transformedNormal );
	#ifdef USE_TANGENT
		vTangent = normalize( transformedTangent );
		vBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );
	#endif
#endif`,MZ=`#ifdef USE_NORMALMAP
	uniform sampler2D normalMap;
	uniform vec2 normalScale;
#endif
#ifdef USE_NORMALMAP_OBJECTSPACE
	uniform mat3 normalMatrix;
#endif
#if ! defined ( USE_TANGENT ) && ( defined ( USE_NORMALMAP_TANGENTSPACE ) || defined ( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY ) )
	mat3 getTangentFrame( vec3 eye_pos, vec3 surf_norm, vec2 uv ) {
		vec3 q0 = dFdx( eye_pos.xyz );
		vec3 q1 = dFdy( eye_pos.xyz );
		vec2 st0 = dFdx( uv.st );
		vec2 st1 = dFdy( uv.st );
		vec3 N = surf_norm;
		vec3 q1perp = cross( q1, N );
		vec3 q0perp = cross( N, q0 );
		vec3 T = q1perp * st0.x + q0perp * st1.x;
		vec3 B = q1perp * st0.y + q0perp * st1.y;
		float det = max( dot( T, T ), dot( B, B ) );
		float scale = ( det == 0.0 ) ? 0.0 : inversesqrt( det );
		return mat3( T * scale, B * scale, N );
	}
#endif`,TZ=`#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal = nonPerturbedNormal;
#endif`,AZ=`#ifdef USE_CLEARCOAT_NORMALMAP
	vec3 clearcoatMapN = texture2D( clearcoatNormalMap, vClearcoatNormalMapUv ).xyz * 2.0 - 1.0;
	clearcoatMapN.xy *= clearcoatNormalScale;
	clearcoatNormal = normalize( tbn2 * clearcoatMapN );
#endif`,CZ=`#ifdef USE_CLEARCOATMAP
	uniform sampler2D clearcoatMap;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform sampler2D clearcoatNormalMap;
	uniform vec2 clearcoatNormalScale;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform sampler2D clearcoatRoughnessMap;
#endif`,RZ=`#ifdef USE_IRIDESCENCEMAP
	uniform sampler2D iridescenceMap;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform sampler2D iridescenceThicknessMap;
#endif`,DZ=`#ifdef OPAQUE
diffuseColor.a = 1.0;
#endif
#ifdef USE_TRANSMISSION
diffuseColor.a *= material.transmissionAlpha;
#endif
gl_FragColor = vec4( outgoingLight, diffuseColor.a );`,OZ=`vec3 packNormalToRGB( const in vec3 normal ) {
	return normalize( normal ) * 0.5 + 0.5;
}
vec3 unpackRGBToNormal( const in vec3 rgb ) {
	return 2.0 * rgb.xyz - 1.0;
}
const float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;const float ShiftRight8 = 1. / 256.;
const float Inv255 = 1. / 255.;
const vec4 PackFactors = vec4( 1.0, 256.0, 256.0 * 256.0, 256.0 * 256.0 * 256.0 );
const vec2 UnpackFactors2 = vec2( UnpackDownscale, 1.0 / PackFactors.g );
const vec3 UnpackFactors3 = vec3( UnpackDownscale / PackFactors.rg, 1.0 / PackFactors.b );
const vec4 UnpackFactors4 = vec4( UnpackDownscale / PackFactors.rgb, 1.0 / PackFactors.a );
vec4 packDepthToRGBA( const in float v ) {
	if( v <= 0.0 )
		return vec4( 0., 0., 0., 0. );
	if( v >= 1.0 )
		return vec4( 1., 1., 1., 1. );
	float vuf;
	float af = modf( v * PackFactors.a, vuf );
	float bf = modf( vuf * ShiftRight8, vuf );
	float gf = modf( vuf * ShiftRight8, vuf );
	return vec4( vuf * Inv255, gf * PackUpscale, bf * PackUpscale, af );
}
vec3 packDepthToRGB( const in float v ) {
	if( v <= 0.0 )
		return vec3( 0., 0., 0. );
	if( v >= 1.0 )
		return vec3( 1., 1., 1. );
	float vuf;
	float bf = modf( v * PackFactors.b, vuf );
	float gf = modf( vuf * ShiftRight8, vuf );
	return vec3( vuf * Inv255, gf * PackUpscale, bf );
}
vec2 packDepthToRG( const in float v ) {
	if( v <= 0.0 )
		return vec2( 0., 0. );
	if( v >= 1.0 )
		return vec2( 1., 1. );
	float vuf;
	float gf = modf( v * 256., vuf );
	return vec2( vuf * Inv255, gf );
}
float unpackRGBAToDepth( const in vec4 v ) {
	return dot( v, UnpackFactors4 );
}
float unpackRGBToDepth( const in vec3 v ) {
	return dot( v, UnpackFactors3 );
}
float unpackRGToDepth( const in vec2 v ) {
	return v.r * UnpackFactors2.r + v.g * UnpackFactors2.g;
}
vec4 pack2HalfToRGBA( const in vec2 v ) {
	vec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ) );
	return vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w );
}
vec2 unpackRGBATo2Half( const in vec4 v ) {
	return vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );
}
float viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {
	return ( viewZ + near ) / ( near - far );
}
float orthographicDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return depth * ( near - far ) - near;
}
float viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {
	return ( ( near + viewZ ) * far ) / ( ( far - near ) * viewZ );
}
float perspectiveDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return ( near * far ) / ( ( far - near ) * depth - far );
}`,NZ=`#ifdef PREMULTIPLIED_ALPHA
	gl_FragColor.rgb *= gl_FragColor.a;
#endif`,PZ=`vec4 mvPosition = vec4( transformed, 1.0 );
#ifdef USE_BATCHING
	mvPosition = batchingMatrix * mvPosition;
#endif
#ifdef USE_INSTANCING
	mvPosition = instanceMatrix * mvPosition;
#endif
mvPosition = modelViewMatrix * mvPosition;
gl_Position = projectionMatrix * mvPosition;`,LZ=`#ifdef DITHERING
	gl_FragColor.rgb = dithering( gl_FragColor.rgb );
#endif`,UZ=`#ifdef DITHERING
	vec3 dithering( vec3 color ) {
		float grid_position = rand( gl_FragCoord.xy );
		vec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );
		dither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );
		return color + dither_shift_RGB;
	}
#endif`,IZ=`float roughnessFactor = roughness;
#ifdef USE_ROUGHNESSMAP
	vec4 texelRoughness = texture2D( roughnessMap, vRoughnessMapUv );
	roughnessFactor *= texelRoughness.g;
#endif`,BZ=`#ifdef USE_ROUGHNESSMAP
	uniform sampler2D roughnessMap;
#endif`,zZ=`#if NUM_SPOT_LIGHT_COORDS > 0
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#if NUM_SPOT_LIGHT_MAPS > 0
	uniform sampler2D spotLightMap[ NUM_SPOT_LIGHT_MAPS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		uniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];
		struct SpotLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
	float texture2DCompare( sampler2D depths, vec2 uv, float compare ) {
		float depth = unpackRGBAToDepth( texture2D( depths, uv ) );
		#ifdef USE_REVERSEDEPTHBUF
			return step( depth, compare );
		#else
			return step( compare, depth );
		#endif
	}
	vec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {
		return unpackRGBATo2Half( texture2D( shadow, uv ) );
	}
	float VSMShadow (sampler2D shadow, vec2 uv, float compare ){
		float occlusion = 1.0;
		vec2 distribution = texture2DDistribution( shadow, uv );
		#ifdef USE_REVERSEDEPTHBUF
			float hard_shadow = step( distribution.x, compare );
		#else
			float hard_shadow = step( compare , distribution.x );
		#endif
		if (hard_shadow != 1.0 ) {
			float distance = compare - distribution.x ;
			float variance = max( 0.00000, distribution.y * distribution.y );
			float softness_probability = variance / (variance + distance * distance );			softness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );			occlusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );
		}
		return occlusion;
	}
	float getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowIntensity, float shadowBias, float shadowRadius, vec4 shadowCoord ) {
		float shadow = 1.0;
		shadowCoord.xyz /= shadowCoord.w;
		shadowCoord.z += shadowBias;
		bool inFrustum = shadowCoord.x >= 0.0 && shadowCoord.x <= 1.0 && shadowCoord.y >= 0.0 && shadowCoord.y <= 1.0;
		bool frustumTest = inFrustum && shadowCoord.z <= 1.0;
		if ( frustumTest ) {
		#if defined( SHADOWMAP_TYPE_PCF )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx0 = - texelSize.x * shadowRadius;
			float dy0 = - texelSize.y * shadowRadius;
			float dx1 = + texelSize.x * shadowRadius;
			float dy1 = + texelSize.y * shadowRadius;
			float dx2 = dx0 / 2.0;
			float dy2 = dy0 / 2.0;
			float dx3 = dx1 / 2.0;
			float dy3 = dy1 / 2.0;
			shadow = (
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )
			) * ( 1.0 / 17.0 );
		#elif defined( SHADOWMAP_TYPE_PCF_SOFT )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx = texelSize.x;
			float dy = texelSize.y;
			vec2 uv = shadowCoord.xy;
			vec2 f = fract( uv * shadowMapSize + 0.5 );
			uv -= f * texelSize;
			shadow = (
				texture2DCompare( shadowMap, uv, shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),
						  f.x ),
					 mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),
						  f.x ),
					 f.y )
			) * ( 1.0 / 9.0 );
		#elif defined( SHADOWMAP_TYPE_VSM )
			shadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );
		#else
			shadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );
		#endif
		}
		return mix( 1.0, shadow, shadowIntensity );
	}
	vec2 cubeToUV( vec3 v, float texelSizeY ) {
		vec3 absV = abs( v );
		float scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );
		absV *= scaleToCube;
		v *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );
		vec2 planar = v.xy;
		float almostATexel = 1.5 * texelSizeY;
		float almostOne = 1.0 - almostATexel;
		if ( absV.z >= almostOne ) {
			if ( v.z > 0.0 )
				planar.x = 4.0 - v.x;
		} else if ( absV.x >= almostOne ) {
			float signX = sign( v.x );
			planar.x = v.z * signX + 2.0 * signX;
		} else if ( absV.y >= almostOne ) {
			float signY = sign( v.y );
			planar.x = v.x + 2.0 * signY + 2.0;
			planar.y = v.z * signY - 2.0;
		}
		return vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );
	}
	float getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowIntensity, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {
		float shadow = 1.0;
		vec3 lightToPosition = shadowCoord.xyz;
		
		float lightToPositionLength = length( lightToPosition );
		if ( lightToPositionLength - shadowCameraFar <= 0.0 && lightToPositionLength - shadowCameraNear >= 0.0 ) {
			float dp = ( lightToPositionLength - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );			dp += shadowBias;
			vec3 bd3D = normalize( lightToPosition );
			vec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );
			#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )
				vec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;
				shadow = (
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )
				) * ( 1.0 / 9.0 );
			#else
				shadow = texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );
			#endif
		}
		return mix( 1.0, shadow, shadowIntensity );
	}
#endif`,kZ=`#if NUM_SPOT_LIGHT_COORDS > 0
	uniform mat4 spotLightMatrix[ NUM_SPOT_LIGHT_COORDS ];
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		struct SpotLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
#endif`,FZ=`#if ( defined( USE_SHADOWMAP ) && ( NUM_DIR_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0 ) ) || ( NUM_SPOT_LIGHT_COORDS > 0 )
	vec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
	vec4 shadowWorldPosition;
#endif
#if defined( USE_SHADOWMAP )
	#if NUM_DIR_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );
			vDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );
			vPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
#endif
#if NUM_SPOT_LIGHT_COORDS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_COORDS; i ++ ) {
		shadowWorldPosition = worldPosition;
		#if ( defined( USE_SHADOWMAP ) && UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
			shadowWorldPosition.xyz += shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias;
		#endif
		vSpotLightCoord[ i ] = spotLightMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
#endif`,HZ=`float getShadowMask() {
	float shadow = 1.0;
	#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
		directionalLight = directionalLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowIntensity, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {
		spotLight = spotLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowIntensity, spotLight.shadowBias, spotLight.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
		pointLight = pointLightShadows[ i ];
		shadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowIntensity, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#endif
	return shadow;
}`,VZ=`#ifdef USE_SKINNING
	mat4 boneMatX = getBoneMatrix( skinIndex.x );
	mat4 boneMatY = getBoneMatrix( skinIndex.y );
	mat4 boneMatZ = getBoneMatrix( skinIndex.z );
	mat4 boneMatW = getBoneMatrix( skinIndex.w );
#endif`,jZ=`#ifdef USE_SKINNING
	uniform mat4 bindMatrix;
	uniform mat4 bindMatrixInverse;
	uniform highp sampler2D boneTexture;
	mat4 getBoneMatrix( const in float i ) {
		int size = textureSize( boneTexture, 0 ).x;
		int j = int( i ) * 4;
		int x = j % size;
		int y = j / size;
		vec4 v1 = texelFetch( boneTexture, ivec2( x, y ), 0 );
		vec4 v2 = texelFetch( boneTexture, ivec2( x + 1, y ), 0 );
		vec4 v3 = texelFetch( boneTexture, ivec2( x + 2, y ), 0 );
		vec4 v4 = texelFetch( boneTexture, ivec2( x + 3, y ), 0 );
		return mat4( v1, v2, v3, v4 );
	}
#endif`,GZ=`#ifdef USE_SKINNING
	vec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );
	vec4 skinned = vec4( 0.0 );
	skinned += boneMatX * skinVertex * skinWeight.x;
	skinned += boneMatY * skinVertex * skinWeight.y;
	skinned += boneMatZ * skinVertex * skinWeight.z;
	skinned += boneMatW * skinVertex * skinWeight.w;
	transformed = ( bindMatrixInverse * skinned ).xyz;
#endif`,WZ=`#ifdef USE_SKINNING
	mat4 skinMatrix = mat4( 0.0 );
	skinMatrix += skinWeight.x * boneMatX;
	skinMatrix += skinWeight.y * boneMatY;
	skinMatrix += skinWeight.z * boneMatZ;
	skinMatrix += skinWeight.w * boneMatW;
	skinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;
	objectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;
	#ifdef USE_TANGENT
		objectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#endif
#endif`,XZ=`float specularStrength;
#ifdef USE_SPECULARMAP
	vec4 texelSpecular = texture2D( specularMap, vSpecularMapUv );
	specularStrength = texelSpecular.r;
#else
	specularStrength = 1.0;
#endif`,qZ=`#ifdef USE_SPECULARMAP
	uniform sampler2D specularMap;
#endif`,YZ=`#if defined( TONE_MAPPING )
	gl_FragColor.rgb = toneMapping( gl_FragColor.rgb );
#endif`,ZZ=`#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
uniform float toneMappingExposure;
vec3 LinearToneMapping( vec3 color ) {
	return saturate( toneMappingExposure * color );
}
vec3 ReinhardToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	return saturate( color / ( vec3( 1.0 ) + color ) );
}
vec3 CineonToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	color = max( vec3( 0.0 ), color - 0.004 );
	return pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );
}
vec3 RRTAndODTFit( vec3 v ) {
	vec3 a = v * ( v + 0.0245786 ) - 0.000090537;
	vec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;
	return a / b;
}
vec3 ACESFilmicToneMapping( vec3 color ) {
	const mat3 ACESInputMat = mat3(
		vec3( 0.59719, 0.07600, 0.02840 ),		vec3( 0.35458, 0.90834, 0.13383 ),
		vec3( 0.04823, 0.01566, 0.83777 )
	);
	const mat3 ACESOutputMat = mat3(
		vec3(  1.60475, -0.10208, -0.00327 ),		vec3( -0.53108,  1.10813, -0.07276 ),
		vec3( -0.07367, -0.00605,  1.07602 )
	);
	color *= toneMappingExposure / 0.6;
	color = ACESInputMat * color;
	color = RRTAndODTFit( color );
	color = ACESOutputMat * color;
	return saturate( color );
}
const mat3 LINEAR_REC2020_TO_LINEAR_SRGB = mat3(
	vec3( 1.6605, - 0.1246, - 0.0182 ),
	vec3( - 0.5876, 1.1329, - 0.1006 ),
	vec3( - 0.0728, - 0.0083, 1.1187 )
);
const mat3 LINEAR_SRGB_TO_LINEAR_REC2020 = mat3(
	vec3( 0.6274, 0.0691, 0.0164 ),
	vec3( 0.3293, 0.9195, 0.0880 ),
	vec3( 0.0433, 0.0113, 0.8956 )
);
vec3 agxDefaultContrastApprox( vec3 x ) {
	vec3 x2 = x * x;
	vec3 x4 = x2 * x2;
	return + 15.5 * x4 * x2
		- 40.14 * x4 * x
		+ 31.96 * x4
		- 6.868 * x2 * x
		+ 0.4298 * x2
		+ 0.1191 * x
		- 0.00232;
}
vec3 AgXToneMapping( vec3 color ) {
	const mat3 AgXInsetMatrix = mat3(
		vec3( 0.856627153315983, 0.137318972929847, 0.11189821299995 ),
		vec3( 0.0951212405381588, 0.761241990602591, 0.0767994186031903 ),
		vec3( 0.0482516061458583, 0.101439036467562, 0.811302368396859 )
	);
	const mat3 AgXOutsetMatrix = mat3(
		vec3( 1.1271005818144368, - 0.1413297634984383, - 0.14132976349843826 ),
		vec3( - 0.11060664309660323, 1.157823702216272, - 0.11060664309660294 ),
		vec3( - 0.016493938717834573, - 0.016493938717834257, 1.2519364065950405 )
	);
	const float AgxMinEv = - 12.47393;	const float AgxMaxEv = 4.026069;
	color *= toneMappingExposure;
	color = LINEAR_SRGB_TO_LINEAR_REC2020 * color;
	color = AgXInsetMatrix * color;
	color = max( color, 1e-10 );	color = log2( color );
	color = ( color - AgxMinEv ) / ( AgxMaxEv - AgxMinEv );
	color = clamp( color, 0.0, 1.0 );
	color = agxDefaultContrastApprox( color );
	color = AgXOutsetMatrix * color;
	color = pow( max( vec3( 0.0 ), color ), vec3( 2.2 ) );
	color = LINEAR_REC2020_TO_LINEAR_SRGB * color;
	color = clamp( color, 0.0, 1.0 );
	return color;
}
vec3 NeutralToneMapping( vec3 color ) {
	const float StartCompression = 0.8 - 0.04;
	const float Desaturation = 0.15;
	color *= toneMappingExposure;
	float x = min( color.r, min( color.g, color.b ) );
	float offset = x < 0.08 ? x - 6.25 * x * x : 0.04;
	color -= offset;
	float peak = max( color.r, max( color.g, color.b ) );
	if ( peak < StartCompression ) return color;
	float d = 1. - StartCompression;
	float newPeak = 1. - d * d / ( peak + d - StartCompression );
	color *= newPeak / peak;
	float g = 1. - 1. / ( Desaturation * ( peak - newPeak ) + 1. );
	return mix( color, vec3( newPeak ), g );
}
vec3 CustomToneMapping( vec3 color ) { return color; }`,KZ=`#ifdef USE_TRANSMISSION
	material.transmission = transmission;
	material.transmissionAlpha = 1.0;
	material.thickness = thickness;
	material.attenuationDistance = attenuationDistance;
	material.attenuationColor = attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		material.transmission *= texture2D( transmissionMap, vTransmissionMapUv ).r;
	#endif
	#ifdef USE_THICKNESSMAP
		material.thickness *= texture2D( thicknessMap, vThicknessMapUv ).g;
	#endif
	vec3 pos = vWorldPosition;
	vec3 v = normalize( cameraPosition - pos );
	vec3 n = inverseTransformDirection( normal, viewMatrix );
	vec4 transmitted = getIBLVolumeRefraction(
		n, v, material.roughness, material.diffuseColor, material.specularColor, material.specularF90,
		pos, modelMatrix, viewMatrix, projectionMatrix, material.dispersion, material.ior, material.thickness,
		material.attenuationColor, material.attenuationDistance );
	material.transmissionAlpha = mix( material.transmissionAlpha, transmitted.a, material.transmission );
	totalDiffuse = mix( totalDiffuse, transmitted.rgb, material.transmission );
#endif`,$Z=`#ifdef USE_TRANSMISSION
	uniform float transmission;
	uniform float thickness;
	uniform float attenuationDistance;
	uniform vec3 attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		uniform sampler2D transmissionMap;
	#endif
	#ifdef USE_THICKNESSMAP
		uniform sampler2D thicknessMap;
	#endif
	uniform vec2 transmissionSamplerSize;
	uniform sampler2D transmissionSamplerMap;
	uniform mat4 modelMatrix;
	uniform mat4 projectionMatrix;
	varying vec3 vWorldPosition;
	float w0( float a ) {
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - a + 3.0 ) - 3.0 ) + 1.0 );
	}
	float w1( float a ) {
		return ( 1.0 / 6.0 ) * ( a *  a * ( 3.0 * a - 6.0 ) + 4.0 );
	}
	float w2( float a ){
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - 3.0 * a + 3.0 ) + 3.0 ) + 1.0 );
	}
	float w3( float a ) {
		return ( 1.0 / 6.0 ) * ( a * a * a );
	}
	float g0( float a ) {
		return w0( a ) + w1( a );
	}
	float g1( float a ) {
		return w2( a ) + w3( a );
	}
	float h0( float a ) {
		return - 1.0 + w1( a ) / ( w0( a ) + w1( a ) );
	}
	float h1( float a ) {
		return 1.0 + w3( a ) / ( w2( a ) + w3( a ) );
	}
	vec4 bicubic( sampler2D tex, vec2 uv, vec4 texelSize, float lod ) {
		uv = uv * texelSize.zw + 0.5;
		vec2 iuv = floor( uv );
		vec2 fuv = fract( uv );
		float g0x = g0( fuv.x );
		float g1x = g1( fuv.x );
		float h0x = h0( fuv.x );
		float h1x = h1( fuv.x );
		float h0y = h0( fuv.y );
		float h1y = h1( fuv.y );
		vec2 p0 = ( vec2( iuv.x + h0x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p1 = ( vec2( iuv.x + h1x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p2 = ( vec2( iuv.x + h0x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		vec2 p3 = ( vec2( iuv.x + h1x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		return g0( fuv.y ) * ( g0x * textureLod( tex, p0, lod ) + g1x * textureLod( tex, p1, lod ) ) +
			g1( fuv.y ) * ( g0x * textureLod( tex, p2, lod ) + g1x * textureLod( tex, p3, lod ) );
	}
	vec4 textureBicubic( sampler2D sampler, vec2 uv, float lod ) {
		vec2 fLodSize = vec2( textureSize( sampler, int( lod ) ) );
		vec2 cLodSize = vec2( textureSize( sampler, int( lod + 1.0 ) ) );
		vec2 fLodSizeInv = 1.0 / fLodSize;
		vec2 cLodSizeInv = 1.0 / cLodSize;
		vec4 fSample = bicubic( sampler, uv, vec4( fLodSizeInv, fLodSize ), floor( lod ) );
		vec4 cSample = bicubic( sampler, uv, vec4( cLodSizeInv, cLodSize ), ceil( lod ) );
		return mix( fSample, cSample, fract( lod ) );
	}
	vec3 getVolumeTransmissionRay( const in vec3 n, const in vec3 v, const in float thickness, const in float ior, const in mat4 modelMatrix ) {
		vec3 refractionVector = refract( - v, normalize( n ), 1.0 / ior );
		vec3 modelScale;
		modelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );
		modelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );
		modelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );
		return normalize( refractionVector ) * thickness * modelScale;
	}
	float applyIorToRoughness( const in float roughness, const in float ior ) {
		return roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );
	}
	vec4 getTransmissionSample( const in vec2 fragCoord, const in float roughness, const in float ior ) {
		float lod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );
		return textureBicubic( transmissionSamplerMap, fragCoord.xy, lod );
	}
	vec3 volumeAttenuation( const in float transmissionDistance, const in vec3 attenuationColor, const in float attenuationDistance ) {
		if ( isinf( attenuationDistance ) ) {
			return vec3( 1.0 );
		} else {
			vec3 attenuationCoefficient = -log( attenuationColor ) / attenuationDistance;
			vec3 transmittance = exp( - attenuationCoefficient * transmissionDistance );			return transmittance;
		}
	}
	vec4 getIBLVolumeRefraction( const in vec3 n, const in vec3 v, const in float roughness, const in vec3 diffuseColor,
		const in vec3 specularColor, const in float specularF90, const in vec3 position, const in mat4 modelMatrix,
		const in mat4 viewMatrix, const in mat4 projMatrix, const in float dispersion, const in float ior, const in float thickness,
		const in vec3 attenuationColor, const in float attenuationDistance ) {
		vec4 transmittedLight;
		vec3 transmittance;
		#ifdef USE_DISPERSION
			float halfSpread = ( ior - 1.0 ) * 0.025 * dispersion;
			vec3 iors = vec3( ior - halfSpread, ior, ior + halfSpread );
			for ( int i = 0; i < 3; i ++ ) {
				vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, iors[ i ], modelMatrix );
				vec3 refractedRayExit = position + transmissionRay;
				vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
				vec2 refractionCoords = ndcPos.xy / ndcPos.w;
				refractionCoords += 1.0;
				refractionCoords /= 2.0;
				vec4 transmissionSample = getTransmissionSample( refractionCoords, roughness, iors[ i ] );
				transmittedLight[ i ] = transmissionSample[ i ];
				transmittedLight.a += transmissionSample.a;
				transmittance[ i ] = diffuseColor[ i ] * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance )[ i ];
			}
			transmittedLight.a /= 3.0;
		#else
			vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );
			vec3 refractedRayExit = position + transmissionRay;
			vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
			vec2 refractionCoords = ndcPos.xy / ndcPos.w;
			refractionCoords += 1.0;
			refractionCoords /= 2.0;
			transmittedLight = getTransmissionSample( refractionCoords, roughness, ior );
			transmittance = diffuseColor * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance );
		#endif
		vec3 attenuatedColor = transmittance * transmittedLight.rgb;
		vec3 F = EnvironmentBRDF( n, v, specularColor, specularF90, roughness );
		float transmittanceFactor = ( transmittance.r + transmittance.g + transmittance.b ) / 3.0;
		return vec4( ( 1.0 - F ) * attenuatedColor, 1.0 - ( 1.0 - transmittedLight.a ) * transmittanceFactor );
	}
#endif`,JZ=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_SPECULARMAP
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,QZ=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	uniform mat3 mapTransform;
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	uniform mat3 alphaMapTransform;
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	uniform mat3 lightMapTransform;
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	uniform mat3 aoMapTransform;
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	uniform mat3 bumpMapTransform;
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	uniform mat3 normalMapTransform;
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_DISPLACEMENTMAP
	uniform mat3 displacementMapTransform;
	varying vec2 vDisplacementMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	uniform mat3 emissiveMapTransform;
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	uniform mat3 metalnessMapTransform;
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	uniform mat3 roughnessMapTransform;
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	uniform mat3 anisotropyMapTransform;
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	uniform mat3 clearcoatMapTransform;
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform mat3 clearcoatNormalMapTransform;
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform mat3 clearcoatRoughnessMapTransform;
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	uniform mat3 sheenColorMapTransform;
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	uniform mat3 sheenRoughnessMapTransform;
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	uniform mat3 iridescenceMapTransform;
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform mat3 iridescenceThicknessMapTransform;
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SPECULARMAP
	uniform mat3 specularMapTransform;
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	uniform mat3 specularColorMapTransform;
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	uniform mat3 specularIntensityMapTransform;
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,eK=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	vUv = vec3( uv, 1 ).xy;
#endif
#ifdef USE_MAP
	vMapUv = ( mapTransform * vec3( MAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ALPHAMAP
	vAlphaMapUv = ( alphaMapTransform * vec3( ALPHAMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_LIGHTMAP
	vLightMapUv = ( lightMapTransform * vec3( LIGHTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_AOMAP
	vAoMapUv = ( aoMapTransform * vec3( AOMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_BUMPMAP
	vBumpMapUv = ( bumpMapTransform * vec3( BUMPMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_NORMALMAP
	vNormalMapUv = ( normalMapTransform * vec3( NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_DISPLACEMENTMAP
	vDisplacementMapUv = ( displacementMapTransform * vec3( DISPLACEMENTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_EMISSIVEMAP
	vEmissiveMapUv = ( emissiveMapTransform * vec3( EMISSIVEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_METALNESSMAP
	vMetalnessMapUv = ( metalnessMapTransform * vec3( METALNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ROUGHNESSMAP
	vRoughnessMapUv = ( roughnessMapTransform * vec3( ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ANISOTROPYMAP
	vAnisotropyMapUv = ( anisotropyMapTransform * vec3( ANISOTROPYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOATMAP
	vClearcoatMapUv = ( clearcoatMapTransform * vec3( CLEARCOATMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	vClearcoatNormalMapUv = ( clearcoatNormalMapTransform * vec3( CLEARCOAT_NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	vClearcoatRoughnessMapUv = ( clearcoatRoughnessMapTransform * vec3( CLEARCOAT_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCEMAP
	vIridescenceMapUv = ( iridescenceMapTransform * vec3( IRIDESCENCEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	vIridescenceThicknessMapUv = ( iridescenceThicknessMapTransform * vec3( IRIDESCENCE_THICKNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_COLORMAP
	vSheenColorMapUv = ( sheenColorMapTransform * vec3( SHEEN_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	vSheenRoughnessMapUv = ( sheenRoughnessMapTransform * vec3( SHEEN_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULARMAP
	vSpecularMapUv = ( specularMapTransform * vec3( SPECULARMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_COLORMAP
	vSpecularColorMapUv = ( specularColorMapTransform * vec3( SPECULAR_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	vSpecularIntensityMapUv = ( specularIntensityMapTransform * vec3( SPECULAR_INTENSITYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_TRANSMISSIONMAP
	vTransmissionMapUv = ( transmissionMapTransform * vec3( TRANSMISSIONMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_THICKNESSMAP
	vThicknessMapUv = ( thicknessMapTransform * vec3( THICKNESSMAP_UV, 1 ) ).xy;
#endif`,tK=`#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION ) || NUM_SPOT_LIGHT_COORDS > 0
	vec4 worldPosition = vec4( transformed, 1.0 );
	#ifdef USE_BATCHING
		worldPosition = batchingMatrix * worldPosition;
	#endif
	#ifdef USE_INSTANCING
		worldPosition = instanceMatrix * worldPosition;
	#endif
	worldPosition = modelMatrix * worldPosition;
#endif`;const nK=`varying vec2 vUv;
uniform mat3 uvTransform;
void main() {
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	gl_Position = vec4( position.xy, 1.0, 1.0 );
}`,iK=`uniform sampler2D t2D;
uniform float backgroundIntensity;
varying vec2 vUv;
void main() {
	vec4 texColor = texture2D( t2D, vUv );
	#ifdef DECODE_VIDEO_TEXTURE
		texColor = vec4( mix( pow( texColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), texColor.rgb * 0.0773993808, vec3( lessThanEqual( texColor.rgb, vec3( 0.04045 ) ) ) ), texColor.w );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,rK=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,aK=`#ifdef ENVMAP_TYPE_CUBE
	uniform samplerCube envMap;
#elif defined( ENVMAP_TYPE_CUBE_UV )
	uniform sampler2D envMap;
#endif
uniform float flipEnvMap;
uniform float backgroundBlurriness;
uniform float backgroundIntensity;
uniform mat3 backgroundRotation;
varying vec3 vWorldDirection;
#include <cube_uv_reflection_fragment>
void main() {
	#ifdef ENVMAP_TYPE_CUBE
		vec4 texColor = textureCube( envMap, backgroundRotation * vec3( flipEnvMap * vWorldDirection.x, vWorldDirection.yz ) );
	#elif defined( ENVMAP_TYPE_CUBE_UV )
		vec4 texColor = textureCubeUV( envMap, backgroundRotation * vWorldDirection, backgroundBlurriness );
	#else
		vec4 texColor = vec4( 0.0, 0.0, 0.0, 1.0 );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,sK=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,oK=`uniform samplerCube tCube;
uniform float tFlip;
uniform float opacity;
varying vec3 vWorldDirection;
void main() {
	vec4 texColor = textureCube( tCube, vec3( tFlip * vWorldDirection.x, vWorldDirection.yz ) );
	gl_FragColor = texColor;
	gl_FragColor.a *= opacity;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,lK=`#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
varying vec2 vHighPrecisionZW;
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <skinbase_vertex>
	#include <morphinstance_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vHighPrecisionZW = gl_Position.zw;
}`,cK=`#if DEPTH_PACKING == 3200
	uniform float opacity;
#endif
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
varying vec2 vHighPrecisionZW;
void main() {
	vec4 diffuseColor = vec4( 1.0 );
	#include <clipping_planes_fragment>
	#if DEPTH_PACKING == 3200
		diffuseColor.a = opacity;
	#endif
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <logdepthbuf_fragment>
	#ifdef USE_REVERSEDEPTHBUF
		float fragCoordZ = vHighPrecisionZW[ 0 ] / vHighPrecisionZW[ 1 ];
	#else
		float fragCoordZ = 0.5 * vHighPrecisionZW[ 0 ] / vHighPrecisionZW[ 1 ] + 0.5;
	#endif
	#if DEPTH_PACKING == 3200
		gl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );
	#elif DEPTH_PACKING == 3201
		gl_FragColor = packDepthToRGBA( fragCoordZ );
	#elif DEPTH_PACKING == 3202
		gl_FragColor = vec4( packDepthToRGB( fragCoordZ ), 1.0 );
	#elif DEPTH_PACKING == 3203
		gl_FragColor = vec4( packDepthToRG( fragCoordZ ), 0.0, 1.0 );
	#endif
}`,uK=`#define DISTANCE
varying vec3 vWorldPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <skinbase_vertex>
	#include <morphinstance_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <clipping_planes_vertex>
	vWorldPosition = worldPosition.xyz;
}`,fK=`#define DISTANCE
uniform vec3 referencePosition;
uniform float nearDistance;
uniform float farDistance;
varying vec3 vWorldPosition;
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <clipping_planes_pars_fragment>
void main () {
	vec4 diffuseColor = vec4( 1.0 );
	#include <clipping_planes_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	float dist = length( vWorldPosition - referencePosition );
	dist = ( dist - nearDistance ) / ( farDistance - nearDistance );
	dist = saturate( dist );
	gl_FragColor = packDepthToRGBA( dist );
}`,hK=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
}`,dK=`uniform sampler2D tEquirect;
varying vec3 vWorldDirection;
#include <common>
void main() {
	vec3 direction = normalize( vWorldDirection );
	vec2 sampleUV = equirectUv( direction );
	gl_FragColor = texture2D( tEquirect, sampleUV );
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,pK=`uniform float scale;
attribute float lineDistance;
varying float vLineDistance;
#include <common>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	vLineDistance = scale * lineDistance;
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,mK=`uniform vec3 diffuse;
uniform float opacity;
uniform float dashSize;
uniform float totalSize;
varying float vLineDistance;
#include <common>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	if ( mod( vLineDistance, totalSize ) > dashSize ) {
		discard;
	}
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,gK=`#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#if defined ( USE_ENVMAP ) || defined ( USE_SKINNING )
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinbase_vertex>
		#include <skinnormal_vertex>
		#include <defaultnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <fog_vertex>
}`,vK=`uniform vec3 diffuse;
uniform float opacity;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		reflectedLight.indirectDiffuse += lightMapTexel.rgb * lightMapIntensity * RECIPROCAL_PI;
	#else
		reflectedLight.indirectDiffuse += vec3( 1.0 );
	#endif
	#include <aomap_fragment>
	reflectedLight.indirectDiffuse *= diffuseColor.rgb;
	vec3 outgoingLight = reflectedLight.indirectDiffuse;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,yK=`#define LAMBERT
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,_K=`#define LAMBERT
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_lambert_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_lambert_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,xK=`#define MATCAP
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <displacementmap_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
	vViewPosition = - mvPosition.xyz;
}`,bK=`#define MATCAP
uniform vec3 diffuse;
uniform float opacity;
uniform sampler2D matcap;
varying vec3 vViewPosition;
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	vec3 viewDir = normalize( vViewPosition );
	vec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );
	vec3 y = cross( viewDir, x );
	vec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;
	#ifdef USE_MATCAP
		vec4 matcapColor = texture2D( matcap, uv );
	#else
		vec4 matcapColor = vec4( vec3( mix( 0.2, 0.8, uv.y ) ), 1.0 );
	#endif
	vec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,SK=`#define NORMAL
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	vViewPosition = - mvPosition.xyz;
#endif
}`,wK=`#define NORMAL
uniform float opacity;
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <packing>
#include <uv_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( 0.0, 0.0, 0.0, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	gl_FragColor = vec4( packNormalToRGB( normal ), diffuseColor.a );
	#ifdef OPAQUE
		gl_FragColor.a = 1.0;
	#endif
}`,EK=`#define PHONG
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,MK=`#define PHONG
uniform vec3 diffuse;
uniform vec3 emissive;
uniform vec3 specular;
uniform float shininess;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_phong_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_phong_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,TK=`#define STANDARD
varying vec3 vViewPosition;
#ifdef USE_TRANSMISSION
	varying vec3 vWorldPosition;
#endif
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
#ifdef USE_TRANSMISSION
	vWorldPosition = worldPosition.xyz;
#endif
}`,AK=`#define STANDARD
#ifdef PHYSICAL
	#define IOR
	#define USE_SPECULAR
#endif
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float roughness;
uniform float metalness;
uniform float opacity;
#ifdef IOR
	uniform float ior;
#endif
#ifdef USE_SPECULAR
	uniform float specularIntensity;
	uniform vec3 specularColor;
	#ifdef USE_SPECULAR_COLORMAP
		uniform sampler2D specularColorMap;
	#endif
	#ifdef USE_SPECULAR_INTENSITYMAP
		uniform sampler2D specularIntensityMap;
	#endif
#endif
#ifdef USE_CLEARCOAT
	uniform float clearcoat;
	uniform float clearcoatRoughness;
#endif
#ifdef USE_DISPERSION
	uniform float dispersion;
#endif
#ifdef USE_IRIDESCENCE
	uniform float iridescence;
	uniform float iridescenceIOR;
	uniform float iridescenceThicknessMinimum;
	uniform float iridescenceThicknessMaximum;
#endif
#ifdef USE_SHEEN
	uniform vec3 sheenColor;
	uniform float sheenRoughness;
	#ifdef USE_SHEEN_COLORMAP
		uniform sampler2D sheenColorMap;
	#endif
	#ifdef USE_SHEEN_ROUGHNESSMAP
		uniform sampler2D sheenRoughnessMap;
	#endif
#endif
#ifdef USE_ANISOTROPY
	uniform vec2 anisotropyVector;
	#ifdef USE_ANISOTROPYMAP
		uniform sampler2D anisotropyMap;
	#endif
#endif
varying vec3 vViewPosition;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <iridescence_fragment>
#include <cube_uv_reflection_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_physical_pars_fragment>
#include <fog_pars_fragment>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_physical_pars_fragment>
#include <transmission_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <clearcoat_pars_fragment>
#include <iridescence_pars_fragment>
#include <roughnessmap_pars_fragment>
#include <metalnessmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <roughnessmap_fragment>
	#include <metalnessmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <clearcoat_normal_fragment_begin>
	#include <clearcoat_normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_physical_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 totalDiffuse = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;
	vec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;
	#include <transmission_fragment>
	vec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;
	#ifdef USE_SHEEN
		float sheenEnergyComp = 1.0 - 0.157 * max3( material.sheenColor );
		outgoingLight = outgoingLight * sheenEnergyComp + sheenSpecularDirect + sheenSpecularIndirect;
	#endif
	#ifdef USE_CLEARCOAT
		float dotNVcc = saturate( dot( geometryClearcoatNormal, geometryViewDir ) );
		vec3 Fcc = F_Schlick( material.clearcoatF0, material.clearcoatF90, dotNVcc );
		outgoingLight = outgoingLight * ( 1.0 - material.clearcoat * Fcc ) + ( clearcoatSpecularDirect + clearcoatSpecularIndirect ) * material.clearcoat;
	#endif
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,CK=`#define TOON
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,RK=`#define TOON
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <gradientmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_toon_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_toon_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,DK=`uniform float size;
uniform float scale;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
#ifdef USE_POINTS_UV
	varying vec2 vUv;
	uniform mat3 uvTransform;
#endif
void main() {
	#ifdef USE_POINTS_UV
		vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	#endif
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	gl_PointSize = size;
	#ifdef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );
	#endif
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <fog_vertex>
}`,OK=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <color_pars_fragment>
#include <map_particle_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_particle_fragment>
	#include <color_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,NK=`#include <common>
#include <batching_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <shadowmap_pars_vertex>
void main() {
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,PK=`uniform vec3 color;
uniform float opacity;
#include <common>
#include <packing>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <logdepthbuf_pars_fragment>
#include <shadowmap_pars_fragment>
#include <shadowmask_pars_fragment>
void main() {
	#include <logdepthbuf_fragment>
	gl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
}`,LK=`uniform float rotation;
uniform vec2 center;
#include <common>
#include <uv_pars_vertex>
#include <fog_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	vec4 mvPosition = modelViewMatrix[ 3 ];
	vec2 scale = vec2( length( modelMatrix[ 0 ].xyz ), length( modelMatrix[ 1 ].xyz ) );
	#ifndef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) scale *= - mvPosition.z;
	#endif
	vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;
	vec2 rotatedPosition;
	rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;
	rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;
	mvPosition.xy += rotatedPosition;
	gl_Position = projectionMatrix * mvPosition;
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,UK=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
}`,Ln={alphahash_fragment:iY,alphahash_pars_fragment:rY,alphamap_fragment:aY,alphamap_pars_fragment:sY,alphatest_fragment:oY,alphatest_pars_fragment:lY,aomap_fragment:cY,aomap_pars_fragment:uY,batching_pars_vertex:fY,batching_vertex:hY,begin_vertex:dY,beginnormal_vertex:pY,bsdfs:mY,iridescence_fragment:gY,bumpmap_pars_fragment:vY,clipping_planes_fragment:yY,clipping_planes_pars_fragment:_Y,clipping_planes_pars_vertex:xY,clipping_planes_vertex:bY,color_fragment:SY,color_pars_fragment:wY,color_pars_vertex:EY,color_vertex:MY,common:TY,cube_uv_reflection_fragment:AY,defaultnormal_vertex:CY,displacementmap_pars_vertex:RY,displacementmap_vertex:DY,emissivemap_fragment:OY,emissivemap_pars_fragment:NY,colorspace_fragment:PY,colorspace_pars_fragment:LY,envmap_fragment:UY,envmap_common_pars_fragment:IY,envmap_pars_fragment:BY,envmap_pars_vertex:zY,envmap_physical_pars_fragment:ZY,envmap_vertex:kY,fog_vertex:FY,fog_pars_vertex:HY,fog_fragment:VY,fog_pars_fragment:jY,gradientmap_pars_fragment:GY,lightmap_pars_fragment:WY,lights_lambert_fragment:XY,lights_lambert_pars_fragment:qY,lights_pars_begin:YY,lights_toon_fragment:KY,lights_toon_pars_fragment:$Y,lights_phong_fragment:JY,lights_phong_pars_fragment:QY,lights_physical_fragment:eZ,lights_physical_pars_fragment:tZ,lights_fragment_begin:nZ,lights_fragment_maps:iZ,lights_fragment_end:rZ,logdepthbuf_fragment:aZ,logdepthbuf_pars_fragment:sZ,logdepthbuf_pars_vertex:oZ,logdepthbuf_vertex:lZ,map_fragment:cZ,map_pars_fragment:uZ,map_particle_fragment:fZ,map_particle_pars_fragment:hZ,metalnessmap_fragment:dZ,metalnessmap_pars_fragment:pZ,morphinstance_vertex:mZ,morphcolor_vertex:gZ,morphnormal_vertex:vZ,morphtarget_pars_vertex:yZ,morphtarget_vertex:_Z,normal_fragment_begin:xZ,normal_fragment_maps:bZ,normal_pars_fragment:SZ,normal_pars_vertex:wZ,normal_vertex:EZ,normalmap_pars_fragment:MZ,clearcoat_normal_fragment_begin:TZ,clearcoat_normal_fragment_maps:AZ,clearcoat_pars_fragment:CZ,iridescence_pars_fragment:RZ,opaque_fragment:DZ,packing:OZ,premultiplied_alpha_fragment:NZ,project_vertex:PZ,dithering_fragment:LZ,dithering_pars_fragment:UZ,roughnessmap_fragment:IZ,roughnessmap_pars_fragment:BZ,shadowmap_pars_fragment:zZ,shadowmap_pars_vertex:kZ,shadowmap_vertex:FZ,shadowmask_pars_fragment:HZ,skinbase_vertex:VZ,skinning_pars_vertex:jZ,skinning_vertex:GZ,skinnormal_vertex:WZ,specularmap_fragment:XZ,specularmap_pars_fragment:qZ,tonemapping_fragment:YZ,tonemapping_pars_fragment:ZZ,transmission_fragment:KZ,transmission_pars_fragment:$Z,uv_pars_fragment:JZ,uv_pars_vertex:QZ,uv_vertex:eK,worldpos_vertex:tK,background_vert:nK,background_frag:iK,backgroundCube_vert:rK,backgroundCube_frag:aK,cube_vert:sK,cube_frag:oK,depth_vert:lK,depth_frag:cK,distanceRGBA_vert:uK,distanceRGBA_frag:fK,equirect_vert:hK,equirect_frag:dK,linedashed_vert:pK,linedashed_frag:mK,meshbasic_vert:gK,meshbasic_frag:vK,meshlambert_vert:yK,meshlambert_frag:_K,meshmatcap_vert:xK,meshmatcap_frag:bK,meshnormal_vert:SK,meshnormal_frag:wK,meshphong_vert:EK,meshphong_frag:MK,meshphysical_vert:TK,meshphysical_frag:AK,meshtoon_vert:CK,meshtoon_frag:RK,points_vert:DK,points_frag:OK,shadow_vert:NK,shadow_frag:PK,sprite_vert:LK,sprite_frag:UK},Pt={common:{diffuse:{value:new Vt(16777215)},opacity:{value:1},map:{value:null},mapTransform:{value:new Mn},alphaMap:{value:null},alphaMapTransform:{value:new Mn},alphaTest:{value:0}},specularmap:{specularMap:{value:null},specularMapTransform:{value:new Mn}},envmap:{envMap:{value:null},envMapRotation:{value:new Mn},flipEnvMap:{value:-1},reflectivity:{value:1},ior:{value:1.5},refractionRatio:{value:.98}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1},aoMapTransform:{value:new Mn}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1},lightMapTransform:{value:new Mn}},bumpmap:{bumpMap:{value:null},bumpMapTransform:{value:new Mn},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalMapTransform:{value:new Mn},normalScale:{value:new ut(1,1)}},displacementmap:{displacementMap:{value:null},displacementMapTransform:{value:new Mn},displacementScale:{value:1},displacementBias:{value:0}},emissivemap:{emissiveMap:{value:null},emissiveMapTransform:{value:new Mn}},metalnessmap:{metalnessMap:{value:null},metalnessMapTransform:{value:new Mn}},roughnessmap:{roughnessMap:{value:null},roughnessMapTransform:{value:new Mn}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new Vt(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotLightMap:{value:[]},spotShadowMap:{value:[]},spotLightMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new Vt(16777215)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},alphaMapTransform:{value:new Mn},alphaTest:{value:0},uvTransform:{value:new Mn}},sprite:{diffuse:{value:new Vt(16777215)},opacity:{value:1},center:{value:new ut(.5,.5)},rotation:{value:0},map:{value:null},mapTransform:{value:new Mn},alphaMap:{value:null},alphaMapTransform:{value:new Mn},alphaTest:{value:0}}},Pl={basic:{uniforms:ls([Pt.common,Pt.specularmap,Pt.envmap,Pt.aomap,Pt.lightmap,Pt.fog]),vertexShader:Ln.meshbasic_vert,fragmentShader:Ln.meshbasic_frag},lambert:{uniforms:ls([Pt.common,Pt.specularmap,Pt.envmap,Pt.aomap,Pt.lightmap,Pt.emissivemap,Pt.bumpmap,Pt.normalmap,Pt.displacementmap,Pt.fog,Pt.lights,{emissive:{value:new Vt(0)}}]),vertexShader:Ln.meshlambert_vert,fragmentShader:Ln.meshlambert_frag},phong:{uniforms:ls([Pt.common,Pt.specularmap,Pt.envmap,Pt.aomap,Pt.lightmap,Pt.emissivemap,Pt.bumpmap,Pt.normalmap,Pt.displacementmap,Pt.fog,Pt.lights,{emissive:{value:new Vt(0)},specular:{value:new Vt(1118481)},shininess:{value:30}}]),vertexShader:Ln.meshphong_vert,fragmentShader:Ln.meshphong_frag},standard:{uniforms:ls([Pt.common,Pt.envmap,Pt.aomap,Pt.lightmap,Pt.emissivemap,Pt.bumpmap,Pt.normalmap,Pt.displacementmap,Pt.roughnessmap,Pt.metalnessmap,Pt.fog,Pt.lights,{emissive:{value:new Vt(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:Ln.meshphysical_vert,fragmentShader:Ln.meshphysical_frag},toon:{uniforms:ls([Pt.common,Pt.aomap,Pt.lightmap,Pt.emissivemap,Pt.bumpmap,Pt.normalmap,Pt.displacementmap,Pt.gradientmap,Pt.fog,Pt.lights,{emissive:{value:new Vt(0)}}]),vertexShader:Ln.meshtoon_vert,fragmentShader:Ln.meshtoon_frag},matcap:{uniforms:ls([Pt.common,Pt.bumpmap,Pt.normalmap,Pt.displacementmap,Pt.fog,{matcap:{value:null}}]),vertexShader:Ln.meshmatcap_vert,fragmentShader:Ln.meshmatcap_frag},points:{uniforms:ls([Pt.points,Pt.fog]),vertexShader:Ln.points_vert,fragmentShader:Ln.points_frag},dashed:{uniforms:ls([Pt.common,Pt.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:Ln.linedashed_vert,fragmentShader:Ln.linedashed_frag},depth:{uniforms:ls([Pt.common,Pt.displacementmap]),vertexShader:Ln.depth_vert,fragmentShader:Ln.depth_frag},normal:{uniforms:ls([Pt.common,Pt.bumpmap,Pt.normalmap,Pt.displacementmap,{opacity:{value:1}}]),vertexShader:Ln.meshnormal_vert,fragmentShader:Ln.meshnormal_frag},sprite:{uniforms:ls([Pt.sprite,Pt.fog]),vertexShader:Ln.sprite_vert,fragmentShader:Ln.sprite_frag},background:{uniforms:{uvTransform:{value:new Mn},t2D:{value:null},backgroundIntensity:{value:1}},vertexShader:Ln.background_vert,fragmentShader:Ln.background_frag},backgroundCube:{uniforms:{envMap:{value:null},flipEnvMap:{value:-1},backgroundBlurriness:{value:0},backgroundIntensity:{value:1},backgroundRotation:{value:new Mn}},vertexShader:Ln.backgroundCube_vert,fragmentShader:Ln.backgroundCube_frag},cube:{uniforms:{tCube:{value:null},tFlip:{value:-1},opacity:{value:1}},vertexShader:Ln.cube_vert,fragmentShader:Ln.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:Ln.equirect_vert,fragmentShader:Ln.equirect_frag},distanceRGBA:{uniforms:ls([Pt.common,Pt.displacementmap,{referencePosition:{value:new le},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:Ln.distanceRGBA_vert,fragmentShader:Ln.distanceRGBA_frag},shadow:{uniforms:ls([Pt.lights,Pt.fog,{color:{value:new Vt(0)},opacity:{value:1}}]),vertexShader:Ln.shadow_vert,fragmentShader:Ln.shadow_frag}};Pl.physical={uniforms:ls([Pl.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatMapTransform:{value:new Mn},clearcoatNormalMap:{value:null},clearcoatNormalMapTransform:{value:new Mn},clearcoatNormalScale:{value:new ut(1,1)},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatRoughnessMapTransform:{value:new Mn},dispersion:{value:0},iridescence:{value:0},iridescenceMap:{value:null},iridescenceMapTransform:{value:new Mn},iridescenceIOR:{value:1.3},iridescenceThicknessMinimum:{value:100},iridescenceThicknessMaximum:{value:400},iridescenceThicknessMap:{value:null},iridescenceThicknessMapTransform:{value:new Mn},sheen:{value:0},sheenColor:{value:new Vt(0)},sheenColorMap:{value:null},sheenColorMapTransform:{value:new Mn},sheenRoughness:{value:1},sheenRoughnessMap:{value:null},sheenRoughnessMapTransform:{value:new Mn},transmission:{value:0},transmissionMap:{value:null},transmissionMapTransform:{value:new Mn},transmissionSamplerSize:{value:new ut},transmissionSamplerMap:{value:null},thickness:{value:0},thicknessMap:{value:null},thicknessMapTransform:{value:new Mn},attenuationDistance:{value:0},attenuationColor:{value:new Vt(0)},specularColor:{value:new Vt(1,1,1)},specularColorMap:{value:null},specularColorMapTransform:{value:new Mn},specularIntensity:{value:1},specularIntensityMap:{value:null},specularIntensityMapTransform:{value:new Mn},anisotropyVector:{value:new ut},anisotropyMap:{value:null},anisotropyMapTransform:{value:new Mn}}]),vertexShader:Ln.meshphysical_vert,fragmentShader:Ln.meshphysical_frag};const Kb={r:0,b:0,g:0},zd=new xo,IK=new gn;function BK(i,e,t,n,r,a,s){const l=new Vt(0);let u=a===!0?0:1,f,p,g=null,v=0,_=null;function S(C){let A=C.isScene===!0?C.background:null;return A&&A.isTexture&&(A=(C.backgroundBlurriness>0?t:e).get(A)),A}function w(C){let A=!1;const N=S(C);N===null?b(l,u):N&&N.isColor&&(b(N,1),A=!0);const L=i.xr.getEnvironmentBlendMode();L==="additive"?n.buffers.color.setClear(0,0,0,1,s):L==="alpha-blend"&&n.buffers.color.setClear(0,0,0,0,s),(i.autoClear||A)&&(n.buffers.depth.setTest(!0),n.buffers.depth.setMask(!0),n.buffers.color.setMask(!0),i.clear(i.autoClearColor,i.autoClearDepth,i.autoClearStencil))}function E(C,A){const N=S(A);N&&(N.isCubeTexture||N.mapping===Sg)?(p===void 0&&(p=new ar(new Op(1,1,1),new Ws({name:"BackgroundCubeMaterial",uniforms:cg(Pl.backgroundCube.uniforms),vertexShader:Pl.backgroundCube.vertexShader,fragmentShader:Pl.backgroundCube.fragmentShader,side:vs,depthTest:!1,depthWrite:!1,fog:!1,allowOverride:!1})),p.geometry.deleteAttribute("normal"),p.geometry.deleteAttribute("uv"),p.onBeforeRender=function(L,B,U){this.matrixWorld.copyPosition(U.matrixWorld)},Object.defineProperty(p.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),r.update(p)),zd.copy(A.backgroundRotation),zd.x*=-1,zd.y*=-1,zd.z*=-1,N.isCubeTexture&&N.isRenderTargetTexture===!1&&(zd.y*=-1,zd.z*=-1),p.material.uniforms.envMap.value=N,p.material.uniforms.flipEnvMap.value=N.isCubeTexture&&N.isRenderTargetTexture===!1?-1:1,p.material.uniforms.backgroundBlurriness.value=A.backgroundBlurriness,p.material.uniforms.backgroundIntensity.value=A.backgroundIntensity,p.material.uniforms.backgroundRotation.value.setFromMatrix4(IK.makeRotationFromEuler(zd)),p.material.toneMapped=Qn.getTransfer(N.colorSpace)!==bi,(g!==N||v!==N.version||_!==i.toneMapping)&&(p.material.needsUpdate=!0,g=N,v=N.version,_=i.toneMapping),p.layers.enableAll(),C.unshift(p,p.geometry,p.material,0,0,null)):N&&N.isTexture&&(f===void 0&&(f=new ar(new Ch(2,2),new Ws({name:"BackgroundMaterial",uniforms:cg(Pl.background.uniforms),vertexShader:Pl.background.vertexShader,fragmentShader:Pl.background.fragmentShader,side:ku,depthTest:!1,depthWrite:!1,fog:!1,allowOverride:!1})),f.geometry.deleteAttribute("normal"),Object.defineProperty(f.material,"map",{get:function(){return this.uniforms.t2D.value}}),r.update(f)),f.material.uniforms.t2D.value=N,f.material.uniforms.backgroundIntensity.value=A.backgroundIntensity,f.material.toneMapped=Qn.getTransfer(N.colorSpace)!==bi,N.matrixAutoUpdate===!0&&N.updateMatrix(),f.material.uniforms.uvTransform.value.copy(N.matrix),(g!==N||v!==N.version||_!==i.toneMapping)&&(f.material.needsUpdate=!0,g=N,v=N.version,_=i.toneMapping),f.layers.enableAll(),C.unshift(f,f.geometry,f.material,0,0,null))}function b(C,A){C.getRGB(Kb,EB(i)),n.buffers.color.setClear(Kb.r,Kb.g,Kb.b,A,s)}function R(){p!==void 0&&(p.geometry.dispose(),p.material.dispose(),p=void 0),f!==void 0&&(f.geometry.dispose(),f.material.dispose(),f=void 0)}return{getClearColor:function(){return l},setClearColor:function(C,A=1){l.set(C),u=A,b(l,u)},getClearAlpha:function(){return u},setClearAlpha:function(C){u=C,b(l,u)},render:w,addToRenderList:E,dispose:R}}function zK(i,e){const t=i.getParameter(i.MAX_VERTEX_ATTRIBS),n={},r=v(null);let a=r,s=!1;function l(z,X,te,se,ae){let ue=!1;const G=g(se,te,X);a!==G&&(a=G,f(a.object)),ue=_(z,se,te,ae),ue&&S(z,se,te,ae),ae!==null&&e.update(ae,i.ELEMENT_ARRAY_BUFFER),(ue||s)&&(s=!1,A(z,X,te,se),ae!==null&&i.bindBuffer(i.ELEMENT_ARRAY_BUFFER,e.get(ae).buffer))}function u(){return i.createVertexArray()}function f(z){return i.bindVertexArray(z)}function p(z){return i.deleteVertexArray(z)}function g(z,X,te){const se=te.wireframe===!0;let ae=n[z.id];ae===void 0&&(ae={},n[z.id]=ae);let ue=ae[X.id];ue===void 0&&(ue={},ae[X.id]=ue);let G=ue[se];return G===void 0&&(G=v(u()),ue[se]=G),G}function v(z){const X=[],te=[],se=[];for(let ae=0;ae<t;ae++)X[ae]=0,te[ae]=0,se[ae]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:X,enabledAttributes:te,attributeDivisors:se,object:z,attributes:{},index:null}}function _(z,X,te,se){const ae=a.attributes,ue=X.attributes;let G=0;const Y=te.getAttributes();for(const Q in Y)if(Y[Q].location>=0){const F=ae[Q];let fe=ue[Q];if(fe===void 0&&(Q==="instanceMatrix"&&z.instanceMatrix&&(fe=z.instanceMatrix),Q==="instanceColor"&&z.instanceColor&&(fe=z.instanceColor)),F===void 0||F.attribute!==fe||fe&&F.data!==fe.data)return!0;G++}return a.attributesNum!==G||a.index!==se}function S(z,X,te,se){const ae={},ue=X.attributes;let G=0;const Y=te.getAttributes();for(const Q in Y)if(Y[Q].location>=0){let F=ue[Q];F===void 0&&(Q==="instanceMatrix"&&z.instanceMatrix&&(F=z.instanceMatrix),Q==="instanceColor"&&z.instanceColor&&(F=z.instanceColor));const fe={};fe.attribute=F,F&&F.data&&(fe.data=F.data),ae[Q]=fe,G++}a.attributes=ae,a.attributesNum=G,a.index=se}function w(){const z=a.newAttributes;for(let X=0,te=z.length;X<te;X++)z[X]=0}function E(z){b(z,0)}function b(z,X){const te=a.newAttributes,se=a.enabledAttributes,ae=a.attributeDivisors;te[z]=1,se[z]===0&&(i.enableVertexAttribArray(z),se[z]=1),ae[z]!==X&&(i.vertexAttribDivisor(z,X),ae[z]=X)}function R(){const z=a.newAttributes,X=a.enabledAttributes;for(let te=0,se=X.length;te<se;te++)X[te]!==z[te]&&(i.disableVertexAttribArray(te),X[te]=0)}function C(z,X,te,se,ae,ue,G){G===!0?i.vertexAttribIPointer(z,X,te,ae,ue):i.vertexAttribPointer(z,X,te,se,ae,ue)}function A(z,X,te,se){w();const ae=se.attributes,ue=te.getAttributes(),G=X.defaultAttributeValues;for(const Y in ue){const Q=ue[Y];if(Q.location>=0){let ye=ae[Y];if(ye===void 0&&(Y==="instanceMatrix"&&z.instanceMatrix&&(ye=z.instanceMatrix),Y==="instanceColor"&&z.instanceColor&&(ye=z.instanceColor)),ye!==void 0){const F=ye.normalized,fe=ye.itemSize,Se=e.get(ye);if(Se===void 0)continue;const Ce=Se.buffer,ke=Se.type,we=Se.bytesPerElement,ee=ke===i.INT||ke===i.UNSIGNED_INT||ye.gpuType===Y_;if(ye.isInterleavedBufferAttribute){const ie=ye.data,_e=ie.stride,Be=ye.offset;if(ie.isInstancedInterleavedBuffer){for(let Ze=0;Ze<Q.locationSize;Ze++)b(Q.location+Ze,ie.meshPerAttribute);z.isInstancedMesh!==!0&&se._maxInstanceCount===void 0&&(se._maxInstanceCount=ie.meshPerAttribute*ie.count)}else for(let Ze=0;Ze<Q.locationSize;Ze++)E(Q.location+Ze);i.bindBuffer(i.ARRAY_BUFFER,Ce);for(let Ze=0;Ze<Q.locationSize;Ze++)C(Q.location+Ze,fe/Q.locationSize,ke,F,_e*we,(Be+fe/Q.locationSize*Ze)*we,ee)}else{if(ye.isInstancedBufferAttribute){for(let ie=0;ie<Q.locationSize;ie++)b(Q.location+ie,ye.meshPerAttribute);z.isInstancedMesh!==!0&&se._maxInstanceCount===void 0&&(se._maxInstanceCount=ye.meshPerAttribute*ye.count)}else for(let ie=0;ie<Q.locationSize;ie++)E(Q.location+ie);i.bindBuffer(i.ARRAY_BUFFER,Ce);for(let ie=0;ie<Q.locationSize;ie++)C(Q.location+ie,fe/Q.locationSize,ke,F,fe*we,fe/Q.locationSize*ie*we,ee)}}else if(G!==void 0){const F=G[Y];if(F!==void 0)switch(F.length){case 2:i.vertexAttrib2fv(Q.location,F);break;case 3:i.vertexAttrib3fv(Q.location,F);break;case 4:i.vertexAttrib4fv(Q.location,F);break;default:i.vertexAttrib1fv(Q.location,F)}}}}R()}function N(){U();for(const z in n){const X=n[z];for(const te in X){const se=X[te];for(const ae in se)p(se[ae].object),delete se[ae];delete X[te]}delete n[z]}}function L(z){if(n[z.id]===void 0)return;const X=n[z.id];for(const te in X){const se=X[te];for(const ae in se)p(se[ae].object),delete se[ae];delete X[te]}delete n[z.id]}function B(z){for(const X in n){const te=n[X];if(te[z.id]===void 0)continue;const se=te[z.id];for(const ae in se)p(se[ae].object),delete se[ae];delete te[z.id]}}function U(){P(),s=!0,a!==r&&(a=r,f(a.object))}function P(){r.geometry=null,r.program=null,r.wireframe=!1}return{setup:l,reset:U,resetDefaultState:P,dispose:N,releaseStatesOfGeometry:L,releaseStatesOfProgram:B,initAttributes:w,enableAttribute:E,disableUnusedAttributes:R}}function kK(i,e,t){let n;function r(f){n=f}function a(f,p){i.drawArrays(n,f,p),t.update(p,n,1)}function s(f,p,g){g!==0&&(i.drawArraysInstanced(n,f,p,g),t.update(p,n,g))}function l(f,p,g){if(g===0)return;e.get("WEBGL_multi_draw").multiDrawArraysWEBGL(n,f,0,p,0,g);let _=0;for(let S=0;S<g;S++)_+=p[S];t.update(_,n,1)}function u(f,p,g,v){if(g===0)return;const _=e.get("WEBGL_multi_draw");if(_===null)for(let S=0;S<f.length;S++)s(f[S],p[S],v[S]);else{_.multiDrawArraysInstancedWEBGL(n,f,0,p,0,v,0,g);let S=0;for(let w=0;w<g;w++)S+=p[w]*v[w];t.update(S,n,1)}}this.setMode=r,this.render=a,this.renderInstances=s,this.renderMultiDraw=l,this.renderMultiDrawInstances=u}function FK(i,e,t,n){let r;function a(){if(r!==void 0)return r;if(e.has("EXT_texture_filter_anisotropic")===!0){const B=e.get("EXT_texture_filter_anisotropic");r=i.getParameter(B.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else r=0;return r}function s(B){return!(B!==Sr&&n.convert(B)!==i.getParameter(i.IMPLEMENTATION_COLOR_READ_FORMAT))}function l(B){const U=B===aa&&(e.has("EXT_color_buffer_half_float")||e.has("EXT_color_buffer_float"));return!(B!==ys&&n.convert(B)!==i.getParameter(i.IMPLEMENTATION_COLOR_READ_TYPE)&&B!==rr&&!U)}function u(B){if(B==="highp"){if(i.getShaderPrecisionFormat(i.VERTEX_SHADER,i.HIGH_FLOAT).precision>0&&i.getShaderPrecisionFormat(i.FRAGMENT_SHADER,i.HIGH_FLOAT).precision>0)return"highp";B="mediump"}return B==="mediump"&&i.getShaderPrecisionFormat(i.VERTEX_SHADER,i.MEDIUM_FLOAT).precision>0&&i.getShaderPrecisionFormat(i.FRAGMENT_SHADER,i.MEDIUM_FLOAT).precision>0?"mediump":"lowp"}let f=t.precision!==void 0?t.precision:"highp";const p=u(f);p!==f&&(console.warn("THREE.WebGLRenderer:",f,"not supported, using",p,"instead."),f=p);const g=t.logarithmicDepthBuffer===!0,v=t.reversedDepthBuffer===!0&&e.has("EXT_clip_control"),_=i.getParameter(i.MAX_TEXTURE_IMAGE_UNITS),S=i.getParameter(i.MAX_VERTEX_TEXTURE_IMAGE_UNITS),w=i.getParameter(i.MAX_TEXTURE_SIZE),E=i.getParameter(i.MAX_CUBE_MAP_TEXTURE_SIZE),b=i.getParameter(i.MAX_VERTEX_ATTRIBS),R=i.getParameter(i.MAX_VERTEX_UNIFORM_VECTORS),C=i.getParameter(i.MAX_VARYING_VECTORS),A=i.getParameter(i.MAX_FRAGMENT_UNIFORM_VECTORS),N=S>0,L=i.getParameter(i.MAX_SAMPLES);return{isWebGL2:!0,getMaxAnisotropy:a,getMaxPrecision:u,textureFormatReadable:s,textureTypeReadable:l,precision:f,logarithmicDepthBuffer:g,reversedDepthBuffer:v,maxTextures:_,maxVertexTextures:S,maxTextureSize:w,maxCubemapSize:E,maxAttributes:b,maxVertexUniforms:R,maxVaryings:C,maxFragmentUniforms:A,vertexTextures:N,maxSamples:L}}function HK(i){const e=this;let t=null,n=0,r=!1,a=!1;const s=new Jf,l=new Mn,u={value:null,needsUpdate:!1};this.uniform=u,this.numPlanes=0,this.numIntersection=0,this.init=function(g,v){const _=g.length!==0||v||n!==0||r;return r=v,n=g.length,_},this.beginShadows=function(){a=!0,p(null)},this.endShadows=function(){a=!1},this.setGlobalState=function(g,v){t=p(g,v,0)},this.setState=function(g,v,_){const S=g.clippingPlanes,w=g.clipIntersection,E=g.clipShadows,b=i.get(g);if(!r||S===null||S.length===0||a&&!E)a?p(null):f();else{const R=a?0:n,C=R*4;let A=b.clippingState||null;u.value=A,A=p(S,v,C,_);for(let N=0;N!==C;++N)A[N]=t[N];b.clippingState=A,this.numIntersection=w?this.numPlanes:0,this.numPlanes+=R}};function f(){u.value!==t&&(u.value=t,u.needsUpdate=n>0),e.numPlanes=n,e.numIntersection=0}function p(g,v,_,S){const w=g!==null?g.length:0;let E=null;if(w!==0){if(E=u.value,S!==!0||E===null){const b=_+w*4,R=v.matrixWorldInverse;l.getNormalMatrix(R),(E===null||E.length<b)&&(E=new Float32Array(b));for(let C=0,A=_;C!==w;++C,A+=4)s.copy(g[C]).applyMatrix4(R,l),s.normal.toArray(E,A),E[A+3]=s.constant}u.value=E,u.needsUpdate=!0}return e.numPlanes=w,e.numIntersection=0,E}}function VK(i){let e=new WeakMap;function t(s,l){return l===tg?s.mapping=jc:l===g_&&(s.mapping=vh),s}function n(s){if(s&&s.isTexture){const l=s.mapping;if(l===tg||l===g_)if(e.has(s)){const u=e.get(s).texture;return t(u,s.mapping)}else{const u=s.image;if(u&&u.height>0){const f=new XR(u.height);return f.fromEquirectangularTexture(i,s),e.set(s,f),s.addEventListener("dispose",r),t(f.texture,s.mapping)}else return null}}return s}function r(s){const l=s.target;l.removeEventListener("dispose",r);const u=e.get(l);u!==void 0&&(e.delete(l),u.dispose())}function a(){e=new WeakMap}return{get:n,dispose:a}}const R0=4,IN=[.125,.215,.35,.446,.526,.582],Zd=20,ZM=new Mg,BN=new Vt;let KM=null,$M=0,JM=0,QM=!1;const Xd=(1+Math.sqrt(5))/2,p0=1/Xd,zN=[new le(-Xd,p0,0),new le(Xd,p0,0),new le(-p0,0,Xd),new le(p0,0,Xd),new le(0,Xd,-p0),new le(0,Xd,p0),new le(-1,1,-1),new le(1,1,-1),new le(-1,1,1),new le(1,1,1)],jK=new le;class eC{constructor(e){this._renderer=e,this._pingPongRenderTarget=null,this._lodMax=0,this._cubeSize=0,this._lodPlanes=[],this._sizeLods=[],this._sigmas=[],this._blurMaterial=null,this._cubemapMaterial=null,this._equirectMaterial=null,this._compileMaterial(this._blurMaterial)}fromScene(e,t=0,n=.1,r=100,a={}){const{size:s=256,position:l=jK}=a;KM=this._renderer.getRenderTarget(),$M=this._renderer.getActiveCubeFace(),JM=this._renderer.getActiveMipmapLevel(),QM=this._renderer.xr.enabled,this._renderer.xr.enabled=!1,this._setSize(s);const u=this._allocateTargets();return u.depthBuffer=!0,this._sceneToCubeUV(e,n,r,u,l),t>0&&this._blur(u,0,0,t),this._applyPMREM(u),this._cleanup(u),u}fromEquirectangular(e,t=null){return this._fromTexture(e,t)}fromCubemap(e,t=null){return this._fromTexture(e,t)}compileCubemapShader(){this._cubemapMaterial===null&&(this._cubemapMaterial=HN(),this._compileMaterial(this._cubemapMaterial))}compileEquirectangularShader(){this._equirectMaterial===null&&(this._equirectMaterial=FN(),this._compileMaterial(this._equirectMaterial))}dispose(){this._dispose(),this._cubemapMaterial!==null&&this._cubemapMaterial.dispose(),this._equirectMaterial!==null&&this._equirectMaterial.dispose()}_setSize(e){this._lodMax=Math.floor(Math.log2(e)),this._cubeSize=Math.pow(2,this._lodMax)}_dispose(){this._blurMaterial!==null&&this._blurMaterial.dispose(),this._pingPongRenderTarget!==null&&this._pingPongRenderTarget.dispose();for(let e=0;e<this._lodPlanes.length;e++)this._lodPlanes[e].dispose()}_cleanup(e){this._renderer.setRenderTarget(KM,$M,JM),this._renderer.xr.enabled=QM,e.scissorTest=!1,$b(e,0,0,e.width,e.height)}_fromTexture(e,t){e.mapping===jc||e.mapping===vh?this._setSize(e.image.length===0?16:e.image[0].width||e.image[0].image.width):this._setSize(e.image.width/4),KM=this._renderer.getRenderTarget(),$M=this._renderer.getActiveCubeFace(),JM=this._renderer.getActiveMipmapLevel(),QM=this._renderer.xr.enabled,this._renderer.xr.enabled=!1;const n=t||this._allocateTargets();return this._textureToCubeUV(e,n),this._applyPMREM(n),this._cleanup(n),n}_allocateTargets(){const e=3*Math.max(this._cubeSize,112),t=4*this._cubeSize,n={magFilter:Si,minFilter:Si,generateMipmaps:!1,type:aa,format:Sr,colorSpace:zl,depthBuffer:!1},r=kN(e,t,n);if(this._pingPongRenderTarget===null||this._pingPongRenderTarget.width!==e||this._pingPongRenderTarget.height!==t){this._pingPongRenderTarget!==null&&this._dispose(),this._pingPongRenderTarget=kN(e,t,n);const{_lodMax:a}=this;({sizeLods:this._sizeLods,lodPlanes:this._lodPlanes,sigmas:this._sigmas}=GK(a)),this._blurMaterial=WK(a,e,t)}return r}_compileMaterial(e){const t=new ar(this._lodPlanes[0],e);this._renderer.compile(t,ZM)}_sceneToCubeUV(e,t,n,r,a){const u=new ra(90,1,t,n),f=[1,-1,1,1,1,1],p=[1,1,1,-1,-1,-1],g=this._renderer,v=g.autoClear,_=g.toneMapping;g.getClearColor(BN),g.toneMapping=Bc,g.autoClear=!1,g.state.buffers.depth.getReversed()&&(g.setRenderTarget(r),g.clearDepth(),g.setRenderTarget(null));const w=new Xu({name:"PMREM.Background",side:vs,depthWrite:!1,depthTest:!1}),E=new ar(new Op,w);let b=!1;const R=e.background;R?R.isColor&&(w.color.copy(R),e.background=null,b=!0):(w.color.copy(BN),b=!0);for(let C=0;C<6;C++){const A=C%3;A===0?(u.up.set(0,f[C],0),u.position.set(a.x,a.y,a.z),u.lookAt(a.x+p[C],a.y,a.z)):A===1?(u.up.set(0,0,f[C]),u.position.set(a.x,a.y,a.z),u.lookAt(a.x,a.y+p[C],a.z)):(u.up.set(0,f[C],0),u.position.set(a.x,a.y,a.z),u.lookAt(a.x,a.y,a.z+p[C]));const N=this._cubeSize;$b(r,A*N,C>2?N:0,N,N),g.setRenderTarget(r),b&&g.render(E,u),g.render(e,u)}E.geometry.dispose(),E.material.dispose(),g.toneMapping=_,g.autoClear=v,e.background=R}_textureToCubeUV(e,t){const n=this._renderer,r=e.mapping===jc||e.mapping===vh;r?(this._cubemapMaterial===null&&(this._cubemapMaterial=HN()),this._cubemapMaterial.uniforms.flipEnvMap.value=e.isRenderTargetTexture===!1?-1:1):this._equirectMaterial===null&&(this._equirectMaterial=FN());const a=r?this._cubemapMaterial:this._equirectMaterial,s=new ar(this._lodPlanes[0],a),l=a.uniforms;l.envMap.value=e;const u=this._cubeSize;$b(t,0,0,3*u,2*u),n.setRenderTarget(t),n.render(s,ZM)}_applyPMREM(e){const t=this._renderer,n=t.autoClear;t.autoClear=!1;const r=this._lodPlanes.length;for(let a=1;a<r;a++){const s=Math.sqrt(this._sigmas[a]*this._sigmas[a]-this._sigmas[a-1]*this._sigmas[a-1]),l=zN[(r-a-1)%zN.length];this._blur(e,a-1,a,s,l)}t.autoClear=n}_blur(e,t,n,r,a){const s=this._pingPongRenderTarget;this._halfBlur(e,s,t,n,r,"latitudinal",a),this._halfBlur(s,e,n,n,r,"longitudinal",a)}_halfBlur(e,t,n,r,a,s,l){const u=this._renderer,f=this._blurMaterial;s!=="latitudinal"&&s!=="longitudinal"&&console.error("blur direction must be either latitudinal or longitudinal!");const p=3,g=new ar(this._lodPlanes[r],f),v=f.uniforms,_=this._sizeLods[n]-1,S=isFinite(a)?Math.PI/(2*_):2*Math.PI/(2*Zd-1),w=a/S,E=isFinite(a)?1+Math.floor(p*w):Zd;E>Zd&&console.warn(`sigmaRadians, ${a}, is too large and will clip, as it requested ${E} samples when the maximum is set to ${Zd}`);const b=[];let R=0;for(let B=0;B<Zd;++B){const U=B/w,P=Math.exp(-U*U/2);b.push(P),B===0?R+=P:B<E&&(R+=2*P)}for(let B=0;B<b.length;B++)b[B]=b[B]/R;v.envMap.value=e.texture,v.samples.value=E,v.weights.value=b,v.latitudinal.value=s==="latitudinal",l&&(v.poleAxis.value=l);const{_lodMax:C}=this;v.dTheta.value=S,v.mipInt.value=C-n;const A=this._sizeLods[r],N=3*A*(r>C-R0?r-C+R0:0),L=4*(this._cubeSize-A);$b(t,N,L,3*A,2*A),u.setRenderTarget(t),u.render(g,ZM)}}function GK(i){const e=[],t=[],n=[];let r=i;const a=i-R0+1+IN.length;for(let s=0;s<a;s++){const l=Math.pow(2,r);t.push(l);let u=1/l;s>i-R0?u=IN[s-i+R0-1]:s===0&&(u=0),n.push(u);const f=1/(l-2),p=-f,g=1+f,v=[p,p,g,p,g,g,p,p,g,g,p,g],_=6,S=6,w=3,E=2,b=1,R=new Float32Array(w*S*_),C=new Float32Array(E*S*_),A=new Float32Array(b*S*_);for(let L=0;L<_;L++){const B=L%3*2/3-1,U=L>2?0:-1,P=[B,U,0,B+2/3,U,0,B+2/3,U+1,0,B,U,0,B+2/3,U+1,0,B,U+1,0];R.set(P,w*S*L),C.set(v,E*S*L);const z=[L,L,L,L,L,L];A.set(z,b*S*L)}const N=new Nn;N.setAttribute("position",new Ri(R,w)),N.setAttribute("uv",new Ri(C,E)),N.setAttribute("faceIndex",new Ri(A,b)),e.push(N),r>R0&&r--}return{lodPlanes:e,sizeLods:t,sigmas:n}}function kN(i,e,t){const n=new Jo(i,e,t);return n.texture.mapping=Sg,n.texture.name="PMREM.cubeUv",n.scissorTest=!0,n}function $b(i,e,t,n,r){i.viewport.set(e,t,n,r),i.scissor.set(e,t,n,r)}function WK(i,e,t){const n=new Float32Array(Zd),r=new le(0,1,0);return new Ws({name:"SphericalGaussianBlur",defines:{n:Zd,CUBEUV_TEXEL_WIDTH:1/e,CUBEUV_TEXEL_HEIGHT:1/t,CUBEUV_MAX_MIP:`${i}.0`},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:n},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:r}},vertexShader:y3(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;
			uniform int samples;
			uniform float weights[ n ];
			uniform bool latitudinal;
			uniform float dTheta;
			uniform float mipInt;
			uniform vec3 poleAxis;

			#define ENVMAP_TYPE_CUBE_UV
			#include <cube_uv_reflection_fragment>

			vec3 getSample( float theta, vec3 axis ) {

				float cosTheta = cos( theta );
				// Rodrigues' axis-angle rotation
				vec3 sampleDirection = vOutputDirection * cosTheta
					+ cross( axis, vOutputDirection ) * sin( theta )
					+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );

				return bilinearCubeUV( envMap, sampleDirection, mipInt );

			}

			void main() {

				vec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );

				if ( all( equal( axis, vec3( 0.0 ) ) ) ) {

					axis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );

				}

				axis = normalize( axis );

				gl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );
				gl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );

				for ( int i = 1; i < n; i++ ) {

					if ( i >= samples ) {

						break;

					}

					float theta = dTheta * float( i );
					gl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );
					gl_FragColor.rgb += weights[ i ] * getSample( theta, axis );

				}

			}
		`,blending:Ic,depthTest:!1,depthWrite:!1})}function FN(){return new Ws({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null}},vertexShader:y3(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;

			#include <common>

			void main() {

				vec3 outputDirection = normalize( vOutputDirection );
				vec2 uv = equirectUv( outputDirection );

				gl_FragColor = vec4( texture2D ( envMap, uv ).rgb, 1.0 );

			}
		`,blending:Ic,depthTest:!1,depthWrite:!1})}function HN(){return new Ws({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},flipEnvMap:{value:-1}},vertexShader:y3(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			uniform float flipEnvMap;

			varying vec3 vOutputDirection;

			uniform samplerCube envMap;

			void main() {

				gl_FragColor = textureCube( envMap, vec3( flipEnvMap * vOutputDirection.x, vOutputDirection.yz ) );

			}
		`,blending:Ic,depthTest:!1,depthWrite:!1})}function y3(){return`

		precision mediump float;
		precision mediump int;

		attribute float faceIndex;

		varying vec3 vOutputDirection;

		// RH coordinate system; PMREM face-indexing convention
		vec3 getDirection( vec2 uv, float face ) {

			uv = 2.0 * uv - 1.0;

			vec3 direction = vec3( uv, 1.0 );

			if ( face == 0.0 ) {

				direction = direction.zyx; // ( 1, v, u ) pos x

			} else if ( face == 1.0 ) {

				direction = direction.xzy;
				direction.xz *= -1.0; // ( -u, 1, -v ) pos y

			} else if ( face == 2.0 ) {

				direction.x *= -1.0; // ( -u, v, 1 ) pos z

			} else if ( face == 3.0 ) {

				direction = direction.zyx;
				direction.xz *= -1.0; // ( -1, v, -u ) neg x

			} else if ( face == 4.0 ) {

				direction = direction.xzy;
				direction.xy *= -1.0; // ( -u, -1, v ) neg y

			} else if ( face == 5.0 ) {

				direction.z *= -1.0; // ( u, v, -1 ) neg z

			}

			return direction;

		}

		void main() {

			vOutputDirection = getDirection( uv, faceIndex );
			gl_Position = vec4( position, 1.0 );

		}
	`}function XK(i){let e=new WeakMap,t=null;function n(l){if(l&&l.isTexture){const u=l.mapping,f=u===tg||u===g_,p=u===jc||u===vh;if(f||p){let g=e.get(l);const v=g!==void 0?g.texture.pmremVersion:0;if(l.isRenderTargetTexture&&l.pmremVersion!==v)return t===null&&(t=new eC(i)),g=f?t.fromEquirectangular(l,g):t.fromCubemap(l,g),g.texture.pmremVersion=l.pmremVersion,e.set(l,g),g.texture;if(g!==void 0)return g.texture;{const _=l.image;return f&&_&&_.height>0||p&&_&&r(_)?(t===null&&(t=new eC(i)),g=f?t.fromEquirectangular(l):t.fromCubemap(l),g.texture.pmremVersion=l.pmremVersion,e.set(l,g),l.addEventListener("dispose",a),g.texture):null}}}return l}function r(l){let u=0;const f=6;for(let p=0;p<f;p++)l[p]!==void 0&&u++;return u===f}function a(l){const u=l.target;u.removeEventListener("dispose",a);const f=e.get(u);f!==void 0&&(e.delete(u),f.dispose())}function s(){e=new WeakMap,t!==null&&(t.dispose(),t=null)}return{get:n,dispose:s}}function qK(i){const e={};function t(n){if(e[n]!==void 0)return e[n];let r;switch(n){case"WEBGL_depth_texture":r=i.getExtension("WEBGL_depth_texture")||i.getExtension("MOZ_WEBGL_depth_texture")||i.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":r=i.getExtension("EXT_texture_filter_anisotropic")||i.getExtension("MOZ_EXT_texture_filter_anisotropic")||i.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":r=i.getExtension("WEBGL_compressed_texture_s3tc")||i.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||i.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":r=i.getExtension("WEBGL_compressed_texture_pvrtc")||i.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:r=i.getExtension(n)}return e[n]=r,r}return{has:function(n){return t(n)!==null},init:function(){t("EXT_color_buffer_float"),t("WEBGL_clip_cull_distance"),t("OES_texture_float_linear"),t("EXT_color_buffer_half_float"),t("WEBGL_multisampled_render_to_texture"),t("WEBGL_render_shared_exponent")},get:function(n){const r=t(n);return r===null&&V0("THREE.WebGLRenderer: "+n+" extension not supported."),r}}}function YK(i,e,t,n){const r={},a=new WeakMap;function s(g){const v=g.target;v.index!==null&&e.remove(v.index);for(const S in v.attributes)e.remove(v.attributes[S]);v.removeEventListener("dispose",s),delete r[v.id];const _=a.get(v);_&&(e.remove(_),a.delete(v)),n.releaseStatesOfGeometry(v),v.isInstancedBufferGeometry===!0&&delete v._maxInstanceCount,t.memory.geometries--}function l(g,v){return r[v.id]===!0||(v.addEventListener("dispose",s),r[v.id]=!0,t.memory.geometries++),v}function u(g){const v=g.attributes;for(const _ in v)e.update(v[_],i.ARRAY_BUFFER)}function f(g){const v=[],_=g.index,S=g.attributes.position;let w=0;if(_!==null){const R=_.array;w=_.version;for(let C=0,A=R.length;C<A;C+=3){const N=R[C+0],L=R[C+1],B=R[C+2];v.push(N,L,L,B,B,N)}}else if(S!==void 0){const R=S.array;w=S.version;for(let C=0,A=R.length/3-1;C<A;C+=3){const N=C+0,L=C+1,B=C+2;v.push(N,L,L,B,B,N)}}else return;const E=new(xB(v)?WR:GR)(v,1);E.version=w;const b=a.get(g);b&&e.remove(b),a.set(g,E)}function p(g){const v=a.get(g);if(v){const _=g.index;_!==null&&v.version<_.version&&f(g)}else f(g);return a.get(g)}return{get:l,update:u,getWireframeAttribute:p}}function ZK(i,e,t){let n;function r(v){n=v}let a,s;function l(v){a=v.type,s=v.bytesPerElement}function u(v,_){i.drawElements(n,_,a,v*s),t.update(_,n,1)}function f(v,_,S){S!==0&&(i.drawElementsInstanced(n,_,a,v*s,S),t.update(_,n,S))}function p(v,_,S){if(S===0)return;e.get("WEBGL_multi_draw").multiDrawElementsWEBGL(n,_,0,a,v,0,S);let E=0;for(let b=0;b<S;b++)E+=_[b];t.update(E,n,1)}function g(v,_,S,w){if(S===0)return;const E=e.get("WEBGL_multi_draw");if(E===null)for(let b=0;b<v.length;b++)f(v[b]/s,_[b],w[b]);else{E.multiDrawElementsInstancedWEBGL(n,_,0,a,v,0,w,0,S);let b=0;for(let R=0;R<S;R++)b+=_[R]*w[R];t.update(b,n,1)}}this.setMode=r,this.setIndex=l,this.render=u,this.renderInstances=f,this.renderMultiDraw=p,this.renderMultiDrawInstances=g}function KK(i){const e={geometries:0,textures:0},t={frame:0,calls:0,triangles:0,points:0,lines:0};function n(a,s,l){switch(t.calls++,s){case i.TRIANGLES:t.triangles+=l*(a/3);break;case i.LINES:t.lines+=l*(a/2);break;case i.LINE_STRIP:t.lines+=l*(a-1);break;case i.LINE_LOOP:t.lines+=l*a;break;case i.POINTS:t.points+=l*a;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",s);break}}function r(){t.calls=0,t.triangles=0,t.points=0,t.lines=0}return{memory:e,render:t,programs:null,autoReset:!0,reset:r,update:n}}function $K(i,e,t){const n=new WeakMap,r=new ri;function a(s,l,u){const f=s.morphTargetInfluences,p=l.morphAttributes.position||l.morphAttributes.normal||l.morphAttributes.color,g=p!==void 0?p.length:0;let v=n.get(l);if(v===void 0||v.count!==g){let z=function(){U.dispose(),n.delete(l),l.removeEventListener("dispose",z)};var _=z;v!==void 0&&v.texture.dispose();const S=l.morphAttributes.position!==void 0,w=l.morphAttributes.normal!==void 0,E=l.morphAttributes.color!==void 0,b=l.morphAttributes.position||[],R=l.morphAttributes.normal||[],C=l.morphAttributes.color||[];let A=0;S===!0&&(A=1),w===!0&&(A=2),E===!0&&(A=3);let N=l.attributes.position.count*A,L=1;N>e.maxTextureSize&&(L=Math.ceil(N/e.maxTextureSize),N=e.maxTextureSize);const B=new Float32Array(N*L*4*g),U=new dE(B,N,L,g);U.type=rr,U.needsUpdate=!0;const P=A*4;for(let X=0;X<g;X++){const te=b[X],se=R[X],ae=C[X],ue=N*L*4*X;for(let G=0;G<te.count;G++){const Y=G*P;S===!0&&(r.fromBufferAttribute(te,G),B[ue+Y+0]=r.x,B[ue+Y+1]=r.y,B[ue+Y+2]=r.z,B[ue+Y+3]=0),w===!0&&(r.fromBufferAttribute(se,G),B[ue+Y+4]=r.x,B[ue+Y+5]=r.y,B[ue+Y+6]=r.z,B[ue+Y+7]=0),E===!0&&(r.fromBufferAttribute(ae,G),B[ue+Y+8]=r.x,B[ue+Y+9]=r.y,B[ue+Y+10]=r.z,B[ue+Y+11]=ae.itemSize===4?r.w:1)}}v={count:g,texture:U,size:new ut(N,L)},n.set(l,v),l.addEventListener("dispose",z)}if(s.isInstancedMesh===!0&&s.morphTexture!==null)u.getUniforms().setValue(i,"morphTexture",s.morphTexture,t);else{let S=0;for(let E=0;E<f.length;E++)S+=f[E];const w=l.morphTargetsRelative?1:1-S;u.getUniforms().setValue(i,"morphTargetBaseInfluence",w),u.getUniforms().setValue(i,"morphTargetInfluences",f)}u.getUniforms().setValue(i,"morphTargetsTexture",v.texture,t),u.getUniforms().setValue(i,"morphTargetsTextureSize",v.size)}return{update:a}}function JK(i,e,t,n){let r=new WeakMap;function a(u){const f=n.render.frame,p=u.geometry,g=e.get(u,p);if(r.get(g)!==f&&(e.update(g),r.set(g,f)),u.isInstancedMesh&&(u.hasEventListener("dispose",l)===!1&&u.addEventListener("dispose",l),r.get(u)!==f&&(t.update(u.instanceMatrix,i.ARRAY_BUFFER),u.instanceColor!==null&&t.update(u.instanceColor,i.ARRAY_BUFFER),r.set(u,f))),u.isSkinnedMesh){const v=u.skeleton;r.get(v)!==f&&(v.update(),r.set(v,f))}return g}function s(){r=new WeakMap}function l(u){const f=u.target;f.removeEventListener("dispose",l),t.remove(f.instanceMatrix),f.instanceColor!==null&&t.remove(f.instanceColor)}return{update:a,dispose:s}}const Mz=new gi,VN=new KR(1,1),Tz=new dE,Az=new pE,Cz=new $_,jN=[],GN=[],WN=new Float32Array(16),XN=new Float32Array(9),qN=new Float32Array(4);function Tg(i,e,t){const n=i[0];if(n<=0||n>0)return i;const r=e*t;let a=jN[r];if(a===void 0&&(a=new Float32Array(r),jN[r]=a),e!==0){n.toArray(a,0);for(let s=1,l=0;s!==e;++s)l+=t,i[s].toArray(a,l)}return a}function qr(i,e){if(i.length!==e.length)return!1;for(let t=0,n=i.length;t<n;t++)if(i[t]!==e[t])return!1;return!0}function Yr(i,e){for(let t=0,n=e.length;t<n;t++)i[t]=e[t]}function BE(i,e){let t=GN[e];t===void 0&&(t=new Int32Array(e),GN[e]=t);for(let n=0;n!==e;++n)t[n]=i.allocateTextureUnit();return t}function QK(i,e){const t=this.cache;t[0]!==e&&(i.uniform1f(this.addr,e),t[0]=e)}function e$(i,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y)&&(i.uniform2f(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(qr(t,e))return;i.uniform2fv(this.addr,e),Yr(t,e)}}function t$(i,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(i.uniform3f(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else if(e.r!==void 0)(t[0]!==e.r||t[1]!==e.g||t[2]!==e.b)&&(i.uniform3f(this.addr,e.r,e.g,e.b),t[0]=e.r,t[1]=e.g,t[2]=e.b);else{if(qr(t,e))return;i.uniform3fv(this.addr,e),Yr(t,e)}}function n$(i,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(i.uniform4f(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(qr(t,e))return;i.uniform4fv(this.addr,e),Yr(t,e)}}function i$(i,e){const t=this.cache,n=e.elements;if(n===void 0){if(qr(t,e))return;i.uniformMatrix2fv(this.addr,!1,e),Yr(t,e)}else{if(qr(t,n))return;qN.set(n),i.uniformMatrix2fv(this.addr,!1,qN),Yr(t,n)}}function r$(i,e){const t=this.cache,n=e.elements;if(n===void 0){if(qr(t,e))return;i.uniformMatrix3fv(this.addr,!1,e),Yr(t,e)}else{if(qr(t,n))return;XN.set(n),i.uniformMatrix3fv(this.addr,!1,XN),Yr(t,n)}}function a$(i,e){const t=this.cache,n=e.elements;if(n===void 0){if(qr(t,e))return;i.uniformMatrix4fv(this.addr,!1,e),Yr(t,e)}else{if(qr(t,n))return;WN.set(n),i.uniformMatrix4fv(this.addr,!1,WN),Yr(t,n)}}function s$(i,e){const t=this.cache;t[0]!==e&&(i.uniform1i(this.addr,e),t[0]=e)}function o$(i,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y)&&(i.uniform2i(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(qr(t,e))return;i.uniform2iv(this.addr,e),Yr(t,e)}}function l$(i,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(i.uniform3i(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else{if(qr(t,e))return;i.uniform3iv(this.addr,e),Yr(t,e)}}function c$(i,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(i.uniform4i(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(qr(t,e))return;i.uniform4iv(this.addr,e),Yr(t,e)}}function u$(i,e){const t=this.cache;t[0]!==e&&(i.uniform1ui(this.addr,e),t[0]=e)}function f$(i,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y)&&(i.uniform2ui(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(qr(t,e))return;i.uniform2uiv(this.addr,e),Yr(t,e)}}function h$(i,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(i.uniform3ui(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else{if(qr(t,e))return;i.uniform3uiv(this.addr,e),Yr(t,e)}}function d$(i,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(i.uniform4ui(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(qr(t,e))return;i.uniform4uiv(this.addr,e),Yr(t,e)}}function p$(i,e,t){const n=this.cache,r=t.allocateTextureUnit();n[0]!==r&&(i.uniform1i(this.addr,r),n[0]=r);let a;this.type===i.SAMPLER_2D_SHADOW?(VN.compareFunction=HR,a=VN):a=Mz,t.setTexture2D(e||a,r)}function m$(i,e,t){const n=this.cache,r=t.allocateTextureUnit();n[0]!==r&&(i.uniform1i(this.addr,r),n[0]=r),t.setTexture3D(e||Az,r)}function g$(i,e,t){const n=this.cache,r=t.allocateTextureUnit();n[0]!==r&&(i.uniform1i(this.addr,r),n[0]=r),t.setTextureCube(e||Cz,r)}function v$(i,e,t){const n=this.cache,r=t.allocateTextureUnit();n[0]!==r&&(i.uniform1i(this.addr,r),n[0]=r),t.setTexture2DArray(e||Tz,r)}function y$(i){switch(i){case 5126:return QK;case 35664:return e$;case 35665:return t$;case 35666:return n$;case 35674:return i$;case 35675:return r$;case 35676:return a$;case 5124:case 35670:return s$;case 35667:case 35671:return o$;case 35668:case 35672:return l$;case 35669:case 35673:return c$;case 5125:return u$;case 36294:return f$;case 36295:return h$;case 36296:return d$;case 35678:case 36198:case 36298:case 36306:case 35682:return p$;case 35679:case 36299:case 36307:return m$;case 35680:case 36300:case 36308:case 36293:return g$;case 36289:case 36303:case 36311:case 36292:return v$}}function _$(i,e){i.uniform1fv(this.addr,e)}function x$(i,e){const t=Tg(e,this.size,2);i.uniform2fv(this.addr,t)}function b$(i,e){const t=Tg(e,this.size,3);i.uniform3fv(this.addr,t)}function S$(i,e){const t=Tg(e,this.size,4);i.uniform4fv(this.addr,t)}function w$(i,e){const t=Tg(e,this.size,4);i.uniformMatrix2fv(this.addr,!1,t)}function E$(i,e){const t=Tg(e,this.size,9);i.uniformMatrix3fv(this.addr,!1,t)}function M$(i,e){const t=Tg(e,this.size,16);i.uniformMatrix4fv(this.addr,!1,t)}function T$(i,e){i.uniform1iv(this.addr,e)}function A$(i,e){i.uniform2iv(this.addr,e)}function C$(i,e){i.uniform3iv(this.addr,e)}function R$(i,e){i.uniform4iv(this.addr,e)}function D$(i,e){i.uniform1uiv(this.addr,e)}function O$(i,e){i.uniform2uiv(this.addr,e)}function N$(i,e){i.uniform3uiv(this.addr,e)}function P$(i,e){i.uniform4uiv(this.addr,e)}function L$(i,e,t){const n=this.cache,r=e.length,a=BE(t,r);qr(n,a)||(i.uniform1iv(this.addr,a),Yr(n,a));for(let s=0;s!==r;++s)t.setTexture2D(e[s]||Mz,a[s])}function U$(i,e,t){const n=this.cache,r=e.length,a=BE(t,r);qr(n,a)||(i.uniform1iv(this.addr,a),Yr(n,a));for(let s=0;s!==r;++s)t.setTexture3D(e[s]||Az,a[s])}function I$(i,e,t){const n=this.cache,r=e.length,a=BE(t,r);qr(n,a)||(i.uniform1iv(this.addr,a),Yr(n,a));for(let s=0;s!==r;++s)t.setTextureCube(e[s]||Cz,a[s])}function B$(i,e,t){const n=this.cache,r=e.length,a=BE(t,r);qr(n,a)||(i.uniform1iv(this.addr,a),Yr(n,a));for(let s=0;s!==r;++s)t.setTexture2DArray(e[s]||Tz,a[s])}function z$(i){switch(i){case 5126:return _$;case 35664:return x$;case 35665:return b$;case 35666:return S$;case 35674:return w$;case 35675:return E$;case 35676:return M$;case 5124:case 35670:return T$;case 35667:case 35671:return A$;case 35668:case 35672:return C$;case 35669:case 35673:return R$;case 5125:return D$;case 36294:return O$;case 36295:return N$;case 36296:return P$;case 35678:case 36198:case 36298:case 36306:case 35682:return L$;case 35679:case 36299:case 36307:return U$;case 35680:case 36300:case 36308:case 36293:return I$;case 36289:case 36303:case 36311:case 36292:return B$}}class k${constructor(e,t,n){this.id=e,this.addr=n,this.cache=[],this.type=t.type,this.setValue=y$(t.type)}}class F${constructor(e,t,n){this.id=e,this.addr=n,this.cache=[],this.type=t.type,this.size=t.size,this.setValue=z$(t.type)}}class H${constructor(e){this.id=e,this.seq=[],this.map={}}setValue(e,t,n){const r=this.seq;for(let a=0,s=r.length;a!==s;++a){const l=r[a];l.setValue(e,t[l.id],n)}}}const eT=/(\w+)(\])?(\[|\.)?/g;function YN(i,e){i.seq.push(e),i.map[e.id]=e}function V$(i,e,t){const n=i.name,r=n.length;for(eT.lastIndex=0;;){const a=eT.exec(n),s=eT.lastIndex;let l=a[1];const u=a[2]==="]",f=a[3];if(u&&(l=l|0),f===void 0||f==="["&&s+2===r){YN(t,f===void 0?new k$(l,i,e):new F$(l,i,e));break}else{let g=t.map[l];g===void 0&&(g=new H$(l),YN(t,g)),t=g}}}class wS{constructor(e,t){this.seq=[],this.map={};const n=e.getProgramParameter(t,e.ACTIVE_UNIFORMS);for(let r=0;r<n;++r){const a=e.getActiveUniform(t,r),s=e.getUniformLocation(t,a.name);V$(a,s,this)}}setValue(e,t,n,r){const a=this.map[t];a!==void 0&&a.setValue(e,n,r)}setOptional(e,t,n){const r=t[n];r!==void 0&&this.setValue(e,n,r)}static upload(e,t,n,r){for(let a=0,s=t.length;a!==s;++a){const l=t[a],u=n[l.id];u.needsUpdate!==!1&&l.setValue(e,u.value,r)}}static seqWithValue(e,t){const n=[];for(let r=0,a=e.length;r!==a;++r){const s=e[r];s.id in t&&n.push(s)}return n}}function ZN(i,e,t){const n=i.createShader(e);return i.shaderSource(n,t),i.compileShader(n),n}const j$=37297;let G$=0;function W$(i,e){const t=i.split(`
`),n=[],r=Math.max(e-6,0),a=Math.min(e+6,t.length);for(let s=r;s<a;s++){const l=s+1;n.push(`${l===e?">":" "} ${l}: ${t[s]}`)}return n.join(`
`)}const KN=new Mn;function X$(i){Qn._getMatrix(KN,Qn.workingColorSpace,i);const e=`mat3( ${KN.elements.map(t=>t.toFixed(4))} )`;switch(Qn.getTransfer(i)){case b_:return[e,"LinearTransferOETF"];case bi:return[e,"sRGBTransferOETF"];default:return console.warn("THREE.WebGLProgram: Unsupported color space: ",i),[e,"LinearTransferOETF"]}}function $N(i,e,t){const n=i.getShaderParameter(e,i.COMPILE_STATUS),a=(i.getShaderInfoLog(e)||"").trim();if(n&&a==="")return"";const s=/ERROR: 0:(\d+)/.exec(a);if(s){const l=parseInt(s[1]);return t.toUpperCase()+`

`+a+`

`+W$(i.getShaderSource(e),l)}else return a}function q$(i,e){const t=X$(e);return[`vec4 ${i}( vec4 value ) {`,`	return ${t[1]}( vec4( value.rgb * ${t[0]}, value.a ) );`,"}"].join(`
`)}function Y$(i,e){let t;switch(e){case eB:t="Linear";break;case tB:t="Reinhard";break;case nB:t="Cineon";break;case PR:t="ACESFilmic";break;case rB:t="AgX";break;case aB:t="Neutral";break;case iB:t="Custom";break;default:console.warn("THREE.WebGLProgram: Unsupported toneMapping:",e),t="Linear"}return"vec3 "+i+"( vec3 color ) { return "+t+"ToneMapping( color ); }"}const Jb=new le;function Z$(){Qn.getLuminanceCoefficients(Jb);const i=Jb.x.toFixed(4),e=Jb.y.toFixed(4),t=Jb.z.toFixed(4);return["float luminance( const in vec3 rgb ) {",`	const vec3 weights = vec3( ${i}, ${e}, ${t} );`,"	return dot( weights, rgb );","}"].join(`
`)}function K$(i){return[i.extensionClipCullDistance?"#extension GL_ANGLE_clip_cull_distance : require":"",i.extensionMultiDraw?"#extension GL_ANGLE_multi_draw : require":""].filter(Sy).join(`
`)}function $$(i){const e=[];for(const t in i){const n=i[t];n!==!1&&e.push("#define "+t+" "+n)}return e.join(`
`)}function J$(i,e){const t={},n=i.getProgramParameter(e,i.ACTIVE_ATTRIBUTES);for(let r=0;r<n;r++){const a=i.getActiveAttrib(e,r),s=a.name;let l=1;a.type===i.FLOAT_MAT2&&(l=2),a.type===i.FLOAT_MAT3&&(l=3),a.type===i.FLOAT_MAT4&&(l=4),t[s]={type:a.type,location:i.getAttribLocation(e,s),locationSize:l}}return t}function Sy(i){return i!==""}function JN(i,e){const t=e.numSpotLightShadows+e.numSpotLightMaps-e.numSpotLightShadowsWithMaps;return i.replace(/NUM_DIR_LIGHTS/g,e.numDirLights).replace(/NUM_SPOT_LIGHTS/g,e.numSpotLights).replace(/NUM_SPOT_LIGHT_MAPS/g,e.numSpotLightMaps).replace(/NUM_SPOT_LIGHT_COORDS/g,t).replace(/NUM_RECT_AREA_LIGHTS/g,e.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,e.numPointLights).replace(/NUM_HEMI_LIGHTS/g,e.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,e.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS/g,e.numSpotLightShadowsWithMaps).replace(/NUM_SPOT_LIGHT_SHADOWS/g,e.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,e.numPointLightShadows)}function QN(i,e){return i.replace(/NUM_CLIPPING_PLANES/g,e.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,e.numClippingPlanes-e.numClipIntersection)}const Q$=/^[ \t]*#include +<([\w\d./]+)>/gm;function tC(i){return i.replace(Q$,tJ)}const eJ=new Map;function tJ(i,e){let t=Ln[e];if(t===void 0){const n=eJ.get(e);if(n!==void 0)t=Ln[n],console.warn('THREE.WebGLRenderer: Shader chunk "%s" has been deprecated. Use "%s" instead.',e,n);else throw new Error("Can not resolve #include <"+e+">")}return tC(t)}const nJ=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function eP(i){return i.replace(nJ,iJ)}function iJ(i,e,t,n){let r="";for(let a=parseInt(e);a<parseInt(t);a++)r+=n.replace(/\[\s*i\s*\]/g,"[ "+a+" ]").replace(/UNROLLED_LOOP_INDEX/g,a);return r}function tP(i){let e=`precision ${i.precision} float;
	precision ${i.precision} int;
	precision ${i.precision} sampler2D;
	precision ${i.precision} samplerCube;
	precision ${i.precision} sampler3D;
	precision ${i.precision} sampler2DArray;
	precision ${i.precision} sampler2DShadow;
	precision ${i.precision} samplerCubeShadow;
	precision ${i.precision} sampler2DArrayShadow;
	precision ${i.precision} isampler2D;
	precision ${i.precision} isampler3D;
	precision ${i.precision} isamplerCube;
	precision ${i.precision} isampler2DArray;
	precision ${i.precision} usampler2D;
	precision ${i.precision} usampler3D;
	precision ${i.precision} usamplerCube;
	precision ${i.precision} usampler2DArray;
	`;return i.precision==="highp"?e+=`
#define HIGH_PRECISION`:i.precision==="mediump"?e+=`
#define MEDIUM_PRECISION`:i.precision==="lowp"&&(e+=`
#define LOW_PRECISION`),e}function rJ(i){let e="SHADOWMAP_TYPE_BASIC";return i.shadowMapType===aE?e="SHADOWMAP_TYPE_PCF":i.shadowMapType===Fy?e="SHADOWMAP_TYPE_PCF_SOFT":i.shadowMapType===Ol&&(e="SHADOWMAP_TYPE_VSM"),e}function aJ(i){let e="ENVMAP_TYPE_CUBE";if(i.envMap)switch(i.envMapMode){case jc:case vh:e="ENVMAP_TYPE_CUBE";break;case Sg:e="ENVMAP_TYPE_CUBE_UV";break}return e}function sJ(i){let e="ENVMAP_MODE_REFLECTION";if(i.envMap)switch(i.envMapMode){case vh:e="ENVMAP_MODE_REFRACTION";break}return e}function oJ(i){let e="ENVMAP_BLENDING_NONE";if(i.envMap)switch(i.combine){case q_:e="ENVMAP_BLENDING_MULTIPLY";break;case JI:e="ENVMAP_BLENDING_MIX";break;case QI:e="ENVMAP_BLENDING_ADD";break}return e}function lJ(i){const e=i.envMapCubeUVHeight;if(e===null)return null;const t=Math.log2(e)-2,n=1/e;return{texelWidth:1/(3*Math.max(Math.pow(2,t),112)),texelHeight:n,maxMip:t}}function cJ(i,e,t,n){const r=i.getContext(),a=t.defines;let s=t.vertexShader,l=t.fragmentShader;const u=rJ(t),f=aJ(t),p=sJ(t),g=oJ(t),v=lJ(t),_=K$(t),S=$$(a),w=r.createProgram();let E,b,R=t.glslVersion?"#version "+t.glslVersion+`
`:"";t.isRawShaderMaterial?(E=["#define SHADER_TYPE "+t.shaderType,"#define SHADER_NAME "+t.shaderName,S].filter(Sy).join(`
`),E.length>0&&(E+=`
`),b=["#define SHADER_TYPE "+t.shaderType,"#define SHADER_NAME "+t.shaderName,S].filter(Sy).join(`
`),b.length>0&&(b+=`
`)):(E=[tP(t),"#define SHADER_TYPE "+t.shaderType,"#define SHADER_NAME "+t.shaderName,S,t.extensionClipCullDistance?"#define USE_CLIP_DISTANCE":"",t.batching?"#define USE_BATCHING":"",t.batchingColor?"#define USE_BATCHING_COLOR":"",t.instancing?"#define USE_INSTANCING":"",t.instancingColor?"#define USE_INSTANCING_COLOR":"",t.instancingMorph?"#define USE_INSTANCING_MORPH":"",t.useFog&&t.fog?"#define USE_FOG":"",t.useFog&&t.fogExp2?"#define FOG_EXP2":"",t.map?"#define USE_MAP":"",t.envMap?"#define USE_ENVMAP":"",t.envMap?"#define "+p:"",t.lightMap?"#define USE_LIGHTMAP":"",t.aoMap?"#define USE_AOMAP":"",t.bumpMap?"#define USE_BUMPMAP":"",t.normalMap?"#define USE_NORMALMAP":"",t.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",t.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",t.displacementMap?"#define USE_DISPLACEMENTMAP":"",t.emissiveMap?"#define USE_EMISSIVEMAP":"",t.anisotropy?"#define USE_ANISOTROPY":"",t.anisotropyMap?"#define USE_ANISOTROPYMAP":"",t.clearcoatMap?"#define USE_CLEARCOATMAP":"",t.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",t.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",t.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",t.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",t.specularMap?"#define USE_SPECULARMAP":"",t.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",t.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",t.roughnessMap?"#define USE_ROUGHNESSMAP":"",t.metalnessMap?"#define USE_METALNESSMAP":"",t.alphaMap?"#define USE_ALPHAMAP":"",t.alphaHash?"#define USE_ALPHAHASH":"",t.transmission?"#define USE_TRANSMISSION":"",t.transmissionMap?"#define USE_TRANSMISSIONMAP":"",t.thicknessMap?"#define USE_THICKNESSMAP":"",t.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",t.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",t.mapUv?"#define MAP_UV "+t.mapUv:"",t.alphaMapUv?"#define ALPHAMAP_UV "+t.alphaMapUv:"",t.lightMapUv?"#define LIGHTMAP_UV "+t.lightMapUv:"",t.aoMapUv?"#define AOMAP_UV "+t.aoMapUv:"",t.emissiveMapUv?"#define EMISSIVEMAP_UV "+t.emissiveMapUv:"",t.bumpMapUv?"#define BUMPMAP_UV "+t.bumpMapUv:"",t.normalMapUv?"#define NORMALMAP_UV "+t.normalMapUv:"",t.displacementMapUv?"#define DISPLACEMENTMAP_UV "+t.displacementMapUv:"",t.metalnessMapUv?"#define METALNESSMAP_UV "+t.metalnessMapUv:"",t.roughnessMapUv?"#define ROUGHNESSMAP_UV "+t.roughnessMapUv:"",t.anisotropyMapUv?"#define ANISOTROPYMAP_UV "+t.anisotropyMapUv:"",t.clearcoatMapUv?"#define CLEARCOATMAP_UV "+t.clearcoatMapUv:"",t.clearcoatNormalMapUv?"#define CLEARCOAT_NORMALMAP_UV "+t.clearcoatNormalMapUv:"",t.clearcoatRoughnessMapUv?"#define CLEARCOAT_ROUGHNESSMAP_UV "+t.clearcoatRoughnessMapUv:"",t.iridescenceMapUv?"#define IRIDESCENCEMAP_UV "+t.iridescenceMapUv:"",t.iridescenceThicknessMapUv?"#define IRIDESCENCE_THICKNESSMAP_UV "+t.iridescenceThicknessMapUv:"",t.sheenColorMapUv?"#define SHEEN_COLORMAP_UV "+t.sheenColorMapUv:"",t.sheenRoughnessMapUv?"#define SHEEN_ROUGHNESSMAP_UV "+t.sheenRoughnessMapUv:"",t.specularMapUv?"#define SPECULARMAP_UV "+t.specularMapUv:"",t.specularColorMapUv?"#define SPECULAR_COLORMAP_UV "+t.specularColorMapUv:"",t.specularIntensityMapUv?"#define SPECULAR_INTENSITYMAP_UV "+t.specularIntensityMapUv:"",t.transmissionMapUv?"#define TRANSMISSIONMAP_UV "+t.transmissionMapUv:"",t.thicknessMapUv?"#define THICKNESSMAP_UV "+t.thicknessMapUv:"",t.vertexTangents&&t.flatShading===!1?"#define USE_TANGENT":"",t.vertexColors?"#define USE_COLOR":"",t.vertexAlphas?"#define USE_COLOR_ALPHA":"",t.vertexUv1s?"#define USE_UV1":"",t.vertexUv2s?"#define USE_UV2":"",t.vertexUv3s?"#define USE_UV3":"",t.pointsUvs?"#define USE_POINTS_UV":"",t.flatShading?"#define FLAT_SHADED":"",t.skinning?"#define USE_SKINNING":"",t.morphTargets?"#define USE_MORPHTARGETS":"",t.morphNormals&&t.flatShading===!1?"#define USE_MORPHNORMALS":"",t.morphColors?"#define USE_MORPHCOLORS":"",t.morphTargetsCount>0?"#define MORPHTARGETS_TEXTURE_STRIDE "+t.morphTextureStride:"",t.morphTargetsCount>0?"#define MORPHTARGETS_COUNT "+t.morphTargetsCount:"",t.doubleSided?"#define DOUBLE_SIDED":"",t.flipSided?"#define FLIP_SIDED":"",t.shadowMapEnabled?"#define USE_SHADOWMAP":"",t.shadowMapEnabled?"#define "+u:"",t.sizeAttenuation?"#define USE_SIZEATTENUATION":"",t.numLightProbes>0?"#define USE_LIGHT_PROBES":"",t.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",t.reversedDepthBuffer?"#define USE_REVERSEDEPTHBUF":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","	attribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","	attribute vec3 instanceColor;","#endif","#ifdef USE_INSTANCING_MORPH","	uniform sampler2D morphTexture;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_UV1","	attribute vec2 uv1;","#endif","#ifdef USE_UV2","	attribute vec2 uv2;","#endif","#ifdef USE_UV3","	attribute vec2 uv3;","#endif","#ifdef USE_TANGENT","	attribute vec4 tangent;","#endif","#if defined( USE_COLOR_ALPHA )","	attribute vec4 color;","#elif defined( USE_COLOR )","	attribute vec3 color;","#endif","#ifdef USE_SKINNING","	attribute vec4 skinIndex;","	attribute vec4 skinWeight;","#endif",`
`].filter(Sy).join(`
`),b=[tP(t),"#define SHADER_TYPE "+t.shaderType,"#define SHADER_NAME "+t.shaderName,S,t.useFog&&t.fog?"#define USE_FOG":"",t.useFog&&t.fogExp2?"#define FOG_EXP2":"",t.alphaToCoverage?"#define ALPHA_TO_COVERAGE":"",t.map?"#define USE_MAP":"",t.matcap?"#define USE_MATCAP":"",t.envMap?"#define USE_ENVMAP":"",t.envMap?"#define "+f:"",t.envMap?"#define "+p:"",t.envMap?"#define "+g:"",v?"#define CUBEUV_TEXEL_WIDTH "+v.texelWidth:"",v?"#define CUBEUV_TEXEL_HEIGHT "+v.texelHeight:"",v?"#define CUBEUV_MAX_MIP "+v.maxMip+".0":"",t.lightMap?"#define USE_LIGHTMAP":"",t.aoMap?"#define USE_AOMAP":"",t.bumpMap?"#define USE_BUMPMAP":"",t.normalMap?"#define USE_NORMALMAP":"",t.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",t.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",t.emissiveMap?"#define USE_EMISSIVEMAP":"",t.anisotropy?"#define USE_ANISOTROPY":"",t.anisotropyMap?"#define USE_ANISOTROPYMAP":"",t.clearcoat?"#define USE_CLEARCOAT":"",t.clearcoatMap?"#define USE_CLEARCOATMAP":"",t.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",t.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",t.dispersion?"#define USE_DISPERSION":"",t.iridescence?"#define USE_IRIDESCENCE":"",t.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",t.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",t.specularMap?"#define USE_SPECULARMAP":"",t.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",t.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",t.roughnessMap?"#define USE_ROUGHNESSMAP":"",t.metalnessMap?"#define USE_METALNESSMAP":"",t.alphaMap?"#define USE_ALPHAMAP":"",t.alphaTest?"#define USE_ALPHATEST":"",t.alphaHash?"#define USE_ALPHAHASH":"",t.sheen?"#define USE_SHEEN":"",t.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",t.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",t.transmission?"#define USE_TRANSMISSION":"",t.transmissionMap?"#define USE_TRANSMISSIONMAP":"",t.thicknessMap?"#define USE_THICKNESSMAP":"",t.vertexTangents&&t.flatShading===!1?"#define USE_TANGENT":"",t.vertexColors||t.instancingColor||t.batchingColor?"#define USE_COLOR":"",t.vertexAlphas?"#define USE_COLOR_ALPHA":"",t.vertexUv1s?"#define USE_UV1":"",t.vertexUv2s?"#define USE_UV2":"",t.vertexUv3s?"#define USE_UV3":"",t.pointsUvs?"#define USE_POINTS_UV":"",t.gradientMap?"#define USE_GRADIENTMAP":"",t.flatShading?"#define FLAT_SHADED":"",t.doubleSided?"#define DOUBLE_SIDED":"",t.flipSided?"#define FLIP_SIDED":"",t.shadowMapEnabled?"#define USE_SHADOWMAP":"",t.shadowMapEnabled?"#define "+u:"",t.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",t.numLightProbes>0?"#define USE_LIGHT_PROBES":"",t.decodeVideoTexture?"#define DECODE_VIDEO_TEXTURE":"",t.decodeVideoTextureEmissive?"#define DECODE_VIDEO_TEXTURE_EMISSIVE":"",t.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",t.reversedDepthBuffer?"#define USE_REVERSEDEPTHBUF":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",t.toneMapping!==Bc?"#define TONE_MAPPING":"",t.toneMapping!==Bc?Ln.tonemapping_pars_fragment:"",t.toneMapping!==Bc?Y$("toneMapping",t.toneMapping):"",t.dithering?"#define DITHERING":"",t.opaque?"#define OPAQUE":"",Ln.colorspace_pars_fragment,q$("linearToOutputTexel",t.outputColorSpace),Z$(),t.useDepthPacking?"#define DEPTH_PACKING "+t.depthPacking:"",`
`].filter(Sy).join(`
`)),s=tC(s),s=JN(s,t),s=QN(s,t),l=tC(l),l=JN(l,t),l=QN(l,t),s=eP(s),l=eP(l),t.isRawShaderMaterial!==!0&&(R=`#version 300 es
`,E=[_,"#define attribute in","#define varying out","#define texture2D texture"].join(`
`)+`
`+E,b=["#define varying in",t.glslVersion===XA?"":"layout(location = 0) out highp vec4 pc_fragColor;",t.glslVersion===XA?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join(`
`)+`
`+b);const C=R+E+s,A=R+b+l,N=ZN(r,r.VERTEX_SHADER,C),L=ZN(r,r.FRAGMENT_SHADER,A);r.attachShader(w,N),r.attachShader(w,L),t.index0AttributeName!==void 0?r.bindAttribLocation(w,0,t.index0AttributeName):t.morphTargets===!0&&r.bindAttribLocation(w,0,"position"),r.linkProgram(w);function B(X){if(i.debug.checkShaderErrors){const te=r.getProgramInfoLog(w)||"",se=r.getShaderInfoLog(N)||"",ae=r.getShaderInfoLog(L)||"",ue=te.trim(),G=se.trim(),Y=ae.trim();let Q=!0,ye=!0;if(r.getProgramParameter(w,r.LINK_STATUS)===!1)if(Q=!1,typeof i.debug.onShaderError=="function")i.debug.onShaderError(r,w,N,L);else{const F=$N(r,N,"vertex"),fe=$N(r,L,"fragment");console.error("THREE.WebGLProgram: Shader Error "+r.getError()+" - VALIDATE_STATUS "+r.getProgramParameter(w,r.VALIDATE_STATUS)+`

Material Name: `+X.name+`
Material Type: `+X.type+`

Program Info Log: `+ue+`
`+F+`
`+fe)}else ue!==""?console.warn("THREE.WebGLProgram: Program Info Log:",ue):(G===""||Y==="")&&(ye=!1);ye&&(X.diagnostics={runnable:Q,programLog:ue,vertexShader:{log:G,prefix:E},fragmentShader:{log:Y,prefix:b}})}r.deleteShader(N),r.deleteShader(L),U=new wS(r,w),P=J$(r,w)}let U;this.getUniforms=function(){return U===void 0&&B(this),U};let P;this.getAttributes=function(){return P===void 0&&B(this),P};let z=t.rendererExtensionParallelShaderCompile===!1;return this.isReady=function(){return z===!1&&(z=r.getProgramParameter(w,j$)),z},this.destroy=function(){n.releaseStatesOfProgram(this),r.deleteProgram(w),this.program=void 0},this.type=t.shaderType,this.name=t.shaderName,this.id=G$++,this.cacheKey=e,this.usedTimes=1,this.program=w,this.vertexShader=N,this.fragmentShader=L,this}let uJ=0;class fJ{constructor(){this.shaderCache=new Map,this.materialCache=new Map}update(e){const t=e.vertexShader,n=e.fragmentShader,r=this._getShaderStage(t),a=this._getShaderStage(n),s=this._getShaderCacheForMaterial(e);return s.has(r)===!1&&(s.add(r),r.usedTimes++),s.has(a)===!1&&(s.add(a),a.usedTimes++),this}remove(e){const t=this.materialCache.get(e);for(const n of t)n.usedTimes--,n.usedTimes===0&&this.shaderCache.delete(n.code);return this.materialCache.delete(e),this}getVertexShaderID(e){return this._getShaderStage(e.vertexShader).id}getFragmentShaderID(e){return this._getShaderStage(e.fragmentShader).id}dispose(){this.shaderCache.clear(),this.materialCache.clear()}_getShaderCacheForMaterial(e){const t=this.materialCache;let n=t.get(e);return n===void 0&&(n=new Set,t.set(e,n)),n}_getShaderStage(e){const t=this.shaderCache;let n=t.get(e);return n===void 0&&(n=new hJ(e),t.set(e,n)),n}}class hJ{constructor(e){this.id=uJ++,this.code=e,this.usedTimes=0}}function dJ(i,e,t,n,r,a,s){const l=new lg,u=new fJ,f=new Set,p=[],g=r.logarithmicDepthBuffer,v=r.vertexTextures;let _=r.precision;const S={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"};function w(P){return f.add(P),P===0?"uv":`uv${P}`}function E(P,z,X,te,se){const ae=te.fog,ue=se.geometry,G=P.isMeshStandardMaterial?te.environment:null,Y=(P.isMeshStandardMaterial?t:e).get(P.envMap||G),Q=Y&&Y.mapping===Sg?Y.image.height:null,ye=S[P.type];P.precision!==null&&(_=r.getMaxPrecision(P.precision),_!==P.precision&&console.warn("THREE.WebGLProgram.getParameters:",P.precision,"not supported, using",_,"instead."));const F=ue.morphAttributes.position||ue.morphAttributes.normal||ue.morphAttributes.color,fe=F!==void 0?F.length:0;let Se=0;ue.morphAttributes.position!==void 0&&(Se=1),ue.morphAttributes.normal!==void 0&&(Se=2),ue.morphAttributes.color!==void 0&&(Se=3);let Ce,ke,we,ee;if(ye){const Ct=Pl[ye];Ce=Ct.vertexShader,ke=Ct.fragmentShader}else Ce=P.vertexShader,ke=P.fragmentShader,u.update(P),we=u.getVertexShaderID(P),ee=u.getFragmentShaderID(P);const ie=i.getRenderTarget(),_e=i.state.buffers.depth.getReversed(),Be=se.isInstancedMesh===!0,Ze=se.isBatchedMesh===!0,gt=!!P.map,pt=!!P.matcap,ne=!!Y,be=!!P.aoMap,De=!!P.lightMap,Ye=!!P.bumpMap,re=!!P.normalMap,Ve=!!P.displacementMap,Ke=!!P.emissiveMap,$e=!!P.metalnessMap,_t=!!P.roughnessMap,vt=P.anisotropy>0,$=P.clearcoat>0,q=P.dispersion>0,xe=P.iridescence>0,Ne=P.sheen>0,ze=P.transmission>0,Ue=vt&&!!P.anisotropyMap,mt=$&&!!P.clearcoatMap,ht=$&&!!P.clearcoatNormalMap,Dt=$&&!!P.clearcoatRoughnessMap,wt=xe&&!!P.iridescenceMap,it=xe&&!!P.iridescenceThicknessMap,ct=Ne&&!!P.sheenColorMap,zt=Ne&&!!P.sheenRoughnessMap,Rt=!!P.specularMap,ft=!!P.specularColorMap,Ut=!!P.specularIntensityMap,de=ze&&!!P.transmissionMap,Oe=ze&&!!P.thicknessMap,dt=!!P.gradientMap,At=!!P.alphaMap,ot=P.alphaTest>0,et=!!P.alphaHash,Lt=!!P.extensions;let Xt=Bc;P.toneMapped&&(ie===null||ie.isXRRenderTarget===!0)&&(Xt=i.toneMapping);const bn={shaderID:ye,shaderType:P.type,shaderName:P.name,vertexShader:Ce,fragmentShader:ke,defines:P.defines,customVertexShaderID:we,customFragmentShaderID:ee,isRawShaderMaterial:P.isRawShaderMaterial===!0,glslVersion:P.glslVersion,precision:_,batching:Ze,batchingColor:Ze&&se._colorsTexture!==null,instancing:Be,instancingColor:Be&&se.instanceColor!==null,instancingMorph:Be&&se.morphTexture!==null,supportsVertexTextures:v,outputColorSpace:ie===null?i.outputColorSpace:ie.isXRRenderTarget===!0?ie.texture.colorSpace:zl,alphaToCoverage:!!P.alphaToCoverage,map:gt,matcap:pt,envMap:ne,envMapMode:ne&&Y.mapping,envMapCubeUVHeight:Q,aoMap:be,lightMap:De,bumpMap:Ye,normalMap:re,displacementMap:v&&Ve,emissiveMap:Ke,normalMapObjectSpace:re&&P.normalMapType===hB,normalMapTangentSpace:re&&P.normalMapType===Th,metalnessMap:$e,roughnessMap:_t,anisotropy:vt,anisotropyMap:Ue,clearcoat:$,clearcoatMap:mt,clearcoatNormalMap:ht,clearcoatRoughnessMap:Dt,dispersion:q,iridescence:xe,iridescenceMap:wt,iridescenceThicknessMap:it,sheen:Ne,sheenColorMap:ct,sheenRoughnessMap:zt,specularMap:Rt,specularColorMap:ft,specularIntensityMap:Ut,transmission:ze,transmissionMap:de,thicknessMap:Oe,gradientMap:dt,opaque:P.transparent===!1&&P.blending===dp&&P.alphaToCoverage===!1,alphaMap:At,alphaTest:ot,alphaHash:et,combine:P.combine,mapUv:gt&&w(P.map.channel),aoMapUv:be&&w(P.aoMap.channel),lightMapUv:De&&w(P.lightMap.channel),bumpMapUv:Ye&&w(P.bumpMap.channel),normalMapUv:re&&w(P.normalMap.channel),displacementMapUv:Ve&&w(P.displacementMap.channel),emissiveMapUv:Ke&&w(P.emissiveMap.channel),metalnessMapUv:$e&&w(P.metalnessMap.channel),roughnessMapUv:_t&&w(P.roughnessMap.channel),anisotropyMapUv:Ue&&w(P.anisotropyMap.channel),clearcoatMapUv:mt&&w(P.clearcoatMap.channel),clearcoatNormalMapUv:ht&&w(P.clearcoatNormalMap.channel),clearcoatRoughnessMapUv:Dt&&w(P.clearcoatRoughnessMap.channel),iridescenceMapUv:wt&&w(P.iridescenceMap.channel),iridescenceThicknessMapUv:it&&w(P.iridescenceThicknessMap.channel),sheenColorMapUv:ct&&w(P.sheenColorMap.channel),sheenRoughnessMapUv:zt&&w(P.sheenRoughnessMap.channel),specularMapUv:Rt&&w(P.specularMap.channel),specularColorMapUv:ft&&w(P.specularColorMap.channel),specularIntensityMapUv:Ut&&w(P.specularIntensityMap.channel),transmissionMapUv:de&&w(P.transmissionMap.channel),thicknessMapUv:Oe&&w(P.thicknessMap.channel),alphaMapUv:At&&w(P.alphaMap.channel),vertexTangents:!!ue.attributes.tangent&&(re||vt),vertexColors:P.vertexColors,vertexAlphas:P.vertexColors===!0&&!!ue.attributes.color&&ue.attributes.color.itemSize===4,pointsUvs:se.isPoints===!0&&!!ue.attributes.uv&&(gt||At),fog:!!ae,useFog:P.fog===!0,fogExp2:!!ae&&ae.isFogExp2,flatShading:P.flatShading===!0&&P.wireframe===!1,sizeAttenuation:P.sizeAttenuation===!0,logarithmicDepthBuffer:g,reversedDepthBuffer:_e,skinning:se.isSkinnedMesh===!0,morphTargets:ue.morphAttributes.position!==void 0,morphNormals:ue.morphAttributes.normal!==void 0,morphColors:ue.morphAttributes.color!==void 0,morphTargetsCount:fe,morphTextureStride:Se,numDirLights:z.directional.length,numPointLights:z.point.length,numSpotLights:z.spot.length,numSpotLightMaps:z.spotLightMap.length,numRectAreaLights:z.rectArea.length,numHemiLights:z.hemi.length,numDirLightShadows:z.directionalShadowMap.length,numPointLightShadows:z.pointShadowMap.length,numSpotLightShadows:z.spotShadowMap.length,numSpotLightShadowsWithMaps:z.numSpotLightShadowsWithMaps,numLightProbes:z.numLightProbes,numClippingPlanes:s.numPlanes,numClipIntersection:s.numIntersection,dithering:P.dithering,shadowMapEnabled:i.shadowMap.enabled&&X.length>0,shadowMapType:i.shadowMap.type,toneMapping:Xt,decodeVideoTexture:gt&&P.map.isVideoTexture===!0&&Qn.getTransfer(P.map.colorSpace)===bi,decodeVideoTextureEmissive:Ke&&P.emissiveMap.isVideoTexture===!0&&Qn.getTransfer(P.emissiveMap.colorSpace)===bi,premultipliedAlpha:P.premultipliedAlpha,doubleSided:P.side===Ll,flipSided:P.side===vs,useDepthPacking:P.depthPacking>=0,depthPacking:P.depthPacking||0,index0AttributeName:P.index0AttributeName,extensionClipCullDistance:Lt&&P.extensions.clipCullDistance===!0&&n.has("WEBGL_clip_cull_distance"),extensionMultiDraw:(Lt&&P.extensions.multiDraw===!0||Ze)&&n.has("WEBGL_multi_draw"),rendererExtensionParallelShaderCompile:n.has("KHR_parallel_shader_compile"),customProgramCacheKey:P.customProgramCacheKey()};return bn.vertexUv1s=f.has(1),bn.vertexUv2s=f.has(2),bn.vertexUv3s=f.has(3),f.clear(),bn}function b(P){const z=[];if(P.shaderID?z.push(P.shaderID):(z.push(P.customVertexShaderID),z.push(P.customFragmentShaderID)),P.defines!==void 0)for(const X in P.defines)z.push(X),z.push(P.defines[X]);return P.isRawShaderMaterial===!1&&(R(z,P),C(z,P),z.push(i.outputColorSpace)),z.push(P.customProgramCacheKey),z.join()}function R(P,z){P.push(z.precision),P.push(z.outputColorSpace),P.push(z.envMapMode),P.push(z.envMapCubeUVHeight),P.push(z.mapUv),P.push(z.alphaMapUv),P.push(z.lightMapUv),P.push(z.aoMapUv),P.push(z.bumpMapUv),P.push(z.normalMapUv),P.push(z.displacementMapUv),P.push(z.emissiveMapUv),P.push(z.metalnessMapUv),P.push(z.roughnessMapUv),P.push(z.anisotropyMapUv),P.push(z.clearcoatMapUv),P.push(z.clearcoatNormalMapUv),P.push(z.clearcoatRoughnessMapUv),P.push(z.iridescenceMapUv),P.push(z.iridescenceThicknessMapUv),P.push(z.sheenColorMapUv),P.push(z.sheenRoughnessMapUv),P.push(z.specularMapUv),P.push(z.specularColorMapUv),P.push(z.specularIntensityMapUv),P.push(z.transmissionMapUv),P.push(z.thicknessMapUv),P.push(z.combine),P.push(z.fogExp2),P.push(z.sizeAttenuation),P.push(z.morphTargetsCount),P.push(z.morphAttributeCount),P.push(z.numDirLights),P.push(z.numPointLights),P.push(z.numSpotLights),P.push(z.numSpotLightMaps),P.push(z.numHemiLights),P.push(z.numRectAreaLights),P.push(z.numDirLightShadows),P.push(z.numPointLightShadows),P.push(z.numSpotLightShadows),P.push(z.numSpotLightShadowsWithMaps),P.push(z.numLightProbes),P.push(z.shadowMapType),P.push(z.toneMapping),P.push(z.numClippingPlanes),P.push(z.numClipIntersection),P.push(z.depthPacking)}function C(P,z){l.disableAll(),z.supportsVertexTextures&&l.enable(0),z.instancing&&l.enable(1),z.instancingColor&&l.enable(2),z.instancingMorph&&l.enable(3),z.matcap&&l.enable(4),z.envMap&&l.enable(5),z.normalMapObjectSpace&&l.enable(6),z.normalMapTangentSpace&&l.enable(7),z.clearcoat&&l.enable(8),z.iridescence&&l.enable(9),z.alphaTest&&l.enable(10),z.vertexColors&&l.enable(11),z.vertexAlphas&&l.enable(12),z.vertexUv1s&&l.enable(13),z.vertexUv2s&&l.enable(14),z.vertexUv3s&&l.enable(15),z.vertexTangents&&l.enable(16),z.anisotropy&&l.enable(17),z.alphaHash&&l.enable(18),z.batching&&l.enable(19),z.dispersion&&l.enable(20),z.batchingColor&&l.enable(21),z.gradientMap&&l.enable(22),P.push(l.mask),l.disableAll(),z.fog&&l.enable(0),z.useFog&&l.enable(1),z.flatShading&&l.enable(2),z.logarithmicDepthBuffer&&l.enable(3),z.reversedDepthBuffer&&l.enable(4),z.skinning&&l.enable(5),z.morphTargets&&l.enable(6),z.morphNormals&&l.enable(7),z.morphColors&&l.enable(8),z.premultipliedAlpha&&l.enable(9),z.shadowMapEnabled&&l.enable(10),z.doubleSided&&l.enable(11),z.flipSided&&l.enable(12),z.useDepthPacking&&l.enable(13),z.dithering&&l.enable(14),z.transmission&&l.enable(15),z.sheen&&l.enable(16),z.opaque&&l.enable(17),z.pointsUvs&&l.enable(18),z.decodeVideoTexture&&l.enable(19),z.decodeVideoTextureEmissive&&l.enable(20),z.alphaToCoverage&&l.enable(21),P.push(l.mask)}function A(P){const z=S[P.type];let X;if(z){const te=Pl[z];X=MB.clone(te.uniforms)}else X=P.uniforms;return X}function N(P,z){let X;for(let te=0,se=p.length;te<se;te++){const ae=p[te];if(ae.cacheKey===z){X=ae,++X.usedTimes;break}}return X===void 0&&(X=new cJ(i,z,P,a),p.push(X)),X}function L(P){if(--P.usedTimes===0){const z=p.indexOf(P);p[z]=p[p.length-1],p.pop(),P.destroy()}}function B(P){u.remove(P)}function U(){u.dispose()}return{getParameters:E,getProgramCacheKey:b,getUniforms:A,acquireProgram:N,releaseProgram:L,releaseShaderCache:B,programs:p,dispose:U}}function pJ(){let i=new WeakMap;function e(s){return i.has(s)}function t(s){let l=i.get(s);return l===void 0&&(l={},i.set(s,l)),l}function n(s){i.delete(s)}function r(s,l,u){i.get(s)[l]=u}function a(){i=new WeakMap}return{has:e,get:t,remove:n,update:r,dispose:a}}function mJ(i,e){return i.groupOrder!==e.groupOrder?i.groupOrder-e.groupOrder:i.renderOrder!==e.renderOrder?i.renderOrder-e.renderOrder:i.material.id!==e.material.id?i.material.id-e.material.id:i.z!==e.z?i.z-e.z:i.id-e.id}function nP(i,e){return i.groupOrder!==e.groupOrder?i.groupOrder-e.groupOrder:i.renderOrder!==e.renderOrder?i.renderOrder-e.renderOrder:i.z!==e.z?e.z-i.z:i.id-e.id}function iP(){const i=[];let e=0;const t=[],n=[],r=[];function a(){e=0,t.length=0,n.length=0,r.length=0}function s(g,v,_,S,w,E){let b=i[e];return b===void 0?(b={id:g.id,object:g,geometry:v,material:_,groupOrder:S,renderOrder:g.renderOrder,z:w,group:E},i[e]=b):(b.id=g.id,b.object=g,b.geometry=v,b.material=_,b.groupOrder=S,b.renderOrder=g.renderOrder,b.z=w,b.group=E),e++,b}function l(g,v,_,S,w,E){const b=s(g,v,_,S,w,E);_.transmission>0?n.push(b):_.transparent===!0?r.push(b):t.push(b)}function u(g,v,_,S,w,E){const b=s(g,v,_,S,w,E);_.transmission>0?n.unshift(b):_.transparent===!0?r.unshift(b):t.unshift(b)}function f(g,v){t.length>1&&t.sort(g||mJ),n.length>1&&n.sort(v||nP),r.length>1&&r.sort(v||nP)}function p(){for(let g=e,v=i.length;g<v;g++){const _=i[g];if(_.id===null)break;_.id=null,_.object=null,_.geometry=null,_.material=null,_.group=null}}return{opaque:t,transmissive:n,transparent:r,init:a,push:l,unshift:u,finish:p,sort:f}}function gJ(){let i=new WeakMap;function e(n,r){const a=i.get(n);let s;return a===void 0?(s=new iP,i.set(n,[s])):r>=a.length?(s=new iP,a.push(s)):s=a[r],s}function t(){i=new WeakMap}return{get:e,dispose:t}}function vJ(){const i={};return{get:function(e){if(i[e.id]!==void 0)return i[e.id];let t;switch(e.type){case"DirectionalLight":t={direction:new le,color:new Vt};break;case"SpotLight":t={position:new le,direction:new le,color:new Vt,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":t={position:new le,color:new Vt,distance:0,decay:0};break;case"HemisphereLight":t={direction:new le,skyColor:new Vt,groundColor:new Vt};break;case"RectAreaLight":t={color:new Vt,position:new le,halfWidth:new le,halfHeight:new le};break}return i[e.id]=t,t}}}function yJ(){const i={};return{get:function(e){if(i[e.id]!==void 0)return i[e.id];let t;switch(e.type){case"DirectionalLight":t={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new ut};break;case"SpotLight":t={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new ut};break;case"PointLight":t={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new ut,shadowCameraNear:1,shadowCameraFar:1e3};break}return i[e.id]=t,t}}}let _J=0;function xJ(i,e){return(e.castShadow?2:0)-(i.castShadow?2:0)+(e.map?1:0)-(i.map?1:0)}function bJ(i){const e=new vJ,t=yJ(),n={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1,numSpotMaps:-1,numLightProbes:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotLightMap:[],spotShadow:[],spotShadowMap:[],spotLightMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[],numSpotLightShadowsWithMaps:0,numLightProbes:0};for(let f=0;f<9;f++)n.probe.push(new le);const r=new le,a=new gn,s=new gn;function l(f){let p=0,g=0,v=0;for(let P=0;P<9;P++)n.probe[P].set(0,0,0);let _=0,S=0,w=0,E=0,b=0,R=0,C=0,A=0,N=0,L=0,B=0;f.sort(xJ);for(let P=0,z=f.length;P<z;P++){const X=f[P],te=X.color,se=X.intensity,ae=X.distance,ue=X.shadow&&X.shadow.map?X.shadow.map.texture:null;if(X.isAmbientLight)p+=te.r*se,g+=te.g*se,v+=te.b*se;else if(X.isLightProbe){for(let G=0;G<9;G++)n.probe[G].addScaledVector(X.sh.coefficients[G],se);B++}else if(X.isDirectionalLight){const G=e.get(X);if(G.color.copy(X.color).multiplyScalar(X.intensity),X.castShadow){const Y=X.shadow,Q=t.get(X);Q.shadowIntensity=Y.intensity,Q.shadowBias=Y.bias,Q.shadowNormalBias=Y.normalBias,Q.shadowRadius=Y.radius,Q.shadowMapSize=Y.mapSize,n.directionalShadow[_]=Q,n.directionalShadowMap[_]=ue,n.directionalShadowMatrix[_]=X.shadow.matrix,R++}n.directional[_]=G,_++}else if(X.isSpotLight){const G=e.get(X);G.position.setFromMatrixPosition(X.matrixWorld),G.color.copy(te).multiplyScalar(se),G.distance=ae,G.coneCos=Math.cos(X.angle),G.penumbraCos=Math.cos(X.angle*(1-X.penumbra)),G.decay=X.decay,n.spot[w]=G;const Y=X.shadow;if(X.map&&(n.spotLightMap[N]=X.map,N++,Y.updateMatrices(X),X.castShadow&&L++),n.spotLightMatrix[w]=Y.matrix,X.castShadow){const Q=t.get(X);Q.shadowIntensity=Y.intensity,Q.shadowBias=Y.bias,Q.shadowNormalBias=Y.normalBias,Q.shadowRadius=Y.radius,Q.shadowMapSize=Y.mapSize,n.spotShadow[w]=Q,n.spotShadowMap[w]=ue,A++}w++}else if(X.isRectAreaLight){const G=e.get(X);G.color.copy(te).multiplyScalar(se),G.halfWidth.set(X.width*.5,0,0),G.halfHeight.set(0,X.height*.5,0),n.rectArea[E]=G,E++}else if(X.isPointLight){const G=e.get(X);if(G.color.copy(X.color).multiplyScalar(X.intensity),G.distance=X.distance,G.decay=X.decay,X.castShadow){const Y=X.shadow,Q=t.get(X);Q.shadowIntensity=Y.intensity,Q.shadowBias=Y.bias,Q.shadowNormalBias=Y.normalBias,Q.shadowRadius=Y.radius,Q.shadowMapSize=Y.mapSize,Q.shadowCameraNear=Y.camera.near,Q.shadowCameraFar=Y.camera.far,n.pointShadow[S]=Q,n.pointShadowMap[S]=ue,n.pointShadowMatrix[S]=X.shadow.matrix,C++}n.point[S]=G,S++}else if(X.isHemisphereLight){const G=e.get(X);G.skyColor.copy(X.color).multiplyScalar(se),G.groundColor.copy(X.groundColor).multiplyScalar(se),n.hemi[b]=G,b++}}E>0&&(i.has("OES_texture_float_linear")===!0?(n.rectAreaLTC1=Pt.LTC_FLOAT_1,n.rectAreaLTC2=Pt.LTC_FLOAT_2):(n.rectAreaLTC1=Pt.LTC_HALF_1,n.rectAreaLTC2=Pt.LTC_HALF_2)),n.ambient[0]=p,n.ambient[1]=g,n.ambient[2]=v;const U=n.hash;(U.directionalLength!==_||U.pointLength!==S||U.spotLength!==w||U.rectAreaLength!==E||U.hemiLength!==b||U.numDirectionalShadows!==R||U.numPointShadows!==C||U.numSpotShadows!==A||U.numSpotMaps!==N||U.numLightProbes!==B)&&(n.directional.length=_,n.spot.length=w,n.rectArea.length=E,n.point.length=S,n.hemi.length=b,n.directionalShadow.length=R,n.directionalShadowMap.length=R,n.pointShadow.length=C,n.pointShadowMap.length=C,n.spotShadow.length=A,n.spotShadowMap.length=A,n.directionalShadowMatrix.length=R,n.pointShadowMatrix.length=C,n.spotLightMatrix.length=A+N-L,n.spotLightMap.length=N,n.numSpotLightShadowsWithMaps=L,n.numLightProbes=B,U.directionalLength=_,U.pointLength=S,U.spotLength=w,U.rectAreaLength=E,U.hemiLength=b,U.numDirectionalShadows=R,U.numPointShadows=C,U.numSpotShadows=A,U.numSpotMaps=N,U.numLightProbes=B,n.version=_J++)}function u(f,p){let g=0,v=0,_=0,S=0,w=0;const E=p.matrixWorldInverse;for(let b=0,R=f.length;b<R;b++){const C=f[b];if(C.isDirectionalLight){const A=n.directional[g];A.direction.setFromMatrixPosition(C.matrixWorld),r.setFromMatrixPosition(C.target.matrixWorld),A.direction.sub(r),A.direction.transformDirection(E),g++}else if(C.isSpotLight){const A=n.spot[_];A.position.setFromMatrixPosition(C.matrixWorld),A.position.applyMatrix4(E),A.direction.setFromMatrixPosition(C.matrixWorld),r.setFromMatrixPosition(C.target.matrixWorld),A.direction.sub(r),A.direction.transformDirection(E),_++}else if(C.isRectAreaLight){const A=n.rectArea[S];A.position.setFromMatrixPosition(C.matrixWorld),A.position.applyMatrix4(E),s.identity(),a.copy(C.matrixWorld),a.premultiply(E),s.extractRotation(a),A.halfWidth.set(C.width*.5,0,0),A.halfHeight.set(0,C.height*.5,0),A.halfWidth.applyMatrix4(s),A.halfHeight.applyMatrix4(s),S++}else if(C.isPointLight){const A=n.point[v];A.position.setFromMatrixPosition(C.matrixWorld),A.position.applyMatrix4(E),v++}else if(C.isHemisphereLight){const A=n.hemi[w];A.direction.setFromMatrixPosition(C.matrixWorld),A.direction.transformDirection(E),w++}}}return{setup:l,setupView:u,state:n}}function rP(i){const e=new bJ(i),t=[],n=[];function r(p){f.camera=p,t.length=0,n.length=0}function a(p){t.push(p)}function s(p){n.push(p)}function l(){e.setup(t)}function u(p){e.setupView(t,p)}const f={lightsArray:t,shadowsArray:n,camera:null,lights:e,transmissionRenderTarget:{}};return{init:r,state:f,setupLights:l,setupLightsView:u,pushLight:a,pushShadow:s}}function SJ(i){let e=new WeakMap;function t(r,a=0){const s=e.get(r);let l;return s===void 0?(l=new rP(i),e.set(r,[l])):a>=s.length?(l=new rP(i),s.push(l)):l=s[a],l}function n(){e=new WeakMap}return{get:t,dispose:n}}const wJ=`void main() {
	gl_Position = vec4( position, 1.0 );
}`,EJ=`uniform sampler2D shadow_pass;
uniform vec2 resolution;
uniform float radius;
#include <packing>
void main() {
	const float samples = float( VSM_SAMPLES );
	float mean = 0.0;
	float squared_mean = 0.0;
	float uvStride = samples <= 1.0 ? 0.0 : 2.0 / ( samples - 1.0 );
	float uvStart = samples <= 1.0 ? 0.0 : - 1.0;
	for ( float i = 0.0; i < samples; i ++ ) {
		float uvOffset = uvStart + i * uvStride;
		#ifdef HORIZONTAL_PASS
			vec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( uvOffset, 0.0 ) * radius ) / resolution ) );
			mean += distribution.x;
			squared_mean += distribution.y * distribution.y + distribution.x * distribution.x;
		#else
			float depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, uvOffset ) * radius ) / resolution ) );
			mean += depth;
			squared_mean += depth * depth;
		#endif
	}
	mean = mean / samples;
	squared_mean = squared_mean / samples;
	float std_dev = sqrt( squared_mean - mean * mean );
	gl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );
}`;function MJ(i,e,t){let n=new Eg;const r=new ut,a=new ut,s=new ri,l=new r3({depthPacking:fB}),u=new a3,f={},p=t.maxTextureSize,g={[ku]:vs,[vs]:ku,[Ll]:Ll},v=new Ws({defines:{VSM_SAMPLES:8},uniforms:{shadow_pass:{value:null},resolution:{value:new ut},radius:{value:4}},vertexShader:wJ,fragmentShader:EJ}),_=v.clone();_.defines.HORIZONTAL_PASS=1;const S=new Nn;S.setAttribute("position",new Ri(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));const w=new ar(S,v),E=this;this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=aE;let b=this.type;this.render=function(L,B,U){if(E.enabled===!1||E.autoUpdate===!1&&E.needsUpdate===!1||L.length===0)return;const P=i.getRenderTarget(),z=i.getActiveCubeFace(),X=i.getActiveMipmapLevel(),te=i.state;te.setBlending(Ic),te.buffers.depth.getReversed()?te.buffers.color.setClear(0,0,0,0):te.buffers.color.setClear(1,1,1,1),te.buffers.depth.setTest(!0),te.setScissorTest(!1);const se=b!==Ol&&this.type===Ol,ae=b===Ol&&this.type!==Ol;for(let ue=0,G=L.length;ue<G;ue++){const Y=L[ue],Q=Y.shadow;if(Q===void 0){console.warn("THREE.WebGLShadowMap:",Y,"has no shadow.");continue}if(Q.autoUpdate===!1&&Q.needsUpdate===!1)continue;r.copy(Q.mapSize);const ye=Q.getFrameExtents();if(r.multiply(ye),a.copy(Q.mapSize),(r.x>p||r.y>p)&&(r.x>p&&(a.x=Math.floor(p/ye.x),r.x=a.x*ye.x,Q.mapSize.x=a.x),r.y>p&&(a.y=Math.floor(p/ye.y),r.y=a.y*ye.y,Q.mapSize.y=a.y)),Q.map===null||se===!0||ae===!0){const fe=this.type!==Ol?{minFilter:xa,magFilter:xa}:{};Q.map!==null&&Q.map.dispose(),Q.map=new Jo(r.x,r.y,fe),Q.map.texture.name=Y.name+".shadowMap",Q.camera.updateProjectionMatrix()}i.setRenderTarget(Q.map),i.clear();const F=Q.getViewportCount();for(let fe=0;fe<F;fe++){const Se=Q.getViewport(fe);s.set(a.x*Se.x,a.y*Se.y,a.x*Se.z,a.y*Se.w),te.viewport(s),Q.updateMatrices(Y,fe),n=Q.getFrustum(),A(B,U,Q.camera,Y,this.type)}Q.isPointLightShadow!==!0&&this.type===Ol&&R(Q,U),Q.needsUpdate=!1}b=this.type,E.needsUpdate=!1,i.setRenderTarget(P,z,X)};function R(L,B){const U=e.update(w);v.defines.VSM_SAMPLES!==L.blurSamples&&(v.defines.VSM_SAMPLES=L.blurSamples,_.defines.VSM_SAMPLES=L.blurSamples,v.needsUpdate=!0,_.needsUpdate=!0),L.mapPass===null&&(L.mapPass=new Jo(r.x,r.y)),v.uniforms.shadow_pass.value=L.map.texture,v.uniforms.resolution.value=L.mapSize,v.uniforms.radius.value=L.radius,i.setRenderTarget(L.mapPass),i.clear(),i.renderBufferDirect(B,null,U,v,w,null),_.uniforms.shadow_pass.value=L.mapPass.texture,_.uniforms.resolution.value=L.mapSize,_.uniforms.radius.value=L.radius,i.setRenderTarget(L.map),i.clear(),i.renderBufferDirect(B,null,U,_,w,null)}function C(L,B,U,P){let z=null;const X=U.isPointLight===!0?L.customDistanceMaterial:L.customDepthMaterial;if(X!==void 0)z=X;else if(z=U.isPointLight===!0?u:l,i.localClippingEnabled&&B.clipShadows===!0&&Array.isArray(B.clippingPlanes)&&B.clippingPlanes.length!==0||B.displacementMap&&B.displacementScale!==0||B.alphaMap&&B.alphaTest>0||B.map&&B.alphaTest>0||B.alphaToCoverage===!0){const te=z.uuid,se=B.uuid;let ae=f[te];ae===void 0&&(ae={},f[te]=ae);let ue=ae[se];ue===void 0&&(ue=z.clone(),ae[se]=ue,B.addEventListener("dispose",N)),z=ue}if(z.visible=B.visible,z.wireframe=B.wireframe,P===Ol?z.side=B.shadowSide!==null?B.shadowSide:B.side:z.side=B.shadowSide!==null?B.shadowSide:g[B.side],z.alphaMap=B.alphaMap,z.alphaTest=B.alphaToCoverage===!0?.5:B.alphaTest,z.map=B.map,z.clipShadows=B.clipShadows,z.clippingPlanes=B.clippingPlanes,z.clipIntersection=B.clipIntersection,z.displacementMap=B.displacementMap,z.displacementScale=B.displacementScale,z.displacementBias=B.displacementBias,z.wireframeLinewidth=B.wireframeLinewidth,z.linewidth=B.linewidth,U.isPointLight===!0&&z.isMeshDistanceMaterial===!0){const te=i.properties.get(z);te.light=U}return z}function A(L,B,U,P,z){if(L.visible===!1)return;if(L.layers.test(B.layers)&&(L.isMesh||L.isLine||L.isPoints)&&(L.castShadow||L.receiveShadow&&z===Ol)&&(!L.frustumCulled||n.intersectsObject(L))){L.modelViewMatrix.multiplyMatrices(U.matrixWorldInverse,L.matrixWorld);const se=e.update(L),ae=L.material;if(Array.isArray(ae)){const ue=se.groups;for(let G=0,Y=ue.length;G<Y;G++){const Q=ue[G],ye=ae[Q.materialIndex];if(ye&&ye.visible){const F=C(L,ye,P,z);L.onBeforeShadow(i,L,B,U,se,F,Q),i.renderBufferDirect(U,null,se,F,L,Q),L.onAfterShadow(i,L,B,U,se,F,Q)}}}else if(ae.visible){const ue=C(L,ae,P,z);L.onBeforeShadow(i,L,B,U,se,ue,null),i.renderBufferDirect(U,null,se,ue,L,null),L.onAfterShadow(i,L,B,U,se,ue,null)}}const te=L.children;for(let se=0,ae=te.length;se<ae;se++)A(te[se],B,U,P,z)}function N(L){L.target.removeEventListener("dispose",N);for(const U in f){const P=f[U],z=L.target.uuid;z in P&&(P[z].dispose(),delete P[z])}}}const TJ={[QS]:ew,[tw]:rw,[nw]:aw,[Sp]:iw,[ew]:QS,[rw]:tw,[aw]:nw,[iw]:Sp};function AJ(i,e){function t(){let de=!1;const Oe=new ri;let dt=null;const At=new ri(0,0,0,0);return{setMask:function(ot){dt!==ot&&!de&&(i.colorMask(ot,ot,ot,ot),dt=ot)},setLocked:function(ot){de=ot},setClear:function(ot,et,Lt,Xt,bn){bn===!0&&(ot*=Xt,et*=Xt,Lt*=Xt),Oe.set(ot,et,Lt,Xt),At.equals(Oe)===!1&&(i.clearColor(ot,et,Lt,Xt),At.copy(Oe))},reset:function(){de=!1,dt=null,At.set(-1,0,0,0)}}}function n(){let de=!1,Oe=!1,dt=null,At=null,ot=null;return{setReversed:function(et){if(Oe!==et){const Lt=e.get("EXT_clip_control");et?Lt.clipControlEXT(Lt.LOWER_LEFT_EXT,Lt.ZERO_TO_ONE_EXT):Lt.clipControlEXT(Lt.LOWER_LEFT_EXT,Lt.NEGATIVE_ONE_TO_ONE_EXT),Oe=et;const Xt=ot;ot=null,this.setClear(Xt)}},getReversed:function(){return Oe},setTest:function(et){et?ie(i.DEPTH_TEST):_e(i.DEPTH_TEST)},setMask:function(et){dt!==et&&!de&&(i.depthMask(et),dt=et)},setFunc:function(et){if(Oe&&(et=TJ[et]),At!==et){switch(et){case QS:i.depthFunc(i.NEVER);break;case ew:i.depthFunc(i.ALWAYS);break;case tw:i.depthFunc(i.LESS);break;case Sp:i.depthFunc(i.LEQUAL);break;case nw:i.depthFunc(i.EQUAL);break;case iw:i.depthFunc(i.GEQUAL);break;case rw:i.depthFunc(i.GREATER);break;case aw:i.depthFunc(i.NOTEQUAL);break;default:i.depthFunc(i.LEQUAL)}At=et}},setLocked:function(et){de=et},setClear:function(et){ot!==et&&(Oe&&(et=1-et),i.clearDepth(et),ot=et)},reset:function(){de=!1,dt=null,At=null,ot=null,Oe=!1}}}function r(){let de=!1,Oe=null,dt=null,At=null,ot=null,et=null,Lt=null,Xt=null,bn=null;return{setTest:function(Ct){de||(Ct?ie(i.STENCIL_TEST):_e(i.STENCIL_TEST))},setMask:function(Ct){Oe!==Ct&&!de&&(i.stencilMask(Ct),Oe=Ct)},setFunc:function(Ct,Gt,tn){(dt!==Ct||At!==Gt||ot!==tn)&&(i.stencilFunc(Ct,Gt,tn),dt=Ct,At=Gt,ot=tn)},setOp:function(Ct,Gt,tn){(et!==Ct||Lt!==Gt||Xt!==tn)&&(i.stencilOp(Ct,Gt,tn),et=Ct,Lt=Gt,Xt=tn)},setLocked:function(Ct){de=Ct},setClear:function(Ct){bn!==Ct&&(i.clearStencil(Ct),bn=Ct)},reset:function(){de=!1,Oe=null,dt=null,At=null,ot=null,et=null,Lt=null,Xt=null,bn=null}}}const a=new t,s=new n,l=new r,u=new WeakMap,f=new WeakMap;let p={},g={},v=new WeakMap,_=[],S=null,w=!1,E=null,b=null,R=null,C=null,A=null,N=null,L=null,B=new Vt(0,0,0),U=0,P=!1,z=null,X=null,te=null,se=null,ae=null;const ue=i.getParameter(i.MAX_COMBINED_TEXTURE_IMAGE_UNITS);let G=!1,Y=0;const Q=i.getParameter(i.VERSION);Q.indexOf("WebGL")!==-1?(Y=parseFloat(/^WebGL (\d)/.exec(Q)[1]),G=Y>=1):Q.indexOf("OpenGL ES")!==-1&&(Y=parseFloat(/^OpenGL ES (\d)/.exec(Q)[1]),G=Y>=2);let ye=null,F={};const fe=i.getParameter(i.SCISSOR_BOX),Se=i.getParameter(i.VIEWPORT),Ce=new ri().fromArray(fe),ke=new ri().fromArray(Se);function we(de,Oe,dt,At){const ot=new Uint8Array(4),et=i.createTexture();i.bindTexture(de,et),i.texParameteri(de,i.TEXTURE_MIN_FILTER,i.NEAREST),i.texParameteri(de,i.TEXTURE_MAG_FILTER,i.NEAREST);for(let Lt=0;Lt<dt;Lt++)de===i.TEXTURE_3D||de===i.TEXTURE_2D_ARRAY?i.texImage3D(Oe,0,i.RGBA,1,1,At,0,i.RGBA,i.UNSIGNED_BYTE,ot):i.texImage2D(Oe+Lt,0,i.RGBA,1,1,0,i.RGBA,i.UNSIGNED_BYTE,ot);return et}const ee={};ee[i.TEXTURE_2D]=we(i.TEXTURE_2D,i.TEXTURE_2D,1),ee[i.TEXTURE_CUBE_MAP]=we(i.TEXTURE_CUBE_MAP,i.TEXTURE_CUBE_MAP_POSITIVE_X,6),ee[i.TEXTURE_2D_ARRAY]=we(i.TEXTURE_2D_ARRAY,i.TEXTURE_2D_ARRAY,1,1),ee[i.TEXTURE_3D]=we(i.TEXTURE_3D,i.TEXTURE_3D,1,1),a.setClear(0,0,0,1),s.setClear(1),l.setClear(0),ie(i.DEPTH_TEST),s.setFunc(Sp),Ye(!1),re(kA),ie(i.CULL_FACE),be(Ic);function ie(de){p[de]!==!0&&(i.enable(de),p[de]=!0)}function _e(de){p[de]!==!1&&(i.disable(de),p[de]=!1)}function Be(de,Oe){return g[de]!==Oe?(i.bindFramebuffer(de,Oe),g[de]=Oe,de===i.DRAW_FRAMEBUFFER&&(g[i.FRAMEBUFFER]=Oe),de===i.FRAMEBUFFER&&(g[i.DRAW_FRAMEBUFFER]=Oe),!0):!1}function Ze(de,Oe){let dt=_,At=!1;if(de){dt=v.get(Oe),dt===void 0&&(dt=[],v.set(Oe,dt));const ot=de.textures;if(dt.length!==ot.length||dt[0]!==i.COLOR_ATTACHMENT0){for(let et=0,Lt=ot.length;et<Lt;et++)dt[et]=i.COLOR_ATTACHMENT0+et;dt.length=ot.length,At=!0}}else dt[0]!==i.BACK&&(dt[0]=i.BACK,At=!0);At&&i.drawBuffers(dt)}function gt(de){return S!==de?(i.useProgram(de),S=de,!0):!1}const pt={[th]:i.FUNC_ADD,[UI]:i.FUNC_SUBTRACT,[II]:i.FUNC_REVERSE_SUBTRACT};pt[BI]=i.MIN,pt[zI]=i.MAX;const ne={[kI]:i.ZERO,[FI]:i.ONE,[HI]:i.SRC_COLOR,[$S]:i.SRC_ALPHA,[qI]:i.SRC_ALPHA_SATURATE,[WI]:i.DST_COLOR,[jI]:i.DST_ALPHA,[VI]:i.ONE_MINUS_SRC_COLOR,[JS]:i.ONE_MINUS_SRC_ALPHA,[XI]:i.ONE_MINUS_DST_COLOR,[GI]:i.ONE_MINUS_DST_ALPHA,[YI]:i.CONSTANT_COLOR,[ZI]:i.ONE_MINUS_CONSTANT_COLOR,[KI]:i.CONSTANT_ALPHA,[$I]:i.ONE_MINUS_CONSTANT_ALPHA};function be(de,Oe,dt,At,ot,et,Lt,Xt,bn,Ct){if(de===Ic){w===!0&&(_e(i.BLEND),w=!1);return}if(w===!1&&(ie(i.BLEND),w=!0),de!==LI){if(de!==E||Ct!==P){if((b!==th||A!==th)&&(i.blendEquation(i.FUNC_ADD),b=th,A=th),Ct)switch(de){case dp:i.blendFuncSeparate(i.ONE,i.ONE_MINUS_SRC_ALPHA,i.ONE,i.ONE_MINUS_SRC_ALPHA);break;case FA:i.blendFunc(i.ONE,i.ONE);break;case HA:i.blendFuncSeparate(i.ZERO,i.ONE_MINUS_SRC_COLOR,i.ZERO,i.ONE);break;case VA:i.blendFuncSeparate(i.DST_COLOR,i.ONE_MINUS_SRC_ALPHA,i.ZERO,i.ONE);break;default:console.error("THREE.WebGLState: Invalid blending: ",de);break}else switch(de){case dp:i.blendFuncSeparate(i.SRC_ALPHA,i.ONE_MINUS_SRC_ALPHA,i.ONE,i.ONE_MINUS_SRC_ALPHA);break;case FA:i.blendFuncSeparate(i.SRC_ALPHA,i.ONE,i.ONE,i.ONE);break;case HA:console.error("THREE.WebGLState: SubtractiveBlending requires material.premultipliedAlpha = true");break;case VA:console.error("THREE.WebGLState: MultiplyBlending requires material.premultipliedAlpha = true");break;default:console.error("THREE.WebGLState: Invalid blending: ",de);break}R=null,C=null,N=null,L=null,B.set(0,0,0),U=0,E=de,P=Ct}return}ot=ot||Oe,et=et||dt,Lt=Lt||At,(Oe!==b||ot!==A)&&(i.blendEquationSeparate(pt[Oe],pt[ot]),b=Oe,A=ot),(dt!==R||At!==C||et!==N||Lt!==L)&&(i.blendFuncSeparate(ne[dt],ne[At],ne[et],ne[Lt]),R=dt,C=At,N=et,L=Lt),(Xt.equals(B)===!1||bn!==U)&&(i.blendColor(Xt.r,Xt.g,Xt.b,bn),B.copy(Xt),U=bn),E=de,P=!1}function De(de,Oe){de.side===Ll?_e(i.CULL_FACE):ie(i.CULL_FACE);let dt=de.side===vs;Oe&&(dt=!dt),Ye(dt),de.blending===dp&&de.transparent===!1?be(Ic):be(de.blending,de.blendEquation,de.blendSrc,de.blendDst,de.blendEquationAlpha,de.blendSrcAlpha,de.blendDstAlpha,de.blendColor,de.blendAlpha,de.premultipliedAlpha),s.setFunc(de.depthFunc),s.setTest(de.depthTest),s.setMask(de.depthWrite),a.setMask(de.colorWrite);const At=de.stencilWrite;l.setTest(At),At&&(l.setMask(de.stencilWriteMask),l.setFunc(de.stencilFunc,de.stencilRef,de.stencilFuncMask),l.setOp(de.stencilFail,de.stencilZFail,de.stencilZPass)),Ke(de.polygonOffset,de.polygonOffsetFactor,de.polygonOffsetUnits),de.alphaToCoverage===!0?ie(i.SAMPLE_ALPHA_TO_COVERAGE):_e(i.SAMPLE_ALPHA_TO_COVERAGE)}function Ye(de){z!==de&&(de?i.frontFace(i.CW):i.frontFace(i.CCW),z=de)}function re(de){de!==OI?(ie(i.CULL_FACE),de!==X&&(de===kA?i.cullFace(i.BACK):de===NI?i.cullFace(i.FRONT):i.cullFace(i.FRONT_AND_BACK))):_e(i.CULL_FACE),X=de}function Ve(de){de!==te&&(G&&i.lineWidth(de),te=de)}function Ke(de,Oe,dt){de?(ie(i.POLYGON_OFFSET_FILL),(se!==Oe||ae!==dt)&&(i.polygonOffset(Oe,dt),se=Oe,ae=dt)):_e(i.POLYGON_OFFSET_FILL)}function $e(de){de?ie(i.SCISSOR_TEST):_e(i.SCISSOR_TEST)}function _t(de){de===void 0&&(de=i.TEXTURE0+ue-1),ye!==de&&(i.activeTexture(de),ye=de)}function vt(de,Oe,dt){dt===void 0&&(ye===null?dt=i.TEXTURE0+ue-1:dt=ye);let At=F[dt];At===void 0&&(At={type:void 0,texture:void 0},F[dt]=At),(At.type!==de||At.texture!==Oe)&&(ye!==dt&&(i.activeTexture(dt),ye=dt),i.bindTexture(de,Oe||ee[de]),At.type=de,At.texture=Oe)}function $(){const de=F[ye];de!==void 0&&de.type!==void 0&&(i.bindTexture(de.type,null),de.type=void 0,de.texture=void 0)}function q(){try{i.compressedTexImage2D(...arguments)}catch(de){console.error("THREE.WebGLState:",de)}}function xe(){try{i.compressedTexImage3D(...arguments)}catch(de){console.error("THREE.WebGLState:",de)}}function Ne(){try{i.texSubImage2D(...arguments)}catch(de){console.error("THREE.WebGLState:",de)}}function ze(){try{i.texSubImage3D(...arguments)}catch(de){console.error("THREE.WebGLState:",de)}}function Ue(){try{i.compressedTexSubImage2D(...arguments)}catch(de){console.error("THREE.WebGLState:",de)}}function mt(){try{i.compressedTexSubImage3D(...arguments)}catch(de){console.error("THREE.WebGLState:",de)}}function ht(){try{i.texStorage2D(...arguments)}catch(de){console.error("THREE.WebGLState:",de)}}function Dt(){try{i.texStorage3D(...arguments)}catch(de){console.error("THREE.WebGLState:",de)}}function wt(){try{i.texImage2D(...arguments)}catch(de){console.error("THREE.WebGLState:",de)}}function it(){try{i.texImage3D(...arguments)}catch(de){console.error("THREE.WebGLState:",de)}}function ct(de){Ce.equals(de)===!1&&(i.scissor(de.x,de.y,de.z,de.w),Ce.copy(de))}function zt(de){ke.equals(de)===!1&&(i.viewport(de.x,de.y,de.z,de.w),ke.copy(de))}function Rt(de,Oe){let dt=f.get(Oe);dt===void 0&&(dt=new WeakMap,f.set(Oe,dt));let At=dt.get(de);At===void 0&&(At=i.getUniformBlockIndex(Oe,de.name),dt.set(de,At))}function ft(de,Oe){const At=f.get(Oe).get(de);u.get(Oe)!==At&&(i.uniformBlockBinding(Oe,At,de.__bindingPointIndex),u.set(Oe,At))}function Ut(){i.disable(i.BLEND),i.disable(i.CULL_FACE),i.disable(i.DEPTH_TEST),i.disable(i.POLYGON_OFFSET_FILL),i.disable(i.SCISSOR_TEST),i.disable(i.STENCIL_TEST),i.disable(i.SAMPLE_ALPHA_TO_COVERAGE),i.blendEquation(i.FUNC_ADD),i.blendFunc(i.ONE,i.ZERO),i.blendFuncSeparate(i.ONE,i.ZERO,i.ONE,i.ZERO),i.blendColor(0,0,0,0),i.colorMask(!0,!0,!0,!0),i.clearColor(0,0,0,0),i.depthMask(!0),i.depthFunc(i.LESS),s.setReversed(!1),i.clearDepth(1),i.stencilMask(4294967295),i.stencilFunc(i.ALWAYS,0,4294967295),i.stencilOp(i.KEEP,i.KEEP,i.KEEP),i.clearStencil(0),i.cullFace(i.BACK),i.frontFace(i.CCW),i.polygonOffset(0,0),i.activeTexture(i.TEXTURE0),i.bindFramebuffer(i.FRAMEBUFFER,null),i.bindFramebuffer(i.DRAW_FRAMEBUFFER,null),i.bindFramebuffer(i.READ_FRAMEBUFFER,null),i.useProgram(null),i.lineWidth(1),i.scissor(0,0,i.canvas.width,i.canvas.height),i.viewport(0,0,i.canvas.width,i.canvas.height),p={},ye=null,F={},g={},v=new WeakMap,_=[],S=null,w=!1,E=null,b=null,R=null,C=null,A=null,N=null,L=null,B=new Vt(0,0,0),U=0,P=!1,z=null,X=null,te=null,se=null,ae=null,Ce.set(0,0,i.canvas.width,i.canvas.height),ke.set(0,0,i.canvas.width,i.canvas.height),a.reset(),s.reset(),l.reset()}return{buffers:{color:a,depth:s,stencil:l},enable:ie,disable:_e,bindFramebuffer:Be,drawBuffers:Ze,useProgram:gt,setBlending:be,setMaterial:De,setFlipSided:Ye,setCullFace:re,setLineWidth:Ve,setPolygonOffset:Ke,setScissorTest:$e,activeTexture:_t,bindTexture:vt,unbindTexture:$,compressedTexImage2D:q,compressedTexImage3D:xe,texImage2D:wt,texImage3D:it,updateUBOMapping:Rt,uniformBlockBinding:ft,texStorage2D:ht,texStorage3D:Dt,texSubImage2D:Ne,texSubImage3D:ze,compressedTexSubImage2D:Ue,compressedTexSubImage3D:mt,scissor:ct,viewport:zt,reset:Ut}}function CJ(i,e,t,n,r,a,s){const l=e.has("WEBGL_multisampled_render_to_texture")?e.get("WEBGL_multisampled_render_to_texture"):null,u=typeof navigator>"u"?!1:/OculusBrowser/g.test(navigator.userAgent),f=new ut,p=new WeakMap;let g;const v=new WeakMap;let _=!1;try{_=typeof OffscreenCanvas<"u"&&new OffscreenCanvas(1,1).getContext("2d")!==null}catch{}function S($,q){return _?new OffscreenCanvas($,q):w_("canvas")}function w($,q,xe){let Ne=1;const ze=vt($);if((ze.width>xe||ze.height>xe)&&(Ne=xe/Math.max(ze.width,ze.height)),Ne<1)if(typeof HTMLImageElement<"u"&&$ instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&$ instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&$ instanceof ImageBitmap||typeof VideoFrame<"u"&&$ instanceof VideoFrame){const Ue=Math.floor(Ne*ze.width),mt=Math.floor(Ne*ze.height);g===void 0&&(g=S(Ue,mt));const ht=q?S(Ue,mt):g;return ht.width=Ue,ht.height=mt,ht.getContext("2d").drawImage($,0,0,Ue,mt),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+ze.width+"x"+ze.height+") to ("+Ue+"x"+mt+")."),ht}else return"data"in $&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+ze.width+"x"+ze.height+")."),$;return $}function E($){return $.generateMipmaps}function b($){i.generateMipmap($)}function R($){return $.isWebGLCubeRenderTarget?i.TEXTURE_CUBE_MAP:$.isWebGL3DRenderTarget?i.TEXTURE_3D:$.isWebGLArrayRenderTarget||$.isCompressedArrayTexture?i.TEXTURE_2D_ARRAY:i.TEXTURE_2D}function C($,q,xe,Ne,ze=!1){if($!==null){if(i[$]!==void 0)return i[$];console.warn("THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '"+$+"'")}let Ue=q;if(q===i.RED&&(xe===i.FLOAT&&(Ue=i.R32F),xe===i.HALF_FLOAT&&(Ue=i.R16F),xe===i.UNSIGNED_BYTE&&(Ue=i.R8)),q===i.RED_INTEGER&&(xe===i.UNSIGNED_BYTE&&(Ue=i.R8UI),xe===i.UNSIGNED_SHORT&&(Ue=i.R16UI),xe===i.UNSIGNED_INT&&(Ue=i.R32UI),xe===i.BYTE&&(Ue=i.R8I),xe===i.SHORT&&(Ue=i.R16I),xe===i.INT&&(Ue=i.R32I)),q===i.RG&&(xe===i.FLOAT&&(Ue=i.RG32F),xe===i.HALF_FLOAT&&(Ue=i.RG16F),xe===i.UNSIGNED_BYTE&&(Ue=i.RG8)),q===i.RG_INTEGER&&(xe===i.UNSIGNED_BYTE&&(Ue=i.RG8UI),xe===i.UNSIGNED_SHORT&&(Ue=i.RG16UI),xe===i.UNSIGNED_INT&&(Ue=i.RG32UI),xe===i.BYTE&&(Ue=i.RG8I),xe===i.SHORT&&(Ue=i.RG16I),xe===i.INT&&(Ue=i.RG32I)),q===i.RGB_INTEGER&&(xe===i.UNSIGNED_BYTE&&(Ue=i.RGB8UI),xe===i.UNSIGNED_SHORT&&(Ue=i.RGB16UI),xe===i.UNSIGNED_INT&&(Ue=i.RGB32UI),xe===i.BYTE&&(Ue=i.RGB8I),xe===i.SHORT&&(Ue=i.RGB16I),xe===i.INT&&(Ue=i.RGB32I)),q===i.RGBA_INTEGER&&(xe===i.UNSIGNED_BYTE&&(Ue=i.RGBA8UI),xe===i.UNSIGNED_SHORT&&(Ue=i.RGBA16UI),xe===i.UNSIGNED_INT&&(Ue=i.RGBA32UI),xe===i.BYTE&&(Ue=i.RGBA8I),xe===i.SHORT&&(Ue=i.RGBA16I),xe===i.INT&&(Ue=i.RGBA32I)),q===i.RGB&&xe===i.UNSIGNED_INT_5_9_9_9_REV&&(Ue=i.RGB9_E5),q===i.RGBA){const mt=ze?b_:Qn.getTransfer(Ne);xe===i.FLOAT&&(Ue=i.RGBA32F),xe===i.HALF_FLOAT&&(Ue=i.RGBA16F),xe===i.UNSIGNED_BYTE&&(Ue=mt===bi?i.SRGB8_ALPHA8:i.RGBA8),xe===i.UNSIGNED_SHORT_4_4_4_4&&(Ue=i.RGBA4),xe===i.UNSIGNED_SHORT_5_5_5_1&&(Ue=i.RGB5_A1)}return(Ue===i.R16F||Ue===i.R32F||Ue===i.RG16F||Ue===i.RG32F||Ue===i.RGBA16F||Ue===i.RGBA32F)&&e.get("EXT_color_buffer_float"),Ue}function A($,q){let xe;return $?q===null||q===Gc||q===ig?xe=i.DEPTH24_STENCIL8:q===rr?xe=i.DEPTH32F_STENCIL8:q===ng&&(xe=i.DEPTH24_STENCIL8,console.warn("DepthTexture: 16 bit depth attachment is not supported with stencil. Using 24-bit attachment.")):q===null||q===Gc||q===ig?xe=i.DEPTH_COMPONENT24:q===rr?xe=i.DEPTH_COMPONENT32F:q===ng&&(xe=i.DEPTH_COMPONENT16),xe}function N($,q){return E($)===!0||$.isFramebufferTexture&&$.minFilter!==xa&&$.minFilter!==Si?Math.log2(Math.max(q.width,q.height))+1:$.mipmaps!==void 0&&$.mipmaps.length>0?$.mipmaps.length:$.isCompressedTexture&&Array.isArray($.image)?q.mipmaps.length:1}function L($){const q=$.target;q.removeEventListener("dispose",L),U(q),q.isVideoTexture&&p.delete(q)}function B($){const q=$.target;q.removeEventListener("dispose",B),z(q)}function U($){const q=n.get($);if(q.__webglInit===void 0)return;const xe=$.source,Ne=v.get(xe);if(Ne){const ze=Ne[q.__cacheKey];ze.usedTimes--,ze.usedTimes===0&&P($),Object.keys(Ne).length===0&&v.delete(xe)}n.remove($)}function P($){const q=n.get($);i.deleteTexture(q.__webglTexture);const xe=$.source,Ne=v.get(xe);delete Ne[q.__cacheKey],s.memory.textures--}function z($){const q=n.get($);if($.depthTexture&&($.depthTexture.dispose(),n.remove($.depthTexture)),$.isWebGLCubeRenderTarget)for(let Ne=0;Ne<6;Ne++){if(Array.isArray(q.__webglFramebuffer[Ne]))for(let ze=0;ze<q.__webglFramebuffer[Ne].length;ze++)i.deleteFramebuffer(q.__webglFramebuffer[Ne][ze]);else i.deleteFramebuffer(q.__webglFramebuffer[Ne]);q.__webglDepthbuffer&&i.deleteRenderbuffer(q.__webglDepthbuffer[Ne])}else{if(Array.isArray(q.__webglFramebuffer))for(let Ne=0;Ne<q.__webglFramebuffer.length;Ne++)i.deleteFramebuffer(q.__webglFramebuffer[Ne]);else i.deleteFramebuffer(q.__webglFramebuffer);if(q.__webglDepthbuffer&&i.deleteRenderbuffer(q.__webglDepthbuffer),q.__webglMultisampledFramebuffer&&i.deleteFramebuffer(q.__webglMultisampledFramebuffer),q.__webglColorRenderbuffer)for(let Ne=0;Ne<q.__webglColorRenderbuffer.length;Ne++)q.__webglColorRenderbuffer[Ne]&&i.deleteRenderbuffer(q.__webglColorRenderbuffer[Ne]);q.__webglDepthRenderbuffer&&i.deleteRenderbuffer(q.__webglDepthRenderbuffer)}const xe=$.textures;for(let Ne=0,ze=xe.length;Ne<ze;Ne++){const Ue=n.get(xe[Ne]);Ue.__webglTexture&&(i.deleteTexture(Ue.__webglTexture),s.memory.textures--),n.remove(xe[Ne])}n.remove($)}let X=0;function te(){X=0}function se(){const $=X;return $>=r.maxTextures&&console.warn("THREE.WebGLTextures: Trying to use "+$+" texture units while this GPU supports only "+r.maxTextures),X+=1,$}function ae($){const q=[];return q.push($.wrapS),q.push($.wrapT),q.push($.wrapR||0),q.push($.magFilter),q.push($.minFilter),q.push($.anisotropy),q.push($.internalFormat),q.push($.format),q.push($.type),q.push($.generateMipmaps),q.push($.premultiplyAlpha),q.push($.flipY),q.push($.unpackAlignment),q.push($.colorSpace),q.join()}function ue($,q){const xe=n.get($);if($.isVideoTexture&&$e($),$.isRenderTargetTexture===!1&&$.isExternalTexture!==!0&&$.version>0&&xe.__version!==$.version){const Ne=$.image;if(Ne===null)console.warn("THREE.WebGLRenderer: Texture marked for update but no image data found.");else if(Ne.complete===!1)console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete");else{ee(xe,$,q);return}}else $.isExternalTexture&&(xe.__webglTexture=$.sourceTexture?$.sourceTexture:null);t.bindTexture(i.TEXTURE_2D,xe.__webglTexture,i.TEXTURE0+q)}function G($,q){const xe=n.get($);if($.isRenderTargetTexture===!1&&$.version>0&&xe.__version!==$.version){ee(xe,$,q);return}t.bindTexture(i.TEXTURE_2D_ARRAY,xe.__webglTexture,i.TEXTURE0+q)}function Y($,q){const xe=n.get($);if($.isRenderTargetTexture===!1&&$.version>0&&xe.__version!==$.version){ee(xe,$,q);return}t.bindTexture(i.TEXTURE_3D,xe.__webglTexture,i.TEXTURE0+q)}function Q($,q){const xe=n.get($);if($.version>0&&xe.__version!==$.version){ie(xe,$,q);return}t.bindTexture(i.TEXTURE_CUBE_MAP,xe.__webglTexture,i.TEXTURE0+q)}const ye={[v_]:i.REPEAT,[Lr]:i.CLAMP_TO_EDGE,[y_]:i.MIRRORED_REPEAT},F={[xa]:i.NEAREST,[LR]:i.NEAREST_MIPMAP_NEAREST,[T0]:i.NEAREST_MIPMAP_LINEAR,[Si]:i.LINEAR,[Hy]:i.LINEAR_MIPMAP_NEAREST,[Nc]:i.LINEAR_MIPMAP_LINEAR},fe={[dB]:i.NEVER,[_B]:i.ALWAYS,[pB]:i.LESS,[HR]:i.LEQUAL,[mB]:i.EQUAL,[yB]:i.GEQUAL,[gB]:i.GREATER,[vB]:i.NOTEQUAL};function Se($,q){if(q.type===rr&&e.has("OES_texture_float_linear")===!1&&(q.magFilter===Si||q.magFilter===Hy||q.magFilter===T0||q.magFilter===Nc||q.minFilter===Si||q.minFilter===Hy||q.minFilter===T0||q.minFilter===Nc)&&console.warn("THREE.WebGLRenderer: Unable to use linear filtering with floating point textures. OES_texture_float_linear not supported on this device."),i.texParameteri($,i.TEXTURE_WRAP_S,ye[q.wrapS]),i.texParameteri($,i.TEXTURE_WRAP_T,ye[q.wrapT]),($===i.TEXTURE_3D||$===i.TEXTURE_2D_ARRAY)&&i.texParameteri($,i.TEXTURE_WRAP_R,ye[q.wrapR]),i.texParameteri($,i.TEXTURE_MAG_FILTER,F[q.magFilter]),i.texParameteri($,i.TEXTURE_MIN_FILTER,F[q.minFilter]),q.compareFunction&&(i.texParameteri($,i.TEXTURE_COMPARE_MODE,i.COMPARE_REF_TO_TEXTURE),i.texParameteri($,i.TEXTURE_COMPARE_FUNC,fe[q.compareFunction])),e.has("EXT_texture_filter_anisotropic")===!0){if(q.magFilter===xa||q.minFilter!==T0&&q.minFilter!==Nc||q.type===rr&&e.has("OES_texture_float_linear")===!1)return;if(q.anisotropy>1||n.get(q).__currentAnisotropy){const xe=e.get("EXT_texture_filter_anisotropic");i.texParameterf($,xe.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(q.anisotropy,r.getMaxAnisotropy())),n.get(q).__currentAnisotropy=q.anisotropy}}}function Ce($,q){let xe=!1;$.__webglInit===void 0&&($.__webglInit=!0,q.addEventListener("dispose",L));const Ne=q.source;let ze=v.get(Ne);ze===void 0&&(ze={},v.set(Ne,ze));const Ue=ae(q);if(Ue!==$.__cacheKey){ze[Ue]===void 0&&(ze[Ue]={texture:i.createTexture(),usedTimes:0},s.memory.textures++,xe=!0),ze[Ue].usedTimes++;const mt=ze[$.__cacheKey];mt!==void 0&&(ze[$.__cacheKey].usedTimes--,mt.usedTimes===0&&P(q)),$.__cacheKey=Ue,$.__webglTexture=ze[Ue].texture}return xe}function ke($,q,xe){return Math.floor(Math.floor($/xe)/q)}function we($,q,xe,Ne){const Ue=$.updateRanges;if(Ue.length===0)t.texSubImage2D(i.TEXTURE_2D,0,0,0,q.width,q.height,xe,Ne,q.data);else{Ue.sort((it,ct)=>it.start-ct.start);let mt=0;for(let it=1;it<Ue.length;it++){const ct=Ue[mt],zt=Ue[it],Rt=ct.start+ct.count,ft=ke(zt.start,q.width,4),Ut=ke(ct.start,q.width,4);zt.start<=Rt+1&&ft===Ut&&ke(zt.start+zt.count-1,q.width,4)===ft?ct.count=Math.max(ct.count,zt.start+zt.count-ct.start):(++mt,Ue[mt]=zt)}Ue.length=mt+1;const ht=i.getParameter(i.UNPACK_ROW_LENGTH),Dt=i.getParameter(i.UNPACK_SKIP_PIXELS),wt=i.getParameter(i.UNPACK_SKIP_ROWS);i.pixelStorei(i.UNPACK_ROW_LENGTH,q.width);for(let it=0,ct=Ue.length;it<ct;it++){const zt=Ue[it],Rt=Math.floor(zt.start/4),ft=Math.ceil(zt.count/4),Ut=Rt%q.width,de=Math.floor(Rt/q.width),Oe=ft,dt=1;i.pixelStorei(i.UNPACK_SKIP_PIXELS,Ut),i.pixelStorei(i.UNPACK_SKIP_ROWS,de),t.texSubImage2D(i.TEXTURE_2D,0,Ut,de,Oe,dt,xe,Ne,q.data)}$.clearUpdateRanges(),i.pixelStorei(i.UNPACK_ROW_LENGTH,ht),i.pixelStorei(i.UNPACK_SKIP_PIXELS,Dt),i.pixelStorei(i.UNPACK_SKIP_ROWS,wt)}}function ee($,q,xe){let Ne=i.TEXTURE_2D;(q.isDataArrayTexture||q.isCompressedArrayTexture)&&(Ne=i.TEXTURE_2D_ARRAY),q.isData3DTexture&&(Ne=i.TEXTURE_3D);const ze=Ce($,q),Ue=q.source;t.bindTexture(Ne,$.__webglTexture,i.TEXTURE0+xe);const mt=n.get(Ue);if(Ue.version!==mt.__version||ze===!0){t.activeTexture(i.TEXTURE0+xe);const ht=Qn.getPrimaries(Qn.workingColorSpace),Dt=q.colorSpace===Du?null:Qn.getPrimaries(q.colorSpace),wt=q.colorSpace===Du||ht===Dt?i.NONE:i.BROWSER_DEFAULT_WEBGL;i.pixelStorei(i.UNPACK_FLIP_Y_WEBGL,q.flipY),i.pixelStorei(i.UNPACK_PREMULTIPLY_ALPHA_WEBGL,q.premultiplyAlpha),i.pixelStorei(i.UNPACK_ALIGNMENT,q.unpackAlignment),i.pixelStorei(i.UNPACK_COLORSPACE_CONVERSION_WEBGL,wt);let it=w(q.image,!1,r.maxTextureSize);it=_t(q,it);const ct=a.convert(q.format,q.colorSpace),zt=a.convert(q.type);let Rt=C(q.internalFormat,ct,zt,q.colorSpace,q.isVideoTexture);Se(Ne,q);let ft;const Ut=q.mipmaps,de=q.isVideoTexture!==!0,Oe=mt.__version===void 0||ze===!0,dt=Ue.dataReady,At=N(q,it);if(q.isDepthTexture)Rt=A(q.format===ag,q.type),Oe&&(de?t.texStorage2D(i.TEXTURE_2D,1,Rt,it.width,it.height):t.texImage2D(i.TEXTURE_2D,0,Rt,it.width,it.height,0,ct,zt,null));else if(q.isDataTexture)if(Ut.length>0){de&&Oe&&t.texStorage2D(i.TEXTURE_2D,At,Rt,Ut[0].width,Ut[0].height);for(let ot=0,et=Ut.length;ot<et;ot++)ft=Ut[ot],de?dt&&t.texSubImage2D(i.TEXTURE_2D,ot,0,0,ft.width,ft.height,ct,zt,ft.data):t.texImage2D(i.TEXTURE_2D,ot,Rt,ft.width,ft.height,0,ct,zt,ft.data);q.generateMipmaps=!1}else de?(Oe&&t.texStorage2D(i.TEXTURE_2D,At,Rt,it.width,it.height),dt&&we(q,it,ct,zt)):t.texImage2D(i.TEXTURE_2D,0,Rt,it.width,it.height,0,ct,zt,it.data);else if(q.isCompressedTexture)if(q.isCompressedArrayTexture){de&&Oe&&t.texStorage3D(i.TEXTURE_2D_ARRAY,At,Rt,Ut[0].width,Ut[0].height,it.depth);for(let ot=0,et=Ut.length;ot<et;ot++)if(ft=Ut[ot],q.format!==Sr)if(ct!==null)if(de){if(dt)if(q.layerUpdates.size>0){const Lt=QA(ft.width,ft.height,q.format,q.type);for(const Xt of q.layerUpdates){const bn=ft.data.subarray(Xt*Lt/ft.data.BYTES_PER_ELEMENT,(Xt+1)*Lt/ft.data.BYTES_PER_ELEMENT);t.compressedTexSubImage3D(i.TEXTURE_2D_ARRAY,ot,0,0,Xt,ft.width,ft.height,1,ct,bn)}q.clearLayerUpdates()}else t.compressedTexSubImage3D(i.TEXTURE_2D_ARRAY,ot,0,0,0,ft.width,ft.height,it.depth,ct,ft.data)}else t.compressedTexImage3D(i.TEXTURE_2D_ARRAY,ot,Rt,ft.width,ft.height,it.depth,0,ft.data,0,0);else console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()");else de?dt&&t.texSubImage3D(i.TEXTURE_2D_ARRAY,ot,0,0,0,ft.width,ft.height,it.depth,ct,zt,ft.data):t.texImage3D(i.TEXTURE_2D_ARRAY,ot,Rt,ft.width,ft.height,it.depth,0,ct,zt,ft.data)}else{de&&Oe&&t.texStorage2D(i.TEXTURE_2D,At,Rt,Ut[0].width,Ut[0].height);for(let ot=0,et=Ut.length;ot<et;ot++)ft=Ut[ot],q.format!==Sr?ct!==null?de?dt&&t.compressedTexSubImage2D(i.TEXTURE_2D,ot,0,0,ft.width,ft.height,ct,ft.data):t.compressedTexImage2D(i.TEXTURE_2D,ot,Rt,ft.width,ft.height,0,ft.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):de?dt&&t.texSubImage2D(i.TEXTURE_2D,ot,0,0,ft.width,ft.height,ct,zt,ft.data):t.texImage2D(i.TEXTURE_2D,ot,Rt,ft.width,ft.height,0,ct,zt,ft.data)}else if(q.isDataArrayTexture)if(de){if(Oe&&t.texStorage3D(i.TEXTURE_2D_ARRAY,At,Rt,it.width,it.height,it.depth),dt)if(q.layerUpdates.size>0){const ot=QA(it.width,it.height,q.format,q.type);for(const et of q.layerUpdates){const Lt=it.data.subarray(et*ot/it.data.BYTES_PER_ELEMENT,(et+1)*ot/it.data.BYTES_PER_ELEMENT);t.texSubImage3D(i.TEXTURE_2D_ARRAY,0,0,0,et,it.width,it.height,1,ct,zt,Lt)}q.clearLayerUpdates()}else t.texSubImage3D(i.TEXTURE_2D_ARRAY,0,0,0,0,it.width,it.height,it.depth,ct,zt,it.data)}else t.texImage3D(i.TEXTURE_2D_ARRAY,0,Rt,it.width,it.height,it.depth,0,ct,zt,it.data);else if(q.isData3DTexture)de?(Oe&&t.texStorage3D(i.TEXTURE_3D,At,Rt,it.width,it.height,it.depth),dt&&t.texSubImage3D(i.TEXTURE_3D,0,0,0,0,it.width,it.height,it.depth,ct,zt,it.data)):t.texImage3D(i.TEXTURE_3D,0,Rt,it.width,it.height,it.depth,0,ct,zt,it.data);else if(q.isFramebufferTexture){if(Oe)if(de)t.texStorage2D(i.TEXTURE_2D,At,Rt,it.width,it.height);else{let ot=it.width,et=it.height;for(let Lt=0;Lt<At;Lt++)t.texImage2D(i.TEXTURE_2D,Lt,Rt,ot,et,0,ct,zt,null),ot>>=1,et>>=1}}else if(Ut.length>0){if(de&&Oe){const ot=vt(Ut[0]);t.texStorage2D(i.TEXTURE_2D,At,Rt,ot.width,ot.height)}for(let ot=0,et=Ut.length;ot<et;ot++)ft=Ut[ot],de?dt&&t.texSubImage2D(i.TEXTURE_2D,ot,0,0,ct,zt,ft):t.texImage2D(i.TEXTURE_2D,ot,Rt,ct,zt,ft);q.generateMipmaps=!1}else if(de){if(Oe){const ot=vt(it);t.texStorage2D(i.TEXTURE_2D,At,Rt,ot.width,ot.height)}dt&&t.texSubImage2D(i.TEXTURE_2D,0,0,0,ct,zt,it)}else t.texImage2D(i.TEXTURE_2D,0,Rt,ct,zt,it);E(q)&&b(Ne),mt.__version=Ue.version,q.onUpdate&&q.onUpdate(q)}$.__version=q.version}function ie($,q,xe){if(q.image.length!==6)return;const Ne=Ce($,q),ze=q.source;t.bindTexture(i.TEXTURE_CUBE_MAP,$.__webglTexture,i.TEXTURE0+xe);const Ue=n.get(ze);if(ze.version!==Ue.__version||Ne===!0){t.activeTexture(i.TEXTURE0+xe);const mt=Qn.getPrimaries(Qn.workingColorSpace),ht=q.colorSpace===Du?null:Qn.getPrimaries(q.colorSpace),Dt=q.colorSpace===Du||mt===ht?i.NONE:i.BROWSER_DEFAULT_WEBGL;i.pixelStorei(i.UNPACK_FLIP_Y_WEBGL,q.flipY),i.pixelStorei(i.UNPACK_PREMULTIPLY_ALPHA_WEBGL,q.premultiplyAlpha),i.pixelStorei(i.UNPACK_ALIGNMENT,q.unpackAlignment),i.pixelStorei(i.UNPACK_COLORSPACE_CONVERSION_WEBGL,Dt);const wt=q.isCompressedTexture||q.image[0].isCompressedTexture,it=q.image[0]&&q.image[0].isDataTexture,ct=[];for(let et=0;et<6;et++)!wt&&!it?ct[et]=w(q.image[et],!0,r.maxCubemapSize):ct[et]=it?q.image[et].image:q.image[et],ct[et]=_t(q,ct[et]);const zt=ct[0],Rt=a.convert(q.format,q.colorSpace),ft=a.convert(q.type),Ut=C(q.internalFormat,Rt,ft,q.colorSpace),de=q.isVideoTexture!==!0,Oe=Ue.__version===void 0||Ne===!0,dt=ze.dataReady;let At=N(q,zt);Se(i.TEXTURE_CUBE_MAP,q);let ot;if(wt){de&&Oe&&t.texStorage2D(i.TEXTURE_CUBE_MAP,At,Ut,zt.width,zt.height);for(let et=0;et<6;et++){ot=ct[et].mipmaps;for(let Lt=0;Lt<ot.length;Lt++){const Xt=ot[Lt];q.format!==Sr?Rt!==null?de?dt&&t.compressedTexSubImage2D(i.TEXTURE_CUBE_MAP_POSITIVE_X+et,Lt,0,0,Xt.width,Xt.height,Rt,Xt.data):t.compressedTexImage2D(i.TEXTURE_CUBE_MAP_POSITIVE_X+et,Lt,Ut,Xt.width,Xt.height,0,Xt.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):de?dt&&t.texSubImage2D(i.TEXTURE_CUBE_MAP_POSITIVE_X+et,Lt,0,0,Xt.width,Xt.height,Rt,ft,Xt.data):t.texImage2D(i.TEXTURE_CUBE_MAP_POSITIVE_X+et,Lt,Ut,Xt.width,Xt.height,0,Rt,ft,Xt.data)}}}else{if(ot=q.mipmaps,de&&Oe){ot.length>0&&At++;const et=vt(ct[0]);t.texStorage2D(i.TEXTURE_CUBE_MAP,At,Ut,et.width,et.height)}for(let et=0;et<6;et++)if(it){de?dt&&t.texSubImage2D(i.TEXTURE_CUBE_MAP_POSITIVE_X+et,0,0,0,ct[et].width,ct[et].height,Rt,ft,ct[et].data):t.texImage2D(i.TEXTURE_CUBE_MAP_POSITIVE_X+et,0,Ut,ct[et].width,ct[et].height,0,Rt,ft,ct[et].data);for(let Lt=0;Lt<ot.length;Lt++){const bn=ot[Lt].image[et].image;de?dt&&t.texSubImage2D(i.TEXTURE_CUBE_MAP_POSITIVE_X+et,Lt+1,0,0,bn.width,bn.height,Rt,ft,bn.data):t.texImage2D(i.TEXTURE_CUBE_MAP_POSITIVE_X+et,Lt+1,Ut,bn.width,bn.height,0,Rt,ft,bn.data)}}else{de?dt&&t.texSubImage2D(i.TEXTURE_CUBE_MAP_POSITIVE_X+et,0,0,0,Rt,ft,ct[et]):t.texImage2D(i.TEXTURE_CUBE_MAP_POSITIVE_X+et,0,Ut,Rt,ft,ct[et]);for(let Lt=0;Lt<ot.length;Lt++){const Xt=ot[Lt];de?dt&&t.texSubImage2D(i.TEXTURE_CUBE_MAP_POSITIVE_X+et,Lt+1,0,0,Rt,ft,Xt.image[et]):t.texImage2D(i.TEXTURE_CUBE_MAP_POSITIVE_X+et,Lt+1,Ut,Rt,ft,Xt.image[et])}}}E(q)&&b(i.TEXTURE_CUBE_MAP),Ue.__version=ze.version,q.onUpdate&&q.onUpdate(q)}$.__version=q.version}function _e($,q,xe,Ne,ze,Ue){const mt=a.convert(xe.format,xe.colorSpace),ht=a.convert(xe.type),Dt=C(xe.internalFormat,mt,ht,xe.colorSpace),wt=n.get(q),it=n.get(xe);if(it.__renderTarget=q,!wt.__hasExternalTextures){const ct=Math.max(1,q.width>>Ue),zt=Math.max(1,q.height>>Ue);ze===i.TEXTURE_3D||ze===i.TEXTURE_2D_ARRAY?t.texImage3D(ze,Ue,Dt,ct,zt,q.depth,0,mt,ht,null):t.texImage2D(ze,Ue,Dt,ct,zt,0,mt,ht,null)}t.bindFramebuffer(i.FRAMEBUFFER,$),Ke(q)?l.framebufferTexture2DMultisampleEXT(i.FRAMEBUFFER,Ne,ze,it.__webglTexture,0,Ve(q)):(ze===i.TEXTURE_2D||ze>=i.TEXTURE_CUBE_MAP_POSITIVE_X&&ze<=i.TEXTURE_CUBE_MAP_NEGATIVE_Z)&&i.framebufferTexture2D(i.FRAMEBUFFER,Ne,ze,it.__webglTexture,Ue),t.bindFramebuffer(i.FRAMEBUFFER,null)}function Be($,q,xe){if(i.bindRenderbuffer(i.RENDERBUFFER,$),q.depthBuffer){const Ne=q.depthTexture,ze=Ne&&Ne.isDepthTexture?Ne.type:null,Ue=A(q.stencilBuffer,ze),mt=q.stencilBuffer?i.DEPTH_STENCIL_ATTACHMENT:i.DEPTH_ATTACHMENT,ht=Ve(q);Ke(q)?l.renderbufferStorageMultisampleEXT(i.RENDERBUFFER,ht,Ue,q.width,q.height):xe?i.renderbufferStorageMultisample(i.RENDERBUFFER,ht,Ue,q.width,q.height):i.renderbufferStorage(i.RENDERBUFFER,Ue,q.width,q.height),i.framebufferRenderbuffer(i.FRAMEBUFFER,mt,i.RENDERBUFFER,$)}else{const Ne=q.textures;for(let ze=0;ze<Ne.length;ze++){const Ue=Ne[ze],mt=a.convert(Ue.format,Ue.colorSpace),ht=a.convert(Ue.type),Dt=C(Ue.internalFormat,mt,ht,Ue.colorSpace),wt=Ve(q);xe&&Ke(q)===!1?i.renderbufferStorageMultisample(i.RENDERBUFFER,wt,Dt,q.width,q.height):Ke(q)?l.renderbufferStorageMultisampleEXT(i.RENDERBUFFER,wt,Dt,q.width,q.height):i.renderbufferStorage(i.RENDERBUFFER,Dt,q.width,q.height)}}i.bindRenderbuffer(i.RENDERBUFFER,null)}function Ze($,q){if(q&&q.isWebGLCubeRenderTarget)throw new Error("Depth Texture with cube render targets is not supported");if(t.bindFramebuffer(i.FRAMEBUFFER,$),!(q.depthTexture&&q.depthTexture.isDepthTexture))throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");const Ne=n.get(q.depthTexture);Ne.__renderTarget=q,(!Ne.__webglTexture||q.depthTexture.image.width!==q.width||q.depthTexture.image.height!==q.height)&&(q.depthTexture.image.width=q.width,q.depthTexture.image.height=q.height,q.depthTexture.needsUpdate=!0),ue(q.depthTexture,0);const ze=Ne.__webglTexture,Ue=Ve(q);if(q.depthTexture.format===rg)Ke(q)?l.framebufferTexture2DMultisampleEXT(i.FRAMEBUFFER,i.DEPTH_ATTACHMENT,i.TEXTURE_2D,ze,0,Ue):i.framebufferTexture2D(i.FRAMEBUFFER,i.DEPTH_ATTACHMENT,i.TEXTURE_2D,ze,0);else if(q.depthTexture.format===ag)Ke(q)?l.framebufferTexture2DMultisampleEXT(i.FRAMEBUFFER,i.DEPTH_STENCIL_ATTACHMENT,i.TEXTURE_2D,ze,0,Ue):i.framebufferTexture2D(i.FRAMEBUFFER,i.DEPTH_STENCIL_ATTACHMENT,i.TEXTURE_2D,ze,0);else throw new Error("Unknown depthTexture format")}function gt($){const q=n.get($),xe=$.isWebGLCubeRenderTarget===!0;if(q.__boundDepthTexture!==$.depthTexture){const Ne=$.depthTexture;if(q.__depthDisposeCallback&&q.__depthDisposeCallback(),Ne){const ze=()=>{delete q.__boundDepthTexture,delete q.__depthDisposeCallback,Ne.removeEventListener("dispose",ze)};Ne.addEventListener("dispose",ze),q.__depthDisposeCallback=ze}q.__boundDepthTexture=Ne}if($.depthTexture&&!q.__autoAllocateDepthBuffer){if(xe)throw new Error("target.depthTexture not supported in Cube render targets");const Ne=$.texture.mipmaps;Ne&&Ne.length>0?Ze(q.__webglFramebuffer[0],$):Ze(q.__webglFramebuffer,$)}else if(xe){q.__webglDepthbuffer=[];for(let Ne=0;Ne<6;Ne++)if(t.bindFramebuffer(i.FRAMEBUFFER,q.__webglFramebuffer[Ne]),q.__webglDepthbuffer[Ne]===void 0)q.__webglDepthbuffer[Ne]=i.createRenderbuffer(),Be(q.__webglDepthbuffer[Ne],$,!1);else{const ze=$.stencilBuffer?i.DEPTH_STENCIL_ATTACHMENT:i.DEPTH_ATTACHMENT,Ue=q.__webglDepthbuffer[Ne];i.bindRenderbuffer(i.RENDERBUFFER,Ue),i.framebufferRenderbuffer(i.FRAMEBUFFER,ze,i.RENDERBUFFER,Ue)}}else{const Ne=$.texture.mipmaps;if(Ne&&Ne.length>0?t.bindFramebuffer(i.FRAMEBUFFER,q.__webglFramebuffer[0]):t.bindFramebuffer(i.FRAMEBUFFER,q.__webglFramebuffer),q.__webglDepthbuffer===void 0)q.__webglDepthbuffer=i.createRenderbuffer(),Be(q.__webglDepthbuffer,$,!1);else{const ze=$.stencilBuffer?i.DEPTH_STENCIL_ATTACHMENT:i.DEPTH_ATTACHMENT,Ue=q.__webglDepthbuffer;i.bindRenderbuffer(i.RENDERBUFFER,Ue),i.framebufferRenderbuffer(i.FRAMEBUFFER,ze,i.RENDERBUFFER,Ue)}}t.bindFramebuffer(i.FRAMEBUFFER,null)}function pt($,q,xe){const Ne=n.get($);q!==void 0&&_e(Ne.__webglFramebuffer,$,$.texture,i.COLOR_ATTACHMENT0,i.TEXTURE_2D,0),xe!==void 0&&gt($)}function ne($){const q=$.texture,xe=n.get($),Ne=n.get(q);$.addEventListener("dispose",B);const ze=$.textures,Ue=$.isWebGLCubeRenderTarget===!0,mt=ze.length>1;if(mt||(Ne.__webglTexture===void 0&&(Ne.__webglTexture=i.createTexture()),Ne.__version=q.version,s.memory.textures++),Ue){xe.__webglFramebuffer=[];for(let ht=0;ht<6;ht++)if(q.mipmaps&&q.mipmaps.length>0){xe.__webglFramebuffer[ht]=[];for(let Dt=0;Dt<q.mipmaps.length;Dt++)xe.__webglFramebuffer[ht][Dt]=i.createFramebuffer()}else xe.__webglFramebuffer[ht]=i.createFramebuffer()}else{if(q.mipmaps&&q.mipmaps.length>0){xe.__webglFramebuffer=[];for(let ht=0;ht<q.mipmaps.length;ht++)xe.__webglFramebuffer[ht]=i.createFramebuffer()}else xe.__webglFramebuffer=i.createFramebuffer();if(mt)for(let ht=0,Dt=ze.length;ht<Dt;ht++){const wt=n.get(ze[ht]);wt.__webglTexture===void 0&&(wt.__webglTexture=i.createTexture(),s.memory.textures++)}if($.samples>0&&Ke($)===!1){xe.__webglMultisampledFramebuffer=i.createFramebuffer(),xe.__webglColorRenderbuffer=[],t.bindFramebuffer(i.FRAMEBUFFER,xe.__webglMultisampledFramebuffer);for(let ht=0;ht<ze.length;ht++){const Dt=ze[ht];xe.__webglColorRenderbuffer[ht]=i.createRenderbuffer(),i.bindRenderbuffer(i.RENDERBUFFER,xe.__webglColorRenderbuffer[ht]);const wt=a.convert(Dt.format,Dt.colorSpace),it=a.convert(Dt.type),ct=C(Dt.internalFormat,wt,it,Dt.colorSpace,$.isXRRenderTarget===!0),zt=Ve($);i.renderbufferStorageMultisample(i.RENDERBUFFER,zt,ct,$.width,$.height),i.framebufferRenderbuffer(i.FRAMEBUFFER,i.COLOR_ATTACHMENT0+ht,i.RENDERBUFFER,xe.__webglColorRenderbuffer[ht])}i.bindRenderbuffer(i.RENDERBUFFER,null),$.depthBuffer&&(xe.__webglDepthRenderbuffer=i.createRenderbuffer(),Be(xe.__webglDepthRenderbuffer,$,!0)),t.bindFramebuffer(i.FRAMEBUFFER,null)}}if(Ue){t.bindTexture(i.TEXTURE_CUBE_MAP,Ne.__webglTexture),Se(i.TEXTURE_CUBE_MAP,q);for(let ht=0;ht<6;ht++)if(q.mipmaps&&q.mipmaps.length>0)for(let Dt=0;Dt<q.mipmaps.length;Dt++)_e(xe.__webglFramebuffer[ht][Dt],$,q,i.COLOR_ATTACHMENT0,i.TEXTURE_CUBE_MAP_POSITIVE_X+ht,Dt);else _e(xe.__webglFramebuffer[ht],$,q,i.COLOR_ATTACHMENT0,i.TEXTURE_CUBE_MAP_POSITIVE_X+ht,0);E(q)&&b(i.TEXTURE_CUBE_MAP),t.unbindTexture()}else if(mt){for(let ht=0,Dt=ze.length;ht<Dt;ht++){const wt=ze[ht],it=n.get(wt);let ct=i.TEXTURE_2D;($.isWebGL3DRenderTarget||$.isWebGLArrayRenderTarget)&&(ct=$.isWebGL3DRenderTarget?i.TEXTURE_3D:i.TEXTURE_2D_ARRAY),t.bindTexture(ct,it.__webglTexture),Se(ct,wt),_e(xe.__webglFramebuffer,$,wt,i.COLOR_ATTACHMENT0+ht,ct,0),E(wt)&&b(ct)}t.unbindTexture()}else{let ht=i.TEXTURE_2D;if(($.isWebGL3DRenderTarget||$.isWebGLArrayRenderTarget)&&(ht=$.isWebGL3DRenderTarget?i.TEXTURE_3D:i.TEXTURE_2D_ARRAY),t.bindTexture(ht,Ne.__webglTexture),Se(ht,q),q.mipmaps&&q.mipmaps.length>0)for(let Dt=0;Dt<q.mipmaps.length;Dt++)_e(xe.__webglFramebuffer[Dt],$,q,i.COLOR_ATTACHMENT0,ht,Dt);else _e(xe.__webglFramebuffer,$,q,i.COLOR_ATTACHMENT0,ht,0);E(q)&&b(ht),t.unbindTexture()}$.depthBuffer&&gt($)}function be($){const q=$.textures;for(let xe=0,Ne=q.length;xe<Ne;xe++){const ze=q[xe];if(E(ze)){const Ue=R($),mt=n.get(ze).__webglTexture;t.bindTexture(Ue,mt),b(Ue),t.unbindTexture()}}}const De=[],Ye=[];function re($){if($.samples>0){if(Ke($)===!1){const q=$.textures,xe=$.width,Ne=$.height;let ze=i.COLOR_BUFFER_BIT;const Ue=$.stencilBuffer?i.DEPTH_STENCIL_ATTACHMENT:i.DEPTH_ATTACHMENT,mt=n.get($),ht=q.length>1;if(ht)for(let wt=0;wt<q.length;wt++)t.bindFramebuffer(i.FRAMEBUFFER,mt.__webglMultisampledFramebuffer),i.framebufferRenderbuffer(i.FRAMEBUFFER,i.COLOR_ATTACHMENT0+wt,i.RENDERBUFFER,null),t.bindFramebuffer(i.FRAMEBUFFER,mt.__webglFramebuffer),i.framebufferTexture2D(i.DRAW_FRAMEBUFFER,i.COLOR_ATTACHMENT0+wt,i.TEXTURE_2D,null,0);t.bindFramebuffer(i.READ_FRAMEBUFFER,mt.__webglMultisampledFramebuffer);const Dt=$.texture.mipmaps;Dt&&Dt.length>0?t.bindFramebuffer(i.DRAW_FRAMEBUFFER,mt.__webglFramebuffer[0]):t.bindFramebuffer(i.DRAW_FRAMEBUFFER,mt.__webglFramebuffer);for(let wt=0;wt<q.length;wt++){if($.resolveDepthBuffer&&($.depthBuffer&&(ze|=i.DEPTH_BUFFER_BIT),$.stencilBuffer&&$.resolveStencilBuffer&&(ze|=i.STENCIL_BUFFER_BIT)),ht){i.framebufferRenderbuffer(i.READ_FRAMEBUFFER,i.COLOR_ATTACHMENT0,i.RENDERBUFFER,mt.__webglColorRenderbuffer[wt]);const it=n.get(q[wt]).__webglTexture;i.framebufferTexture2D(i.DRAW_FRAMEBUFFER,i.COLOR_ATTACHMENT0,i.TEXTURE_2D,it,0)}i.blitFramebuffer(0,0,xe,Ne,0,0,xe,Ne,ze,i.NEAREST),u===!0&&(De.length=0,Ye.length=0,De.push(i.COLOR_ATTACHMENT0+wt),$.depthBuffer&&$.resolveDepthBuffer===!1&&(De.push(Ue),Ye.push(Ue),i.invalidateFramebuffer(i.DRAW_FRAMEBUFFER,Ye)),i.invalidateFramebuffer(i.READ_FRAMEBUFFER,De))}if(t.bindFramebuffer(i.READ_FRAMEBUFFER,null),t.bindFramebuffer(i.DRAW_FRAMEBUFFER,null),ht)for(let wt=0;wt<q.length;wt++){t.bindFramebuffer(i.FRAMEBUFFER,mt.__webglMultisampledFramebuffer),i.framebufferRenderbuffer(i.FRAMEBUFFER,i.COLOR_ATTACHMENT0+wt,i.RENDERBUFFER,mt.__webglColorRenderbuffer[wt]);const it=n.get(q[wt]).__webglTexture;t.bindFramebuffer(i.FRAMEBUFFER,mt.__webglFramebuffer),i.framebufferTexture2D(i.DRAW_FRAMEBUFFER,i.COLOR_ATTACHMENT0+wt,i.TEXTURE_2D,it,0)}t.bindFramebuffer(i.DRAW_FRAMEBUFFER,mt.__webglMultisampledFramebuffer)}else if($.depthBuffer&&$.resolveDepthBuffer===!1&&u){const q=$.stencilBuffer?i.DEPTH_STENCIL_ATTACHMENT:i.DEPTH_ATTACHMENT;i.invalidateFramebuffer(i.DRAW_FRAMEBUFFER,[q])}}}function Ve($){return Math.min(r.maxSamples,$.samples)}function Ke($){const q=n.get($);return $.samples>0&&e.has("WEBGL_multisampled_render_to_texture")===!0&&q.__useRenderToTexture!==!1}function $e($){const q=s.render.frame;p.get($)!==q&&(p.set($,q),$.update())}function _t($,q){const xe=$.colorSpace,Ne=$.format,ze=$.type;return $.isCompressedTexture===!0||$.isVideoTexture===!0||xe!==zl&&xe!==Du&&(Qn.getTransfer(xe)===bi?(Ne!==Sr||ze!==ys)&&console.warn("THREE.WebGLTextures: sRGB encoded textures have to use RGBAFormat and UnsignedByteType."):console.error("THREE.WebGLTextures: Unsupported texture color space:",xe)),q}function vt($){return typeof HTMLImageElement<"u"&&$ instanceof HTMLImageElement?(f.width=$.naturalWidth||$.width,f.height=$.naturalHeight||$.height):typeof VideoFrame<"u"&&$ instanceof VideoFrame?(f.width=$.displayWidth,f.height=$.displayHeight):(f.width=$.width,f.height=$.height),f}this.allocateTextureUnit=se,this.resetTextureUnits=te,this.setTexture2D=ue,this.setTexture2DArray=G,this.setTexture3D=Y,this.setTextureCube=Q,this.rebindTextures=pt,this.setupRenderTarget=ne,this.updateRenderTargetMipmap=be,this.updateMultisampleRenderTarget=re,this.setupDepthRenderbuffer=gt,this.setupFrameBufferTexture=_e,this.useMultisampledRTT=Ke}function Rz(i,e){function t(n,r=Du){let a;const s=Qn.getTransfer(r);if(n===ys)return i.UNSIGNED_BYTE;if(n===lE)return i.UNSIGNED_SHORT_4_4_4_4;if(n===cE)return i.UNSIGNED_SHORT_5_5_5_1;if(n===UR)return i.UNSIGNED_INT_5_9_9_9_REV;if(n===sE)return i.BYTE;if(n===oE)return i.SHORT;if(n===ng)return i.UNSIGNED_SHORT;if(n===Y_)return i.INT;if(n===Gc)return i.UNSIGNED_INT;if(n===rr)return i.FLOAT;if(n===aa)return i.HALF_FLOAT;if(n===IR)return i.ALPHA;if(n===BR)return i.RGB;if(n===Sr)return i.RGBA;if(n===rg)return i.DEPTH_COMPONENT;if(n===ag)return i.DEPTH_STENCIL;if(n===Z_)return i.RED;if(n===K_)return i.RED_INTEGER;if(n===zR)return i.RG;if(n===uE)return i.RG_INTEGER;if(n===fE)return i.RGBA_INTEGER;if(n===Vy||n===jy||n===Gy||n===Wy)if(s===bi)if(a=e.get("WEBGL_compressed_texture_s3tc_srgb"),a!==null){if(n===Vy)return a.COMPRESSED_SRGB_S3TC_DXT1_EXT;if(n===jy)return a.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT;if(n===Gy)return a.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT;if(n===Wy)return a.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT}else return null;else if(a=e.get("WEBGL_compressed_texture_s3tc"),a!==null){if(n===Vy)return a.COMPRESSED_RGB_S3TC_DXT1_EXT;if(n===jy)return a.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(n===Gy)return a.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(n===Wy)return a.COMPRESSED_RGBA_S3TC_DXT5_EXT}else return null;if(n===sw||n===ow||n===lw||n===cw)if(a=e.get("WEBGL_compressed_texture_pvrtc"),a!==null){if(n===sw)return a.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(n===ow)return a.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(n===lw)return a.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(n===cw)return a.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}else return null;if(n===uw||n===fw||n===hw)if(a=e.get("WEBGL_compressed_texture_etc"),a!==null){if(n===uw||n===fw)return s===bi?a.COMPRESSED_SRGB8_ETC2:a.COMPRESSED_RGB8_ETC2;if(n===hw)return s===bi?a.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:a.COMPRESSED_RGBA8_ETC2_EAC}else return null;if(n===dw||n===pw||n===mw||n===gw||n===vw||n===yw||n===_w||n===xw||n===bw||n===Sw||n===ww||n===Ew||n===Mw||n===Tw)if(a=e.get("WEBGL_compressed_texture_astc"),a!==null){if(n===dw)return s===bi?a.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR:a.COMPRESSED_RGBA_ASTC_4x4_KHR;if(n===pw)return s===bi?a.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR:a.COMPRESSED_RGBA_ASTC_5x4_KHR;if(n===mw)return s===bi?a.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR:a.COMPRESSED_RGBA_ASTC_5x5_KHR;if(n===gw)return s===bi?a.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR:a.COMPRESSED_RGBA_ASTC_6x5_KHR;if(n===vw)return s===bi?a.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR:a.COMPRESSED_RGBA_ASTC_6x6_KHR;if(n===yw)return s===bi?a.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR:a.COMPRESSED_RGBA_ASTC_8x5_KHR;if(n===_w)return s===bi?a.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR:a.COMPRESSED_RGBA_ASTC_8x6_KHR;if(n===xw)return s===bi?a.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR:a.COMPRESSED_RGBA_ASTC_8x8_KHR;if(n===bw)return s===bi?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR:a.COMPRESSED_RGBA_ASTC_10x5_KHR;if(n===Sw)return s===bi?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR:a.COMPRESSED_RGBA_ASTC_10x6_KHR;if(n===ww)return s===bi?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR:a.COMPRESSED_RGBA_ASTC_10x8_KHR;if(n===Ew)return s===bi?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR:a.COMPRESSED_RGBA_ASTC_10x10_KHR;if(n===Mw)return s===bi?a.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR:a.COMPRESSED_RGBA_ASTC_12x10_KHR;if(n===Tw)return s===bi?a.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR:a.COMPRESSED_RGBA_ASTC_12x12_KHR}else return null;if(n===Xy||n===Aw||n===Cw)if(a=e.get("EXT_texture_compression_bptc"),a!==null){if(n===Xy)return s===bi?a.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT:a.COMPRESSED_RGBA_BPTC_UNORM_EXT;if(n===Aw)return a.COMPRESSED_RGB_BPTC_SIGNED_FLOAT_EXT;if(n===Cw)return a.COMPRESSED_RGB_BPTC_UNSIGNED_FLOAT_EXT}else return null;if(n===kR||n===Rw||n===Dw||n===Ow)if(a=e.get("EXT_texture_compression_rgtc"),a!==null){if(n===Xy)return a.COMPRESSED_RED_RGTC1_EXT;if(n===Rw)return a.COMPRESSED_SIGNED_RED_RGTC1_EXT;if(n===Dw)return a.COMPRESSED_RED_GREEN_RGTC2_EXT;if(n===Ow)return a.COMPRESSED_SIGNED_RED_GREEN_RGTC2_EXT}else return null;return n===ig?i.UNSIGNED_INT_24_8:i[n]!==void 0?i[n]:null}return{convert:t}}class Dz extends gi{constructor(e=null){super(),this.sourceTexture=e,this.isExternalTexture=!0}}const RJ=`
void main() {

	gl_Position = vec4( position, 1.0 );

}`,DJ=`
uniform sampler2DArray depthColor;
uniform float depthWidth;
uniform float depthHeight;

void main() {

	vec2 coord = vec2( gl_FragCoord.x / depthWidth, gl_FragCoord.y / depthHeight );

	if ( coord.x >= 1.0 ) {

		gl_FragDepth = texture( depthColor, vec3( coord.x - 1.0, coord.y, 1 ) ).r;

	} else {

		gl_FragDepth = texture( depthColor, vec3( coord.x, coord.y, 0 ) ).r;

	}

}`;class OJ{constructor(){this.texture=null,this.mesh=null,this.depthNear=0,this.depthFar=0}init(e,t){if(this.texture===null){const n=new Dz(e.texture);(e.depthNear!==t.depthNear||e.depthFar!==t.depthFar)&&(this.depthNear=e.depthNear,this.depthFar=e.depthFar),this.texture=n}}getMesh(e){if(this.texture!==null&&this.mesh===null){const t=e.cameras[0].viewport,n=new Ws({vertexShader:RJ,fragmentShader:DJ,uniforms:{depthColor:{value:this.texture},depthWidth:{value:t.z},depthHeight:{value:t.w}}});this.mesh=new ar(new Ch(20,20),n)}return this.mesh}reset(){this.texture=null,this.mesh=null}getDepthTexture(){return this.texture}}class NJ extends Xc{constructor(e,t){super();const n=this;let r=null,a=1,s=null,l="local-floor",u=1,f=null,p=null,g=null,v=null,_=null,S=null;const w=new OJ,E={},b=t.getContextAttributes();let R=null,C=null;const A=[],N=[],L=new ut;let B=null;const U=new ra;U.viewport=new ri;const P=new ra;P.viewport=new ri;const z=[U,P],X=new _z;let te=null,se=null;this.cameraAutoUpdate=!0,this.enabled=!1,this.isPresenting=!1,this.getController=function(we){let ee=A[we];return ee===void 0&&(ee=new SS,A[we]=ee),ee.getTargetRaySpace()},this.getControllerGrip=function(we){let ee=A[we];return ee===void 0&&(ee=new SS,A[we]=ee),ee.getGripSpace()},this.getHand=function(we){let ee=A[we];return ee===void 0&&(ee=new SS,A[we]=ee),ee.getHandSpace()};function ae(we){const ee=N.indexOf(we.inputSource);if(ee===-1)return;const ie=A[ee];ie!==void 0&&(ie.update(we.inputSource,we.frame,f||s),ie.dispatchEvent({type:we.type,data:we.inputSource}))}function ue(){r.removeEventListener("select",ae),r.removeEventListener("selectstart",ae),r.removeEventListener("selectend",ae),r.removeEventListener("squeeze",ae),r.removeEventListener("squeezestart",ae),r.removeEventListener("squeezeend",ae),r.removeEventListener("end",ue),r.removeEventListener("inputsourceschange",G);for(let we=0;we<A.length;we++){const ee=N[we];ee!==null&&(N[we]=null,A[we].disconnect(ee))}te=null,se=null,w.reset();for(const we in E)delete E[we];e.setRenderTarget(R),_=null,v=null,g=null,r=null,C=null,ke.stop(),n.isPresenting=!1,e.setPixelRatio(B),e.setSize(L.width,L.height,!1),n.dispatchEvent({type:"sessionend"})}this.setFramebufferScaleFactor=function(we){a=we,n.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change framebuffer scale while presenting.")},this.setReferenceSpaceType=function(we){l=we,n.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change reference space type while presenting.")},this.getReferenceSpace=function(){return f||s},this.setReferenceSpace=function(we){f=we},this.getBaseLayer=function(){return v!==null?v:_},this.getBinding=function(){return g},this.getFrame=function(){return S},this.getSession=function(){return r},this.setSession=async function(we){if(r=we,r!==null){if(R=e.getRenderTarget(),r.addEventListener("select",ae),r.addEventListener("selectstart",ae),r.addEventListener("selectend",ae),r.addEventListener("squeeze",ae),r.addEventListener("squeezestart",ae),r.addEventListener("squeezeend",ae),r.addEventListener("end",ue),r.addEventListener("inputsourceschange",G),b.xrCompatible!==!0&&await t.makeXRCompatible(),B=e.getPixelRatio(),e.getSize(L),typeof XRWebGLBinding<"u"&&(g=new XRWebGLBinding(r,t)),g!==null&&"createProjectionLayer"in XRWebGLBinding.prototype){let ie=null,_e=null,Be=null;b.depth&&(Be=b.stencil?t.DEPTH24_STENCIL8:t.DEPTH_COMPONENT24,ie=b.stencil?ag:rg,_e=b.stencil?ig:Gc);const Ze={colorFormat:t.RGBA8,depthFormat:Be,scaleFactor:a};v=g.createProjectionLayer(Ze),r.updateRenderState({layers:[v]}),e.setPixelRatio(1),e.setSize(v.textureWidth,v.textureHeight,!1),C=new Jo(v.textureWidth,v.textureHeight,{format:Sr,type:ys,depthTexture:new KR(v.textureWidth,v.textureHeight,_e,void 0,void 0,void 0,void 0,void 0,void 0,ie),stencilBuffer:b.stencil,colorSpace:e.outputColorSpace,samples:b.antialias?4:0,resolveDepthBuffer:v.ignoreDepthValues===!1,resolveStencilBuffer:v.ignoreDepthValues===!1})}else{const ie={antialias:b.antialias,alpha:!0,depth:b.depth,stencil:b.stencil,framebufferScaleFactor:a};_=new XRWebGLLayer(r,t,ie),r.updateRenderState({baseLayer:_}),e.setPixelRatio(1),e.setSize(_.framebufferWidth,_.framebufferHeight,!1),C=new Jo(_.framebufferWidth,_.framebufferHeight,{format:Sr,type:ys,colorSpace:e.outputColorSpace,stencilBuffer:b.stencil,resolveDepthBuffer:_.ignoreDepthValues===!1,resolveStencilBuffer:_.ignoreDepthValues===!1})}C.isXRRenderTarget=!0,this.setFoveation(u),f=null,s=await r.requestReferenceSpace(l),ke.setContext(r),ke.start(),n.isPresenting=!0,n.dispatchEvent({type:"sessionstart"})}},this.getEnvironmentBlendMode=function(){if(r!==null)return r.environmentBlendMode},this.getDepthTexture=function(){return w.getDepthTexture()};function G(we){for(let ee=0;ee<we.removed.length;ee++){const ie=we.removed[ee],_e=N.indexOf(ie);_e>=0&&(N[_e]=null,A[_e].disconnect(ie))}for(let ee=0;ee<we.added.length;ee++){const ie=we.added[ee];let _e=N.indexOf(ie);if(_e===-1){for(let Ze=0;Ze<A.length;Ze++)if(Ze>=N.length){N.push(ie),_e=Ze;break}else if(N[Ze]===null){N[Ze]=ie,_e=Ze;break}if(_e===-1)break}const Be=A[_e];Be&&Be.connect(ie)}}const Y=new le,Q=new le;function ye(we,ee,ie){Y.setFromMatrixPosition(ee.matrixWorld),Q.setFromMatrixPosition(ie.matrixWorld);const _e=Y.distanceTo(Q),Be=ee.projectionMatrix.elements,Ze=ie.projectionMatrix.elements,gt=Be[14]/(Be[10]-1),pt=Be[14]/(Be[10]+1),ne=(Be[9]+1)/Be[5],be=(Be[9]-1)/Be[5],De=(Be[8]-1)/Be[0],Ye=(Ze[8]+1)/Ze[0],re=gt*De,Ve=gt*Ye,Ke=_e/(-De+Ye),$e=Ke*-De;if(ee.matrixWorld.decompose(we.position,we.quaternion,we.scale),we.translateX($e),we.translateZ(Ke),we.matrixWorld.compose(we.position,we.quaternion,we.scale),we.matrixWorldInverse.copy(we.matrixWorld).invert(),Be[10]===-1)we.projectionMatrix.copy(ee.projectionMatrix),we.projectionMatrixInverse.copy(ee.projectionMatrixInverse);else{const _t=gt+Ke,vt=pt+Ke,$=re-$e,q=Ve+(_e-$e),xe=ne*pt/vt*_t,Ne=be*pt/vt*_t;we.projectionMatrix.makePerspective($,q,xe,Ne,_t,vt),we.projectionMatrixInverse.copy(we.projectionMatrix).invert()}}function F(we,ee){ee===null?we.matrixWorld.copy(we.matrix):we.matrixWorld.multiplyMatrices(ee.matrixWorld,we.matrix),we.matrixWorldInverse.copy(we.matrixWorld).invert()}this.updateCamera=function(we){if(r===null)return;let ee=we.near,ie=we.far;w.texture!==null&&(w.depthNear>0&&(ee=w.depthNear),w.depthFar>0&&(ie=w.depthFar)),X.near=P.near=U.near=ee,X.far=P.far=U.far=ie,(te!==X.near||se!==X.far)&&(r.updateRenderState({depthNear:X.near,depthFar:X.far}),te=X.near,se=X.far),X.layers.mask=we.layers.mask|6,U.layers.mask=X.layers.mask&3,P.layers.mask=X.layers.mask&5;const _e=we.parent,Be=X.cameras;F(X,_e);for(let Ze=0;Ze<Be.length;Ze++)F(Be[Ze],_e);Be.length===2?ye(X,U,P):X.projectionMatrix.copy(U.projectionMatrix),fe(we,X,_e)};function fe(we,ee,ie){ie===null?we.matrix.copy(ee.matrixWorld):(we.matrix.copy(ie.matrixWorld),we.matrix.invert(),we.matrix.multiply(ee.matrixWorld)),we.matrix.decompose(we.position,we.quaternion,we.scale),we.updateMatrixWorld(!0),we.projectionMatrix.copy(ee.projectionMatrix),we.projectionMatrixInverse.copy(ee.projectionMatrixInverse),we.isPerspectiveCamera&&(we.fov=og*2*Math.atan(1/we.projectionMatrix.elements[5]),we.zoom=1)}this.getCamera=function(){return X},this.getFoveation=function(){if(!(v===null&&_===null))return u},this.setFoveation=function(we){u=we,v!==null&&(v.fixedFoveation=we),_!==null&&_.fixedFoveation!==void 0&&(_.fixedFoveation=we)},this.hasDepthSensing=function(){return w.texture!==null},this.getDepthSensingMesh=function(){return w.getMesh(X)},this.getCameraTexture=function(we){return E[we]};let Se=null;function Ce(we,ee){if(p=ee.getViewerPose(f||s),S=ee,p!==null){const ie=p.views;_!==null&&(e.setRenderTargetFramebuffer(C,_.framebuffer),e.setRenderTarget(C));let _e=!1;ie.length!==X.cameras.length&&(X.cameras.length=0,_e=!0);for(let pt=0;pt<ie.length;pt++){const ne=ie[pt];let be=null;if(_!==null)be=_.getViewport(ne);else{const Ye=g.getViewSubImage(v,ne);be=Ye.viewport,pt===0&&(e.setRenderTargetTextures(C,Ye.colorTexture,Ye.depthStencilTexture),e.setRenderTarget(C))}let De=z[pt];De===void 0&&(De=new ra,De.layers.enable(pt),De.viewport=new ri,z[pt]=De),De.matrix.fromArray(ne.transform.matrix),De.matrix.decompose(De.position,De.quaternion,De.scale),De.projectionMatrix.fromArray(ne.projectionMatrix),De.projectionMatrixInverse.copy(De.projectionMatrix).invert(),De.viewport.set(be.x,be.y,be.width,be.height),pt===0&&(X.matrix.copy(De.matrix),X.matrix.decompose(X.position,X.quaternion,X.scale)),_e===!0&&X.cameras.push(De)}const Be=r.enabledFeatures;if(Be&&Be.includes("depth-sensing")&&r.depthUsage=="gpu-optimized"&&g){const pt=g.getDepthInformation(ie[0]);pt&&pt.isValid&&pt.texture&&w.init(pt,r.renderState)}if(Be&&Be.includes("camera-access")&&(e.state.unbindTexture(),g))for(let pt=0;pt<ie.length;pt++){const ne=ie[pt].camera;if(ne){let be=E[ne];be||(be=new Dz,E[ne]=be);const De=g.getCameraImage(ne);be.sourceTexture=De}}}for(let ie=0;ie<A.length;ie++){const _e=N[ie],Be=A[ie];_e!==null&&Be!==void 0&&Be.update(_e,ee,f||s)}Se&&Se(we,ee),ee.detectedPlanes&&n.dispatchEvent({type:"planesdetected",data:ee}),S=null}const ke=new Ez;ke.setAnimationLoop(Ce),this.setAnimationLoop=function(we){Se=we},this.dispose=function(){}}}const kd=new xo,PJ=new gn;function LJ(i,e){function t(E,b){E.matrixAutoUpdate===!0&&E.updateMatrix(),b.value.copy(E.matrix)}function n(E,b){b.color.getRGB(E.fogColor.value,EB(i)),b.isFog?(E.fogNear.value=b.near,E.fogFar.value=b.far):b.isFogExp2&&(E.fogDensity.value=b.density)}function r(E,b,R,C,A){b.isMeshBasicMaterial||b.isMeshLambertMaterial?a(E,b):b.isMeshToonMaterial?(a(E,b),g(E,b)):b.isMeshPhongMaterial?(a(E,b),p(E,b)):b.isMeshStandardMaterial?(a(E,b),v(E,b),b.isMeshPhysicalMaterial&&_(E,b,A)):b.isMeshMatcapMaterial?(a(E,b),S(E,b)):b.isMeshDepthMaterial?a(E,b):b.isMeshDistanceMaterial?(a(E,b),w(E,b)):b.isMeshNormalMaterial?a(E,b):b.isLineBasicMaterial?(s(E,b),b.isLineDashedMaterial&&l(E,b)):b.isPointsMaterial?u(E,b,R,C):b.isSpriteMaterial?f(E,b):b.isShadowMaterial?(E.color.value.copy(b.color),E.opacity.value=b.opacity):b.isShaderMaterial&&(b.uniformsNeedUpdate=!1)}function a(E,b){E.opacity.value=b.opacity,b.color&&E.diffuse.value.copy(b.color),b.emissive&&E.emissive.value.copy(b.emissive).multiplyScalar(b.emissiveIntensity),b.map&&(E.map.value=b.map,t(b.map,E.mapTransform)),b.alphaMap&&(E.alphaMap.value=b.alphaMap,t(b.alphaMap,E.alphaMapTransform)),b.bumpMap&&(E.bumpMap.value=b.bumpMap,t(b.bumpMap,E.bumpMapTransform),E.bumpScale.value=b.bumpScale,b.side===vs&&(E.bumpScale.value*=-1)),b.normalMap&&(E.normalMap.value=b.normalMap,t(b.normalMap,E.normalMapTransform),E.normalScale.value.copy(b.normalScale),b.side===vs&&E.normalScale.value.negate()),b.displacementMap&&(E.displacementMap.value=b.displacementMap,t(b.displacementMap,E.displacementMapTransform),E.displacementScale.value=b.displacementScale,E.displacementBias.value=b.displacementBias),b.emissiveMap&&(E.emissiveMap.value=b.emissiveMap,t(b.emissiveMap,E.emissiveMapTransform)),b.specularMap&&(E.specularMap.value=b.specularMap,t(b.specularMap,E.specularMapTransform)),b.alphaTest>0&&(E.alphaTest.value=b.alphaTest);const R=e.get(b),C=R.envMap,A=R.envMapRotation;C&&(E.envMap.value=C,kd.copy(A),kd.x*=-1,kd.y*=-1,kd.z*=-1,C.isCubeTexture&&C.isRenderTargetTexture===!1&&(kd.y*=-1,kd.z*=-1),E.envMapRotation.value.setFromMatrix4(PJ.makeRotationFromEuler(kd)),E.flipEnvMap.value=C.isCubeTexture&&C.isRenderTargetTexture===!1?-1:1,E.reflectivity.value=b.reflectivity,E.ior.value=b.ior,E.refractionRatio.value=b.refractionRatio),b.lightMap&&(E.lightMap.value=b.lightMap,E.lightMapIntensity.value=b.lightMapIntensity,t(b.lightMap,E.lightMapTransform)),b.aoMap&&(E.aoMap.value=b.aoMap,E.aoMapIntensity.value=b.aoMapIntensity,t(b.aoMap,E.aoMapTransform))}function s(E,b){E.diffuse.value.copy(b.color),E.opacity.value=b.opacity,b.map&&(E.map.value=b.map,t(b.map,E.mapTransform))}function l(E,b){E.dashSize.value=b.dashSize,E.totalSize.value=b.dashSize+b.gapSize,E.scale.value=b.scale}function u(E,b,R,C){E.diffuse.value.copy(b.color),E.opacity.value=b.opacity,E.size.value=b.size*R,E.scale.value=C*.5,b.map&&(E.map.value=b.map,t(b.map,E.uvTransform)),b.alphaMap&&(E.alphaMap.value=b.alphaMap,t(b.alphaMap,E.alphaMapTransform)),b.alphaTest>0&&(E.alphaTest.value=b.alphaTest)}function f(E,b){E.diffuse.value.copy(b.color),E.opacity.value=b.opacity,E.rotation.value=b.rotation,b.map&&(E.map.value=b.map,t(b.map,E.mapTransform)),b.alphaMap&&(E.alphaMap.value=b.alphaMap,t(b.alphaMap,E.alphaMapTransform)),b.alphaTest>0&&(E.alphaTest.value=b.alphaTest)}function p(E,b){E.specular.value.copy(b.specular),E.shininess.value=Math.max(b.shininess,1e-4)}function g(E,b){b.gradientMap&&(E.gradientMap.value=b.gradientMap)}function v(E,b){E.metalness.value=b.metalness,b.metalnessMap&&(E.metalnessMap.value=b.metalnessMap,t(b.metalnessMap,E.metalnessMapTransform)),E.roughness.value=b.roughness,b.roughnessMap&&(E.roughnessMap.value=b.roughnessMap,t(b.roughnessMap,E.roughnessMapTransform)),b.envMap&&(E.envMapIntensity.value=b.envMapIntensity)}function _(E,b,R){E.ior.value=b.ior,b.sheen>0&&(E.sheenColor.value.copy(b.sheenColor).multiplyScalar(b.sheen),E.sheenRoughness.value=b.sheenRoughness,b.sheenColorMap&&(E.sheenColorMap.value=b.sheenColorMap,t(b.sheenColorMap,E.sheenColorMapTransform)),b.sheenRoughnessMap&&(E.sheenRoughnessMap.value=b.sheenRoughnessMap,t(b.sheenRoughnessMap,E.sheenRoughnessMapTransform))),b.clearcoat>0&&(E.clearcoat.value=b.clearcoat,E.clearcoatRoughness.value=b.clearcoatRoughness,b.clearcoatMap&&(E.clearcoatMap.value=b.clearcoatMap,t(b.clearcoatMap,E.clearcoatMapTransform)),b.clearcoatRoughnessMap&&(E.clearcoatRoughnessMap.value=b.clearcoatRoughnessMap,t(b.clearcoatRoughnessMap,E.clearcoatRoughnessMapTransform)),b.clearcoatNormalMap&&(E.clearcoatNormalMap.value=b.clearcoatNormalMap,t(b.clearcoatNormalMap,E.clearcoatNormalMapTransform),E.clearcoatNormalScale.value.copy(b.clearcoatNormalScale),b.side===vs&&E.clearcoatNormalScale.value.negate())),b.dispersion>0&&(E.dispersion.value=b.dispersion),b.iridescence>0&&(E.iridescence.value=b.iridescence,E.iridescenceIOR.value=b.iridescenceIOR,E.iridescenceThicknessMinimum.value=b.iridescenceThicknessRange[0],E.iridescenceThicknessMaximum.value=b.iridescenceThicknessRange[1],b.iridescenceMap&&(E.iridescenceMap.value=b.iridescenceMap,t(b.iridescenceMap,E.iridescenceMapTransform)),b.iridescenceThicknessMap&&(E.iridescenceThicknessMap.value=b.iridescenceThicknessMap,t(b.iridescenceThicknessMap,E.iridescenceThicknessMapTransform))),b.transmission>0&&(E.transmission.value=b.transmission,E.transmissionSamplerMap.value=R.texture,E.transmissionSamplerSize.value.set(R.width,R.height),b.transmissionMap&&(E.transmissionMap.value=b.transmissionMap,t(b.transmissionMap,E.transmissionMapTransform)),E.thickness.value=b.thickness,b.thicknessMap&&(E.thicknessMap.value=b.thicknessMap,t(b.thicknessMap,E.thicknessMapTransform)),E.attenuationDistance.value=b.attenuationDistance,E.attenuationColor.value.copy(b.attenuationColor)),b.anisotropy>0&&(E.anisotropyVector.value.set(b.anisotropy*Math.cos(b.anisotropyRotation),b.anisotropy*Math.sin(b.anisotropyRotation)),b.anisotropyMap&&(E.anisotropyMap.value=b.anisotropyMap,t(b.anisotropyMap,E.anisotropyMapTransform))),E.specularIntensity.value=b.specularIntensity,E.specularColor.value.copy(b.specularColor),b.specularColorMap&&(E.specularColorMap.value=b.specularColorMap,t(b.specularColorMap,E.specularColorMapTransform)),b.specularIntensityMap&&(E.specularIntensityMap.value=b.specularIntensityMap,t(b.specularIntensityMap,E.specularIntensityMapTransform))}function S(E,b){b.matcap&&(E.matcap.value=b.matcap)}function w(E,b){const R=e.get(b).light;E.referencePosition.value.setFromMatrixPosition(R.matrixWorld),E.nearDistance.value=R.shadow.camera.near,E.farDistance.value=R.shadow.camera.far}return{refreshFogUniforms:n,refreshMaterialUniforms:r}}function UJ(i,e,t,n){let r={},a={},s=[];const l=i.getParameter(i.MAX_UNIFORM_BUFFER_BINDINGS);function u(R,C){const A=C.program;n.uniformBlockBinding(R,A)}function f(R,C){let A=r[R.id];A===void 0&&(S(R),A=p(R),r[R.id]=A,R.addEventListener("dispose",E));const N=C.program;n.updateUBOMapping(R,N);const L=e.render.frame;a[R.id]!==L&&(v(R),a[R.id]=L)}function p(R){const C=g();R.__bindingPointIndex=C;const A=i.createBuffer(),N=R.__size,L=R.usage;return i.bindBuffer(i.UNIFORM_BUFFER,A),i.bufferData(i.UNIFORM_BUFFER,N,L),i.bindBuffer(i.UNIFORM_BUFFER,null),i.bindBufferBase(i.UNIFORM_BUFFER,C,A),A}function g(){for(let R=0;R<l;R++)if(s.indexOf(R)===-1)return s.push(R),R;return console.error("THREE.WebGLRenderer: Maximum number of simultaneously usable uniforms groups reached."),0}function v(R){const C=r[R.id],A=R.uniforms,N=R.__cache;i.bindBuffer(i.UNIFORM_BUFFER,C);for(let L=0,B=A.length;L<B;L++){const U=Array.isArray(A[L])?A[L]:[A[L]];for(let P=0,z=U.length;P<z;P++){const X=U[P];if(_(X,L,P,N)===!0){const te=X.__offset,se=Array.isArray(X.value)?X.value:[X.value];let ae=0;for(let ue=0;ue<se.length;ue++){const G=se[ue],Y=w(G);typeof G=="number"||typeof G=="boolean"?(X.__data[0]=G,i.bufferSubData(i.UNIFORM_BUFFER,te+ae,X.__data)):G.isMatrix3?(X.__data[0]=G.elements[0],X.__data[1]=G.elements[1],X.__data[2]=G.elements[2],X.__data[3]=0,X.__data[4]=G.elements[3],X.__data[5]=G.elements[4],X.__data[6]=G.elements[5],X.__data[7]=0,X.__data[8]=G.elements[6],X.__data[9]=G.elements[7],X.__data[10]=G.elements[8],X.__data[11]=0):(G.toArray(X.__data,ae),ae+=Y.storage/Float32Array.BYTES_PER_ELEMENT)}i.bufferSubData(i.UNIFORM_BUFFER,te,X.__data)}}}i.bindBuffer(i.UNIFORM_BUFFER,null)}function _(R,C,A,N){const L=R.value,B=C+"_"+A;if(N[B]===void 0)return typeof L=="number"||typeof L=="boolean"?N[B]=L:N[B]=L.clone(),!0;{const U=N[B];if(typeof L=="number"||typeof L=="boolean"){if(U!==L)return N[B]=L,!0}else if(U.equals(L)===!1)return U.copy(L),!0}return!1}function S(R){const C=R.uniforms;let A=0;const N=16;for(let B=0,U=C.length;B<U;B++){const P=Array.isArray(C[B])?C[B]:[C[B]];for(let z=0,X=P.length;z<X;z++){const te=P[z],se=Array.isArray(te.value)?te.value:[te.value];for(let ae=0,ue=se.length;ae<ue;ae++){const G=se[ae],Y=w(G),Q=A%N,ye=Q%Y.boundary,F=Q+ye;A+=ye,F!==0&&N-F<Y.storage&&(A+=N-F),te.__data=new Float32Array(Y.storage/Float32Array.BYTES_PER_ELEMENT),te.__offset=A,A+=Y.storage}}}const L=A%N;return L>0&&(A+=N-L),R.__size=A,R.__cache={},this}function w(R){const C={boundary:0,storage:0};return typeof R=="number"||typeof R=="boolean"?(C.boundary=4,C.storage=4):R.isVector2?(C.boundary=8,C.storage=8):R.isVector3||R.isColor?(C.boundary=16,C.storage=12):R.isVector4?(C.boundary=16,C.storage=16):R.isMatrix3?(C.boundary=48,C.storage=48):R.isMatrix4?(C.boundary=64,C.storage=64):R.isTexture?console.warn("THREE.WebGLRenderer: Texture samplers can not be part of an uniforms group."):console.warn("THREE.WebGLRenderer: Unsupported uniform value type.",R),C}function E(R){const C=R.target;C.removeEventListener("dispose",E);const A=s.indexOf(C.__bindingPointIndex);s.splice(A,1),i.deleteBuffer(r[C.id]),delete r[C.id],delete a[C.id]}function b(){for(const R in r)i.deleteBuffer(r[R]);s=[],r={},a={}}return{bind:u,update:f,dispose:b}}class _3{constructor(e={}){const{canvas:t=bB(),context:n=null,depth:r=!0,stencil:a=!1,alpha:s=!1,antialias:l=!1,premultipliedAlpha:u=!0,preserveDrawingBuffer:f=!1,powerPreference:p="default",failIfMajorPerformanceCaveat:g=!1,reversedDepthBuffer:v=!1}=e;this.isWebGLRenderer=!0;let _;if(n!==null){if(typeof WebGLRenderingContext<"u"&&n instanceof WebGLRenderingContext)throw new Error("THREE.WebGLRenderer: WebGL 1 is not supported since r163.");_=n.getContextAttributes().alpha}else _=s;const S=new Uint32Array(4),w=new Int32Array(4);let E=null,b=null;const R=[],C=[];this.domElement=t,this.debug={checkShaderErrors:!0,onShaderError:null},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this.toneMapping=Bc,this.toneMappingExposure=1,this.transmissionResolutionScale=1;const A=this;let N=!1;this._outputColorSpace=va;let L=0,B=0,U=null,P=-1,z=null;const X=new ri,te=new ri;let se=null;const ae=new Vt(0);let ue=0,G=t.width,Y=t.height,Q=1,ye=null,F=null;const fe=new ri(0,0,G,Y),Se=new ri(0,0,G,Y);let Ce=!1;const ke=new Eg;let we=!1,ee=!1;const ie=new gn,_e=new le,Be=new ri,Ze={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};let gt=!1;function pt(){return U===null?Q:1}let ne=n;function be(V,oe){return t.getContext(V,oe)}try{const V={alpha:!0,depth:r,stencil:a,antialias:l,premultipliedAlpha:u,preserveDrawingBuffer:f,powerPreference:p,failIfMajorPerformanceCaveat:g};if("setAttribute"in t&&t.setAttribute("data-engine",`three.js r${X_}`),t.addEventListener("webglcontextlost",dt,!1),t.addEventListener("webglcontextrestored",At,!1),t.addEventListener("webglcontextcreationerror",ot,!1),ne===null){const oe="webgl2";if(ne=be(oe,V),ne===null)throw be(oe)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}}catch(V){throw console.error("THREE.WebGLRenderer: "+V.message),V}let De,Ye,re,Ve,Ke,$e,_t,vt,$,q,xe,Ne,ze,Ue,mt,ht,Dt,wt,it,ct,zt,Rt,ft,Ut;function de(){De=new qK(ne),De.init(),Rt=new Rz(ne,De),Ye=new FK(ne,De,e,Rt),re=new AJ(ne,De),Ye.reversedDepthBuffer&&v&&re.buffers.depth.setReversed(!0),Ve=new KK(ne),Ke=new pJ,$e=new CJ(ne,De,re,Ke,Ye,Rt,Ve),_t=new VK(A),vt=new XK(A),$=new nY(ne),ft=new zK(ne,$),q=new YK(ne,$,Ve,ft),xe=new JK(ne,q,$,Ve),it=new $K(ne,Ye,$e),ht=new HK(Ke),Ne=new dJ(A,_t,vt,De,Ye,ft,ht),ze=new LJ(A,Ke),Ue=new gJ,mt=new SJ(De),wt=new BK(A,_t,vt,re,xe,_,u),Dt=new MJ(A,xe,Ye),Ut=new UJ(ne,Ve,Ye,re),ct=new kK(ne,De,Ve),zt=new ZK(ne,De,Ve),Ve.programs=Ne.programs,A.capabilities=Ye,A.extensions=De,A.properties=Ke,A.renderLists=Ue,A.shadowMap=Dt,A.state=re,A.info=Ve}de();const Oe=new NJ(A,ne);this.xr=Oe,this.getContext=function(){return ne},this.getContextAttributes=function(){return ne.getContextAttributes()},this.forceContextLoss=function(){const V=De.get("WEBGL_lose_context");V&&V.loseContext()},this.forceContextRestore=function(){const V=De.get("WEBGL_lose_context");V&&V.restoreContext()},this.getPixelRatio=function(){return Q},this.setPixelRatio=function(V){V!==void 0&&(Q=V,this.setSize(G,Y,!1))},this.getSize=function(V){return V.set(G,Y)},this.setSize=function(V,oe,he=!0){if(Oe.isPresenting){console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting.");return}G=V,Y=oe,t.width=Math.floor(V*Q),t.height=Math.floor(oe*Q),he===!0&&(t.style.width=V+"px",t.style.height=oe+"px"),this.setViewport(0,0,V,oe)},this.getDrawingBufferSize=function(V){return V.set(G*Q,Y*Q).floor()},this.setDrawingBufferSize=function(V,oe,he){G=V,Y=oe,Q=he,t.width=Math.floor(V*he),t.height=Math.floor(oe*he),this.setViewport(0,0,V,oe)},this.getCurrentViewport=function(V){return V.copy(X)},this.getViewport=function(V){return V.copy(fe)},this.setViewport=function(V,oe,he,pe){V.isVector4?fe.set(V.x,V.y,V.z,V.w):fe.set(V,oe,he,pe),re.viewport(X.copy(fe).multiplyScalar(Q).round())},this.getScissor=function(V){return V.copy(Se)},this.setScissor=function(V,oe,he,pe){V.isVector4?Se.set(V.x,V.y,V.z,V.w):Se.set(V,oe,he,pe),re.scissor(te.copy(Se).multiplyScalar(Q).round())},this.getScissorTest=function(){return Ce},this.setScissorTest=function(V){re.setScissorTest(Ce=V)},this.setOpaqueSort=function(V){ye=V},this.setTransparentSort=function(V){F=V},this.getClearColor=function(V){return V.copy(wt.getClearColor())},this.setClearColor=function(){wt.setClearColor(...arguments)},this.getClearAlpha=function(){return wt.getClearAlpha()},this.setClearAlpha=function(){wt.setClearAlpha(...arguments)},this.clear=function(V=!0,oe=!0,he=!0){let pe=0;if(V){let ce=!1;if(U!==null){const qe=U.texture.format;ce=qe===fE||qe===uE||qe===K_}if(ce){const qe=U.texture.type,Fe=qe===ys||qe===Gc||qe===ng||qe===ig||qe===lE||qe===cE,Je=wt.getClearColor(),Qe=wt.getClearAlpha(),yt=Je.r,Et=Je.g,bt=Je.b;Fe?(S[0]=yt,S[1]=Et,S[2]=bt,S[3]=Qe,ne.clearBufferuiv(ne.COLOR,0,S)):(w[0]=yt,w[1]=Et,w[2]=bt,w[3]=Qe,ne.clearBufferiv(ne.COLOR,0,w))}else pe|=ne.COLOR_BUFFER_BIT}oe&&(pe|=ne.DEPTH_BUFFER_BIT),he&&(pe|=ne.STENCIL_BUFFER_BIT,this.state.buffers.stencil.setMask(4294967295)),ne.clear(pe)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){t.removeEventListener("webglcontextlost",dt,!1),t.removeEventListener("webglcontextrestored",At,!1),t.removeEventListener("webglcontextcreationerror",ot,!1),wt.dispose(),Ue.dispose(),mt.dispose(),Ke.dispose(),_t.dispose(),vt.dispose(),xe.dispose(),ft.dispose(),Ut.dispose(),Ne.dispose(),Oe.dispose(),Oe.removeEventListener("sessionstart",tn),Oe.removeEventListener("sessionend",xt),kt.stop()};function dt(V){V.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),N=!0}function At(){console.log("THREE.WebGLRenderer: Context Restored."),N=!1;const V=Ve.autoReset,oe=Dt.enabled,he=Dt.autoUpdate,pe=Dt.needsUpdate,ce=Dt.type;de(),Ve.autoReset=V,Dt.enabled=oe,Dt.autoUpdate=he,Dt.needsUpdate=pe,Dt.type=ce}function ot(V){console.error("THREE.WebGLRenderer: A WebGL context could not be created. Reason: ",V.statusMessage)}function et(V){const oe=V.target;oe.removeEventListener("dispose",et),Lt(oe)}function Lt(V){Xt(V),Ke.remove(V)}function Xt(V){const oe=Ke.get(V).programs;oe!==void 0&&(oe.forEach(function(he){Ne.releaseProgram(he)}),V.isShaderMaterial&&Ne.releaseShaderCache(V))}this.renderBufferDirect=function(V,oe,he,pe,ce,qe){oe===null&&(oe=Ze);const Fe=ce.isMesh&&ce.matrixWorld.determinant()<0,Je=Z(V,oe,he,pe,ce);re.setMaterial(pe,Fe);let Qe=he.index,yt=1;if(pe.wireframe===!0){if(Qe=q.getWireframeAttribute(he),Qe===void 0)return;yt=2}const Et=he.drawRange,bt=he.attributes.position;let jt=Et.start*yt,Kt=(Et.start+Et.count)*yt;qe!==null&&(jt=Math.max(jt,qe.start*yt),Kt=Math.min(Kt,(qe.start+qe.count)*yt)),Qe!==null?(jt=Math.max(jt,0),Kt=Math.min(Kt,Qe.count)):bt!=null&&(jt=Math.max(jt,0),Kt=Math.min(Kt,bt.count));const an=Kt-jt;if(an<0||an===1/0)return;ft.setup(ce,pe,Je,he,Qe);let Tn,Ht=ct;if(Qe!==null&&(Tn=$.get(Qe),Ht=zt,Ht.setIndex(Tn)),ce.isMesh)pe.wireframe===!0?(re.setLineWidth(pe.wireframeLinewidth*pt()),Ht.setMode(ne.LINES)):Ht.setMode(ne.TRIANGLES);else if(ce.isLine){let Ot=pe.linewidth;Ot===void 0&&(Ot=1),re.setLineWidth(Ot*pt()),ce.isLineSegments?Ht.setMode(ne.LINES):ce.isLineLoop?Ht.setMode(ne.LINE_LOOP):Ht.setMode(ne.LINE_STRIP)}else ce.isPoints?Ht.setMode(ne.POINTS):ce.isSprite&&Ht.setMode(ne.TRIANGLES);if(ce.isBatchedMesh)if(ce._multiDrawInstances!==null)V0("THREE.WebGLRenderer: renderMultiDrawInstances has been deprecated and will be removed in r184. Append to renderMultiDraw arguments and use indirection."),Ht.renderMultiDrawInstances(ce._multiDrawStarts,ce._multiDrawCounts,ce._multiDrawCount,ce._multiDrawInstances);else if(De.get("WEBGL_multi_draw"))Ht.renderMultiDraw(ce._multiDrawStarts,ce._multiDrawCounts,ce._multiDrawCount);else{const Ot=ce._multiDrawStarts,Gn=ce._multiDrawCounts,vn=ce._multiDrawCount,oi=Qe?$.get(Qe).bytesPerElement:1,An=Ke.get(pe).currentProgram.getUniforms();for(let qn=0;qn<vn;qn++)An.setValue(ne,"_gl_DrawID",qn),Ht.render(Ot[qn]/oi,Gn[qn])}else if(ce.isInstancedMesh)Ht.renderInstances(jt,an,ce.count);else if(he.isInstancedBufferGeometry){const Ot=he._maxInstanceCount!==void 0?he._maxInstanceCount:1/0,Gn=Math.min(he.instanceCount,Ot);Ht.renderInstances(jt,an,Gn)}else Ht.render(jt,an)};function bn(V,oe,he){V.transparent===!0&&V.side===Ll&&V.forceSinglePass===!1?(V.side=vs,V.needsUpdate=!0,Zn(V,oe,he),V.side=ku,V.needsUpdate=!0,Zn(V,oe,he),V.side=Ll):Zn(V,oe,he)}this.compile=function(V,oe,he=null){he===null&&(he=V),b=mt.get(he),b.init(oe),C.push(b),he.traverseVisible(function(ce){ce.isLight&&ce.layers.test(oe.layers)&&(b.pushLight(ce),ce.castShadow&&b.pushShadow(ce))}),V!==he&&V.traverseVisible(function(ce){ce.isLight&&ce.layers.test(oe.layers)&&(b.pushLight(ce),ce.castShadow&&b.pushShadow(ce))}),b.setupLights();const pe=new Set;return V.traverse(function(ce){if(!(ce.isMesh||ce.isPoints||ce.isLine||ce.isSprite))return;const qe=ce.material;if(qe)if(Array.isArray(qe))for(let Fe=0;Fe<qe.length;Fe++){const Je=qe[Fe];bn(Je,he,ce),pe.add(Je)}else bn(qe,he,ce),pe.add(qe)}),b=C.pop(),pe},this.compileAsync=function(V,oe,he=null){const pe=this.compile(V,oe,he);return new Promise(ce=>{function qe(){if(pe.forEach(function(Fe){Ke.get(Fe).currentProgram.isReady()&&pe.delete(Fe)}),pe.size===0){ce(V);return}setTimeout(qe,10)}De.get("KHR_parallel_shader_compile")!==null?qe():setTimeout(qe,10)})};let Ct=null;function Gt(V){Ct&&Ct(V)}function tn(){kt.stop()}function xt(){kt.start()}const kt=new Ez;kt.setAnimationLoop(Gt),typeof self<"u"&&kt.setContext(self),this.setAnimationLoop=function(V){Ct=V,Oe.setAnimationLoop(V),V===null?kt.stop():kt.start()},Oe.addEventListener("sessionstart",tn),Oe.addEventListener("sessionend",xt),this.render=function(V,oe){if(oe!==void 0&&oe.isCamera!==!0){console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.");return}if(N===!0)return;if(V.matrixWorldAutoUpdate===!0&&V.updateMatrixWorld(),oe.parent===null&&oe.matrixWorldAutoUpdate===!0&&oe.updateMatrixWorld(),Oe.enabled===!0&&Oe.isPresenting===!0&&(Oe.cameraAutoUpdate===!0&&Oe.updateCamera(oe),oe=Oe.getCamera()),V.isScene===!0&&V.onBeforeRender(A,V,oe,U),b=mt.get(V,C.length),b.init(oe),C.push(b),ie.multiplyMatrices(oe.projectionMatrix,oe.matrixWorldInverse),ke.setFromProjectionMatrix(ie,po,oe.reversedDepth),ee=this.localClippingEnabled,we=ht.init(this.clippingPlanes,ee),E=Ue.get(V,R.length),E.init(),R.push(E),Oe.enabled===!0&&Oe.isPresenting===!0){const qe=A.xr.getDepthSensingMesh();qe!==null&&Ft(qe,oe,-1/0,A.sortObjects)}Ft(V,oe,0,A.sortObjects),E.finish(),A.sortObjects===!0&&E.sort(ye,F),gt=Oe.enabled===!1||Oe.isPresenting===!1||Oe.hasDepthSensing()===!1,gt&&wt.addToRenderList(E,V),this.info.render.frame++,we===!0&&ht.beginShadows();const he=b.state.shadowsArray;Dt.render(he,V,oe),we===!0&&ht.endShadows(),this.info.autoReset===!0&&this.info.reset();const pe=E.opaque,ce=E.transmissive;if(b.setupLights(),oe.isArrayCamera){const qe=oe.cameras;if(ce.length>0)for(let Fe=0,Je=qe.length;Fe<Je;Fe++){const Qe=qe[Fe];si(pe,ce,V,Qe)}gt&&wt.render(V);for(let Fe=0,Je=qe.length;Fe<Je;Fe++){const Qe=qe[Fe];Zt(E,V,Qe,Qe.viewport)}}else ce.length>0&&si(pe,ce,V,oe),gt&&wt.render(V),Zt(E,V,oe);U!==null&&B===0&&($e.updateMultisampleRenderTarget(U),$e.updateRenderTargetMipmap(U)),V.isScene===!0&&V.onAfterRender(A,V,oe),ft.resetDefaultState(),P=-1,z=null,C.pop(),C.length>0?(b=C[C.length-1],we===!0&&ht.setGlobalState(A.clippingPlanes,b.state.camera)):b=null,R.pop(),R.length>0?E=R[R.length-1]:E=null};function Ft(V,oe,he,pe){if(V.visible===!1)return;if(V.layers.test(oe.layers)){if(V.isGroup)he=V.renderOrder;else if(V.isLOD)V.autoUpdate===!0&&V.update(oe);else if(V.isLight)b.pushLight(V),V.castShadow&&b.pushShadow(V);else if(V.isSprite){if(!V.frustumCulled||ke.intersectsSprite(V)){pe&&Be.setFromMatrixPosition(V.matrixWorld).applyMatrix4(ie);const Fe=xe.update(V),Je=V.material;Je.visible&&E.push(V,Fe,Je,he,Be.z,null)}}else if((V.isMesh||V.isLine||V.isPoints)&&(!V.frustumCulled||ke.intersectsObject(V))){const Fe=xe.update(V),Je=V.material;if(pe&&(V.boundingSphere!==void 0?(V.boundingSphere===null&&V.computeBoundingSphere(),Be.copy(V.boundingSphere.center)):(Fe.boundingSphere===null&&Fe.computeBoundingSphere(),Be.copy(Fe.boundingSphere.center)),Be.applyMatrix4(V.matrixWorld).applyMatrix4(ie)),Array.isArray(Je)){const Qe=Fe.groups;for(let yt=0,Et=Qe.length;yt<Et;yt++){const bt=Qe[yt],jt=Je[bt.materialIndex];jt&&jt.visible&&E.push(V,Fe,jt,he,Be.z,bt)}}else Je.visible&&E.push(V,Fe,Je,he,Be.z,null)}}const qe=V.children;for(let Fe=0,Je=qe.length;Fe<Je;Fe++)Ft(qe[Fe],oe,he,pe)}function Zt(V,oe,he,pe){const ce=V.opaque,qe=V.transmissive,Fe=V.transparent;b.setupLightsView(he),we===!0&&ht.setGlobalState(A.clippingPlanes,he),pe&&re.viewport(X.copy(pe)),ce.length>0&&Qt(ce,oe,he),qe.length>0&&Qt(qe,oe,he),Fe.length>0&&Qt(Fe,oe,he),re.buffers.depth.setTest(!0),re.buffers.depth.setMask(!0),re.buffers.color.setMask(!0),re.setPolygonOffset(!1)}function si(V,oe,he,pe){if((he.isScene===!0?he.overrideMaterial:null)!==null)return;b.state.transmissionRenderTarget[pe.id]===void 0&&(b.state.transmissionRenderTarget[pe.id]=new Jo(1,1,{generateMipmaps:!0,type:De.has("EXT_color_buffer_half_float")||De.has("EXT_color_buffer_float")?aa:ys,minFilter:Nc,samples:4,stencilBuffer:a,resolveDepthBuffer:!1,resolveStencilBuffer:!1,colorSpace:Qn.workingColorSpace}));const qe=b.state.transmissionRenderTarget[pe.id],Fe=pe.viewport||X;qe.setSize(Fe.z*A.transmissionResolutionScale,Fe.w*A.transmissionResolutionScale);const Je=A.getRenderTarget(),Qe=A.getActiveCubeFace(),yt=A.getActiveMipmapLevel();A.setRenderTarget(qe),A.getClearColor(ae),ue=A.getClearAlpha(),ue<1&&A.setClearColor(16777215,.5),A.clear(),gt&&wt.render(he);const Et=A.toneMapping;A.toneMapping=Bc;const bt=pe.viewport;if(pe.viewport!==void 0&&(pe.viewport=void 0),b.setupLightsView(pe),we===!0&&ht.setGlobalState(A.clippingPlanes,pe),Qt(V,he,pe),$e.updateMultisampleRenderTarget(qe),$e.updateRenderTargetMipmap(qe),De.has("WEBGL_multisampled_render_to_texture")===!1){let jt=!1;for(let Kt=0,an=oe.length;Kt<an;Kt++){const Tn=oe[Kt],Ht=Tn.object,Ot=Tn.geometry,Gn=Tn.material,vn=Tn.group;if(Gn.side===Ll&&Ht.layers.test(pe.layers)){const oi=Gn.side;Gn.side=vs,Gn.needsUpdate=!0,It(Ht,he,pe,Ot,Gn,vn),Gn.side=oi,Gn.needsUpdate=!0,jt=!0}}jt===!0&&($e.updateMultisampleRenderTarget(qe),$e.updateRenderTargetMipmap(qe))}A.setRenderTarget(Je,Qe,yt),A.setClearColor(ae,ue),bt!==void 0&&(pe.viewport=bt),A.toneMapping=Et}function Qt(V,oe,he){const pe=oe.isScene===!0?oe.overrideMaterial:null;for(let ce=0,qe=V.length;ce<qe;ce++){const Fe=V[ce],Je=Fe.object,Qe=Fe.geometry,yt=Fe.group;let Et=Fe.material;Et.allowOverride===!0&&pe!==null&&(Et=pe),Je.layers.test(he.layers)&&It(Je,oe,he,Qe,Et,yt)}}function It(V,oe,he,pe,ce,qe){V.onBeforeRender(A,oe,he,pe,ce,qe),V.modelViewMatrix.multiplyMatrices(he.matrixWorldInverse,V.matrixWorld),V.normalMatrix.getNormalMatrix(V.modelViewMatrix),ce.onBeforeRender(A,oe,he,pe,V,qe),ce.transparent===!0&&ce.side===Ll&&ce.forceSinglePass===!1?(ce.side=vs,ce.needsUpdate=!0,A.renderBufferDirect(he,oe,pe,ce,V,qe),ce.side=ku,ce.needsUpdate=!0,A.renderBufferDirect(he,oe,pe,ce,V,qe),ce.side=Ll):A.renderBufferDirect(he,oe,pe,ce,V,qe),V.onAfterRender(A,oe,he,pe,ce,qe)}function Zn(V,oe,he){oe.isScene!==!0&&(oe=Ze);const pe=Ke.get(V),ce=b.state.lights,qe=b.state.shadowsArray,Fe=ce.state.version,Je=Ne.getParameters(V,ce.state,qe,oe,he),Qe=Ne.getProgramCacheKey(Je);let yt=pe.programs;pe.environment=V.isMeshStandardMaterial?oe.environment:null,pe.fog=oe.fog,pe.envMap=(V.isMeshStandardMaterial?vt:_t).get(V.envMap||pe.environment),pe.envMapRotation=pe.environment!==null&&V.envMap===null?oe.environmentRotation:V.envMapRotation,yt===void 0&&(V.addEventListener("dispose",et),yt=new Map,pe.programs=yt);let Et=yt.get(Qe);if(Et!==void 0){if(pe.currentProgram===Et&&pe.lightsStateVersion===Fe)return W(V,Je),Et}else Je.uniforms=Ne.getUniforms(V),V.onBeforeCompile(Je,A),Et=Ne.acquireProgram(Je,Qe),yt.set(Qe,Et),pe.uniforms=Je.uniforms;const bt=pe.uniforms;return(!V.isShaderMaterial&&!V.isRawShaderMaterial||V.clipping===!0)&&(bt.clippingPlanes=ht.uniform),W(V,Je),pe.needsLights=Te(V),pe.lightsStateVersion=Fe,pe.needsLights&&(bt.ambientLightColor.value=ce.state.ambient,bt.lightProbe.value=ce.state.probe,bt.directionalLights.value=ce.state.directional,bt.directionalLightShadows.value=ce.state.directionalShadow,bt.spotLights.value=ce.state.spot,bt.spotLightShadows.value=ce.state.spotShadow,bt.rectAreaLights.value=ce.state.rectArea,bt.ltc_1.value=ce.state.rectAreaLTC1,bt.ltc_2.value=ce.state.rectAreaLTC2,bt.pointLights.value=ce.state.point,bt.pointLightShadows.value=ce.state.pointShadow,bt.hemisphereLights.value=ce.state.hemi,bt.directionalShadowMap.value=ce.state.directionalShadowMap,bt.directionalShadowMatrix.value=ce.state.directionalShadowMatrix,bt.spotShadowMap.value=ce.state.spotShadowMap,bt.spotLightMatrix.value=ce.state.spotLightMatrix,bt.spotLightMap.value=ce.state.spotLightMap,bt.pointShadowMap.value=ce.state.pointShadowMap,bt.pointShadowMatrix.value=ce.state.pointShadowMatrix),pe.currentProgram=Et,pe.uniformsList=null,Et}function sn(V){if(V.uniformsList===null){const oe=V.currentProgram.getUniforms();V.uniformsList=wS.seqWithValue(oe.seq,V.uniforms)}return V.uniformsList}function W(V,oe){const he=Ke.get(V);he.outputColorSpace=oe.outputColorSpace,he.batching=oe.batching,he.batchingColor=oe.batchingColor,he.instancing=oe.instancing,he.instancingColor=oe.instancingColor,he.instancingMorph=oe.instancingMorph,he.skinning=oe.skinning,he.morphTargets=oe.morphTargets,he.morphNormals=oe.morphNormals,he.morphColors=oe.morphColors,he.morphTargetsCount=oe.morphTargetsCount,he.numClippingPlanes=oe.numClippingPlanes,he.numIntersection=oe.numClipIntersection,he.vertexAlphas=oe.vertexAlphas,he.vertexTangents=oe.vertexTangents,he.toneMapping=oe.toneMapping}function Z(V,oe,he,pe,ce){oe.isScene!==!0&&(oe=Ze),$e.resetTextureUnits();const qe=oe.fog,Fe=pe.isMeshStandardMaterial?oe.environment:null,Je=U===null?A.outputColorSpace:U.isXRRenderTarget===!0?U.texture.colorSpace:zl,Qe=(pe.isMeshStandardMaterial?vt:_t).get(pe.envMap||Fe),yt=pe.vertexColors===!0&&!!he.attributes.color&&he.attributes.color.itemSize===4,Et=!!he.attributes.tangent&&(!!pe.normalMap||pe.anisotropy>0),bt=!!he.morphAttributes.position,jt=!!he.morphAttributes.normal,Kt=!!he.morphAttributes.color;let an=Bc;pe.toneMapped&&(U===null||U.isXRRenderTarget===!0)&&(an=A.toneMapping);const Tn=he.morphAttributes.position||he.morphAttributes.normal||he.morphAttributes.color,Ht=Tn!==void 0?Tn.length:0,Ot=Ke.get(pe),Gn=b.state.lights;if(we===!0&&(ee===!0||V!==z)){const In=V===z&&pe.id===P;ht.setState(pe,V,In)}let vn=!1;pe.version===Ot.__version?(Ot.needsLights&&Ot.lightsStateVersion!==Gn.state.version||Ot.outputColorSpace!==Je||ce.isBatchedMesh&&Ot.batching===!1||!ce.isBatchedMesh&&Ot.batching===!0||ce.isBatchedMesh&&Ot.batchingColor===!0&&ce.colorTexture===null||ce.isBatchedMesh&&Ot.batchingColor===!1&&ce.colorTexture!==null||ce.isInstancedMesh&&Ot.instancing===!1||!ce.isInstancedMesh&&Ot.instancing===!0||ce.isSkinnedMesh&&Ot.skinning===!1||!ce.isSkinnedMesh&&Ot.skinning===!0||ce.isInstancedMesh&&Ot.instancingColor===!0&&ce.instanceColor===null||ce.isInstancedMesh&&Ot.instancingColor===!1&&ce.instanceColor!==null||ce.isInstancedMesh&&Ot.instancingMorph===!0&&ce.morphTexture===null||ce.isInstancedMesh&&Ot.instancingMorph===!1&&ce.morphTexture!==null||Ot.envMap!==Qe||pe.fog===!0&&Ot.fog!==qe||Ot.numClippingPlanes!==void 0&&(Ot.numClippingPlanes!==ht.numPlanes||Ot.numIntersection!==ht.numIntersection)||Ot.vertexAlphas!==yt||Ot.vertexTangents!==Et||Ot.morphTargets!==bt||Ot.morphNormals!==jt||Ot.morphColors!==Kt||Ot.toneMapping!==an||Ot.morphTargetsCount!==Ht)&&(vn=!0):(vn=!0,Ot.__version=pe.version);let oi=Ot.currentProgram;vn===!0&&(oi=Zn(pe,oe,ce));let An=!1,qn=!1,yn=!1;const $t=oi.getUniforms(),hi=Ot.uniforms;if(re.useProgram(oi.program)&&(An=!0,qn=!0,yn=!0),pe.id!==P&&(P=pe.id,qn=!0),An||z!==V){re.buffers.depth.getReversed()&&V.reversedDepth!==!0&&(V._reversedDepth=!0,V.updateProjectionMatrix()),$t.setValue(ne,"projectionMatrix",V.projectionMatrix),$t.setValue(ne,"viewMatrix",V.matrixWorldInverse);const wi=$t.map.cameraPosition;wi!==void 0&&wi.setValue(ne,_e.setFromMatrixPosition(V.matrixWorld)),Ye.logarithmicDepthBuffer&&$t.setValue(ne,"logDepthBufFC",2/(Math.log(V.far+1)/Math.LN2)),(pe.isMeshPhongMaterial||pe.isMeshToonMaterial||pe.isMeshLambertMaterial||pe.isMeshBasicMaterial||pe.isMeshStandardMaterial||pe.isShaderMaterial)&&$t.setValue(ne,"isOrthographic",V.isOrthographicCamera===!0),z!==V&&(z=V,qn=!0,yn=!0)}if(ce.isSkinnedMesh){$t.setOptional(ne,ce,"bindMatrix"),$t.setOptional(ne,ce,"bindMatrixInverse");const In=ce.skeleton;In&&(In.boneTexture===null&&In.computeBoneTexture(),$t.setValue(ne,"boneTexture",In.boneTexture,$e))}ce.isBatchedMesh&&($t.setOptional(ne,ce,"batchingTexture"),$t.setValue(ne,"batchingTexture",ce._matricesTexture,$e),$t.setOptional(ne,ce,"batchingIdTexture"),$t.setValue(ne,"batchingIdTexture",ce._indirectTexture,$e),$t.setOptional(ne,ce,"batchingColorTexture"),ce._colorsTexture!==null&&$t.setValue(ne,"batchingColorTexture",ce._colorsTexture,$e));const Di=he.morphAttributes;if((Di.position!==void 0||Di.normal!==void 0||Di.color!==void 0)&&it.update(ce,he,oi),(qn||Ot.receiveShadow!==ce.receiveShadow)&&(Ot.receiveShadow=ce.receiveShadow,$t.setValue(ne,"receiveShadow",ce.receiveShadow)),pe.isMeshGouraudMaterial&&pe.envMap!==null&&(hi.envMap.value=Qe,hi.flipEnvMap.value=Qe.isCubeTexture&&Qe.isRenderTargetTexture===!1?-1:1),pe.isMeshStandardMaterial&&pe.envMap===null&&oe.environment!==null&&(hi.envMapIntensity.value=oe.environmentIntensity),qn&&($t.setValue(ne,"toneMappingExposure",A.toneMappingExposure),Ot.needsLights&&ge(hi,yn),qe&&pe.fog===!0&&ze.refreshFogUniforms(hi,qe),ze.refreshMaterialUniforms(hi,pe,Q,Y,b.state.transmissionRenderTarget[V.id]),wS.upload(ne,sn(Ot),hi,$e)),pe.isShaderMaterial&&pe.uniformsNeedUpdate===!0&&(wS.upload(ne,sn(Ot),hi,$e),pe.uniformsNeedUpdate=!1),pe.isSpriteMaterial&&$t.setValue(ne,"center",ce.center),$t.setValue(ne,"modelViewMatrix",ce.modelViewMatrix),$t.setValue(ne,"normalMatrix",ce.normalMatrix),$t.setValue(ne,"modelMatrix",ce.matrixWorld),pe.isShaderMaterial||pe.isRawShaderMaterial){const In=pe.uniformsGroups;for(let wi=0,Yc=In.length;wi<Yc;wi++){const dr=In[wi];Ut.update(dr,oi),Ut.bind(dr,oi)}}return oi}function ge(V,oe){V.ambientLightColor.needsUpdate=oe,V.lightProbe.needsUpdate=oe,V.directionalLights.needsUpdate=oe,V.directionalLightShadows.needsUpdate=oe,V.pointLights.needsUpdate=oe,V.pointLightShadows.needsUpdate=oe,V.spotLights.needsUpdate=oe,V.spotLightShadows.needsUpdate=oe,V.rectAreaLights.needsUpdate=oe,V.hemisphereLights.needsUpdate=oe}function Te(V){return V.isMeshLambertMaterial||V.isMeshToonMaterial||V.isMeshPhongMaterial||V.isMeshStandardMaterial||V.isShadowMaterial||V.isShaderMaterial&&V.lights===!0}this.getActiveCubeFace=function(){return L},this.getActiveMipmapLevel=function(){return B},this.getRenderTarget=function(){return U},this.setRenderTargetTextures=function(V,oe,he){const pe=Ke.get(V);pe.__autoAllocateDepthBuffer=V.resolveDepthBuffer===!1,pe.__autoAllocateDepthBuffer===!1&&(pe.__useRenderToTexture=!1),Ke.get(V.texture).__webglTexture=oe,Ke.get(V.depthTexture).__webglTexture=pe.__autoAllocateDepthBuffer?void 0:he,pe.__hasExternalTextures=!0},this.setRenderTargetFramebuffer=function(V,oe){const he=Ke.get(V);he.__webglFramebuffer=oe,he.__useDefaultFramebuffer=oe===void 0};const Pe=ne.createFramebuffer();this.setRenderTarget=function(V,oe=0,he=0){U=V,L=oe,B=he;let pe=!0,ce=null,qe=!1,Fe=!1;if(V){const Qe=Ke.get(V);if(Qe.__useDefaultFramebuffer!==void 0)re.bindFramebuffer(ne.FRAMEBUFFER,null),pe=!1;else if(Qe.__webglFramebuffer===void 0)$e.setupRenderTarget(V);else if(Qe.__hasExternalTextures)$e.rebindTextures(V,Ke.get(V.texture).__webglTexture,Ke.get(V.depthTexture).__webglTexture);else if(V.depthBuffer){const bt=V.depthTexture;if(Qe.__boundDepthTexture!==bt){if(bt!==null&&Ke.has(bt)&&(V.width!==bt.image.width||V.height!==bt.image.height))throw new Error("WebGLRenderTarget: Attached DepthTexture is initialized to the incorrect size.");$e.setupDepthRenderbuffer(V)}}const yt=V.texture;(yt.isData3DTexture||yt.isDataArrayTexture||yt.isCompressedArrayTexture)&&(Fe=!0);const Et=Ke.get(V).__webglFramebuffer;V.isWebGLCubeRenderTarget?(Array.isArray(Et[oe])?ce=Et[oe][he]:ce=Et[oe],qe=!0):V.samples>0&&$e.useMultisampledRTT(V)===!1?ce=Ke.get(V).__webglMultisampledFramebuffer:Array.isArray(Et)?ce=Et[he]:ce=Et,X.copy(V.viewport),te.copy(V.scissor),se=V.scissorTest}else X.copy(fe).multiplyScalar(Q).floor(),te.copy(Se).multiplyScalar(Q).floor(),se=Ce;if(he!==0&&(ce=Pe),re.bindFramebuffer(ne.FRAMEBUFFER,ce)&&pe&&re.drawBuffers(V,ce),re.viewport(X),re.scissor(te),re.setScissorTest(se),qe){const Qe=Ke.get(V.texture);ne.framebufferTexture2D(ne.FRAMEBUFFER,ne.COLOR_ATTACHMENT0,ne.TEXTURE_CUBE_MAP_POSITIVE_X+oe,Qe.__webglTexture,he)}else if(Fe){const Qe=oe;for(let yt=0;yt<V.textures.length;yt++){const Et=Ke.get(V.textures[yt]);ne.framebufferTextureLayer(ne.FRAMEBUFFER,ne.COLOR_ATTACHMENT0+yt,Et.__webglTexture,he,Qe)}}else if(V!==null&&he!==0){const Qe=Ke.get(V.texture);ne.framebufferTexture2D(ne.FRAMEBUFFER,ne.COLOR_ATTACHMENT0,ne.TEXTURE_2D,Qe.__webglTexture,he)}P=-1},this.readRenderTargetPixels=function(V,oe,he,pe,ce,qe,Fe,Je=0){if(!(V&&V.isWebGLRenderTarget)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");return}let Qe=Ke.get(V).__webglFramebuffer;if(V.isWebGLCubeRenderTarget&&Fe!==void 0&&(Qe=Qe[Fe]),Qe){re.bindFramebuffer(ne.FRAMEBUFFER,Qe);try{const yt=V.textures[Je],Et=yt.format,bt=yt.type;if(!Ye.textureFormatReadable(Et)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");return}if(!Ye.textureTypeReadable(bt)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");return}oe>=0&&oe<=V.width-pe&&he>=0&&he<=V.height-ce&&(V.textures.length>1&&ne.readBuffer(ne.COLOR_ATTACHMENT0+Je),ne.readPixels(oe,he,pe,ce,Rt.convert(Et),Rt.convert(bt),qe))}finally{const yt=U!==null?Ke.get(U).__webglFramebuffer:null;re.bindFramebuffer(ne.FRAMEBUFFER,yt)}}},this.readRenderTargetPixelsAsync=async function(V,oe,he,pe,ce,qe,Fe,Je=0){if(!(V&&V.isWebGLRenderTarget))throw new Error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");let Qe=Ke.get(V).__webglFramebuffer;if(V.isWebGLCubeRenderTarget&&Fe!==void 0&&(Qe=Qe[Fe]),Qe)if(oe>=0&&oe<=V.width-pe&&he>=0&&he<=V.height-ce){re.bindFramebuffer(ne.FRAMEBUFFER,Qe);const yt=V.textures[Je],Et=yt.format,bt=yt.type;if(!Ye.textureFormatReadable(Et))throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: renderTarget is not in RGBA or implementation defined format.");if(!Ye.textureTypeReadable(bt))throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: renderTarget is not in UnsignedByteType or implementation defined type.");const jt=ne.createBuffer();ne.bindBuffer(ne.PIXEL_PACK_BUFFER,jt),ne.bufferData(ne.PIXEL_PACK_BUFFER,qe.byteLength,ne.STREAM_READ),V.textures.length>1&&ne.readBuffer(ne.COLOR_ATTACHMENT0+Je),ne.readPixels(oe,he,pe,ce,Rt.convert(Et),Rt.convert(bt),0);const Kt=U!==null?Ke.get(U).__webglFramebuffer:null;re.bindFramebuffer(ne.FRAMEBUFFER,Kt);const an=ne.fenceSync(ne.SYNC_GPU_COMMANDS_COMPLETE,0);return ne.flush(),await wW(ne,an,4),ne.bindBuffer(ne.PIXEL_PACK_BUFFER,jt),ne.getBufferSubData(ne.PIXEL_PACK_BUFFER,0,qe),ne.deleteBuffer(jt),ne.deleteSync(an),qe}else throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: requested read bounds are out of range.")},this.copyFramebufferToTexture=function(V,oe=null,he=0){const pe=Math.pow(2,-he),ce=Math.floor(V.image.width*pe),qe=Math.floor(V.image.height*pe),Fe=oe!==null?oe.x:0,Je=oe!==null?oe.y:0;$e.setTexture2D(V,0),ne.copyTexSubImage2D(ne.TEXTURE_2D,he,0,0,Fe,Je,ce,qe),re.unbindTexture()};const Ge=ne.createFramebuffer(),at=ne.createFramebuffer();this.copyTextureToTexture=function(V,oe,he=null,pe=null,ce=0,qe=null){qe===null&&(ce!==0?(V0("WebGLRenderer: copyTextureToTexture function signature has changed to support src and dst mipmap levels."),qe=ce,ce=0):qe=0);let Fe,Je,Qe,yt,Et,bt,jt,Kt,an;const Tn=V.isCompressedTexture?V.mipmaps[qe]:V.image;if(he!==null)Fe=he.max.x-he.min.x,Je=he.max.y-he.min.y,Qe=he.isBox3?he.max.z-he.min.z:1,yt=he.min.x,Et=he.min.y,bt=he.isBox3?he.min.z:0;else{const Di=Math.pow(2,-ce);Fe=Math.floor(Tn.width*Di),Je=Math.floor(Tn.height*Di),V.isDataArrayTexture?Qe=Tn.depth:V.isData3DTexture?Qe=Math.floor(Tn.depth*Di):Qe=1,yt=0,Et=0,bt=0}pe!==null?(jt=pe.x,Kt=pe.y,an=pe.z):(jt=0,Kt=0,an=0);const Ht=Rt.convert(oe.format),Ot=Rt.convert(oe.type);let Gn;oe.isData3DTexture?($e.setTexture3D(oe,0),Gn=ne.TEXTURE_3D):oe.isDataArrayTexture||oe.isCompressedArrayTexture?($e.setTexture2DArray(oe,0),Gn=ne.TEXTURE_2D_ARRAY):($e.setTexture2D(oe,0),Gn=ne.TEXTURE_2D),ne.pixelStorei(ne.UNPACK_FLIP_Y_WEBGL,oe.flipY),ne.pixelStorei(ne.UNPACK_PREMULTIPLY_ALPHA_WEBGL,oe.premultiplyAlpha),ne.pixelStorei(ne.UNPACK_ALIGNMENT,oe.unpackAlignment);const vn=ne.getParameter(ne.UNPACK_ROW_LENGTH),oi=ne.getParameter(ne.UNPACK_IMAGE_HEIGHT),An=ne.getParameter(ne.UNPACK_SKIP_PIXELS),qn=ne.getParameter(ne.UNPACK_SKIP_ROWS),yn=ne.getParameter(ne.UNPACK_SKIP_IMAGES);ne.pixelStorei(ne.UNPACK_ROW_LENGTH,Tn.width),ne.pixelStorei(ne.UNPACK_IMAGE_HEIGHT,Tn.height),ne.pixelStorei(ne.UNPACK_SKIP_PIXELS,yt),ne.pixelStorei(ne.UNPACK_SKIP_ROWS,Et),ne.pixelStorei(ne.UNPACK_SKIP_IMAGES,bt);const $t=V.isDataArrayTexture||V.isData3DTexture,hi=oe.isDataArrayTexture||oe.isData3DTexture;if(V.isDepthTexture){const Di=Ke.get(V),In=Ke.get(oe),wi=Ke.get(Di.__renderTarget),Yc=Ke.get(In.__renderTarget);re.bindFramebuffer(ne.READ_FRAMEBUFFER,wi.__webglFramebuffer),re.bindFramebuffer(ne.DRAW_FRAMEBUFFER,Yc.__webglFramebuffer);for(let dr=0;dr<Qe;dr++)$t&&(ne.framebufferTextureLayer(ne.READ_FRAMEBUFFER,ne.COLOR_ATTACHMENT0,Ke.get(V).__webglTexture,ce,bt+dr),ne.framebufferTextureLayer(ne.DRAW_FRAMEBUFFER,ne.COLOR_ATTACHMENT0,Ke.get(oe).__webglTexture,qe,an+dr)),ne.blitFramebuffer(yt,Et,Fe,Je,jt,Kt,Fe,Je,ne.DEPTH_BUFFER_BIT,ne.NEAREST);re.bindFramebuffer(ne.READ_FRAMEBUFFER,null),re.bindFramebuffer(ne.DRAW_FRAMEBUFFER,null)}else if(ce!==0||V.isRenderTargetTexture||Ke.has(V)){const Di=Ke.get(V),In=Ke.get(oe);re.bindFramebuffer(ne.READ_FRAMEBUFFER,Ge),re.bindFramebuffer(ne.DRAW_FRAMEBUFFER,at);for(let wi=0;wi<Qe;wi++)$t?ne.framebufferTextureLayer(ne.READ_FRAMEBUFFER,ne.COLOR_ATTACHMENT0,Di.__webglTexture,ce,bt+wi):ne.framebufferTexture2D(ne.READ_FRAMEBUFFER,ne.COLOR_ATTACHMENT0,ne.TEXTURE_2D,Di.__webglTexture,ce),hi?ne.framebufferTextureLayer(ne.DRAW_FRAMEBUFFER,ne.COLOR_ATTACHMENT0,In.__webglTexture,qe,an+wi):ne.framebufferTexture2D(ne.DRAW_FRAMEBUFFER,ne.COLOR_ATTACHMENT0,ne.TEXTURE_2D,In.__webglTexture,qe),ce!==0?ne.blitFramebuffer(yt,Et,Fe,Je,jt,Kt,Fe,Je,ne.COLOR_BUFFER_BIT,ne.NEAREST):hi?ne.copyTexSubImage3D(Gn,qe,jt,Kt,an+wi,yt,Et,Fe,Je):ne.copyTexSubImage2D(Gn,qe,jt,Kt,yt,Et,Fe,Je);re.bindFramebuffer(ne.READ_FRAMEBUFFER,null),re.bindFramebuffer(ne.DRAW_FRAMEBUFFER,null)}else hi?V.isDataTexture||V.isData3DTexture?ne.texSubImage3D(Gn,qe,jt,Kt,an,Fe,Je,Qe,Ht,Ot,Tn.data):oe.isCompressedArrayTexture?ne.compressedTexSubImage3D(Gn,qe,jt,Kt,an,Fe,Je,Qe,Ht,Tn.data):ne.texSubImage3D(Gn,qe,jt,Kt,an,Fe,Je,Qe,Ht,Ot,Tn):V.isDataTexture?ne.texSubImage2D(ne.TEXTURE_2D,qe,jt,Kt,Fe,Je,Ht,Ot,Tn.data):V.isCompressedTexture?ne.compressedTexSubImage2D(ne.TEXTURE_2D,qe,jt,Kt,Tn.width,Tn.height,Ht,Tn.data):ne.texSubImage2D(ne.TEXTURE_2D,qe,jt,Kt,Fe,Je,Ht,Ot,Tn);ne.pixelStorei(ne.UNPACK_ROW_LENGTH,vn),ne.pixelStorei(ne.UNPACK_IMAGE_HEIGHT,oi),ne.pixelStorei(ne.UNPACK_SKIP_PIXELS,An),ne.pixelStorei(ne.UNPACK_SKIP_ROWS,qn),ne.pixelStorei(ne.UNPACK_SKIP_IMAGES,yn),qe===0&&oe.generateMipmaps&&ne.generateMipmap(Gn),re.unbindTexture()},this.copyTextureToTexture3D=function(V,oe,he=null,pe=null,ce=0){return V0('WebGLRenderer: copyTextureToTexture3D function has been deprecated. Use "copyTextureToTexture" instead.'),this.copyTextureToTexture(V,oe,he,pe,ce)},this.initRenderTarget=function(V){Ke.get(V).__webglFramebuffer===void 0&&$e.setupRenderTarget(V)},this.initTexture=function(V){V.isCubeTexture?$e.setTextureCube(V,0):V.isData3DTexture?$e.setTexture3D(V,0):V.isDataArrayTexture||V.isCompressedArrayTexture?$e.setTexture2DArray(V,0):$e.setTexture2D(V,0),re.unbindTexture()},this.resetState=function(){L=0,B=0,U=null,re.reset(),ft.reset()},typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}get coordinateSystem(){return po}get outputColorSpace(){return this._outputColorSpace}set outputColorSpace(e){this._outputColorSpace=e;const t=this.getContext();t.drawingBufferColorSpace=Qn._getDrawingBufferColorSpace(e),t.unpackColorSpace=Qn._getUnpackColorSpace()}}const IJ=Object.freeze(Object.defineProperty({__proto__:null,ACESFilmicToneMapping:PR,AddEquation:th,AddOperation:QI,AdditiveAnimationBlendMode:FR,AdditiveBlending:FA,AgXToneMapping:rB,AlphaFormat:IR,AlwaysCompare:_B,AlwaysDepth:ew,AlwaysStencilFunc:WA,AmbientLight:dz,AnimationAction:Sz,AnimationClip:R_,AnimationLoader:ZX,AnimationMixer:bq,AnimationObjectGroup:_q,AnimationUtils:WX,ArcCurve:BB,ArrayCamera:_z,ArrowHelper:qq,AttachedBindMode:jA,Audio:xz,AudioAnalyser:cq,AudioContext:f3,AudioListener:sq,AudioLoader:iq,AxesHelper:Yq,BackSide:vs,BasicDepthPacking:uB,BasicShadowMap:PI,BatchedMesh:NB,Bone:YR,BooleanKeyframeTrack:Np,Box2:Oq,Box3:Fa,Box3Helper:Wq,BoxGeometry:Op,BoxHelper:Gq,BufferAttribute:Ri,BufferGeometry:Nn,BufferGeometryLoader:yz,ByteType:sE,Cache:Pc,Camera:mE,CameraHelper:jq,CanvasTexture:pX,CapsuleGeometry:SE,CatmullRomCurve3:zB,CineonToneMapping:nB,CircleGeometry:wE,ClampToEdgeWrapping:Lr,Clock:h3,Color:Vt,ColorKeyframeTrack:l3,ColorManagement:Qn,CompressedArrayTexture:hX,CompressedCubeTexture:dX,CompressedTexture:bE,CompressedTextureLoader:KX,ConeGeometry:ex,ConstantAlphaFactor:KI,ConstantColorFactor:YI,Controls:Kq,CubeCamera:TB,CubeReflectionMapping:jc,CubeRefractionMapping:vh,CubeTexture:$_,CubeTextureLoader:lz,CubeUVReflectionMapping:Sg,CubicBezierCurve:JR,CubicBezierCurve3:kB,CubicInterpolant:rz,CullFaceBack:kA,CullFaceFront:NI,CullFaceFrontBack:wG,CullFaceNone:OI,Curve:Fl,CurvePath:HB,CustomBlending:LI,CustomToneMapping:iB,CylinderGeometry:Q_,Cylindrical:Dq,Data3DTexture:pE,DataArrayTexture:dE,DataTexture:Bl,DataTextureLoader:c3,DataUtils:ep,DecrementStencilOp:IG,DecrementWrapStencilOp:zG,DefaultLoadingManager:oz,DepthFormat:rg,DepthStencilFormat:ag,DepthTexture:KR,DetachedBindMode:sB,DirectionalLight:hz,DirectionalLightHelper:Vq,DiscreteInterpolant:az,DodecahedronGeometry:EE,DoubleSide:Ll,DstAlphaFactor:jI,DstColorFactor:WI,DynamicCopyUsage:QG,DynamicDrawUsage:qG,DynamicReadUsage:KG,EdgesGeometry:IB,EllipseCurve:ME,EqualCompare:mB,EqualDepth:nw,EqualStencilFunc:VG,EquirectangularReflectionMapping:tg,EquirectangularRefractionMapping:g_,Euler:xo,EventDispatcher:Xc,ExtrudeGeometry:TE,FileLoader:vo,Float16BufferAttribute:GW,Float32BufferAttribute:Yt,FloatType:rr,Fog:vE,FogExp2:gE,FramebufferTexture:fX,FrontSide:ku,Frustum:Eg,FrustumArray:xE,GLBufferAttribute:Tq,GLSL1:tW,GLSL3:XA,GreaterCompare:gB,GreaterDepth:rw,GreaterEqualCompare:yB,GreaterEqualDepth:iw,GreaterEqualStencilFunc:XG,GreaterStencilFunc:GG,GridHelper:Fq,Group:C0,HalfFloatType:aa,HemisphereLight:cz,HemisphereLightHelper:kq,IcosahedronGeometry:tx,ImageBitmapLoader:nq,ImageLoader:D_,ImageUtils:SB,IncrementStencilOp:UG,IncrementWrapStencilOp:BG,InstancedBufferAttribute:ug,InstancedBufferGeometry:vz,InstancedInterleavedBuffer:Mq,InstancedMesh:OB,Int16BufferAttribute:VW,Int32BufferAttribute:jW,Int8BufferAttribute:kW,IntType:Y_,InterleavedBuffer:yE,InterleavedBufferAttribute:wp,Interpolant:rx,InterpolateDiscrete:__,InterpolateLinear:Nw,InterpolateSmooth:bS,InterpolationSamplingMode:rW,InterpolationSamplingType:iW,InvertStencilOp:kG,KeepStencilOp:Wd,KeyframeTrack:Qo,LOD:RB,LatheGeometry:AE,Layers:lg,LessCompare:pB,LessDepth:tw,LessEqualCompare:HR,LessEqualDepth:Sp,LessEqualStencilFunc:jG,LessStencilFunc:HG,Light:Rh,LightProbe:gz,Line:yh,Line3:Lq,LineBasicMaterial:_s,LineCurve:QR,LineCurve3:FB,LineDashedMaterial:tz,LineLoop:PB,LineSegments:qc,LinearFilter:Si,LinearInterpolant:o3,LinearMipMapLinearFilter:GA,LinearMipMapNearestFilter:TG,LinearMipmapLinearFilter:Nc,LinearMipmapNearestFilter:Hy,LinearSRGBColorSpace:zl,LinearToneMapping:eB,LinearTransfer:b_,Loader:xs,LoaderUtils:$A,LoadingManager:LE,LoopOnce:oB,LoopPingPong:cB,LoopRepeat:lB,MOUSE:bG,Material:Va,MaterialLoader:IE,MathUtils:bW,Matrix2:v3,Matrix3:Mn,Matrix4:gn,MaxEquation:zI,Mesh:ar,MeshBasicMaterial:Xu,MeshDepthMaterial:r3,MeshDistanceMaterial:a3,MeshLambertMaterial:QB,MeshMatcapMaterial:ez,MeshNormalMaterial:JB,MeshPhongMaterial:KB,MeshPhysicalMaterial:ZB,MeshStandardMaterial:i3,MeshToonMaterial:$B,MinEquation:BI,MirroredRepeatWrapping:y_,MixOperation:JI,MultiplyBlending:VA,MultiplyOperation:q_,NearestFilter:xa,NearestMipMapLinearFilter:MG,NearestMipMapNearestFilter:EG,NearestMipmapLinearFilter:T0,NearestMipmapNearestFilter:LR,NeutralToneMapping:aB,NeverCompare:dB,NeverDepth:QS,NeverStencilFunc:FG,NoBlending:Ic,NoColorSpace:Du,NoToneMapping:Bc,NormalAnimationBlendMode:hE,NormalBlending:dp,NotEqualCompare:vB,NotEqualDepth:aw,NotEqualStencilFunc:WG,NumberKeyframeTrack:A_,Object3D:ai,ObjectLoader:eq,ObjectSpaceNormalMap:hB,OctahedronGeometry:nx,OneFactor:FI,OneMinusConstantAlphaFactor:$I,OneMinusConstantColorFactor:ZI,OneMinusDstAlphaFactor:GI,OneMinusDstColorFactor:XI,OneMinusSrcAlphaFactor:JS,OneMinusSrcColorFactor:VI,OrthographicCamera:Mg,PCFShadowMap:aE,PCFSoftShadowMap:Fy,PMREMGenerator:eC,Path:Iw,PerspectiveCamera:ra,Plane:Jf,PlaneGeometry:Ch,PlaneHelper:Xq,PointLight:fz,PointLightHelper:Bq,Points:LB,PointsMaterial:ZR,PolarGridHelper:Hq,PolyhedronGeometry:Ah,PositionalAudio:lq,PropertyBinding:ii,PropertyMixer:bz,QuadraticBezierCurve:e3,QuadraticBezierCurve3:t3,Quaternion:js,QuaternionKeyframeTrack:ax,QuaternionLinearInterpolant:sz,RED_GREEN_RGTC2_Format:Dw,RED_RGTC1_Format:kR,REVISION:X_,RGBADepthPacking:fB,RGBAFormat:Sr,RGBAIntegerFormat:fE,RGBA_ASTC_10x10_Format:Ew,RGBA_ASTC_10x5_Format:bw,RGBA_ASTC_10x6_Format:Sw,RGBA_ASTC_10x8_Format:ww,RGBA_ASTC_12x10_Format:Mw,RGBA_ASTC_12x12_Format:Tw,RGBA_ASTC_4x4_Format:dw,RGBA_ASTC_5x4_Format:pw,RGBA_ASTC_5x5_Format:mw,RGBA_ASTC_6x5_Format:gw,RGBA_ASTC_6x6_Format:vw,RGBA_ASTC_8x5_Format:yw,RGBA_ASTC_8x6_Format:_w,RGBA_ASTC_8x8_Format:xw,RGBA_BPTC_Format:Xy,RGBA_ETC2_EAC_Format:hw,RGBA_PVRTC_2BPPV1_Format:cw,RGBA_PVRTC_4BPPV1_Format:lw,RGBA_S3TC_DXT1_Format:jy,RGBA_S3TC_DXT3_Format:Gy,RGBA_S3TC_DXT5_Format:Wy,RGBDepthPacking:OG,RGBFormat:BR,RGBIntegerFormat:AG,RGB_BPTC_SIGNED_Format:Aw,RGB_BPTC_UNSIGNED_Format:Cw,RGB_ETC1_Format:uw,RGB_ETC2_Format:fw,RGB_PVRTC_2BPPV1_Format:ow,RGB_PVRTC_4BPPV1_Format:sw,RGB_S3TC_DXT1_Format:Vy,RGDepthPacking:NG,RGFormat:zR,RGIntegerFormat:uE,RawShaderMaterial:YB,Ray:wg,Raycaster:g3,RectAreaLight:pz,RedFormat:Z_,RedIntegerFormat:K_,ReinhardToneMapping:tB,RenderTarget:jR,RenderTarget3D:Sq,RepeatWrapping:v_,ReplaceStencilOp:LG,ReverseSubtractEquation:II,RingGeometry:CE,SIGNED_RED_GREEN_RGTC2_Format:Ow,SIGNED_RED_RGTC1_Format:Rw,SRGBColorSpace:va,SRGBTransfer:bi,Scene:J_,ShaderChunk:Ln,ShaderLib:Pl,ShaderMaterial:Ws,ShadowMaterial:qB,Shape:mp,ShapeGeometry:RE,ShapePath:Zq,ShapeUtils:Ul,ShortType:oE,Skeleton:_E,SkeletonHelper:Iq,SkinnedMesh:DB,Source:oh,Sphere:ba,SphereGeometry:ix,Spherical:Rq,SphericalHarmonics3:mz,SplineCurve:n3,SpotLight:uz,SpotLightHelper:Uq,Sprite:CB,SpriteMaterial:qR,SrcAlphaFactor:$S,SrcAlphaSaturateFactor:qI,SrcColorFactor:HI,StaticCopyUsage:JG,StaticDrawUsage:S_,StaticReadUsage:ZG,StereoCamera:rq,StreamCopyUsage:eW,StreamDrawUsage:YG,StreamReadUsage:$G,StringKeyframeTrack:Pp,SubtractEquation:UI,SubtractiveBlending:HA,TOUCH:SG,TangentSpaceNormalMap:Th,TetrahedronGeometry:DE,Texture:gi,TextureLoader:UE,TextureUtils:tY,Timer:Aq,TimestampQuery:nW,TorusGeometry:OE,TorusKnotGeometry:NE,Triangle:Bs,TriangleFanDrawMode:DG,TriangleStripDrawMode:RG,TrianglesDrawMode:CG,TubeGeometry:PE,UVMapping:gh,Uint16BufferAttribute:GR,Uint32BufferAttribute:WR,Uint8BufferAttribute:FW,Uint8ClampedBufferAttribute:HW,Uniform:m3,UniformsGroup:Eq,UniformsLib:Pt,UniformsUtils:MB,UnsignedByteType:ys,UnsignedInt248Type:ig,UnsignedInt5999Type:UR,UnsignedIntType:Gc,UnsignedShort4444Type:lE,UnsignedShort5551Type:cE,UnsignedShortType:ng,VSMShadowMap:Ol,Vector2:ut,Vector3:le,Vector4:ri,VectorKeyframeTrack:C_,VideoFrameTexture:uX,VideoTexture:UB,WebGL3DRenderTarget:CW,WebGLArrayRenderTarget:AW,WebGLCoordinateSystem:po,WebGLCubeRenderTarget:XR,WebGLRenderTarget:Jo,WebGLRenderer:_3,WebGLUtils:Rz,WebGPUCoordinateSystem:sg,WebXRController:SS,WireframeGeometry:XB,WrapAroundEnding:x_,ZeroCurvatureEnding:Jd,ZeroFactor:kI,ZeroSlopeEnding:Qd,ZeroStencilOp:PG,createCanvasElement:bB},Symbol.toStringTag,{value:"Module"}));var tT={exports:{}},nT={},iT={exports:{}},rT={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var aP;function BJ(){if(aP)return rT;aP=1;var i=yg();function e(g,v){return g===v&&(g!==0||1/g===1/v)||g!==g&&v!==v}var t=typeof Object.is=="function"?Object.is:e,n=i.useState,r=i.useEffect,a=i.useLayoutEffect,s=i.useDebugValue;function l(g,v){var _=v(),S=n({inst:{value:_,getSnapshot:v}}),w=S[0].inst,E=S[1];return a(function(){w.value=_,w.getSnapshot=v,u(w)&&E({inst:w})},[g,_,v]),r(function(){return u(w)&&E({inst:w}),g(function(){u(w)&&E({inst:w})})},[g]),s(_),_}function u(g){var v=g.getSnapshot;g=g.value;try{var _=v();return!t(g,_)}catch{return!0}}function f(g,v){return v()}var p=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?f:l;return rT.useSyncExternalStore=i.useSyncExternalStore!==void 0?i.useSyncExternalStore:p,rT}var sP;function zJ(){return sP||(sP=1,iT.exports=BJ()),iT.exports}/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var oP;function kJ(){if(oP)return nT;oP=1;var i=yg(),e=zJ();function t(f,p){return f===p&&(f!==0||1/f===1/p)||f!==f&&p!==p}var n=typeof Object.is=="function"?Object.is:t,r=e.useSyncExternalStore,a=i.useRef,s=i.useEffect,l=i.useMemo,u=i.useDebugValue;return nT.useSyncExternalStoreWithSelector=function(f,p,g,v,_){var S=a(null);if(S.current===null){var w={hasValue:!1,value:null};S.current=w}else w=S.current;S=l(function(){function b(L){if(!R){if(R=!0,C=L,L=v(L),_!==void 0&&w.hasValue){var B=w.value;if(_(B,L))return A=B}return A=L}if(B=A,n(C,L))return B;var U=v(L);return _!==void 0&&_(B,U)?(C=L,B):(C=L,A=U)}var R=!1,C,A,N=g===void 0?null:g;return[function(){return b(p())},N===null?void 0:function(){return b(N())}]},[p,g,v,_]);var E=r(f,S[0],S[1]);return s(function(){w.hasValue=!0,w.value=E},[E]),u(E),E},nT}var lP;function FJ(){return lP||(lP=1,tT.exports=kJ()),tT.exports}var HJ=FJ();const VJ=vg(HJ),cP=i=>{let e;const t=new Set,n=(f,p)=>{const g=typeof f=="function"?f(e):f;if(!Object.is(g,e)){const v=e;e=p??(typeof g!="object"||g===null)?g:Object.assign({},e,g),t.forEach(_=>_(e,v))}},r=()=>e,l={setState:n,getState:r,getInitialState:()=>u,subscribe:f=>(t.add(f),()=>t.delete(f))},u=e=i(n,r,l);return l},jJ=(i=>i?cP(i):cP),{useSyncExternalStoreWithSelector:GJ}=VJ,WJ=i=>i;function XJ(i,e=WJ,t){const n=GJ(i.subscribe,i.getState,i.getInitialState,e,t);return Nr.useDebugValue(n),n}const uP=(i,e)=>{const t=jJ(i),n=(r,a=e)=>XJ(t,r,a);return Object.assign(n,t),n},Oz=((i,e)=>i?uP(i,e):uP),qJ=i=>typeof i=="object"&&typeof i.then=="function",np=[];function Nz(i,e,t=(n,r)=>n===r){if(i===e)return!0;if(!i||!e)return!1;const n=i.length;if(e.length!==n)return!1;for(let r=0;r<n;r++)if(!t(i[r],e[r]))return!1;return!0}function Pz(i,e=null,t=!1,n={}){e===null&&(e=[i]);for(const a of np)if(Nz(e,a.keys,a.equal)){if(t)return;if(Object.prototype.hasOwnProperty.call(a,"error"))throw a.error;if(Object.prototype.hasOwnProperty.call(a,"response"))return n.lifespan&&n.lifespan>0&&(a.timeout&&clearTimeout(a.timeout),a.timeout=setTimeout(a.remove,n.lifespan)),a.response;if(!t)throw a.promise}const r={keys:e,equal:n.equal,remove:()=>{const a=np.indexOf(r);a!==-1&&np.splice(a,1)},promise:(qJ(i)?i:i(...e)).then(a=>{r.response=a,n.lifespan&&n.lifespan>0&&(r.timeout=setTimeout(r.remove,n.lifespan))}).catch(a=>r.error=a)};if(np.push(r),!t)throw r.promise}const YJ=(i,e,t)=>Pz(i,e,!1,t),ZJ=(i,e,t)=>void Pz(i,e,!0,t),KJ=i=>{if(i===void 0||i.length===0)np.splice(0,np.length);else{const e=np.find(t=>Nz(i,t.keys,t.equal));e&&e.remove()}};var aT={exports:{}},sT={exports:{}},oT={exports:{}},lT={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fP;function $J(){return fP||(fP=1,(function(i){function e(G,Y){var Q=G.length;G.push(Y);e:for(;0<Q;){var ye=Q-1>>>1,F=G[ye];if(0<r(F,Y))G[ye]=Y,G[Q]=F,Q=ye;else break e}}function t(G){return G.length===0?null:G[0]}function n(G){if(G.length===0)return null;var Y=G[0],Q=G.pop();if(Q!==Y){G[0]=Q;e:for(var ye=0,F=G.length,fe=F>>>1;ye<fe;){var Se=2*(ye+1)-1,Ce=G[Se],ke=Se+1,we=G[ke];if(0>r(Ce,Q))ke<F&&0>r(we,Ce)?(G[ye]=we,G[ke]=Q,ye=ke):(G[ye]=Ce,G[Se]=Q,ye=Se);else if(ke<F&&0>r(we,Q))G[ye]=we,G[ke]=Q,ye=ke;else break e}}return Y}function r(G,Y){var Q=G.sortIndex-Y.sortIndex;return Q!==0?Q:G.id-Y.id}if(i.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var a=performance;i.unstable_now=function(){return a.now()}}else{var s=Date,l=s.now();i.unstable_now=function(){return s.now()-l}}var u=[],f=[],p=1,g=null,v=3,_=!1,S=!1,w=!1,E=typeof setTimeout=="function"?setTimeout:null,b=typeof clearTimeout=="function"?clearTimeout:null,R=typeof setImmediate<"u"?setImmediate:null;function C(G){for(var Y=t(f);Y!==null;){if(Y.callback===null)n(f);else if(Y.startTime<=G)n(f),Y.sortIndex=Y.expirationTime,e(u,Y);else break;Y=t(f)}}function A(G){if(w=!1,C(G),!S)if(t(u)!==null)S=!0,ae();else{var Y=t(f);Y!==null&&ue(A,Y.startTime-G)}}var N=!1,L=-1,B=5,U=-1;function P(){return!(i.unstable_now()-U<B)}function z(){if(N){var G=i.unstable_now();U=G;var Y=!0;try{e:{S=!1,w&&(w=!1,b(L),L=-1),_=!0;var Q=v;try{t:{for(C(G),g=t(u);g!==null&&!(g.expirationTime>G&&P());){var ye=g.callback;if(typeof ye=="function"){g.callback=null,v=g.priorityLevel;var F=ye(g.expirationTime<=G);if(G=i.unstable_now(),typeof F=="function"){g.callback=F,C(G),Y=!0;break t}g===t(u)&&n(u),C(G)}else n(u);g=t(u)}if(g!==null)Y=!0;else{var fe=t(f);fe!==null&&ue(A,fe.startTime-G),Y=!1}}break e}finally{g=null,v=Q,_=!1}Y=void 0}}finally{Y?X():N=!1}}}var X;if(typeof R=="function")X=function(){R(z)};else if(typeof MessageChannel<"u"){var te=new MessageChannel,se=te.port2;te.port1.onmessage=z,X=function(){se.postMessage(null)}}else X=function(){E(z,0)};function ae(){N||(N=!0,X())}function ue(G,Y){L=E(function(){G(i.unstable_now())},Y)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(G){G.callback=null},i.unstable_continueExecution=function(){S||_||(S=!0,ae())},i.unstable_forceFrameRate=function(G){0>G||125<G?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):B=0<G?Math.floor(1e3/G):5},i.unstable_getCurrentPriorityLevel=function(){return v},i.unstable_getFirstCallbackNode=function(){return t(u)},i.unstable_next=function(G){switch(v){case 1:case 2:case 3:var Y=3;break;default:Y=v}var Q=v;v=Y;try{return G()}finally{v=Q}},i.unstable_pauseExecution=function(){},i.unstable_requestPaint=function(){},i.unstable_runWithPriority=function(G,Y){switch(G){case 1:case 2:case 3:case 4:case 5:break;default:G=3}var Q=v;v=G;try{return Y()}finally{v=Q}},i.unstable_scheduleCallback=function(G,Y,Q){var ye=i.unstable_now();switch(typeof Q=="object"&&Q!==null?(Q=Q.delay,Q=typeof Q=="number"&&0<Q?ye+Q:ye):Q=ye,G){case 1:var F=-1;break;case 2:F=250;break;case 5:F=1073741823;break;case 4:F=1e4;break;default:F=5e3}return F=Q+F,G={id:p++,callback:Y,priorityLevel:G,startTime:Q,expirationTime:F,sortIndex:-1},Q>ye?(G.sortIndex=Q,e(f,G),t(u)===null&&G===t(f)&&(w?(b(L),L=-1):w=!0,ue(A,Q-ye))):(G.sortIndex=F,e(u,G),S||_||(S=!0,ae())),G},i.unstable_shouldYield=P,i.unstable_wrapCallback=function(G){var Y=v;return function(){var Q=v;v=Y;try{return G.apply(this,arguments)}finally{v=Q}}}})(lT)),lT}var hP;function Lz(){return hP||(hP=1,oT.exports=$J()),oT.exports}/**
 * @license React
 * react-reconciler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var dP;function JJ(){return dP||(dP=1,(function(i){i.exports=function(e){function t(h,d,x,T){return new sv(h,d,x,T)}function n(){}function r(h){var d="https://react.dev/errors/"+h;if(1<arguments.length){d+="?args[]="+encodeURIComponent(arguments[1]);for(var x=2;x<arguments.length;x++)d+="&args[]="+encodeURIComponent(arguments[x])}return"Minified React error #"+h+"; visit "+d+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(h){return h===null||typeof h!="object"?null:(h=hl&&h[hl]||h["@@iterator"],typeof h=="function"?h:null)}function s(h){if(h==null)return null;if(typeof h=="function")return h.$$typeof===uv?null:h.displayName||h.name||null;if(typeof h=="string")return h;switch(h){case nc:return"Fragment";case Es:return"Portal";case im:return"Profiler";case rd:return"StrictMode";case rm:return"Suspense";case pf:return"SuspenseList"}if(typeof h=="object")switch(h.$$typeof){case Ys:return(h.displayName||"Context")+".Provider";case lv:return(h._context.displayName||"Context")+".Consumer";case sd:var d=h.render;return h=h.displayName,h||(h=d.displayName||d.name||"",h=h!==""?"ForwardRef("+h+")":"ForwardRef"),h;case am:return d=h.displayName||null,d!==null?d:s(h.type)||"Memo";case Ms:d=h._payload,h=h._init;try{return s(h(d))}catch{}}return null}function l(h){if(To===void 0)try{throw Error()}catch(x){var d=x.stack.trim().match(/\n( *(at )?)/);To=d&&d[1]||"",dl=-1<x.stack.indexOf(`
    at`)?" (<anonymous>)":-1<x.stack.indexOf("@")?"@unknown:0:0":""}return`
`+To+h+dl}function u(h,d){if(!h||Qc)return"";Qc=!0;var x=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var T={DetermineComponentFrameRoot:function(){try{if(d){var Nt=function(){throw Error()};if(Object.defineProperty(Nt.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Nt,[])}catch(xn){var Bt=xn}Reflect.construct(h,[],Nt)}else{try{Nt.call()}catch(xn){Bt=xn}h.call(Nt.prototype)}}else{try{throw Error()}catch(xn){Bt=xn}(Nt=h())&&typeof Nt.catch=="function"&&Nt.catch(function(){})}}catch(xn){if(xn&&Bt&&typeof xn.stack=="string")return[xn.stack,Bt.stack]}return[null,null]}};T.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var O=Object.getOwnPropertyDescriptor(T.DetermineComponentFrameRoot,"name");O&&O.configurable&&Object.defineProperty(T.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var k=T.DetermineComponentFrameRoot(),J=k[0],ve=k[1];if(J&&ve){var Re=J.split(`
`),tt=ve.split(`
`);for(O=T=0;T<Re.length&&!Re[T].includes("DetermineComponentFrameRoot");)T++;for(;O<tt.length&&!tt[O].includes("DetermineComponentFrameRoot");)O++;if(T===Re.length||O===tt.length)for(T=Re.length-1,O=tt.length-1;1<=T&&0<=O&&Re[T]!==tt[O];)O--;for(;1<=T&&0<=O;T--,O--)if(Re[T]!==tt[O]){if(T!==1||O!==1)do if(T--,O--,0>O||Re[T]!==tt[O]){var Mt=`
`+Re[T].replace(" at new "," at ");return h.displayName&&Mt.includes("<anonymous>")&&(Mt=Mt.replace("<anonymous>",h.displayName)),Mt}while(1<=T&&0<=O);break}}}finally{Qc=!1,Error.prepareStackTrace=x}return(x=h?h.displayName||h.name:"")?l(x):""}function f(h){switch(h.tag){case 26:case 27:case 5:return l(h.type);case 16:return l("Lazy");case 13:return l("Suspense");case 19:return l("SuspenseList");case 0:case 15:return h=u(h.type,!1),h;case 11:return h=u(h.type.render,!1),h;case 1:return h=u(h.type,!0),h;default:return""}}function p(h){try{var d="";do d+=f(h),h=h.return;while(h);return d}catch(x){return`
Error generating stack: `+x.message+`
`+x.stack}}function g(h){var d=h,x=h;if(h.alternate)for(;d.return;)d=d.return;else{h=d;do d=h,(d.flags&4098)!==0&&(x=d.return),h=d.return;while(h)}return d.tag===3?x:null}function v(h){if(g(h)!==h)throw Error(r(188))}function _(h){var d=h.alternate;if(!d){if(d=g(h),d===null)throw Error(r(188));return d!==h?null:h}for(var x=h,T=d;;){var O=x.return;if(O===null)break;var k=O.alternate;if(k===null){if(T=O.return,T!==null){x=T;continue}break}if(O.child===k.child){for(k=O.child;k;){if(k===x)return v(O),h;if(k===T)return v(O),d;k=k.sibling}throw Error(r(188))}if(x.return!==T.return)x=O,T=k;else{for(var J=!1,ve=O.child;ve;){if(ve===x){J=!0,x=O,T=k;break}if(ve===T){J=!0,T=O,x=k;break}ve=ve.sibling}if(!J){for(ve=k.child;ve;){if(ve===x){J=!0,x=k,T=O;break}if(ve===T){J=!0,T=k,x=O;break}ve=ve.sibling}if(!J)throw Error(r(189))}}if(x.alternate!==T)throw Error(r(190))}if(x.tag!==3)throw Error(r(188));return x.stateNode.current===x?h:d}function S(h){var d=h.tag;if(d===5||d===26||d===27||d===6)return h;for(h=h.child;h!==null;){if(d=S(h),d!==null)return d;h=h.sibling}return null}function w(h){var d=h.tag;if(d===5||d===26||d===27||d===6)return h;for(h=h.child;h!==null;){if(h.tag!==4&&(d=w(h),d!==null))return d;h=h.sibling}return null}function E(h){return{current:h}}function b(h){0>vl||(h.current=$i[vl],$i[vl]=null,vl--)}function R(h,d){vl++,$i[vl]=h.current,h.current=d}function C(h){return h>>>=0,h===0?32:31-(x1(h)/b1|0)|0}function A(h){var d=h&42;if(d!==0)return d;switch(h&-h){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return h&4194176;case 4194304:case 8388608:case 16777216:case 33554432:return h&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return h}}function N(h,d){var x=h.pendingLanes;if(x===0)return 0;var T=0,O=h.suspendedLanes,k=h.pingedLanes,J=h.warmLanes;h=h.finishedLanes!==0;var ve=x&134217727;return ve!==0?(x=ve&~O,x!==0?T=A(x):(k&=ve,k!==0?T=A(k):h||(J=ve&~J,J!==0&&(T=A(J))))):(ve=x&~O,ve!==0?T=A(ve):k!==0?T=A(k):h||(J=x&~J,J!==0&&(T=A(J)))),T===0?0:d!==0&&d!==T&&(d&O)===0&&(O=T&-T,J=d&-d,O>=J||O===32&&(J&4194176)!==0)?d:T}function L(h,d){return(h.pendingLanes&~(h.suspendedLanes&~h.pingedLanes)&d)===0}function B(h,d){switch(h){case 1:case 2:case 4:case 8:return d+250;case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return d+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function U(){var h=Co;return Co<<=1,(Co&4194176)===0&&(Co=128),h}function P(){var h=nu;return nu<<=1,(nu&62914560)===0&&(nu=4194304),h}function z(h){for(var d=[],x=0;31>x;x++)d.push(h);return d}function X(h,d){h.pendingLanes|=d,d!==268435456&&(h.suspendedLanes=0,h.pingedLanes=0,h.warmLanes=0)}function te(h,d,x,T,O,k){var J=h.pendingLanes;h.pendingLanes=x,h.suspendedLanes=0,h.pingedLanes=0,h.warmLanes=0,h.expiredLanes&=x,h.entangledLanes&=x,h.errorRecoveryDisabledLanes&=x,h.shellSuspendCounter=0;var ve=h.entanglements,Re=h.expirationTimes,tt=h.hiddenUpdates;for(x=J&~x;0<x;){var Mt=31-ha(x),Nt=1<<Mt;ve[Mt]=0,Re[Mt]=-1;var Bt=tt[Mt];if(Bt!==null)for(tt[Mt]=null,Mt=0;Mt<Bt.length;Mt++){var xn=Bt[Mt];xn!==null&&(xn.lane&=-536870913)}x&=~Nt}T!==0&&se(h,T,0),k!==0&&O===0&&h.tag!==0&&(h.suspendedLanes|=k&~(J&~d))}function se(h,d,x){h.pendingLanes|=d,h.suspendedLanes&=~d;var T=31-ha(d);h.entangledLanes|=d,h.entanglements[T]=h.entanglements[T]|1073741824|x&4194218}function ae(h,d){var x=h.entangledLanes|=d;for(h=h.entanglements;x;){var T=31-ha(x),O=1<<T;O&d|h[T]&d&&(h[T]|=d),x&=~O}}function ue(h){return h&=-h,2<h?8<h?(h&134217727)!==0?32:268435456:8:2}function G(h){if(Ca&&typeof Ca.onCommitFiberRoot=="function")try{Ca.onCommitFiberRoot(Ji,h,void 0,(h.current.flags&128)===128)}catch{}}function Y(h){if(typeof E1=="function"&&Mr(h),Ca&&typeof Ca.setStrictMode=="function")try{Ca.setStrictMode(Ji,h)}catch{}}function Q(h,d){return h===d&&(h!==0||1/h===1/d)||h!==h&&d!==d}function ye(h,d){if(typeof h=="object"&&h!==null){var x=Rv.get(h);return x!==void 0?x:(d={value:h,source:d,stack:p(d)},Rv.set(h,d),d)}return{value:h,source:d,stack:p(d)}}function F(h,d){iu[ru++]=wf,iu[ru++]=au,au=h,wf=d}function fe(h,d,x){qa[Ya++]=$s,qa[Ya++]=Js,qa[Ya++]=cc,cc=h;var T=$s;h=Js;var O=32-ha(T)-1;T&=~(1<<O),x+=1;var k=32-ha(d)+O;if(30<k){var J=O-O%5;k=(T&(1<<J)-1).toString(32),T>>=J,O-=J,$s=1<<32-ha(d)+O|x<<O|T,Js=k+h}else $s=1<<k|x<<O|T,Js=h}function Se(h){h.return!==null&&(F(h,1),fe(h,1,0))}function Ce(h){for(;h===au;)au=iu[--ru],iu[ru]=null,wf=iu[--ru],iu[ru]=null;for(;h===cc;)cc=qa[--Ya],qa[Ya]=null,Js=qa[--Ya],qa[Ya]=null,$s=qa[--Ya],qa[Ya]=null}function ke(h,d){R(Ro,d),R(Ef,h),R(mr,null),h=kx(d),b(mr),R(mr,h)}function we(){b(mr),b(Ef),b(Ro)}function ee(h){h.memoizedState!==null&&R(su,h);var d=mr.current,x=yf(d,h.type);d!==x&&(R(Ef,h),R(mr,x))}function ie(h){Ef.current===h&&(b(mr),b(Ef)),su.current===h&&(b(su),ua?Zs._currentValue=rc:Zs._currentValue2=rc)}function _e(h){var d=Error(r(418,""));throw ne(ye(d,h)),md}function Be(h,d){if(!Fr)throw Error(r(175));u1(h.stateNode,h.type,h.memoizedProps,d,h)||_e(h)}function Ze(h){for(Hr=h.return;Hr;)switch(Hr.tag){case 3:case 27:Tr=!0;return;case 5:case 13:Tr=!1;return;default:Hr=Hr.return}}function gt(h){if(!Fr||h!==Hr)return!1;if(!Yn)return Ze(h),Yn=!0,!1;var d=!1;if(vi?h.tag!==3&&h.tag!==27&&(h.tag!==5||pm(h.type)&&!wn(h.type,h.memoizedProps))&&(d=!0):h.tag!==3&&(h.tag!==5||pm(h.type)&&!wn(h.type,h.memoizedProps))&&(d=!0),d&&Vr&&_e(h),Ze(h),h.tag===13){if(!Fr)throw Error(r(316));if(h=h.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(r(317));Vr=h1(h)}else Vr=Hr?Mv(h.stateNode):null;return!0}function pt(){Fr&&(Vr=Hr=null,Yn=!1)}function ne(h){Cs===null?Cs=[h]:Cs.push(h)}function be(){for(var h=ou,d=Qs=ou=0;d<h;){var x=Rs[d];Rs[d++]=null;var T=Rs[d];Rs[d++]=null;var O=Rs[d];Rs[d++]=null;var k=Rs[d];if(Rs[d++]=null,T!==null&&O!==null){var J=T.pending;J===null?O.next=O:(O.next=J.next,J.next=O),T.pending=O}k!==0&&Ve(x,O,k)}}function De(h,d,x,T){Rs[ou++]=h,Rs[ou++]=d,Rs[ou++]=x,Rs[ou++]=T,Qs|=T,h.lanes|=T,h=h.alternate,h!==null&&(h.lanes|=T)}function Ye(h,d,x,T){return De(h,d,x,T),Ke(h)}function re(h,d){return De(h,null,null,d),Ke(h)}function Ve(h,d,x){h.lanes|=x;var T=h.alternate;T!==null&&(T.lanes|=x);for(var O=!1,k=h.return;k!==null;)k.childLanes|=x,T=k.alternate,T!==null&&(T.childLanes|=x),k.tag===22&&(h=k.stateNode,h===null||h._visibility&1||(O=!0)),h=k,k=k.return;O&&d!==null&&h.tag===3&&(k=h.stateNode,O=31-ha(x),k=k.hiddenUpdates,h=k[O],h===null?k[O]=[d]:h.push(d),d.lane=x|536870912)}function Ke(h){if(50<Pf)throw Pf=0,Rm=null,Error(r(185));for(var d=h.return;d!==null;)h=d,d=h.return;return h.tag===3?h.stateNode:null}function $e(h){h!==yl&&h.next===null&&(yl===null?gd=yl=h:yl=yl.next=h),Ei=!0,lu||(lu=!0,Ne(vt))}function _t(h,d){if(!Dv&&Ei){Dv=!0;do for(var x=!1,T=gd;T!==null;){if(h!==0){var O=T.pendingLanes;if(O===0)var k=0;else{var J=T.suspendedLanes,ve=T.pingedLanes;k=(1<<31-ha(42|h)+1)-1,k&=O&~(J&~ve),k=k&201326677?k&201326677|1:k?k|2:0}k!==0&&(x=!0,xe(T,k))}else k=Fn,k=N(T,T===ui?k:0),(k&3)===0||L(T,k)||(x=!0,xe(T,k));T=T.next}while(x);Dv=!1}}function vt(){Ei=lu=!1;var h=0;Mf!==0&&(jx()&&(h=Mf),Mf=0);for(var d=As(),x=null,T=gd;T!==null;){var O=T.next,k=$(T,d);k===0?(T.next=null,x===null?gd=O:x.next=O,O===null&&(yl=x)):(x=T,(h!==0||(k&3)!==0)&&(Ei=!0)),T=O}_t(h)}function $(h,d){for(var x=h.suspendedLanes,T=h.pingedLanes,O=h.expirationTimes,k=h.pendingLanes&-62914561;0<k;){var J=31-ha(k),ve=1<<J,Re=O[J];Re===-1?((ve&x)===0||(ve&T)!==0)&&(O[J]=B(ve,d)):Re<=d&&(h.expiredLanes|=ve),k&=~ve}if(d=ui,x=Fn,x=N(h,h===d?x:0),T=h.callbackNode,x===0||h===d&&pi===2||h.cancelPendingCommit!==null)return T!==null&&T!==null&&ym(T),h.callbackNode=null,h.callbackPriority=0;if((x&3)===0||L(h,x)){if(d=x&-x,d===h.callbackPriority)return d;switch(T!==null&&ym(T),ue(x)){case 2:case 8:x=w1;break;case 32:x=bm;break;case 268435456:x=l2;break;default:x=bm}return T=q.bind(null,h),x=pd(x,T),h.callbackPriority=d,h.callbackNode=x,d}return T!==null&&T!==null&&ym(T),h.callbackPriority=2,h.callbackNode=null,2}function q(h,d){var x=h.callbackNode;if(qs()&&h.callbackNode!==x)return null;var T=Fn;return T=N(h,h===ui?T:0),T===0?null:($l(h,T,d),$(h,As()),h.callbackNode!=null&&h.callbackNode===x?q.bind(null,h):null)}function xe(h,d){if(qs())return null;$l(h,d,!0)}function Ne(h){mv?gl(function(){($n&6)!==0?pd(xm,h):h()}):pd(xm,h)}function ze(){return Mf===0&&(Mf=U()),Mf}function Ue(h,d){if(Tf===null){var x=Tf=[];cu=0,Za=ze(),uu={status:"pending",value:void 0,then:function(T){x.push(T)}}}return cu++,d.then(mt,mt),d}function mt(){if(--cu===0&&Tf!==null){uu!==null&&(uu.status="fulfilled");var h=Tf;Tf=null,Za=0,uu=null;for(var d=0;d<h.length;d++)(0,h[d])()}}function ht(h,d){var x=[],T={status:"pending",value:null,reason:null,then:function(O){x.push(O)}};return h.then(function(){T.status="fulfilled",T.value=d;for(var O=0;O<x.length;O++)(0,x[O])(d)},function(O){for(T.status="rejected",T.reason=O,O=0;O<x.length;O++)(0,x[O])(void 0)}),T}function Dt(h){h.updateQueue={baseState:h.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function wt(h,d){h=h.updateQueue,d.updateQueue===h&&(d.updateQueue={baseState:h.baseState,firstBaseUpdate:h.firstBaseUpdate,lastBaseUpdate:h.lastBaseUpdate,shared:h.shared,callbacks:null})}function it(h){return{lane:h,tag:0,payload:null,callback:null,next:null}}function ct(h,d,x){var T=h.updateQueue;if(T===null)return null;if(T=T.shared,($n&2)!==0){var O=T.pending;return O===null?d.next=d:(d.next=O.next,O.next=d),T.pending=d,d=Ke(h),Ve(h,null,x),d}return De(h,T,d,x),Ke(h)}function zt(h,d,x){if(d=d.updateQueue,d!==null&&(d=d.shared,(x&4194176)!==0)){var T=d.lanes;T&=h.pendingLanes,x|=T,d.lanes=x,ae(h,x)}}function Rt(h,d){var x=h.updateQueue,T=h.alternate;if(T!==null&&(T=T.updateQueue,x===T)){var O=null,k=null;if(x=x.firstBaseUpdate,x!==null){do{var J={lane:x.lane,tag:x.tag,payload:x.payload,callback:null,next:null};k===null?O=k=J:k=k.next=J,x=x.next}while(x!==null);k===null?O=k=d:k=k.next=d}else O=k=d;x={baseState:T.baseState,firstBaseUpdate:O,lastBaseUpdate:k,shared:T.shared,callbacks:T.callbacks},h.updateQueue=x;return}h=x.lastBaseUpdate,h===null?x.firstBaseUpdate=d:h.next=d,x.lastBaseUpdate=d}function ft(){if(fu){var h=uu;if(h!==null)throw h}}function Ut(h,d,x,T){fu=!1;var O=h.updateQueue;_l=!1;var k=O.firstBaseUpdate,J=O.lastBaseUpdate,ve=O.shared.pending;if(ve!==null){O.shared.pending=null;var Re=ve,tt=Re.next;Re.next=null,J===null?k=tt:J.next=tt,J=Re;var Mt=h.alternate;Mt!==null&&(Mt=Mt.updateQueue,ve=Mt.lastBaseUpdate,ve!==J&&(ve===null?Mt.firstBaseUpdate=tt:ve.next=tt,Mt.lastBaseUpdate=Re))}if(k!==null){var Nt=O.baseState;J=0,Mt=tt=Re=null,ve=k;do{var Bt=ve.lane&-536870913,xn=Bt!==ve.lane;if(xn?(Fn&Bt)===Bt:(T&Bt)===Bt){Bt!==0&&Bt===Za&&(fu=!0),Mt!==null&&(Mt=Mt.next={lane:0,tag:ve.tag,payload:ve.payload,callback:null,next:null});e:{var is=h,yc=ve;Bt=d;var _c=x;switch(yc.tag){case 1:if(is=yc.payload,typeof is=="function"){Nt=is.call(_c,Nt,Bt);break e}Nt=is;break e;case 3:is.flags=is.flags&-65537|128;case 0:if(is=yc.payload,Bt=typeof is=="function"?is.call(_c,Nt,Bt):is,Bt==null)break e;Nt=nm({},Nt,Bt);break e;case 2:_l=!0}}Bt=ve.callback,Bt!==null&&(h.flags|=64,xn&&(h.flags|=8192),xn=O.callbacks,xn===null?O.callbacks=[Bt]:xn.push(Bt))}else xn={lane:Bt,tag:ve.tag,payload:ve.payload,callback:ve.callback,next:null},Mt===null?(tt=Mt=xn,Re=Nt):Mt=Mt.next=xn,J|=Bt;if(ve=ve.next,ve===null){if(ve=O.shared.pending,ve===null)break;xn=ve,ve=xn.next,xn.next=null,O.lastBaseUpdate=xn,O.shared.pending=null}}while(!0);Mt===null&&(Re=Nt),O.baseState=Re,O.firstBaseUpdate=tt,O.lastBaseUpdate=Mt,k===null&&(O.shared.lanes=0),ts|=J,h.lanes=J,h.memoizedState=Nt}}function de(h,d){if(typeof h!="function")throw Error(r(191,h));h.call(d)}function Oe(h,d){var x=h.callbacks;if(x!==null)for(h.callbacks=null,h=0;h<x.length;h++)de(x[h],d)}function dt(h,d){if(Ra(h,d))return!0;if(typeof h!="object"||h===null||typeof d!="object"||d===null)return!1;var x=Object.keys(h),T=Object.keys(d);if(x.length!==T.length)return!1;for(T=0;T<x.length;T++){var O=x[T];if(!Do.call(d,O)||!Ra(h[O],d[O]))return!1}return!0}function At(h){return h=h.status,h==="fulfilled"||h==="rejected"}function ot(){}function et(h,d,x){switch(x=h[x],x===void 0?h.push(d):x!==d&&(d.then(ot,ot),d=x),d.status){case"fulfilled":return d.value;case"rejected":throw h=d.reason,h===Af?Error(r(483)):h;default:if(typeof d.status=="string")d.then(ot,ot);else{if(h=ui,h!==null&&100<h.shellSuspendCounter)throw Error(r(482));h=d,h.status="pending",h.then(function(T){if(d.status==="pending"){var O=d;O.status="fulfilled",O.value=T}},function(T){if(d.status==="pending"){var O=d;O.status="rejected",O.reason=T}})}switch(d.status){case"fulfilled":return d.value;case"rejected":throw h=d.reason,h===Af?Error(r(483)):h}throw uc=d,Af}}function Lt(){if(uc===null)throw Error(r(459));var h=uc;return uc=null,h}function Xt(h){var d=hc;return hc+=1,fc===null&&(fc=[]),et(fc,h,d)}function bn(h,d){d=d.props.ref,h.ref=d!==void 0?d:null}function Ct(h,d){throw d.$$typeof===t2?Error(r(525)):(h=Object.prototype.toString.call(d),Error(r(31,h==="[object Object]"?"object with keys {"+Object.keys(d).join(", ")+"}":h)))}function Gt(h){var d=h._init;return d(h._payload)}function tn(h){function d(He,Ee){if(h){var Xe=He.deletions;Xe===null?(He.deletions=[Ee],He.flags|=16):Xe.push(Ee)}}function x(He,Ee){if(!h)return null;for(;Ee!==null;)d(He,Ee),Ee=Ee.sibling;return null}function T(He){for(var Ee=new Map;He!==null;)He.key!==null?Ee.set(He.key,He):Ee.set(He.index,He),He=He.sibling;return Ee}function O(He,Ee){return He=ws(He,Ee),He.index=0,He.sibling=null,He}function k(He,Ee,Xe){return He.index=Xe,h?(Xe=He.alternate,Xe!==null?(Xe=Xe.index,Xe<Ee?(He.flags|=33554434,Ee):Xe):(He.flags|=33554434,Ee)):(He.flags|=1048576,Ee)}function J(He){return h&&He.alternate===null&&(He.flags|=33554434),He}function ve(He,Ee,Xe,St){return Ee===null||Ee.tag!==6?(Ee=em(Xe,He.mode,St),Ee.return=He,Ee):(Ee=O(Ee,Xe),Ee.return=He,Ee)}function Re(He,Ee,Xe,St){var Jt=Xe.type;return Jt===nc?Mt(He,Ee,Xe.props.children,St,Xe.key):Ee!==null&&(Ee.elementType===Jt||typeof Jt=="object"&&Jt!==null&&Jt.$$typeof===Ms&&Gt(Jt)===Ee.type)?(Ee=O(Ee,Xe.props),bn(Ee,Xe),Ee.return=He,Ee):(Ee=Mo(Xe.type,Xe.key,Xe.props,null,He.mode,St),bn(Ee,Xe),Ee.return=He,Ee)}function tt(He,Ee,Xe,St){return Ee===null||Ee.tag!==4||Ee.stateNode.containerInfo!==Xe.containerInfo||Ee.stateNode.implementation!==Xe.implementation?(Ee=ov(Xe,He.mode,St),Ee.return=He,Ee):(Ee=O(Ee,Xe.children||[]),Ee.return=He,Ee)}function Mt(He,Ee,Xe,St,Jt){return Ee===null||Ee.tag!==7?(Ee=Vi(Xe,He.mode,St,Jt),Ee.return=He,Ee):(Ee=O(Ee,Xe),Ee.return=He,Ee)}function Nt(He,Ee,Xe){if(typeof Ee=="string"&&Ee!==""||typeof Ee=="number"||typeof Ee=="bigint")return Ee=em(""+Ee,He.mode,Xe),Ee.return=He,Ee;if(typeof Ee=="object"&&Ee!==null){switch(Ee.$$typeof){case id:return Xe=Mo(Ee.type,Ee.key,Ee.props,null,He.mode,Xe),bn(Xe,Ee),Xe.return=He,Xe;case Es:return Ee=ov(Ee,He.mode,Xe),Ee.return=He,Ee;case Ms:var St=Ee._init;return Ee=St(Ee._payload),Nt(He,Ee,Xe)}if(mf(Ee)||a(Ee))return Ee=Vi(Ee,He.mode,Xe,null),Ee.return=He,Ee;if(typeof Ee.then=="function")return Nt(He,Xt(Ee),Xe);if(Ee.$$typeof===Ys)return Nt(He,Vh(He,Ee),Xe);Ct(He,Ee)}return null}function Bt(He,Ee,Xe,St){var Jt=Ee!==null?Ee.key:null;if(typeof Xe=="string"&&Xe!==""||typeof Xe=="number"||typeof Xe=="bigint")return Jt!==null?null:ve(He,Ee,""+Xe,St);if(typeof Xe=="object"&&Xe!==null){switch(Xe.$$typeof){case id:return Xe.key===Jt?Re(He,Ee,Xe,St):null;case Es:return Xe.key===Jt?tt(He,Ee,Xe,St):null;case Ms:return Jt=Xe._init,Xe=Jt(Xe._payload),Bt(He,Ee,Xe,St)}if(mf(Xe)||a(Xe))return Jt!==null?null:Mt(He,Ee,Xe,St,null);if(typeof Xe.then=="function")return Bt(He,Ee,Xt(Xe),St);if(Xe.$$typeof===Ys)return Bt(He,Ee,Vh(He,Xe),St);Ct(He,Xe)}return null}function xn(He,Ee,Xe,St,Jt){if(typeof St=="string"&&St!==""||typeof St=="number"||typeof St=="bigint")return He=He.get(Xe)||null,ve(Ee,He,""+St,Jt);if(typeof St=="object"&&St!==null){switch(St.$$typeof){case id:return He=He.get(St.key===null?Xe:St.key)||null,Re(Ee,He,St,Jt);case Es:return He=He.get(St.key===null?Xe:St.key)||null,tt(Ee,He,St,Jt);case Ms:var Ni=St._init;return St=Ni(St._payload),xn(He,Ee,Xe,St,Jt)}if(mf(St)||a(St))return He=He.get(Xe)||null,Mt(Ee,He,St,Jt,null);if(typeof St.then=="function")return xn(He,Ee,Xe,Xt(St),Jt);if(St.$$typeof===Ys)return xn(He,Ee,Xe,Vh(Ee,St),Jt);Ct(Ee,St)}return null}function is(He,Ee,Xe,St){for(var Jt=null,Ni=null,hn=Ee,ni=Ee=0,Qi=null;hn!==null&&ni<Xe.length;ni++){hn.index>ni?(Qi=hn,hn=null):Qi=hn.sibling;var Bn=Bt(He,hn,Xe[ni],St);if(Bn===null){hn===null&&(hn=Qi);break}h&&hn&&Bn.alternate===null&&d(He,hn),Ee=k(Bn,Ee,ni),Ni===null?Jt=Bn:Ni.sibling=Bn,Ni=Bn,hn=Qi}if(ni===Xe.length)return x(He,hn),Yn&&F(He,ni),Jt;if(hn===null){for(;ni<Xe.length;ni++)hn=Nt(He,Xe[ni],St),hn!==null&&(Ee=k(hn,Ee,ni),Ni===null?Jt=hn:Ni.sibling=hn,Ni=hn);return Yn&&F(He,ni),Jt}for(hn=T(hn);ni<Xe.length;ni++)Qi=xn(hn,He,ni,Xe[ni],St),Qi!==null&&(h&&Qi.alternate!==null&&hn.delete(Qi.key===null?ni:Qi.key),Ee=k(Qi,Ee,ni),Ni===null?Jt=Qi:Ni.sibling=Qi,Ni=Qi);return h&&hn.forEach(function(zo){return d(He,zo)}),Yn&&F(He,ni),Jt}function yc(He,Ee,Xe,St){if(Xe==null)throw Error(r(151));for(var Jt=null,Ni=null,hn=Ee,ni=Ee=0,Qi=null,Bn=Xe.next();hn!==null&&!Bn.done;ni++,Bn=Xe.next()){hn.index>ni?(Qi=hn,hn=null):Qi=hn.sibling;var zo=Bt(He,hn,Bn.value,St);if(zo===null){hn===null&&(hn=Qi);break}h&&hn&&zo.alternate===null&&d(He,hn),Ee=k(zo,Ee,ni),Ni===null?Jt=zo:Ni.sibling=zo,Ni=zo,hn=Qi}if(Bn.done)return x(He,hn),Yn&&F(He,ni),Jt;if(hn===null){for(;!Bn.done;ni++,Bn=Xe.next())Bn=Nt(He,Bn.value,St),Bn!==null&&(Ee=k(Bn,Ee,ni),Ni===null?Jt=Bn:Ni.sibling=Bn,Ni=Bn);return Yn&&F(He,ni),Jt}for(hn=T(hn);!Bn.done;ni++,Bn=Xe.next())Bn=xn(hn,He,ni,Bn.value,St),Bn!==null&&(h&&Bn.alternate!==null&&hn.delete(Bn.key===null?ni:Bn.key),Ee=k(Bn,Ee,ni),Ni===null?Jt=Bn:Ni.sibling=Bn,Ni=Bn);return h&&hn.forEach(function(Dm){return d(He,Dm)}),Yn&&F(He,ni),Jt}function _c(He,Ee,Xe,St){if(typeof Xe=="object"&&Xe!==null&&Xe.type===nc&&Xe.key===null&&(Xe=Xe.props.children),typeof Xe=="object"&&Xe!==null){switch(Xe.$$typeof){case id:e:{for(var Jt=Xe.key;Ee!==null;){if(Ee.key===Jt){if(Jt=Xe.type,Jt===nc){if(Ee.tag===7){x(He,Ee.sibling),St=O(Ee,Xe.props.children),St.return=He,He=St;break e}}else if(Ee.elementType===Jt||typeof Jt=="object"&&Jt!==null&&Jt.$$typeof===Ms&&Gt(Jt)===Ee.type){x(He,Ee.sibling),St=O(Ee,Xe.props),bn(St,Xe),St.return=He,He=St;break e}x(He,Ee);break}else d(He,Ee);Ee=Ee.sibling}Xe.type===nc?(St=Vi(Xe.props.children,He.mode,St,Xe.key),St.return=He,He=St):(St=Mo(Xe.type,Xe.key,Xe.props,null,He.mode,St),bn(St,Xe),St.return=He,He=St)}return J(He);case Es:e:{for(Jt=Xe.key;Ee!==null;){if(Ee.key===Jt)if(Ee.tag===4&&Ee.stateNode.containerInfo===Xe.containerInfo&&Ee.stateNode.implementation===Xe.implementation){x(He,Ee.sibling),St=O(Ee,Xe.children||[]),St.return=He,He=St;break e}else{x(He,Ee);break}else d(He,Ee);Ee=Ee.sibling}St=ov(Xe,He.mode,St),St.return=He,He=St}return J(He);case Ms:return Jt=Xe._init,Xe=Jt(Xe._payload),_c(He,Ee,Xe,St)}if(mf(Xe))return is(He,Ee,Xe,St);if(a(Xe)){if(Jt=a(Xe),typeof Jt!="function")throw Error(r(150));return Xe=Jt.call(Xe),yc(He,Ee,Xe,St)}if(typeof Xe.then=="function")return _c(He,Ee,Xt(Xe),St);if(Xe.$$typeof===Ys)return _c(He,Ee,Vh(He,Xe),St);Ct(He,Xe)}return typeof Xe=="string"&&Xe!==""||typeof Xe=="number"||typeof Xe=="bigint"?(Xe=""+Xe,Ee!==null&&Ee.tag===6?(x(He,Ee.sibling),St=O(Ee,Xe),St.return=He,He=St):(x(He,Ee),St=em(Xe,He.mode,St),St.return=He,He=St),J(He)):x(He,Ee)}return function(He,Ee,Xe,St){try{hc=0;var Jt=_c(He,Ee,Xe,St);return fc=null,Jt}catch(hn){if(hn===Af)throw hn;var Ni=t(29,hn,null,He.mode);return Ni.lanes=St,Ni.return=He,Ni}finally{}}}function xt(h,d){h=Jr,R(Cf,h),R(Mi,d),Jr=h|d.baseLanes}function kt(){R(Cf,Jr),R(Mi,Mi.current)}function Ft(){Jr=Cf.current,b(Mi),b(Cf)}function Zt(h){var d=h.alternate;R(gr,gr.current&1),R(Ka,h),yi===null&&(d===null||Mi.current!==null||d.memoizedState!==null)&&(yi=h)}function si(h){if(h.tag===22){if(R(gr,gr.current),R(Ka,h),yi===null){var d=h.alternate;d!==null&&d.memoizedState!==null&&(yi=h)}}else Qt()}function Qt(){R(gr,gr.current),R(Ka,Ka.current)}function It(h){b(Ka),yi===h&&(yi=null),b(gr)}function Zn(h){for(var d=h;d!==null;){if(d.tag===13){var x=d.memoizedState;if(x!==null&&(x=x.dehydrated,x===null||fm(x)||hm(x)))return d}else if(d.tag===19&&d.memoizedProps.revealOrder!==void 0){if((d.flags&128)!==0)return d}else if(d.child!==null){d.child.return=d,d=d.child;continue}if(d===h)break;for(;d.sibling===null;){if(d.return===null||d.return===h)return null;d=d.return}d.sibling.return=d.return,d=d.sibling}return null}function sn(){throw Error(r(321))}function W(h,d){if(d===null)return!1;for(var x=0;x<d.length&&x<h.length;x++)if(!Ra(h[x],d[x]))return!1;return!0}function Z(h,d,x,T,O,k){return xl=k,Cn=d,d.memoizedState=null,d.updateQueue=null,d.lanes=0,fn.H=h===null||h.memoizedState===null?mc:da,pc=!1,k=x(T,O),pc=!1,hu&&(k=Te(d,x,T,O)),ge(h),k}function ge(h){fn.H=ji;var d=on!==null&&on.next!==null;if(xl=0,Kn=on=Cn=null,Ds=!1,du=0,Ar=null,d)throw Error(r(300));h===null||_i||(h=h.dependencies,h!==null&&Hh(h)&&(_i=!0))}function Te(h,d,x,T){Cn=h;var O=0;do{if(hu&&(Ar=null),du=0,hu=!1,25<=O)throw Error(r(301));if(O+=1,Kn=on=null,h.updateQueue!=null){var k=h.updateQueue;k.lastEffect=null,k.events=null,k.stores=null,k.memoCache!=null&&(k.memoCache.index=0)}fn.H=$a,k=d(x,T)}while(hu);return k}function Pe(){var h=fn.H,d=h.useState()[0];return d=typeof d.then=="function"?pe(d):d,h=h.useState()[0],(on!==null?on.memoizedState:null)!==h&&(Cn.flags|=1024),d}function Ge(){var h=Sm!==0;return Sm=0,h}function at(h,d,x){d.updateQueue=h.updateQueue,d.flags&=-2053,h.lanes&=~x}function V(h){if(Ds){for(h=h.memoizedState;h!==null;){var d=h.queue;d!==null&&(d.pending=null),h=h.next}Ds=!1}xl=0,Kn=on=Cn=null,hu=!1,du=Sm=0,Ar=null}function oe(){var h={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Kn===null?Cn.memoizedState=Kn=h:Kn=Kn.next=h,Kn}function he(){if(on===null){var h=Cn.alternate;h=h!==null?h.memoizedState:null}else h=on.next;var d=Kn===null?Cn.memoizedState:Kn.next;if(d!==null)Kn=d,on=h;else{if(h===null)throw Cn.alternate===null?Error(r(467)):Error(r(310));on=h,h={memoizedState:on.memoizedState,baseState:on.baseState,baseQueue:on.baseQueue,queue:on.queue,next:null},Kn===null?Cn.memoizedState=Kn=h:Kn=Kn.next=h}return Kn}function pe(h){var d=du;return du+=1,Ar===null&&(Ar=[]),h=et(Ar,h,d),d=Cn,(Kn===null?d.memoizedState:Kn.next)===null&&(d=d.alternate,fn.H=d===null||d.memoizedState===null?mc:da),h}function ce(h){if(h!==null&&typeof h=="object"){if(typeof h.then=="function")return pe(h);if(h.$$typeof===Ys)return Ir(h)}throw Error(r(438,String(h)))}function qe(h){var d=null,x=Cn.updateQueue;if(x!==null&&(d=x.memoCache),d==null){var T=Cn.alternate;T!==null&&(T=T.updateQueue,T!==null&&(T=T.memoCache,T!=null&&(d={data:T.data.map(function(O){return O.slice()}),index:0})))}if(d==null&&(d={data:[],index:0}),x===null&&(x=wm(),Cn.updateQueue=x),x.memoCache=d,x=d.data[d.index],x===void 0)for(x=d.data[d.index]=Array(h),T=0;T<h;T++)x[T]=zx;return d.index++,x}function Fe(h,d){return typeof d=="function"?d(h):d}function Je(h){var d=he();return Qe(d,on,h)}function Qe(h,d,x){var T=h.queue;if(T===null)throw Error(r(311));T.lastRenderedReducer=x;var O=h.baseQueue,k=T.pending;if(k!==null){if(O!==null){var J=O.next;O.next=k.next,k.next=J}d.baseQueue=O=k,T.pending=null}if(k=h.baseState,O===null)h.memoizedState=k;else{d=O.next;var ve=J=null,Re=null,tt=d,Mt=!1;do{var Nt=tt.lane&-536870913;if(Nt!==tt.lane?(Fn&Nt)===Nt:(xl&Nt)===Nt){var Bt=tt.revertLane;if(Bt===0)Re!==null&&(Re=Re.next={lane:0,revertLane:0,action:tt.action,hasEagerState:tt.hasEagerState,eagerState:tt.eagerState,next:null}),Nt===Za&&(Mt=!0);else if((xl&Bt)===Bt){tt=tt.next,Bt===Za&&(Mt=!0);continue}else Nt={lane:0,revertLane:tt.revertLane,action:tt.action,hasEagerState:tt.hasEagerState,eagerState:tt.eagerState,next:null},Re===null?(ve=Re=Nt,J=k):Re=Re.next=Nt,Cn.lanes|=Bt,ts|=Bt;Nt=tt.action,pc&&x(k,Nt),k=tt.hasEagerState?tt.eagerState:x(k,Nt)}else Bt={lane:Nt,revertLane:tt.revertLane,action:tt.action,hasEagerState:tt.hasEagerState,eagerState:tt.eagerState,next:null},Re===null?(ve=Re=Bt,J=k):Re=Re.next=Bt,Cn.lanes|=Nt,ts|=Nt;tt=tt.next}while(tt!==null&&tt!==d);if(Re===null?J=k:Re.next=ve,!Ra(k,h.memoizedState)&&(_i=!0,Mt&&(x=uu,x!==null)))throw x;h.memoizedState=k,h.baseState=J,h.baseQueue=Re,T.lastRenderedState=k}return O===null&&(T.lanes=0),[h.memoizedState,T.dispatch]}function yt(h){var d=he(),x=d.queue;if(x===null)throw Error(r(311));x.lastRenderedReducer=h;var T=x.dispatch,O=x.pending,k=d.memoizedState;if(O!==null){x.pending=null;var J=O=O.next;do k=h(k,J.action),J=J.next;while(J!==O);Ra(k,d.memoizedState)||(_i=!0),d.memoizedState=k,d.baseQueue===null&&(d.baseState=k),x.lastRenderedState=k}return[k,T]}function Et(h,d,x){var T=Cn,O=he(),k=Yn;if(k){if(x===void 0)throw Error(r(407));x=x()}else x=d();var J=!Ra((on||O).memoizedState,x);if(J&&(O.memoizedState=x,_i=!0),O=O.queue,Ng(Kt.bind(null,T,O,h),[h]),O.getSnapshot!==d||J||Kn!==null&&Kn.memoizedState.tag&1){if(T.flags|=2048,dr(9,jt.bind(null,T,O,x,d),{destroy:void 0},null),ui===null)throw Error(r(349));k||(xl&60)!==0||bt(T,d,x)}return x}function bt(h,d,x){h.flags|=16384,h={getSnapshot:d,value:x},d=Cn.updateQueue,d===null?(d=wm(),Cn.updateQueue=d,d.stores=[h]):(x=d.stores,x===null?d.stores=[h]:x.push(h))}function jt(h,d,x,T){d.value=x,d.getSnapshot=T,an(d)&&Tn(h)}function Kt(h,d,x){return x(function(){an(d)&&Tn(h)})}function an(h){var d=h.getSnapshot;h=h.value;try{var x=d();return!Ra(h,x)}catch{return!0}}function Tn(h){var d=re(h,2);d!==null&&Er(d,h,2)}function Ht(h){var d=oe();if(typeof h=="function"){var x=h;if(h=x(),pc){Y(!0);try{x()}finally{Y(!1)}}}return d.memoizedState=d.baseState=h,d.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Fe,lastRenderedState:h},d}function Ot(h,d,x,T){return h.baseState=x,Qe(h,on,typeof T=="function"?T:Fe)}function Gn(h,d,x,T,O){if(Ih(h))throw Error(r(485));if(h=d.action,h!==null){var k={payload:O,action:h,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(J){k.listeners.push(J)}};fn.T!==null?x(!0):k.isTransition=!1,T(k),x=d.pending,x===null?(k.next=d.pending=k,vn(d,k)):(k.next=x.next,d.pending=x.next=k)}}function vn(h,d){var x=d.action,T=d.payload,O=h.state;if(d.isTransition){var k=fn.T,J={};fn.T=J;try{var ve=x(O,T),Re=fn.S;Re!==null&&Re(J,ve),oi(h,d,ve)}catch(tt){qn(h,d,tt)}finally{fn.T=k}}else try{k=x(O,T),oi(h,d,k)}catch(tt){qn(h,d,tt)}}function oi(h,d,x){x!==null&&typeof x=="object"&&typeof x.then=="function"?x.then(function(T){An(h,d,T)},function(T){return qn(h,d,T)}):An(h,d,x)}function An(h,d,x){d.status="fulfilled",d.value=x,yn(d),h.state=x,d=h.pending,d!==null&&(x=d.next,x===d?h.pending=null:(x=x.next,d.next=x,vn(h,x)))}function qn(h,d,x){var T=h.pending;if(h.pending=null,T!==null){T=T.next;do d.status="rejected",d.reason=x,yn(d),d=d.next;while(d!==T)}h.action=null}function yn(h){h=h.listeners;for(var d=0;d<h.length;d++)(0,h[d])()}function $t(h,d){return d}function hi(h,d){if(Yn){var x=ui.formState;if(x!==null){e:{var T=Cn;if(Yn){if(Vr){var O=Ev(Vr,Tr);if(O){Vr=Mv(O),T=s1(O);break e}}_e(T)}T=!1}T&&(d=x[0])}}x=oe(),x.memoizedState=x.baseState=d,T={pending:null,lanes:0,dispatch:null,lastRenderedReducer:$t,lastRenderedState:d},x.queue=T,x=Ig.bind(null,Cn,T),T.dispatch=x,T=Ht(!1);var k=Ku.bind(null,Cn,!1,T.queue);return T=oe(),O={state:d,dispatch:null,action:h,pending:null},T.queue=O,x=Gn.bind(null,Cn,O,k,x),O.dispatch=x,T.memoizedState=h,[d,x,!1]}function Di(h){var d=he();return In(d,on,h)}function In(h,d,x){d=Qe(h,d,$t)[0],h=Je(Fe)[0],d=typeof d=="object"&&d!==null&&typeof d.then=="function"?pe(d):d;var T=he(),O=T.queue,k=O.dispatch;return x!==T.memoizedState&&(Cn.flags|=2048,dr(9,wi.bind(null,O,x),{destroy:void 0},null)),[d,k,h]}function wi(h,d){h.action=d}function Yc(h){var d=he(),x=on;if(x!==null)return In(d,x,h);he(),d=d.memoizedState,x=he();var T=x.queue.dispatch;return x.memoizedState=h,[d,T,!1]}function dr(h,d,x,T){return h={tag:h,create:d,inst:x,deps:T,next:null},d=Cn.updateQueue,d===null&&(d=wm(),Cn.updateQueue=d),x=d.lastEffect,x===null?d.lastEffect=h.next=h:(T=x.next,x.next=h,h.next=T,d.lastEffect=h),h}function mx(){return he().memoizedState}function Oh(h,d,x,T){var O=oe();Cn.flags|=h,O.memoizedState=dr(1|d,x,{destroy:void 0},T===void 0?null:T)}function Nh(h,d,x,T){var O=he();T=T===void 0?null:T;var k=O.memoizedState.inst;on!==null&&T!==null&&W(T,on.memoizedState.deps)?O.memoizedState=dr(d,x,k,T):(Cn.flags|=h,O.memoizedState=dr(1|d,x,k,T))}function Lp(h,d){Oh(8390656,8,h,d)}function Ng(h,d){Nh(2048,8,h,d)}function gx(h,d){return Nh(4,2,h,d)}function Ph(h,d){return Nh(4,4,h,d)}function Up(h,d){if(typeof d=="function"){h=h();var x=d(h);return function(){typeof x=="function"?x():d(null)}}if(d!=null)return h=h(),d.current=h,function(){d.current=null}}function Ip(h,d,x){x=x!=null?x.concat([h]):null,Nh(4,4,Up.bind(null,d,h),x)}function Hl(){}function Zc(h,d){var x=he();d=d===void 0?null:d;var T=x.memoizedState;return d!==null&&W(d,T[1])?T[0]:(x.memoizedState=[h,d],h)}function Pg(h,d){var x=he();d=d===void 0?null:d;var T=x.memoizedState;if(d!==null&&W(d,T[1]))return T[0];if(T=h(),pc){Y(!0);try{h()}finally{Y(!1)}}return x.memoizedState=[T,d],T}function Lh(h,d,x){return x===void 0||(xl&1073741824)!==0?h.memoizedState=d:(h.memoizedState=x,h=tv(),Cn.lanes|=h,ts|=h,x)}function Lg(h,d,x,T){return Ra(x,d)?x:Mi.current!==null?(h=Lh(h,x,T),Ra(h,d)||(_i=!0),h):(xl&42)===0?(_i=!0,h.memoizedState=x):(h=tv(),Cn.lanes|=h,ts|=h,d)}function Yu(h,d,x,T,O){var k=ml();Kr(k!==0&&8>k?k:8);var J=fn.T,ve={};fn.T=ve,Ku(h,!1,d,x);try{var Re=O(),tt=fn.S;if(tt!==null&&tt(ve,Re),Re!==null&&typeof Re=="object"&&typeof Re.then=="function"){var Mt=ht(Re,T);Vl(h,d,Mt,Zi(h))}else Vl(h,d,T,Zi(h))}catch(Nt){Vl(h,d,{then:function(){},status:"rejected",reason:Nt},Zi())}finally{Kr(k),fn.T=J}}function So(h){var d=h.memoizedState;if(d!==null)return d;d={memoizedState:rc,baseState:rc,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Fe,lastRenderedState:rc},next:null};var x={};return d.next={memoizedState:x,baseState:x,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Fe,lastRenderedState:x},next:null},h.memoizedState=d,h=h.alternate,h!==null&&(h.memoizedState=d),d}function Uh(){return Ir(Zs)}function Zu(){return he().memoizedState}function el(){return he().memoizedState}function Ug(h){for(var d=h.return;d!==null;){switch(d.tag){case 24:case 3:var x=Zi();h=it(x);var T=ct(d,h,x);T!==null&&(Er(T,d,x),zt(T,d,x)),d={cache:Xl()},h.payload=d;return}d=d.return}}function Bp(h,d,x){var T=Zi();x={lane:T,revertLane:0,action:x,hasEagerState:!1,eagerState:null,next:null},Ih(h)?oa(d,x):(x=Ye(h,d,x,T),x!==null&&(Er(x,h,T),jl(x,d,T)))}function Ig(h,d,x){var T=Zi();Vl(h,d,x,T)}function Vl(h,d,x,T){var O={lane:T,revertLane:0,action:x,hasEagerState:!1,eagerState:null,next:null};if(Ih(h))oa(d,O);else{var k=h.alternate;if(h.lanes===0&&(k===null||k.lanes===0)&&(k=d.lastRenderedReducer,k!==null))try{var J=d.lastRenderedState,ve=k(J,x);if(O.hasEagerState=!0,O.eagerState=ve,Ra(ve,J))return De(h,d,O,0),ui===null&&be(),!1}catch{}finally{}if(x=Ye(h,d,O,T),x!==null)return Er(x,h,T),jl(x,d,T),!0}return!1}function Ku(h,d,x,T){if(T={lane:2,revertLane:ze(),action:T,hasEagerState:!1,eagerState:null,next:null},Ih(h)){if(d)throw Error(r(479))}else d=Ye(h,x,T,2),d!==null&&Er(d,h,2)}function Ih(h){var d=h.alternate;return h===Cn||d!==null&&d===Cn}function oa(h,d){hu=Ds=!0;var x=h.pending;x===null?d.next=d:(d.next=x.next,x.next=d),h.pending=d}function jl(h,d,x){if((x&4194176)!==0){var T=d.lanes;T&=h.pendingLanes,x|=T,d.lanes=x,ae(h,x)}}function $u(h,d,x,T){d=h.memoizedState,x=x(T,d),x=x==null?d:nm({},d,x),h.memoizedState=x,h.lanes===0&&(h.updateQueue.baseState=x)}function Ju(h,d,x,T,O,k,J){return h=h.stateNode,typeof h.shouldComponentUpdate=="function"?h.shouldComponentUpdate(T,k,J):d.prototype&&d.prototype.isPureReactComponent?!dt(x,T)||!dt(O,k):!0}function vx(h,d,x,T){h=d.state,typeof d.componentWillReceiveProps=="function"&&d.componentWillReceiveProps(x,T),typeof d.UNSAFE_componentWillReceiveProps=="function"&&d.UNSAFE_componentWillReceiveProps(x,T),d.state!==h&&No.enqueueReplaceState(d,d.state,null)}function tl(h,d){var x=d;if("ref"in d){x={};for(var T in d)T!=="ref"&&(x[T]=d[T])}if(h=h.defaultProps){x===d&&(x=nm({},x));for(var O in h)x[O]===void 0&&(x[O]=h[O])}return x}function Qu(h,d){try{var x=h.onUncaughtError;x(d.value,{componentStack:d.stack})}catch(T){setTimeout(function(){throw T})}}function ef(h,d,x){try{var T=h.onCaughtError;T(x.value,{componentStack:x.stack,errorBoundary:d.tag===1?d.stateNode:null})}catch(O){setTimeout(function(){throw O})}}function tf(h,d,x){return x=it(x),x.tag=3,x.payload={element:null},x.callback=function(){Qu(h,d)},x}function Bg(h){return h=it(h),h.tag=3,h}function yx(h,d,x,T){var O=x.type.getDerivedStateFromError;if(typeof O=="function"){var k=T.value;h.payload=function(){return O(k)},h.callback=function(){ef(d,x,T)}}var J=x.stateNode;J!==null&&typeof J.componentDidCatch=="function"&&(h.callback=function(){ef(d,x,T),typeof O!="function"&&(gc===null?gc=new Set([this]):gc.add(this));var ve=T.stack;this.componentDidCatch(T.value,{componentStack:ve!==null?ve:""})})}function $E(h,d,x,T,O){if(x.flags|=32768,T!==null&&typeof T=="object"&&typeof T.then=="function"){if(d=x.alternate,d!==null&&Fh(d,x,O,!0),x=Ka.current,x!==null){switch(x.tag){case 13:return yi===null?cl():x.alternate===null&&xi===0&&(xi=3),x.flags&=-257,x.flags|=65536,x.lanes=O,T===yd?x.flags|=16384:(d=x.updateQueue,d===null?x.updateQueue=new Set([T]):d.add(T),Jc(h,T,O)),!1;case 22:return x.flags|=65536,T===yd?x.flags|=16384:(d=x.updateQueue,d===null?(d={transitions:null,markerInstances:null,retryQueue:new Set([T])},x.updateQueue=d):(x=d.retryQueue,x===null?d.retryQueue=new Set([T]):x.add(T)),Jc(h,T,O)),!1}throw Error(r(435,x.tag))}return Jc(h,T,O),cl(),!1}if(Yn)return d=Ka.current,d!==null?((d.flags&65536)===0&&(d.flags|=256),d.flags|=65536,d.lanes=O,T!==md&&(h=Error(r(422),{cause:T}),ne(ye(h,x)))):(T!==md&&(d=Error(r(423),{cause:T}),ne(ye(d,x))),h=h.current.alternate,h.flags|=65536,O&=-O,h.lanes|=O,T=ye(T,x),O=tf(h.stateNode,T,O),Rt(h,O),xi!==4&&(xi=2)),!1;var k=Error(r(520),{cause:T});if(k=ye(k,x),mu===null?mu=[k]:mu.push(k),xi!==4&&(xi=2),d===null)return!0;T=ye(T,x),x=d;do{switch(x.tag){case 3:return x.flags|=65536,h=O&-O,x.lanes|=h,h=tf(x.stateNode,T,h),Rt(x,h),!1;case 1:if(d=x.type,k=x.stateNode,(x.flags&128)===0&&(typeof d.getDerivedStateFromError=="function"||k!==null&&typeof k.componentDidCatch=="function"&&(gc===null||!gc.has(k))))return x.flags|=65536,O&=-O,x.lanes|=O,O=Bg(O),yx(O,h,x,T),Rt(x,O),!1}x=x.return}while(x!==null);return!1}function Ur(h,d,x,T){d.child=h===null?Oo(d,null,x,T):dc(d,h.child,x,T)}function zp(h,d,x,T,O){x=x.render;var k=d.ref;if("ref"in T){var J={};for(var ve in T)ve!=="ref"&&(J[ve]=T[ve])}else J=T;return Wl(d),T=Z(h,d,x,J,k,O),ve=Ge(),h!==null&&!_i?(at(h,d,O),nl(h,d,O)):(Yn&&ve&&Se(d),d.flags|=1,Ur(h,d,T,O),d.child)}function _x(h,d,x,T,O){if(h===null){var k=x.type;return typeof k=="function"&&!Qh(k)&&k.defaultProps===void 0&&x.compare===null?(d.tag=15,d.type=k,xx(h,d,k,T,O)):(h=Mo(x.type,null,T,d,d.mode,O),h.ref=d.ref,h.return=d,d.child=h)}if(k=h.child,!Vg(h,O)){var J=k.memoizedProps;if(x=x.compare,x=x!==null?x:dt,x(J,T)&&h.ref===d.ref)return nl(h,d,O)}return d.flags|=1,h=ws(k,T),h.ref=d.ref,h.return=d,d.child=h}function xx(h,d,x,T,O){if(h!==null){var k=h.memoizedProps;if(dt(k,T)&&h.ref===d.ref)if(_i=!1,d.pendingProps=T=k,Vg(h,O))(h.flags&131072)!==0&&(_i=!0);else return d.lanes=h.lanes,nl(h,d,O)}return kp(h,d,x,T,O)}function bx(h,d,x){var T=d.pendingProps,O=T.children,k=(d.stateNode._pendingVisibility&2)!==0,J=h!==null?h.memoizedState:null;if(Bh(h,d),T.mode==="hidden"||k){if((d.flags&128)!==0){if(T=J!==null?J.baseLanes|x:x,h!==null){for(O=d.child=h.child,k=0;O!==null;)k=k|O.lanes|O.childLanes,O=O.sibling;d.childLanes=k&~T}else d.childLanes=0,d.child=null;return Sx(h,d,T,x)}if((x&536870912)!==0)d.memoizedState={baseLanes:0,cachePool:null},h!==null&&Hp(d,J!==null?J.cachePool:null),J!==null?xt(d,J):kt(),si(d);else return d.lanes=d.childLanes=536870912,Sx(h,d,J!==null?J.baseLanes|x:x,x)}else J!==null?(Hp(d,J.cachePool),xt(d,J),Qt(),d.memoizedState=null):(h!==null&&Hp(d,null),kt(),Qt());return Ur(h,d,O,x),d.child}function Sx(h,d,x,T){var O=Gg();return O=O===null?null:{parent:ua?Ti._currentValue:Ti._currentValue2,pool:O},d.memoizedState={baseLanes:x,cachePool:O},h!==null&&Hp(d,null),kt(),si(d),h!==null&&Fh(h,d,T,!0),null}function Bh(h,d){var x=d.ref;if(x===null)h!==null&&h.ref!==null&&(d.flags|=2097664);else{if(typeof x!="function"&&typeof x!="object")throw Error(r(284));(h===null||h.ref!==x)&&(d.flags|=2097664)}}function kp(h,d,x,T,O){return Wl(d),x=Z(h,d,x,T,void 0,O),T=Ge(),h!==null&&!_i?(at(h,d,O),nl(h,d,O)):(Yn&&T&&Se(d),d.flags|=1,Ur(h,d,x,O),d.child)}function wx(h,d,x,T,O,k){return Wl(d),d.updateQueue=null,x=Te(d,T,x,O),ge(h),T=Ge(),h!==null&&!_i?(at(h,d,k),nl(h,d,k)):(Yn&&T&&Se(d),d.flags|=1,Ur(h,d,x,k),d.child)}function Ex(h,d,x,T,O){if(Wl(d),d.stateNode===null){var k=lc,J=x.contextType;typeof J=="object"&&J!==null&&(k=Ir(J)),k=new x(T,k),d.memoizedState=k.state!==null&&k.state!==void 0?k.state:null,k.updater=No,d.stateNode=k,k._reactInternals=d,k=d.stateNode,k.props=T,k.state=d.memoizedState,k.refs={},Dt(d),J=x.contextType,k.context=typeof J=="object"&&J!==null?Ir(J):lc,k.state=d.memoizedState,J=x.getDerivedStateFromProps,typeof J=="function"&&($u(d,x,J,T),k.state=d.memoizedState),typeof x.getDerivedStateFromProps=="function"||typeof k.getSnapshotBeforeUpdate=="function"||typeof k.UNSAFE_componentWillMount!="function"&&typeof k.componentWillMount!="function"||(J=k.state,typeof k.componentWillMount=="function"&&k.componentWillMount(),typeof k.UNSAFE_componentWillMount=="function"&&k.UNSAFE_componentWillMount(),J!==k.state&&No.enqueueReplaceState(k,k.state,null),Ut(d,T,k,O),ft(),k.state=d.memoizedState),typeof k.componentDidMount=="function"&&(d.flags|=4194308),T=!0}else if(h===null){k=d.stateNode;var ve=d.memoizedProps,Re=tl(x,ve);k.props=Re;var tt=k.context,Mt=x.contextType;J=lc,typeof Mt=="object"&&Mt!==null&&(J=Ir(Mt));var Nt=x.getDerivedStateFromProps;Mt=typeof Nt=="function"||typeof k.getSnapshotBeforeUpdate=="function",ve=d.pendingProps!==ve,Mt||typeof k.UNSAFE_componentWillReceiveProps!="function"&&typeof k.componentWillReceiveProps!="function"||(ve||tt!==J)&&vx(d,k,T,J),_l=!1;var Bt=d.memoizedState;k.state=Bt,Ut(d,T,k,O),ft(),tt=d.memoizedState,ve||Bt!==tt||_l?(typeof Nt=="function"&&($u(d,x,Nt,T),tt=d.memoizedState),(Re=_l||Ju(d,x,Re,T,Bt,tt,J))?(Mt||typeof k.UNSAFE_componentWillMount!="function"&&typeof k.componentWillMount!="function"||(typeof k.componentWillMount=="function"&&k.componentWillMount(),typeof k.UNSAFE_componentWillMount=="function"&&k.UNSAFE_componentWillMount()),typeof k.componentDidMount=="function"&&(d.flags|=4194308)):(typeof k.componentDidMount=="function"&&(d.flags|=4194308),d.memoizedProps=T,d.memoizedState=tt),k.props=T,k.state=tt,k.context=J,T=Re):(typeof k.componentDidMount=="function"&&(d.flags|=4194308),T=!1)}else{k=d.stateNode,wt(h,d),J=d.memoizedProps,Mt=tl(x,J),k.props=Mt,Nt=d.pendingProps,Bt=k.context,tt=x.contextType,Re=lc,typeof tt=="object"&&tt!==null&&(Re=Ir(tt)),ve=x.getDerivedStateFromProps,(tt=typeof ve=="function"||typeof k.getSnapshotBeforeUpdate=="function")||typeof k.UNSAFE_componentWillReceiveProps!="function"&&typeof k.componentWillReceiveProps!="function"||(J!==Nt||Bt!==Re)&&vx(d,k,T,Re),_l=!1,Bt=d.memoizedState,k.state=Bt,Ut(d,T,k,O),ft();var xn=d.memoizedState;J!==Nt||Bt!==xn||_l||h!==null&&h.dependencies!==null&&Hh(h.dependencies)?(typeof ve=="function"&&($u(d,x,ve,T),xn=d.memoizedState),(Mt=_l||Ju(d,x,Mt,T,Bt,xn,Re)||h!==null&&h.dependencies!==null&&Hh(h.dependencies))?(tt||typeof k.UNSAFE_componentWillUpdate!="function"&&typeof k.componentWillUpdate!="function"||(typeof k.componentWillUpdate=="function"&&k.componentWillUpdate(T,xn,Re),typeof k.UNSAFE_componentWillUpdate=="function"&&k.UNSAFE_componentWillUpdate(T,xn,Re)),typeof k.componentDidUpdate=="function"&&(d.flags|=4),typeof k.getSnapshotBeforeUpdate=="function"&&(d.flags|=1024)):(typeof k.componentDidUpdate!="function"||J===h.memoizedProps&&Bt===h.memoizedState||(d.flags|=4),typeof k.getSnapshotBeforeUpdate!="function"||J===h.memoizedProps&&Bt===h.memoizedState||(d.flags|=1024),d.memoizedProps=T,d.memoizedState=xn),k.props=T,k.state=xn,k.context=Re,T=Mt):(typeof k.componentDidUpdate!="function"||J===h.memoizedProps&&Bt===h.memoizedState||(d.flags|=4),typeof k.getSnapshotBeforeUpdate!="function"||J===h.memoizedProps&&Bt===h.memoizedState||(d.flags|=1024),T=!1)}return k=T,Bh(h,d),T=(d.flags&128)!==0,k||T?(k=d.stateNode,x=T&&typeof x.getDerivedStateFromError!="function"?null:k.render(),d.flags|=1,h!==null&&T?(d.child=dc(d,h.child,null,O),d.child=dc(d,null,x,O)):Ur(h,d,x,O),d.memoizedState=k.state,h=d.child):h=nl(h,d,O),h}function Mx(h,d,x,T){return pt(),d.flags|=256,Ur(h,d,x,T),d.child}function zg(h){return{baseLanes:h,cachePool:Wg()}}function zh(h,d,x){return h=h!==null?h.childLanes&~x:0,d&&(h|=ns),h}function Tx(h,d,x){var T=d.pendingProps,O=!1,k=(d.flags&128)!==0,J;if((J=k)||(J=h!==null&&h.memoizedState===null?!1:(gr.current&2)!==0),J&&(O=!0,d.flags&=-129),J=(d.flags&32)!==0,d.flags&=-33,h===null){if(Yn){if(O?Zt(d):Qt(),Yn){var ve=Vr,Re;(Re=ve)&&(ve=c1(ve,Tr),ve!==null?(d.memoizedState={dehydrated:ve,treeContext:cc!==null?{id:$s,overflow:Js}:null,retryLane:536870912},Re=t(18,null,null,0),Re.stateNode=ve,Re.return=d,d.child=Re,Hr=d,Vr=null,Re=!0):Re=!1),Re||_e(d)}if(ve=d.memoizedState,ve!==null&&(ve=ve.dehydrated,ve!==null))return hm(ve)?d.lanes=16:d.lanes=536870912,null;It(d)}return ve=T.children,T=T.fallback,O?(Qt(),O=d.mode,ve=Fg({mode:"hidden",children:ve},O),T=Vi(T,O,x,null),ve.return=d,T.return=d,ve.sibling=T,d.child=ve,O=d.child,O.memoizedState=zg(x),O.childLanes=zh(h,J,x),d.memoizedState=Tm,T):(Zt(d),kg(d,ve))}if(Re=h.memoizedState,Re!==null&&(ve=Re.dehydrated,ve!==null)){if(k)d.flags&256?(Zt(d),d.flags&=-257,d=Fp(h,d,x)):d.memoizedState!==null?(Qt(),d.child=h.child,d.flags|=128,d=null):(Qt(),O=T.fallback,ve=d.mode,T=Fg({mode:"visible",children:T.children},ve),O=Vi(O,ve,x,null),O.flags|=2,T.return=d,O.return=d,T.sibling=O,d.child=T,dc(d,h.child,null,x),T=d.child,T.memoizedState=zg(x),T.childLanes=zh(h,J,x),d.memoizedState=Tm,d=O);else if(Zt(d),hm(ve))J=r1(ve).digest,T=Error(r(419)),T.stack="",T.digest=J,ne({value:T,source:null,stack:null}),d=Fp(h,d,x);else if(_i||Fh(h,d,x,!1),J=(x&h.childLanes)!==0,_i||J){if(J=ui,J!==null){if(T=x&-x,(T&42)!==0)T=1;else switch(T){case 2:T=1;break;case 8:T=4;break;case 32:T=16;break;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:T=64;break;case 268435456:T=134217728;break;default:T=0}if(T=(T&(J.suspendedLanes|x))!==0?0:T,T!==0&&T!==Re.retryLane)throw Re.retryLane=T,re(h,T),Er(J,h,T),Mm}fm(ve)||cl(),d=Fp(h,d,x)}else fm(ve)?(d.flags|=128,d.child=h.child,d=ul.bind(null,h),a1(ve,d),d=null):(h=Re.treeContext,Fr&&(Vr=l1(ve),Hr=d,Yn=!0,Cs=null,Tr=!1,h!==null&&(qa[Ya++]=$s,qa[Ya++]=Js,qa[Ya++]=cc,$s=h.id,Js=h.overflow,cc=d)),d=kg(d,T.children),d.flags|=4096);return d}return O?(Qt(),O=T.fallback,ve=d.mode,Re=h.child,k=Re.sibling,T=ws(Re,{mode:"hidden",children:T.children}),T.subtreeFlags=Re.subtreeFlags&31457280,k!==null?O=ws(k,O):(O=Vi(O,ve,x,null),O.flags|=2),O.return=d,T.return=d,T.sibling=O,d.child=T,T=O,O=d.child,ve=h.child.memoizedState,ve===null?ve=zg(x):(Re=ve.cachePool,Re!==null?(k=ua?Ti._currentValue:Ti._currentValue2,Re=Re.parent!==k?{parent:k,pool:k}:Re):Re=Wg(),ve={baseLanes:ve.baseLanes|x,cachePool:Re}),O.memoizedState=ve,O.childLanes=zh(h,J,x),d.memoizedState=Tm,T):(Zt(d),x=h.child,h=x.sibling,x=ws(x,{mode:"visible",children:T.children}),x.return=d,x.sibling=null,h!==null&&(J=d.deletions,J===null?(d.deletions=[h],d.flags|=16):J.push(h)),d.child=x,d.memoizedState=null,x)}function kg(h,d){return d=Fg({mode:"visible",children:d},h.mode),d.return=h,h.child=d}function Fg(h,d){return td(h,d,0,null)}function Fp(h,d,x){return dc(d,h.child,null,x),h=kg(d,d.pendingProps.children),h.flags|=2,d.memoizedState=null,h}function Ax(h,d,x){h.lanes|=d;var T=h.alternate;T!==null&&(T.lanes|=d),kh(h.return,d,x)}function Hg(h,d,x,T,O){var k=h.memoizedState;k===null?h.memoizedState={isBackwards:d,rendering:null,renderingStartTime:0,last:T,tail:x,tailMode:O}:(k.isBackwards=d,k.rendering=null,k.renderingStartTime=0,k.last=T,k.tail=x,k.tailMode=O)}function Cx(h,d,x){var T=d.pendingProps,O=T.revealOrder,k=T.tail;if(Ur(h,d,T.children,x),T=gr.current,(T&2)!==0)T=T&1|2,d.flags|=128;else{if(h!==null&&(h.flags&128)!==0)e:for(h=d.child;h!==null;){if(h.tag===13)h.memoizedState!==null&&Ax(h,x,d);else if(h.tag===19)Ax(h,x,d);else if(h.child!==null){h.child.return=h,h=h.child;continue}if(h===d)break e;for(;h.sibling===null;){if(h.return===null||h.return===d)break e;h=h.return}h.sibling.return=h.return,h=h.sibling}T&=1}switch(R(gr,T),O){case"forwards":for(x=d.child,O=null;x!==null;)h=x.alternate,h!==null&&Zn(h)===null&&(O=x),x=x.sibling;x=O,x===null?(O=d.child,d.child=null):(O=x.sibling,x.sibling=null),Hg(d,!1,O,x,k);break;case"backwards":for(x=null,O=d.child,d.child=null;O!==null;){if(h=O.alternate,h!==null&&Zn(h)===null){d.child=O;break}h=O.sibling,O.sibling=x,x=O,O=h}Hg(d,!0,x,null,k);break;case"together":Hg(d,!1,null,null,void 0);break;default:d.memoizedState=null}return d.child}function nl(h,d,x){if(h!==null&&(d.dependencies=h.dependencies),ts|=d.lanes,(x&d.childLanes)===0)if(h!==null){if(Fh(h,d,x,!1),(x&d.childLanes)===0)return null}else return null;if(h!==null&&d.child!==h.child)throw Error(r(153));if(d.child!==null){for(h=d.child,x=ws(h,h.pendingProps),d.child=x,x.return=d;h.sibling!==null;)h=h.sibling,x=x.sibling=ws(h,h.pendingProps),x.return=d;x.sibling=null}return d.child}function Vg(h,d){return(h.lanes&d)!==0?!0:(h=h.dependencies,!!(h!==null&&Hh(h)))}function JE(h,d,x){switch(d.tag){case 3:ke(d,d.stateNode.containerInfo),Gl(d,Ti,h.memoizedState.cache),pt();break;case 27:case 5:ee(d);break;case 4:ke(d,d.stateNode.containerInfo);break;case 10:Gl(d,d.type,d.memoizedProps.value);break;case 13:var T=d.memoizedState;if(T!==null)return T.dehydrated!==null?(Zt(d),d.flags|=128,null):(x&d.child.childLanes)!==0?Tx(h,d,x):(Zt(d),h=nl(h,d,x),h!==null?h.sibling:null);Zt(d);break;case 19:var O=(h.flags&128)!==0;if(T=(x&d.childLanes)!==0,T||(Fh(h,d,x,!1),T=(x&d.childLanes)!==0),O){if(T)return Cx(h,d,x);d.flags|=128}if(O=d.memoizedState,O!==null&&(O.rendering=null,O.tail=null,O.lastEffect=null),R(gr,gr.current),T)break;return null;case 22:case 23:return d.lanes=0,bx(h,d,x);case 24:Gl(d,Ti,h.memoizedState.cache)}return nl(h,d,x)}function Rx(h,d,x){if(h!==null)if(h.memoizedProps!==d.pendingProps)_i=!0;else{if(!Vg(h,x)&&(d.flags&128)===0)return _i=!1,JE(h,d,x);_i=(h.flags&131072)!==0}else _i=!1,Yn&&(d.flags&1048576)!==0&&fe(d,wf,d.index);switch(d.lanes=0,d.tag){case 16:e:{h=d.pendingProps;var T=d.elementType,O=T._init;if(T=O(T._payload),d.type=T,typeof T=="function")Qh(T)?(h=tl(T,h),d.tag=1,d=Ex(null,d,T,h,x)):(d.tag=0,d=kp(null,d,T,h,x));else{if(T!=null){if(O=T.$$typeof,O===sd){d.tag=11,d=zp(null,d,T,h,x);break e}else if(O===am){d.tag=14,d=_x(null,d,T,h,x);break e}}throw d=s(T)||T,Error(r(306,d,""))}}return d;case 0:return kp(h,d,d.type,d.pendingProps,x);case 1:return T=d.type,O=tl(T,d.pendingProps),Ex(h,d,T,O,x);case 3:e:{if(ke(d,d.stateNode.containerInfo),h===null)throw Error(r(387));var k=d.pendingProps;O=d.memoizedState,T=O.element,wt(h,d),Ut(d,k,null,x);var J=d.memoizedState;if(k=J.cache,Gl(d,Ti,k),k!==O.cache&&Kc(d,[Ti],x,!0),ft(),k=J.element,Fr&&O.isDehydrated)if(O={element:k,isDehydrated:!1,cache:J.cache},d.updateQueue.baseState=O,d.memoizedState=O,d.flags&256){d=Mx(h,d,k,x);break e}else if(k!==T){T=ye(Error(r(424)),d),ne(T),d=Mx(h,d,k,x);break e}else for(Fr&&(Vr=o1(d.stateNode.containerInfo),Hr=d,Yn=!0,Cs=null,Tr=!0),x=Oo(d,null,k,x),d.child=x;x;)x.flags=x.flags&-3|4096,x=x.sibling;else{if(pt(),k===T){d=nl(h,d,x);break e}Ur(h,d,k,x)}d=d.child}return d;case 26:if(Xa)return Bh(h,d),h===null?(x=Cv(d.type,null,d.pendingProps,null))?d.memoizedState=x:Yn||(d.stateNode=vm(d.type,d.pendingProps,Ro.current,d)):d.memoizedState=Cv(d.type,h.memoizedProps,d.pendingProps,h.memoizedState),null;case 27:if(vi)return ee(d),h===null&&vi&&Yn&&(T=d.stateNode=Ks(d.type,d.pendingProps,Ro.current,mr.current,!1),Hr=d,Tr=!0,Vr=dm(T)),T=d.pendingProps.children,h!==null||Yn?Ur(h,d,T,x):d.child=dc(d,null,T,x),Bh(h,d),d.child;case 5:return h===null&&Yn&&(mm(d.type,d.pendingProps,mr.current),(O=T=Vr)&&(T=a2(T,d.type,d.pendingProps,Tr),T!==null?(d.stateNode=T,Hr=d,Vr=dm(T),Tr=!1,O=!0):O=!1),O||_e(d)),ee(d),O=d.type,k=d.pendingProps,J=h!==null?h.memoizedProps:null,T=k.children,wn(O,k)?T=null:J!==null&&wn(O,J)&&(d.flags|=32),d.memoizedState!==null&&(O=Z(h,d,Pe,null,null,x),ua?Zs._currentValue=O:Zs._currentValue2=O),Bh(h,d),Ur(h,d,T,x),d.child;case 6:return h===null&&Yn&&(p1(d.pendingProps,mr.current),(h=x=Vr)&&(x=Tv(x,d.pendingProps,Tr),x!==null?(d.stateNode=x,Hr=d,Vr=null,h=!0):h=!1),h||_e(d)),null;case 13:return Tx(h,d,x);case 4:return ke(d,d.stateNode.containerInfo),T=d.pendingProps,h===null?d.child=dc(d,null,T,x):Ur(h,d,T,x),d.child;case 11:return zp(h,d,d.type,d.pendingProps,x);case 7:return Ur(h,d,d.pendingProps,x),d.child;case 8:return Ur(h,d,d.pendingProps.children,x),d.child;case 12:return Ur(h,d,d.pendingProps.children,x),d.child;case 10:return T=d.pendingProps,Gl(d,d.type,T.value),Ur(h,d,T.children,x),d.child;case 9:return O=d.type._context,T=d.pendingProps.children,Wl(d),O=Ir(O),T=T(O),d.flags|=1,Ur(h,d,T,x),d.child;case 14:return _x(h,d,d.type,d.pendingProps,x);case 15:return xx(h,d,d.type,d.pendingProps,x);case 19:return Cx(h,d,x);case 22:return bx(h,d,x);case 24:return Wl(d),T=Ir(Ti),h===null?(O=Gg(),O===null&&(O=ui,k=Xl(),O.pooledCache=k,k.refCount++,k!==null&&(O.pooledCacheLanes|=x),O=k),d.memoizedState={parent:T,cache:O},Dt(d),Gl(d,Ti,O)):((h.lanes&x)!==0&&(wt(h,d),Ut(d,null,null,x),ft()),O=h.memoizedState,k=d.memoizedState,O.parent!==T?(O={parent:T,cache:T},d.memoizedState=O,d.lanes===0&&(d.memoizedState=d.updateQueue.baseState=O),Gl(d,Ti,T)):(T=k.cache,Gl(d,Ti,T),T!==O.cache&&Kc(d,[Ti],x,!0))),Ur(h,d,d.pendingProps.children,x),d.child;case 29:throw d.pendingProps}throw Error(r(156,d.tag))}function Gl(h,d,x){ua?(R(bl,d._currentValue),d._currentValue=x):(R(bl,d._currentValue2),d._currentValue2=x)}function il(h){var d=bl.current;ua?h._currentValue=d:h._currentValue2=d,b(bl)}function kh(h,d,x){for(;h!==null;){var T=h.alternate;if((h.childLanes&d)!==d?(h.childLanes|=d,T!==null&&(T.childLanes|=d)):T!==null&&(T.childLanes&d)!==d&&(T.childLanes|=d),h===x)break;h=h.return}}function Kc(h,d,x,T){var O=h.child;for(O!==null&&(O.return=h);O!==null;){var k=O.dependencies;if(k!==null){var J=O.child;k=k.firstContext;e:for(;k!==null;){var ve=k;k=O;for(var Re=0;Re<d.length;Re++)if(ve.context===d[Re]){k.lanes|=x,ve=k.alternate,ve!==null&&(ve.lanes|=x),kh(k.return,x,h),T||(J=null);break e}k=ve.next}}else if(O.tag===18){if(J=O.return,J===null)throw Error(r(341));J.lanes|=x,k=J.alternate,k!==null&&(k.lanes|=x),kh(J,x,h),J=null}else J=O.child;if(J!==null)J.return=O;else for(J=O;J!==null;){if(J===h){J=null;break}if(O=J.sibling,O!==null){O.return=J.return,J=O;break}J=J.return}O=J}}function Fh(h,d,x,T){h=null;for(var O=d,k=!1;O!==null;){if(!k){if((O.flags&524288)!==0)k=!0;else if((O.flags&262144)!==0)break}if(O.tag===10){var J=O.alternate;if(J===null)throw Error(r(387));if(J=J.memoizedProps,J!==null){var ve=O.type;Ra(O.pendingProps.value,J.value)||(h!==null?h.push(ve):h=[ve])}}else if(O===su.current){if(J=O.alternate,J===null)throw Error(r(387));J.memoizedState.memoizedState!==O.memoizedState.memoizedState&&(h!==null?h.push(Zs):h=[Zs])}O=O.return}h!==null&&Kc(d,h,x,T),d.flags|=262144}function Hh(h){for(h=h.firstContext;h!==null;){var d=h.context;if(!Ra(ua?d._currentValue:d._currentValue2,h.memoizedValue))return!0;h=h.next}return!1}function Wl(h){to=h,Ja=null,h=h.dependencies,h!==null&&(h.firstContext=null)}function Ir(h){return jg(to,h)}function Vh(h,d){return to===null&&Wl(h),jg(h,d)}function jg(h,d){var x=ua?d._currentValue:d._currentValue2;if(d={context:d,memoizedValue:x,next:null},Ja===null){if(h===null)throw Error(r(308));Ja=d,h.dependencies={lanes:0,firstContext:d},h.flags|=524288}else Ja=Ja.next=d;return x}function Xl(){return{controller:new Rf,data:new Map,refCount:0}}function jh(h){h.refCount--,h.refCount===0&&M1(T1,function(){h.controller.abort()})}function Gg(){var h=Po.current;return h!==null?h:ui.pooledCache}function Hp(h,d){d===null?R(Po,Po.current):R(Po,d.pool)}function Wg(){var h=Gg();return h===null?null:{parent:ua?Ti._currentValue:Ti._currentValue2,pool:h}}function Sa(h){h.flags|=4}function nf(h,d){if(h!==null&&h.child===d.child)return!1;if((d.flags&16)!==0)return!0;for(h=d.child;h!==null;){if((h.flags&13878)!==0||(h.subtreeFlags&13878)!==0)return!0;h=h.sibling}return!1}function $c(h,d,x,T){if(pr)for(x=d.child;x!==null;){if(x.tag===5||x.tag===6)ld(h,x.stateNode);else if(!(x.tag===4||vi&&x.tag===27)&&x.child!==null){x.child.return=x,x=x.child;continue}if(x===d)break;for(;x.sibling===null;){if(x.return===null||x.return===d)return;x=x.return}x.sibling.return=x.return,x=x.sibling}else if(Ts)for(var O=d.child;O!==null;){if(O.tag===5){var k=O.stateNode;x&&T&&(k=Sv(k,O.type,O.memoizedProps)),ld(h,k)}else if(O.tag===6)k=O.stateNode,x&&T&&(k=wv(k,O.memoizedProps)),ld(h,k);else if(O.tag!==4){if(O.tag===22&&O.memoizedState!==null)k=O.child,k!==null&&(k.return=O),$c(h,O,!0,!0);else if(O.child!==null){O.child.return=O,O=O.child;continue}}if(O===d)break;for(;O.sibling===null;){if(O.return===null||O.return===d)return;O=O.return}O.sibling.return=O.return,O=O.sibling}}function Dx(h,d,x,T){if(Ts)for(var O=d.child;O!==null;){if(O.tag===5){var k=O.stateNode;x&&T&&(k=Sv(k,O.type,O.memoizedProps)),bv(h,k)}else if(O.tag===6)k=O.stateNode,x&&T&&(k=wv(k,O.memoizedProps)),bv(h,k);else if(O.tag!==4){if(O.tag===22&&O.memoizedState!==null)k=O.child,k!==null&&(k.return=O),Dx(h,O,!(O.memoizedProps!==null&&O.memoizedProps.mode==="manual"),!0);else if(O.child!==null){O.child.return=O,O=O.child;continue}}if(O===d)break;for(;O.sibling===null;){if(O.return===null||O.return===d)return;O=O.return}O.sibling.return=O.return,O=O.sibling}}function Gh(h,d){if(Ts&&nf(h,d)){h=d.stateNode;var x=h.containerInfo,T=cd();Dx(T,d,!1,!1),h.pendingChildren=T,Sa(d),um(x,T)}}function Vp(h,d,x,T){if(pr)h.memoizedProps!==T&&Sa(d);else if(Ts){var O=h.stateNode,k=h.memoizedProps;if((h=nf(h,d))||k!==T){var J=mr.current;k=xf(O,x,k,T,!h,null),k===O?d.stateNode=O:(pl(k,x,T,J)&&Sa(d),d.stateNode=k,h?$c(k,d,!1,!1):Sa(d))}else d.stateNode=O}}function jp(h,d,x){if(dv(d,x)){if(h.flags|=16777216,!lm(d,x))if(Jl())h.flags|=8192;else throw uc=yd,vd}else h.flags&=-16777217}function Gp(h,d){if(v1(d)){if(h.flags|=16777216,!tu(d))if(Jl())h.flags|=8192;else throw uc=yd,vd}else h.flags&=-16777217}function rf(h,d){d!==null&&(h.flags|=4),h.flags&16384&&(d=h.tag!==22?P():536870912,h.lanes|=d,Io|=d)}function af(h,d){if(!Yn)switch(h.tailMode){case"hidden":d=h.tail;for(var x=null;d!==null;)d.alternate!==null&&(x=d),d=d.sibling;x===null?h.tail=null:x.sibling=null;break;case"collapsed":x=h.tail;for(var T=null;x!==null;)x.alternate!==null&&(T=x),x=x.sibling;T===null?d||h.tail===null?h.tail=null:h.tail.sibling=null:T.sibling=null}}function Ui(h){var d=h.alternate!==null&&h.alternate.child===h.child,x=0,T=0;if(d)for(var O=h.child;O!==null;)x|=O.lanes|O.childLanes,T|=O.subtreeFlags&31457280,T|=O.flags&31457280,O.return=h,O=O.sibling;else for(O=h.child;O!==null;)x|=O.lanes|O.childLanes,T|=O.subtreeFlags,T|=O.flags,O.return=h,O=O.sibling;return h.subtreeFlags|=T,h.childLanes=x,d}function Ox(h,d,x){var T=d.pendingProps;switch(Ce(d),d.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ui(d),null;case 1:return Ui(d),null;case 3:return x=d.stateNode,T=null,h!==null&&(T=h.memoizedState.cache),d.memoizedState.cache!==T&&(d.flags|=2048),il(Ti),we(),x.pendingContext&&(x.context=x.pendingContext,x.pendingContext=null),(h===null||h.child===null)&&(gt(d)?Sa(d):h===null||h.memoizedState.isDehydrated&&(d.flags&256)===0||(d.flags|=1024,Cs!==null&&($h(Cs),Cs=null))),Gh(h,d),Ui(d),null;case 26:if(Xa){x=d.type;var O=d.memoizedState;return h===null?(Sa(d),O!==null?(Ui(d),Gp(d,O)):(Ui(d),jp(d,x,T))):O?O!==h.memoizedState?(Sa(d),Ui(d),Gp(d,O)):(Ui(d),d.flags&=-16777217):(pr?h.memoizedProps!==T&&Sa(d):Vp(h,d,x,T),Ui(d),jp(d,x,T)),null}case 27:if(vi){if(ie(d),x=Ro.current,O=d.type,h!==null&&d.stateNode!=null)pr?h.memoizedProps!==T&&Sa(d):Vp(h,d,O,T);else{if(!T){if(d.stateNode===null)throw Error(r(166));return Ui(d),null}h=mr.current,gt(d)?Be(d,h):(h=Ks(O,T,x,h,!0),d.stateNode=h,Sa(d))}return Ui(d),null}case 5:if(ie(d),x=d.type,h!==null&&d.stateNode!=null)Vp(h,d,x,T);else{if(!T){if(d.stateNode===null)throw Error(r(166));return Ui(d),null}h=mr.current,gt(d)?Be(d,h):(O=hv(x,T,Ro.current,h,d),$c(O,d,!1,!1),d.stateNode=O,pl(O,x,T,h)&&Sa(d))}return Ui(d),jp(d,d.type,d.pendingProps),null;case 6:if(h&&d.stateNode!=null)x=h.memoizedProps,pr?x!==T&&Sa(d):Ts&&(x!==T?(d.stateNode=di(T,Ro.current,mr.current,d),Sa(d)):d.stateNode=h.stateNode);else{if(typeof T!="string"&&d.stateNode===null)throw Error(r(166));if(h=Ro.current,x=mr.current,gt(d)){if(!Fr)throw Error(r(176));if(h=d.stateNode,x=d.memoizedProps,T=null,O=Hr,O!==null)switch(O.tag){case 27:case 5:T=O.memoizedProps}Av(h,x,d,T)||_e(d)}else d.stateNode=di(T,h,x,d)}return Ui(d),null;case 13:if(T=d.memoizedState,h===null||h.memoizedState!==null&&h.memoizedState.dehydrated!==null){if(O=gt(d),T!==null&&T.dehydrated!==null){if(h===null){if(!O)throw Error(r(318));if(!Fr)throw Error(r(344));if(O=d.memoizedState,O=O!==null?O.dehydrated:null,!O)throw Error(r(317));f1(O,d)}else pt(),(d.flags&128)===0&&(d.memoizedState=null),d.flags|=4;Ui(d),O=!1}else Cs!==null&&($h(Cs),Cs=null),O=!0;if(!O)return d.flags&256?(It(d),d):(It(d),null)}if(It(d),(d.flags&128)!==0)return d.lanes=x,d;if(x=T!==null,h=h!==null&&h.memoizedState!==null,x){T=d.child,O=null,T.alternate!==null&&T.alternate.memoizedState!==null&&T.alternate.memoizedState.cachePool!==null&&(O=T.alternate.memoizedState.cachePool.pool);var k=null;T.memoizedState!==null&&T.memoizedState.cachePool!==null&&(k=T.memoizedState.cachePool.pool),k!==O&&(T.flags|=2048)}return x!==h&&x&&(d.child.flags|=8192),rf(d,d.updateQueue),Ui(d),null;case 4:return we(),Gh(h,d),h===null&&Ki(d.stateNode.containerInfo),Ui(d),null;case 10:return il(d.type),Ui(d),null;case 19:if(b(gr),O=d.memoizedState,O===null)return Ui(d),null;if(T=(d.flags&128)!==0,k=O.rendering,k===null)if(T)af(O,!1);else{if(xi!==0||h!==null&&(h.flags&128)!==0)for(h=d.child;h!==null;){if(k=Zn(h),k!==null){for(d.flags|=128,af(O,!1),h=k.updateQueue,d.updateQueue=h,rf(d,h),d.subtreeFlags=0,h=x,x=d.child;x!==null;)ed(x,h),x=x.sibling;return R(gr,gr.current&1|2),d.child}h=h.sibling}O.tail!==null&&As()>Nf&&(d.flags|=128,T=!0,af(O,!1),d.lanes=4194304)}else{if(!T)if(h=Zn(k),h!==null){if(d.flags|=128,T=!0,h=h.updateQueue,d.updateQueue=h,rf(d,h),af(O,!0),O.tail===null&&O.tailMode==="hidden"&&!k.alternate&&!Yn)return Ui(d),null}else 2*As()-O.renderingStartTime>Nf&&x!==536870912&&(d.flags|=128,T=!0,af(O,!1),d.lanes=4194304);O.isBackwards?(k.sibling=d.child,d.child=k):(h=O.last,h!==null?h.sibling=k:d.child=k,O.last=k)}return O.tail!==null?(d=O.tail,O.rendering=d,O.tail=d.sibling,O.renderingStartTime=As(),d.sibling=null,h=gr.current,R(gr,T?h&1|2:h&1),d):(Ui(d),null);case 22:case 23:return It(d),Ft(),T=d.memoizedState!==null,h!==null?h.memoizedState!==null!==T&&(d.flags|=8192):T&&(d.flags|=8192),T?(x&536870912)!==0&&(d.flags&128)===0&&(Ui(d),d.subtreeFlags&6&&(d.flags|=8192)):Ui(d),x=d.updateQueue,x!==null&&rf(d,x.retryQueue),x=null,h!==null&&h.memoizedState!==null&&h.memoizedState.cachePool!==null&&(x=h.memoizedState.cachePool.pool),T=null,d.memoizedState!==null&&d.memoizedState.cachePool!==null&&(T=d.memoizedState.cachePool.pool),T!==x&&(d.flags|=2048),h!==null&&b(Po),null;case 24:return x=null,h!==null&&(x=h.memoizedState.cache),d.memoizedState.cache!==x&&(d.flags|=2048),il(Ti),Ui(d),null;case 25:return null}throw Error(r(156,d.tag))}function QE(h,d){switch(Ce(d),d.tag){case 1:return h=d.flags,h&65536?(d.flags=h&-65537|128,d):null;case 3:return il(Ti),we(),h=d.flags,(h&65536)!==0&&(h&128)===0?(d.flags=h&-65537|128,d):null;case 26:case 27:case 5:return ie(d),null;case 13:if(It(d),h=d.memoizedState,h!==null&&h.dehydrated!==null){if(d.alternate===null)throw Error(r(340));pt()}return h=d.flags,h&65536?(d.flags=h&-65537|128,d):null;case 19:return b(gr),null;case 4:return we(),null;case 10:return il(d.type),null;case 22:case 23:return It(d),Ft(),h!==null&&b(Po),h=d.flags,h&65536?(d.flags=h&-65537|128,d):null;case 24:return il(Ti),null;case 25:return null;default:return null}}function Nx(h,d){switch(Ce(d),d.tag){case 3:il(Ti),we();break;case 26:case 27:case 5:ie(d);break;case 4:we();break;case 13:It(d);break;case 19:b(gr);break;case 10:il(d.type);break;case 22:case 23:It(d),Ft(),h!==null&&b(Po);break;case 24:il(Ti)}}function Wh(h,d){try{var x=d.updateQueue,T=x!==null?x.lastEffect:null;if(T!==null){var O=T.next;x=O;do{if((x.tag&h)===h){T=void 0;var k=x.create,J=x.inst;T=k(),J.destroy=T}x=x.next}while(x!==O)}}catch(ve){li(d,d.return,ve)}}function ql(h,d,x){try{var T=d.updateQueue,O=T!==null?T.lastEffect:null;if(O!==null){var k=O.next;T=k;do{if((T.tag&h)===h){var J=T.inst,ve=J.destroy;if(ve!==void 0){J.destroy=void 0,O=d;var Re=x;try{ve()}catch(tt){li(O,Re,tt)}}}T=T.next}while(T!==k)}}catch(tt){li(d,d.return,tt)}}function Px(h){var d=h.updateQueue;if(d!==null){var x=h.stateNode;try{Oe(d,x)}catch(T){li(h,h.return,T)}}}function wa(h,d,x){x.props=tl(h.type,h.memoizedProps),x.state=h.memoizedState;try{x.componentWillUnmount()}catch(T){li(h,d,T)}}function Xs(h,d){try{var x=h.ref;if(x!==null){var T=h.stateNode;switch(h.tag){case 26:case 27:case 5:var O=vf(T);break;default:O=T}typeof x=="function"?h.refCleanup=x(O):x.current=O}}catch(k){li(h,d,k)}}function Ea(h,d){var x=h.ref,T=h.refCleanup;if(x!==null)if(typeof T=="function")try{T()}catch(O){li(h,d,O)}finally{h.refCleanup=null,h=h.alternate,h!=null&&(h.refCleanup=null)}else if(typeof x=="function")try{x(null)}catch(O){li(h,d,O)}else x.current=null}function Xg(h){var d=h.type,x=h.memoizedProps,T=h.stateNode;try{i2(T,d,x,h)}catch(O){li(h,h.return,O)}}function qg(h,d,x){try{Kx(h.stateNode,h.type,x,d,h)}catch(T){li(h,h.return,T)}}function Yg(h){return h.tag===5||h.tag===3||(Xa?h.tag===26:!1)||(vi?h.tag===27:!1)||h.tag===4}function Xh(h){e:for(;;){for(;h.sibling===null;){if(h.return===null||Yg(h.return))return null;h=h.return}for(h.sibling.return=h.return,h=h.sibling;h.tag!==5&&h.tag!==6&&(!vi||h.tag!==27)&&h.tag!==18;){if(h.flags&2||h.child===null||h.tag===4)continue e;h.child.return=h,h=h.child}if(!(h.flags&2))return h.stateNode}}function Zg(h,d,x){var T=h.tag;if(T===5||T===6)h=h.stateNode,d?Jx(x,h,d):yv(x,h);else if(!(T===4||vi&&T===27)&&(h=h.child,h!==null))for(Zg(h,d,x),h=h.sibling;h!==null;)Zg(h,d,x),h=h.sibling}function rl(h,d,x){var T=h.tag;if(T===5||T===6)h=h.stateNode,d?$x(x,h,d):Yx(x,h);else if(!(T===4||vi&&T===27)&&(h=h.child,h!==null))for(rl(h,d,x),h=h.sibling;h!==null;)rl(h,d,x),h=h.sibling}function Wp(h,d,x){h=h.containerInfo;try{bf(h,x)}catch(T){li(d,d.return,T)}}function qh(h,d){for(sm(h.containerInfo),_n=d;_n!==null;)if(h=_n,d=h.child,(h.subtreeFlags&1028)!==0&&d!==null)d.return=h,_n=d;else for(;_n!==null;){h=_n;var x=h.alternate;switch(d=h.flags,h.tag){case 0:break;case 11:case 15:break;case 1:if((d&1024)!==0&&x!==null){d=void 0;var T=h,O=x.memoizedProps;x=x.memoizedState;var k=T.stateNode;try{var J=tl(T.type,O,T.elementType===T.type);d=k.getSnapshotBeforeUpdate(J,x),k.__reactInternalSnapshotBeforeUpdate=d}catch(ve){li(T,T.return,ve)}}break;case 3:(d&1024)!==0&&pr&&i1(h.stateNode.containerInfo);break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((d&1024)!==0)throw Error(r(163))}if(d=h.sibling,d!==null){d.return=h.return,_n=d;break}_n=h.return}return J=Un,Un=!1,J}function Xp(h,d,x){var T=x.flags;switch(x.tag){case 0:case 11:case 15:sl(h,x),T&4&&Wh(5,x);break;case 1:if(sl(h,x),T&4)if(h=x.stateNode,d===null)try{h.componentDidMount()}catch(ve){li(x,x.return,ve)}else{var O=tl(x.type,d.memoizedProps);d=d.memoizedState;try{h.componentDidUpdate(O,d,h.__reactInternalSnapshotBeforeUpdate)}catch(ve){li(x,x.return,ve)}}T&64&&Px(x),T&512&&Xs(x,x.return);break;case 3:if(sl(h,x),T&64&&(T=x.updateQueue,T!==null)){if(h=null,x.child!==null)switch(x.child.tag){case 27:case 5:h=vf(x.child.stateNode);break;case 1:h=x.child.stateNode}try{Oe(T,h)}catch(ve){li(x,x.return,ve)}}break;case 26:if(Xa){sl(h,x),T&512&&Xs(x,x.return);break}case 27:case 5:sl(h,x),d===null&&T&4&&Xg(x),T&512&&Xs(x,x.return);break;case 12:sl(h,x);break;case 13:sl(h,x),T&4&&qp(h,x);break;case 22:if(O=x.memoizedState!==null||Lo,!O){d=d!==null&&d.memoizedState!==null||Gi;var k=Lo,J=Gi;Lo=O,(Gi=d)&&!J?ol(h,x,(x.subtreeFlags&8772)!==0):sl(h,x),Lo=k,Gi=J}T&512&&(x.memoizedProps.mode==="manual"?Xs(x,x.return):Ea(x,x.return));break;default:sl(h,x)}}function Kg(h){var d=h.alternate;d!==null&&(h.alternate=null,Kg(d)),h.child=null,h.deletions=null,h.sibling=null,h.tag===5&&(d=h.stateNode,d!==null&&n2(d)),h.stateNode=null,h.return=null,h.dependencies=null,h.memoizedProps=null,h.memoizedState=null,h.pendingProps=null,h.stateNode=null,h.updateQueue=null}function Br(h,d,x){for(x=x.child;x!==null;)Yl(h,d,x),x=x.sibling}function Yl(h,d,x){if(Ca&&typeof Ca.onCommitFiberUnmount=="function")try{Ca.onCommitFiberUnmount(Ji,x)}catch{}switch(x.tag){case 26:if(Xa){Gi||Ea(x,d),Br(h,d,x),x.memoizedState?eu(x.memoizedState):x.stateNode&&Sf(x.stateNode);break}case 27:if(vi){Gi||Ea(x,d);var T=nn,O=En;nn=x.stateNode,Br(h,d,x),oc(x.stateNode),nn=T,En=O;break}case 5:Gi||Ea(x,d);case 6:if(pr){if(T=nn,O=En,nn=null,Br(h,d,x),nn=T,En=O,nn!==null)if(En)try{Qx(nn,x.stateNode)}catch(k){li(x,d,k)}else try{_v(nn,x.stateNode)}catch(k){li(x,d,k)}}else Br(h,d,x);break;case 18:pr&&nn!==null&&(En?ud(nn,x.stateNode):d1(nn,x.stateNode));break;case 4:pr?(T=nn,O=En,nn=x.stateNode.containerInfo,En=!0,Br(h,d,x),nn=T,En=O):(Ts&&Wp(x.stateNode,x,cd()),Br(h,d,x));break;case 0:case 11:case 14:case 15:Gi||ql(2,x,d),Gi||ql(4,x,d),Br(h,d,x);break;case 1:Gi||(Ea(x,d),T=x.stateNode,typeof T.componentWillUnmount=="function"&&wa(x,d,T)),Br(h,d,x);break;case 21:Br(h,d,x);break;case 22:Gi||Ea(x,d),Gi=(T=Gi)||x.memoizedState!==null,Br(h,d,x),Gi=T;break;default:Br(h,d,x)}}function qp(h,d){if(Fr&&d.memoizedState===null&&(h=d.alternate,h!==null&&(h=h.memoizedState,h!==null&&(h=h.dehydrated,h!==null))))try{o2(h)}catch(x){li(d,d.return,x)}}function Lx(h){switch(h.tag){case 13:case 19:var d=h.stateNode;return d===null&&(d=h.stateNode=new ci),d;case 22:return h=h.stateNode,d=h._retryCache,d===null&&(d=h._retryCache=new ci),d;default:throw Error(r(435,h.tag))}}function al(h,d){var x=Lx(h);d.forEach(function(T){var O=tc.bind(null,h,T);x.has(T)||(x.add(T),T.then(O,O))})}function la(h,d){var x=d.deletions;if(x!==null)for(var T=0;T<x.length;T++){var O=x[T],k=h,J=d;if(pr){var ve=J;e:for(;ve!==null;){switch(ve.tag){case 27:case 5:nn=ve.stateNode,En=!1;break e;case 3:nn=ve.stateNode.containerInfo,En=!0;break e;case 4:nn=ve.stateNode.containerInfo,En=!0;break e}ve=ve.return}if(nn===null)throw Error(r(160));Yl(k,J,O),nn=null,En=!1}else Yl(k,J,O);k=O.alternate,k!==null&&(k.return=null),O.return=null}if(d.subtreeFlags&13878)for(d=d.child;d!==null;)$g(d,h),d=d.sibling}function $g(h,d){var x=h.alternate,T=h.flags;switch(h.tag){case 0:case 11:case 14:case 15:la(d,h),Ma(h),T&4&&(ql(3,h,h.return),Wh(3,h),ql(5,h,h.return));break;case 1:la(d,h),Ma(h),T&512&&(Gi||x===null||Ea(x,x.return)),T&64&&Lo&&(h=h.updateQueue,h!==null&&(T=h.callbacks,T!==null&&(x=h.shared.hiddenCallbacks,h.shared.hiddenCallbacks=x===null?T:x.concat(T))));break;case 26:if(Xa){var O=ki;la(d,h),Ma(h),T&512&&(Gi||x===null||Ea(x,x.return)),T&4&&(T=x!==null?x.memoizedState:null,d=h.memoizedState,x===null?d===null?h.stateNode===null?h.stateNode=hd(O,h.type,h.memoizedProps,h):dd(O,h.type,h.stateNode):h.stateNode=m1(O,d,h.memoizedProps):T!==d?(T===null?x.stateNode!==null&&Sf(x.stateNode):eu(T),d===null?dd(O,h.type,h.stateNode):m1(O,d,h.memoizedProps)):d===null&&h.stateNode!==null&&qg(h,h.memoizedProps,x.memoizedProps));break}case 27:if(vi&&T&4&&h.alternate===null){O=h.stateNode;var k=h.memoizedProps;try{sc(O),_1(h.type,k,O,h)}catch(Mt){li(h,h.return,Mt)}}case 5:if(la(d,h),Ma(h),T&512&&(Gi||x===null||Ea(x,x.return)),pr){if(h.flags&32){d=h.stateNode;try{xv(d)}catch(Mt){li(h,h.return,Mt)}}T&4&&h.stateNode!=null&&(d=h.memoizedProps,qg(h,d,x!==null?x.memoizedProps:d)),T&1024&&(Nv=!0)}break;case 6:if(la(d,h),Ma(h),T&4&&pr){if(h.stateNode===null)throw Error(r(162));T=h.memoizedProps,x=x!==null?x.memoizedProps:T,d=h.stateNode;try{Zx(d,x,T)}catch(Mt){li(h,h.return,Mt)}}break;case 3:if(Xa?(g1(),O=ki,ki=gm(d.containerInfo),la(d,h),ki=O):la(d,h),Ma(h),T&4){if(pr&&Fr&&x!==null&&x.memoizedState.isDehydrated)try{s2(d.containerInfo)}catch(Mt){li(h,h.return,Mt)}if(Ts){T=d.containerInfo,x=d.pendingChildren;try{bf(T,x)}catch(Mt){li(h,h.return,Mt)}}}Nv&&(Nv=!1,Ux(h));break;case 4:Xa?(x=ki,ki=gm(h.stateNode.containerInfo),la(d,h),Ma(h),ki=x):(la(d,h),Ma(h)),T&4&&Ts&&Wp(h.stateNode,h,h.stateNode.pendingChildren);break;case 12:la(d,h),Ma(h);break;case 13:la(d,h),Ma(h),h.child.flags&8192&&h.memoizedState!==null!=(x!==null&&x.memoizedState!==null)&&(pa=As()),T&4&&(T=h.updateQueue,T!==null&&(h.updateQueue=null,al(h,T)));break;case 22:T&512&&(Gi||x===null||Ea(x,x.return)),O=h.memoizedState!==null;var J=x!==null&&x.memoizedState!==null,ve=Lo,Re=Gi;if(Lo=ve||O,Gi=Re||J,la(d,h),Gi=Re,Lo=ve,Ma(h),d=h.stateNode,d._current=h,d._visibility&=-3,d._visibility|=d._pendingVisibility&2,T&8192&&(d._visibility=O?d._visibility&-2:d._visibility|1,O&&(d=Lo||Gi,x===null||J||d||sf(h)),pr&&(h.memoizedProps===null||h.memoizedProps.mode!=="manual"))){e:if(x=null,pr)for(d=h;;){if(d.tag===5||Xa&&d.tag===26||vi&&d.tag===27){if(x===null){J=x=d;try{k=J.stateNode,O?e1(k):n1(J.stateNode,J.memoizedProps)}catch(Mt){li(J,J.return,Mt)}}}else if(d.tag===6){if(x===null){J=d;try{var tt=J.stateNode;O?t1(tt):r2(tt,J.memoizedProps)}catch(Mt){li(J,J.return,Mt)}}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===h)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===h)break e;for(;d.sibling===null;){if(d.return===null||d.return===h)break e;x===d&&(x=null),d=d.return}x===d&&(x=null),d.sibling.return=d.return,d=d.sibling}}T&4&&(T=h.updateQueue,T!==null&&(x=T.retryQueue,x!==null&&(T.retryQueue=null,al(h,x))));break;case 19:la(d,h),Ma(h),T&4&&(T=h.updateQueue,T!==null&&(h.updateQueue=null,al(h,T)));break;case 21:break;default:la(d,h),Ma(h)}}function Ma(h){var d=h.flags;if(d&2){try{if(pr&&(!vi||h.tag!==27)){e:{for(var x=h.return;x!==null;){if(Yg(x)){var T=x;break e}x=x.return}throw Error(r(160))}switch(T.tag){case 27:if(vi){var O=T.stateNode,k=Xh(h);rl(h,k,O);break}case 5:var J=T.stateNode;T.flags&32&&(xv(J),T.flags&=-33);var ve=Xh(h);rl(h,ve,J);break;case 3:case 4:var Re=T.stateNode.containerInfo,tt=Xh(h);Zg(h,tt,Re);break;default:throw Error(r(161))}}}catch(Mt){li(h,h.return,Mt)}h.flags&=-3}d&4096&&(h.flags&=-4097)}function Ux(h){if(h.subtreeFlags&1024)for(h=h.child;h!==null;){var d=h;Ux(d),d.tag===5&&d.flags&1024&&cm(d.stateNode),h=h.sibling}}function sl(h,d){if(d.subtreeFlags&8772)for(d=d.child;d!==null;)Xp(h,d.alternate,d),d=d.sibling}function sf(h){for(h=h.child;h!==null;){var d=h;switch(d.tag){case 0:case 11:case 14:case 15:ql(4,d,d.return),sf(d);break;case 1:Ea(d,d.return);var x=d.stateNode;typeof x.componentWillUnmount=="function"&&wa(d,d.return,x),sf(d);break;case 26:case 27:case 5:Ea(d,d.return),sf(d);break;case 22:Ea(d,d.return),d.memoizedState===null&&sf(d);break;default:sf(d)}h=h.sibling}}function ol(h,d,x){for(x=x&&(d.subtreeFlags&8772)!==0,d=d.child;d!==null;){var T=d.alternate,O=h,k=d,J=k.flags;switch(k.tag){case 0:case 11:case 15:ol(O,k,x),Wh(4,k);break;case 1:if(ol(O,k,x),T=k,O=T.stateNode,typeof O.componentDidMount=="function")try{O.componentDidMount()}catch(tt){li(T,T.return,tt)}if(T=k,O=T.updateQueue,O!==null){var ve=T.stateNode;try{var Re=O.shared.hiddenCallbacks;if(Re!==null)for(O.shared.hiddenCallbacks=null,O=0;O<Re.length;O++)de(Re[O],ve)}catch(tt){li(T,T.return,tt)}}x&&J&64&&Px(k),Xs(k,k.return);break;case 26:case 27:case 5:ol(O,k,x),x&&T===null&&J&4&&Xg(k),Xs(k,k.return);break;case 12:ol(O,k,x);break;case 13:ol(O,k,x),x&&J&4&&qp(O,k);break;case 22:k.memoizedState===null&&ol(O,k,x),Xs(k,k.return);break;default:ol(O,k,x)}d=d.sibling}}function Yp(h,d){var x=null;h!==null&&h.memoizedState!==null&&h.memoizedState.cachePool!==null&&(x=h.memoizedState.cachePool.pool),h=null,d.memoizedState!==null&&d.memoizedState.cachePool!==null&&(h=d.memoizedState.cachePool.pool),h!==x&&(h!=null&&h.refCount++,x!=null&&jh(x))}function Yh(h,d){h=null,d.alternate!==null&&(h=d.alternate.memoizedState.cache),d=d.memoizedState.cache,d!==h&&(d.refCount++,h!=null&&jh(h))}function wr(h,d,x,T){if(d.subtreeFlags&10256)for(d=d.child;d!==null;)Jg(h,d,x,T),d=d.sibling}function Jg(h,d,x,T){var O=d.flags;switch(d.tag){case 0:case 11:case 15:wr(h,d,x,T),O&2048&&Wh(9,d);break;case 3:wr(h,d,x,T),O&2048&&(h=null,d.alternate!==null&&(h=d.alternate.memoizedState.cache),d=d.memoizedState.cache,d!==h&&(d.refCount++,h!=null&&jh(h)));break;case 12:if(O&2048){wr(h,d,x,T),h=d.stateNode;try{var k=d.memoizedProps,J=k.id,ve=k.onPostCommit;typeof ve=="function"&&ve(J,d.alternate===null?"mount":"update",h.passiveEffectDuration,-0)}catch(Re){li(d,d.return,Re)}}else wr(h,d,x,T);break;case 23:break;case 22:k=d.stateNode,d.memoizedState!==null?k._visibility&4?wr(h,d,x,T):Zr(h,d):k._visibility&4?wr(h,d,x,T):(k._visibility|=4,zr(h,d,x,T,(d.subtreeFlags&10256)!==0)),O&2048&&Yp(d.alternate,d);break;case 24:wr(h,d,x,T),O&2048&&Yh(d.alternate,d);break;default:wr(h,d,x,T)}}function zr(h,d,x,T,O){for(O=O&&(d.subtreeFlags&10256)!==0,d=d.child;d!==null;){var k=h,J=d,ve=x,Re=T,tt=J.flags;switch(J.tag){case 0:case 11:case 15:zr(k,J,ve,Re,O),Wh(8,J);break;case 23:break;case 22:var Mt=J.stateNode;J.memoizedState!==null?Mt._visibility&4?zr(k,J,ve,Re,O):Zr(k,J):(Mt._visibility|=4,zr(k,J,ve,Re,O)),O&&tt&2048&&Yp(J.alternate,J);break;case 24:zr(k,J,ve,Re,O),O&&tt&2048&&Yh(J.alternate,J);break;default:zr(k,J,ve,Re,O)}d=d.sibling}}function Zr(h,d){if(d.subtreeFlags&10256)for(d=d.child;d!==null;){var x=h,T=d,O=T.flags;switch(T.tag){case 22:Zr(x,T),O&2048&&Yp(T.alternate,T);break;case 24:Zr(x,T),O&2048&&Yh(T.alternate,T);break;default:Zr(x,T)}d=d.sibling}}function bs(h){if(h.subtreeFlags&Qa)for(h=h.child;h!==null;)Zp(h),h=h.sibling}function Zp(h){switch(h.tag){case 26:bs(h),h.flags&Qa&&(h.memoizedState!==null?y1(ki,h.memoizedState,h.memoizedProps):fa(h.type,h.memoizedProps));break;case 5:bs(h),h.flags&Qa&&fa(h.type,h.memoizedProps);break;case 3:case 4:if(Xa){var d=ki;ki=gm(h.stateNode.containerInfo),bs(h),ki=d}else bs(h);break;case 22:h.memoizedState===null&&(d=h.alternate,d!==null&&d.memoizedState!==null?(d=Qa,Qa=16777216,bs(h),Qa=d):bs(h));break;default:bs(h)}}function Zh(h){var d=h.alternate;if(d!==null&&(h=d.child,h!==null)){d.child=null;do d=h.sibling,h.sibling=null,h=d;while(h!==null)}}function Zl(h){var d=h.deletions;if((h.flags&16)!==0){if(d!==null)for(var x=0;x<d.length;x++){var T=d[x];_n=T,Qg(T,h)}Zh(h)}if(h.subtreeFlags&10256)for(h=h.child;h!==null;)Kp(h),h=h.sibling}function Kp(h){switch(h.tag){case 0:case 11:case 15:Zl(h),h.flags&2048&&ql(9,h,h.return);break;case 3:Zl(h);break;case 12:Zl(h);break;case 22:var d=h.stateNode;h.memoizedState!==null&&d._visibility&4&&(h.return===null||h.return.tag!==13)?(d._visibility&=-5,ll(h)):Zl(h);break;default:Zl(h)}}function ll(h){var d=h.deletions;if((h.flags&16)!==0){if(d!==null)for(var x=0;x<d.length;x++){var T=d[x];_n=T,Qg(T,h)}Zh(h)}for(h=h.child;h!==null;){switch(d=h,d.tag){case 0:case 11:case 15:ql(8,d,d.return),ll(d);break;case 22:x=d.stateNode,x._visibility&4&&(x._visibility&=-5,ll(d));break;default:ll(d)}h=h.sibling}}function Qg(h,d){for(;_n!==null;){var x=_n;switch(x.tag){case 0:case 11:case 15:ql(8,x,d);break;case 23:case 22:if(x.memoizedState!==null&&x.memoizedState.cachePool!==null){var T=x.memoizedState.cachePool.pool;T!=null&&T.refCount++}break;case 24:jh(x.memoizedState.cache)}if(T=x.child,T!==null)T.return=x,_n=T;else e:for(x=h;_n!==null;){T=_n;var O=T.sibling,k=T.return;if(Kg(T),T===x){_n=null;break e}if(O!==null){O.return=k,_n=O;break e}_n=k}}}function of(h){var d=Hx(h);if(d!=null){if(typeof d.memoizedProps["data-testname"]!="string")throw Error(r(364));return d}if(h=gv(h),h===null)throw Error(r(362));return h.stateNode.current}function Kl(h,d){var x=h.tag;switch(d.$$typeof){case Of:if(h.type===d.value)return!0;break;case Os:e:{for(d=d.value,h=[h,0],x=0;x<h.length;){var T=h[x++],O=T.tag,k=h[x++],J=d[k];if(O!==5&&O!==26&&O!==27||!_f(T)){for(;J!=null&&Kl(T,J);)k++,J=d[k];if(k===d.length){d=!0;break e}else for(T=T.child;T!==null;)h.push(T,k),T=T.sibling}}d=!1}return d;case Oi:if((x===5||x===26||x===27)&&Wx(h.stateNode,d.value))return!0;break;case Uo:if((x===5||x===6||x===26||x===27)&&(h=Gx(h),h!==null&&0<=h.indexOf(d.value)))return!0;break;case no:if((x===5||x===26||x===27)&&(h=h.memoizedProps["data-testname"],typeof h=="string"&&h.toLowerCase()===d.value.toLowerCase()))return!0;break;default:throw Error(r(365))}return!1}function ev(h){switch(h.$$typeof){case Of:return"<"+(s(h.value)||"Unknown")+">";case Os:return":has("+(ev(h)||"")+")";case Oi:return'[role="'+h.value+'"]';case Uo:return'"'+h.value+'"';case no:return'[data-testname="'+h.value+'"]';default:throw Error(r(365))}}function Ta(h,d){var x=[];h=[h,0];for(var T=0;T<h.length;){var O=h[T++],k=O.tag,J=h[T++],ve=d[J];if(k!==5&&k!==26&&k!==27||!_f(O)){for(;ve!=null&&Kl(O,ve);)J++,ve=d[J];if(J===d.length)x.push(O);else for(O=O.child;O!==null;)h.push(O,J),O=O.sibling}}return x}function Kh(h,d){if(!ac)throw Error(r(363));h=of(h),h=Ta(h,d),d=[],h=Array.from(h);for(var x=0;x<h.length;){var T=h[x++],O=T.tag;if(O===5||O===26||O===27)_f(T)||d.push(T.stateNode);else for(T=T.child;T!==null;)h.push(T),T=T.sibling}return d}function Zi(){if(($n&2)!==0&&Fn!==0)return Fn&-Fn;if(fn.T!==null){var h=Za;return h!==0?h:ze()}return Vx()}function tv(){ns===0&&(ns=(Fn&536870912)===0||Yn?U():536870912);var h=Ka.current;return h!==null&&(h.flags|=32),ns}function Er(h,d,x){(h===ui&&pi===2||h.cancelPendingCommit!==null)&&(kr(h,0),Aa(h,Fn,ns,!1)),X(h,x),(($n&2)===0||h!==ui)&&(h===ui&&(($n&2)===0&&(Sl|=x),xi===4&&Aa(h,Fn,ns,!1)),$e(h))}function $l(h,d,x){if(($n&6)!==0)throw Error(r(327));var T=!x&&(d&60)===0&&(d&h.expiredLanes)===0||L(h,d),O=T?iv(h,d):Jp(h,d,!0),k=T;do{if(O===0){es&&!T&&Aa(h,d,0,!1);break}else if(O===6)Aa(h,d,0,!Ps);else{if(x=h.current.alternate,k&&!lf(x)){O=Jp(h,d,!1),k=!1;continue}if(O===2){if(k=d,h.errorRecoveryDisabledLanes&k)var J=0;else J=h.pendingLanes&-536870913,J=J!==0?J:J&536870912?536870912:0;if(J!==0){d=J;e:{var ve=h;O=mu;var Re=Fr&&ve.current.memoizedState.isDehydrated;if(Re&&(kr(ve,J).flags|=256),J=Jp(ve,J,!1),J!==2){if(vr&&!Re){ve.errorRecoveryDisabledLanes|=k,Sl|=k,O=4;break e}k=Wi,Wi=O,k!==null&&$h(k)}O=J}if(k=!1,O!==2)continue}}if(O===1){kr(h,0),Aa(h,d,0,!0);break}e:{switch(T=h,O){case 0:case 1:throw Error(r(345));case 4:if((d&4194176)===d){Aa(T,d,ns,!Ps);break e}break;case 2:Wi=null;break;case 3:case 5:break;default:throw Error(r(329))}if(T.finishedWork=x,T.finishedLanes=d,(d&62914560)===d&&(k=pa+300-As(),10<k)){if(Aa(T,d,ns,!Ps),N(T,0)!==0)break e;T.timeoutHandle=lr($p.bind(null,T,x,Wi,xd,Am,d,ns,Sl,Io,Ps,2,-0,0),k);break e}$p(T,x,Wi,xd,Am,d,ns,Sl,Io,Ps,0,-0,0)}}break}while(!0);$e(h)}function $h(h){Wi===null?Wi=h:Wi.push.apply(Wi,h)}function $p(h,d,x,T,O,k,J,ve,Re,tt,Mt,Nt,Bt){var xn=d.subtreeFlags;if((xn&8192||(xn&16785408)===16785408)&&(pv(),Zp(d),d=cr(),d!==null)){h.cancelPendingCommit=d(Ql.bind(null,h,x,T,O,J,ve,Re,1,Nt,Bt)),Aa(h,k,J,!tt);return}Ql(h,x,T,O,J,ve,Re,Mt,Nt,Bt)}function lf(h){for(var d=h;;){var x=d.tag;if((x===0||x===11||x===15)&&d.flags&16384&&(x=d.updateQueue,x!==null&&(x=x.stores,x!==null)))for(var T=0;T<x.length;T++){var O=x[T],k=O.getSnapshot;O=O.value;try{if(!Ra(k(),O))return!1}catch{return!1}}if(x=d.child,d.subtreeFlags&16384&&x!==null)x.return=d,d=x;else{if(d===h)break;for(;d.sibling===null;){if(d.return===null||d.return===h)return!0;d=d.return}d.sibling.return=d.return,d=d.sibling}}return!0}function Aa(h,d,x,T){d&=~_d,d&=~Sl,h.suspendedLanes|=d,h.pingedLanes&=~d,T&&(h.warmLanes|=d),T=h.expirationTimes;for(var O=d;0<O;){var k=31-ha(O),J=1<<k;T[k]=-1,O&=~J}x!==0&&se(h,x,d)}function Jh(){return($n&6)===0?(_t(0),!1):!0}function cf(){if(ln!==null){if(pi===0)var h=ln.return;else h=ln,Ja=to=null,V(h),fc=null,hc=0,h=ln;for(;h!==null;)Nx(h.alternate,h),h=h.return;ln=null}}function kr(h,d){h.finishedWork=null,h.finishedLanes=0;var x=h.timeoutHandle;x!==ic&&(h.timeoutHandle=ic,om(x)),x=h.cancelPendingCommit,x!==null&&(h.cancelPendingCommit=null,x()),cf(),ui=h,ln=x=ws(h.current,null),Fn=d,pi=0,$r=null,Ps=!1,es=L(h,d),vr=!1,Io=ns=_d=Sl=ts=xi=0,Wi=mu=null,Am=!1,(d&8)!==0&&(d|=d&32);var T=h.entangledLanes;if(T!==0)for(h=h.entanglements,T&=d;0<T;){var O=31-ha(T),k=1<<O;d|=h[O],T&=~k}return Jr=d,be(),x}function ja(h,d){Cn=null,fn.H=ji,d===Af?(d=Lt(),pi=3):d===vd?(d=Lt(),pi=4):pi=d===Mm?8:d!==null&&typeof d=="object"&&typeof d.then=="function"?6:1,$r=d,ln===null&&(xi=1,Qu(h,ye(d,h.current)))}function Jl(){var h=Ka.current;return h===null?!0:(Fn&4194176)===Fn?yi===null:(Fn&62914560)===Fn||(Fn&536870912)!==0?h===yi:!1}function wo(){var h=fn.H;return fn.H=ji,h===null?ji:h}function Eo(){var h=fn.A;return fn.A=Df,h}function cl(){xi=4,Ps||(Fn&4194176)!==Fn&&Ka.current!==null||(es=!0),(ts&134217727)===0&&(Sl&134217727)===0||ui===null||Aa(ui,Fn,ns,!1)}function Jp(h,d,x){var T=$n;$n|=2;var O=wo(),k=Eo();(ui!==h||Fn!==d)&&(xd=null,kr(h,d)),d=!1;var J=xi;e:do try{if(pi!==0&&ln!==null){var ve=ln,Re=$r;switch(pi){case 8:cf(),J=6;break e;case 3:case 2:case 6:Ka.current===null&&(d=!0);var tt=pi;if(pi=0,$r=null,Ss(h,ve,Re,tt),x&&es){J=0;break e}break;default:tt=pi,pi=0,$r=null,Ss(h,ve,Re,tt)}}nv(),J=xi;break}catch(Mt){ja(h,Mt)}while(!0);return d&&h.shellSuspendCounter++,Ja=to=null,$n=T,fn.H=O,fn.A=k,ln===null&&(ui=null,Fn=0,be()),J}function nv(){for(;ln!==null;)zi(ln)}function iv(h,d){var x=$n;$n|=2;var T=wo(),O=Eo();ui!==h||Fn!==d?(xd=null,Nf=As()+500,kr(h,d)):es=L(h,d);e:do try{if(pi!==0&&ln!==null){d=ln;var k=$r;t:switch(pi){case 1:pi=0,$r=null,Ss(h,d,k,1);break;case 2:if(At(k)){pi=0,$r=null,ti(d);break}d=function(){pi===2&&ui===h&&(pi=7),$e(h)},k.then(d,d);break e;case 3:pi=7;break e;case 4:pi=5;break e;case 7:At(k)?(pi=0,$r=null,ti(d)):(pi=0,$r=null,Ss(h,d,k,7));break;case 5:var J=null;switch(ln.tag){case 26:J=ln.memoizedState;case 5:case 27:var ve=ln,Re=ve.type,tt=ve.pendingProps;if(J?tu(J):lm(Re,tt)){pi=0,$r=null;var Mt=ve.sibling;if(Mt!==null)ln=Mt;else{var Nt=ve.return;Nt!==null?(ln=Nt,Ga(Nt)):ln=null}break t}}pi=0,$r=null,Ss(h,d,k,5);break;case 6:pi=0,$r=null,Ss(h,d,k,6);break;case 8:cf(),xi=6;break e;default:throw Error(r(462))}}ca();break}catch(Bt){ja(h,Bt)}while(!0);return Ja=to=null,fn.H=T,fn.A=O,$n=x,ln!==null?0:(ui=null,Fn=0,be(),xi)}function ca(){for(;ln!==null&&!S1();)zi(ln)}function zi(h){var d=Rx(h.alternate,h,Jr);h.memoizedProps=h.pendingProps,d===null?Ga(h):ln=d}function ti(h){var d=h,x=d.alternate;switch(d.tag){case 15:case 0:d=wx(x,d,d.pendingProps,d.type,void 0,Fn);break;case 11:d=wx(x,d,d.pendingProps,d.type.render,d.ref,Fn);break;case 5:V(d);default:Nx(x,d),d=ln=ed(d,Jr),d=Rx(x,d,Jr)}h.memoizedProps=h.pendingProps,d===null?Ga(h):ln=d}function Ss(h,d,x,T){Ja=to=null,V(d),fc=null,hc=0;var O=d.return;try{if($E(h,O,d,x,Fn)){xi=1,Qu(h,ye(x,h.current)),ln=null;return}}catch(k){if(O!==null)throw ln=O,k;xi=1,Qu(h,ye(x,h.current)),ln=null;return}d.flags&32768?(Yn||T===1?h=!0:es||(Fn&536870912)!==0?h=!1:(Ps=h=!0,(T===2||T===3||T===6)&&(T=Ka.current,T!==null&&T.tag===13&&(T.flags|=16384))),Qp(d,h)):Ga(d)}function Ga(h){var d=h;do{if((d.flags&32768)!==0){Qp(d,Ps);return}h=d.return;var x=Ox(d.alternate,d,Jr);if(x!==null){ln=x;return}if(d=d.sibling,d!==null){ln=d;return}ln=d=h}while(d!==null);xi===0&&(xi=5)}function Qp(h,d){do{var x=QE(h.alternate,h);if(x!==null){x.flags&=32767,ln=x;return}if(x=h.return,x!==null&&(x.flags|=32768,x.subtreeFlags=0,x.deletions=null),!d&&(h=h.sibling,h!==null)){ln=h;return}ln=h=x}while(h!==null);xi=6,ln=null}function Ql(h,d,x,T,O,k,J,ve,Re,tt){var Mt=fn.T,Nt=ml();try{Kr(2),fn.T=null,Ix(h,d,x,T,Nt,O,k,J,ve,Re,tt)}finally{fn.T=Mt,Kr(Nt)}}function Ix(h,d,x,T,O,k,J,ve){do qs();while(Bo!==null);if(($n&6)!==0)throw Error(r(327));var Re=h.finishedWork;if(T=h.finishedLanes,Re===null)return null;if(h.finishedWork=null,h.finishedLanes=0,Re===h.current)throw Error(r(177));h.callbackNode=null,h.callbackPriority=0,h.cancelPendingCommit=null;var tt=Re.lanes|Re.childLanes;if(tt|=Qs,te(h,T,tt,k,J,ve),h===ui&&(ln=ui=null,Fn=0),(Re.subtreeFlags&10256)===0&&(Re.flags&10256)===0||io||(io=!0,vc=tt,Cm=x,fl(bm,function(){return qs(),null})),x=(Re.flags&15990)!==0,(Re.subtreeFlags&15990)!==0||x?(x=fn.T,fn.T=null,k=ml(),Kr(2),J=$n,$n|=4,qh(h,Re),$g(Re,h),Fx(h.containerInfo),h.current=Re,Xp(h,Re.alternate,Re),_m(),$n=J,Kr(k),fn.T=x):h.current=Re,io?(io=!1,Bo=h,gu=T):rv(h,tt),tt=h.pendingLanes,tt===0&&(gc=null),G(Re.stateNode),$e(h),d!==null)for(O=h.onRecoverableError,Re=0;Re<d.length;Re++)tt=d[Re],O(tt.value,{componentStack:tt.stack});return(gu&3)!==0&&qs(),tt=h.pendingLanes,(T&4194218)!==0&&(tt&42)!==0?h===Rm?Pf++:(Pf=0,Rm=h):Pf=0,_t(0),null}function rv(h,d){(h.pooledCacheLanes&=d)===0&&(d=h.pooledCache,d!=null&&(h.pooledCache=null,jh(d)))}function qs(){if(Bo!==null){var h=Bo,d=vc;vc=0;var x=ue(gu),T=32>x?32:x;x=fn.T;var O=ml();try{if(Kr(T),fn.T=null,Bo===null)var k=!1;else{T=Cm,Cm=null;var J=Bo,ve=gu;if(Bo=null,gu=0,($n&6)!==0)throw Error(r(331));var Re=$n;if($n|=4,Kp(J.current),Jg(J,J.current,ve,T),$n=Re,_t(0,!1),Ca&&typeof Ca.onPostCommitFiberRoot=="function")try{Ca.onPostCommitFiberRoot(Ji,J)}catch{}k=!0}return k}finally{Kr(O),fn.T=x,rv(h,d)}}return!1}function uf(h,d,x){d=ye(x,d),d=tf(h.stateNode,d,2),h=ct(h,d,2),h!==null&&(X(h,2),$e(h))}function li(h,d,x){if(h.tag===3)uf(h,h,x);else for(;d!==null;){if(d.tag===3){uf(d,h,x);break}else if(d.tag===1){var T=d.stateNode;if(typeof d.type.getDerivedStateFromError=="function"||typeof T.componentDidCatch=="function"&&(gc===null||!gc.has(T))){h=ye(x,h),x=Bg(2),T=ct(d,x,2),T!==null&&(yx(x,T,d,h),X(T,2),$e(T));break}}d=d.return}}function Jc(h,d,x){var T=h.pingCache;if(T===null){T=h.pingCache=new Ns;var O=new Set;T.set(d,O)}else O=T.get(d),O===void 0&&(O=new Set,T.set(d,O));O.has(x)||(vr=!0,O.add(x),h=av.bind(null,h,d,x),d.then(h,h))}function av(h,d,x){var T=h.pingCache;T!==null&&T.delete(d),h.pingedLanes|=h.suspendedLanes&x,h.warmLanes&=~x,ui===h&&(Fn&x)===x&&(xi===4||xi===3&&(Fn&62914560)===Fn&&300>As()-pa?($n&2)===0&&kr(h,0):_d|=x,Io===Fn&&(Io=0)),$e(h)}function ec(h,d){d===0&&(d=P()),h=re(h,d),h!==null&&(X(h,d),$e(h))}function ul(h){var d=h.memoizedState,x=0;d!==null&&(x=d.retryLane),ec(h,x)}function tc(h,d){var x=0;switch(h.tag){case 13:var T=h.stateNode,O=h.memoizedState;O!==null&&(x=O.retryLane);break;case 19:T=h.stateNode;break;case 22:T=h.stateNode._retryCache;break;default:throw Error(r(314))}T!==null&&T.delete(d),ec(h,x)}function fl(h,d){return pd(h,d)}function sv(h,d,x,T){this.tag=h,this.key=x,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=d,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=T,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Qh(h){return h=h.prototype,!(!h||!h.isReactComponent)}function ws(h,d){var x=h.alternate;return x===null?(x=t(h.tag,d,h.key,h.mode),x.elementType=h.elementType,x.type=h.type,x.stateNode=h.stateNode,x.alternate=h,h.alternate=x):(x.pendingProps=d,x.type=h.type,x.flags=0,x.subtreeFlags=0,x.deletions=null),x.flags=h.flags&31457280,x.childLanes=h.childLanes,x.lanes=h.lanes,x.child=h.child,x.memoizedProps=h.memoizedProps,x.memoizedState=h.memoizedState,x.updateQueue=h.updateQueue,d=h.dependencies,x.dependencies=d===null?null:{lanes:d.lanes,firstContext:d.firstContext},x.sibling=h.sibling,x.index=h.index,x.ref=h.ref,x.refCleanup=h.refCleanup,x}function ed(h,d){h.flags&=31457282;var x=h.alternate;return x===null?(h.childLanes=0,h.lanes=d,h.child=null,h.subtreeFlags=0,h.memoizedProps=null,h.memoizedState=null,h.updateQueue=null,h.dependencies=null,h.stateNode=null):(h.childLanes=x.childLanes,h.lanes=x.lanes,h.child=x.child,h.subtreeFlags=0,h.deletions=null,h.memoizedProps=x.memoizedProps,h.memoizedState=x.memoizedState,h.updateQueue=x.updateQueue,h.type=x.type,d=x.dependencies,h.dependencies=d===null?null:{lanes:d.lanes,firstContext:d.firstContext}),h}function Mo(h,d,x,T,O,k){var J=0;if(T=h,typeof h=="function")Qh(h)&&(J=1);else if(typeof h=="string")J=Xa&&vi?fd(h,x,mr.current)?26:Ao(h)?27:5:Xa?fd(h,x,mr.current)?26:5:vi&&Ao(h)?27:5;else e:switch(h){case nc:return Vi(x.children,O,k,d);case rd:J=8,O|=24;break;case im:return h=t(12,x,d,O|2),h.elementType=im,h.lanes=k,h;case rm:return h=t(13,x,d,O),h.elementType=rm,h.lanes=k,h;case pf:return h=t(19,x,d,O),h.elementType=pf,h.lanes=k,h;case cv:return td(x,O,k,d);default:if(typeof h=="object"&&h!==null)switch(h.$$typeof){case ad:case Ys:J=10;break e;case lv:J=9;break e;case sd:J=11;break e;case am:J=14;break e;case Ms:J=16,T=null;break e}J=29,x=Error(r(130,h===null?"null":typeof h,"")),T=null}return d=t(J,x,d,O),d.elementType=h,d.type=T,d.lanes=k,d}function Vi(h,d,x,T){return h=t(7,h,T,d),h.lanes=x,h}function td(h,d,x,T){h=t(22,h,T,d),h.elementType=cv,h.lanes=x;var O={_visibility:1,_pendingVisibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null,_current:null,detach:function(){var k=O._current;if(k===null)throw Error(r(456));if((O._pendingVisibility&2)===0){var J=re(k,2);J!==null&&(O._pendingVisibility|=2,Er(J,k,2))}},attach:function(){var k=O._current;if(k===null)throw Error(r(456));if((O._pendingVisibility&2)!==0){var J=re(k,2);J!==null&&(O._pendingVisibility&=-3,Er(J,k,2))}}};return h.stateNode=O,h}function em(h,d,x){return h=t(6,h,null,d),h.lanes=x,h}function ov(h,d,x){return d=t(4,h.children!==null?h.children:[],h.key,d),d.lanes=x,d.stateNode={containerInfo:h.containerInfo,pendingChildren:null,implementation:h.implementation},d}function e2(h,d,x,T,O,k,J,ve){this.tag=1,this.containerInfo=h,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=ic,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=z(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.finishedLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=z(0),this.hiddenUpdates=z(null),this.identifierPrefix=T,this.onUncaughtError=O,this.onCaughtError=k,this.onRecoverableError=J,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=ve,this.incompleteTransitions=new Map}function Bx(h,d,x,T,O,k,J,ve,Re,tt,Mt,Nt){return h=new e2(h,d,x,J,ve,Re,tt,Nt),d=1,k===!0&&(d|=24),k=t(3,null,null,d),h.current=k,k.stateNode=h,d=Xl(),d.refCount++,h.pooledCache=d,d.refCount++,k.memoizedState={element:T,isDehydrated:x,cache:d},Dt(k),h}function or(h){return h?(h=lc,h):lc}function tm(h){var d=h._reactInternals;if(d===void 0)throw typeof h.render=="function"?Error(r(188)):(h=Object.keys(h).join(","),Error(r(268,h)));return h=_(d),h=h!==null?S(h):null,h===null?null:vf(h.stateNode)}function ff(h,d,x,T,O,k){O=or(O),T.context===null?T.context=O:T.pendingContext=O,T=it(d),T.payload={element:x},k=k===void 0?null:k,k!==null&&(T.callback=k),x=ct(h,T,d),x!==null&&(Er(x,h,d),zt(x,h,d))}function hf(h,d){if(h=h.memoizedState,h!==null&&h.dehydrated!==null){var x=h.retryLane;h.retryLane=x!==0&&x<d?x:d}}function nd(h,d){hf(h,d),(h=h.alternate)&&hf(h,d)}var Sn={},df=yg(),Wa=Lz(),nm=Object.assign,t2=Symbol.for("react.element"),id=Symbol.for("react.transitional.element"),Es=Symbol.for("react.portal"),nc=Symbol.for("react.fragment"),rd=Symbol.for("react.strict_mode"),im=Symbol.for("react.profiler"),ad=Symbol.for("react.provider"),lv=Symbol.for("react.consumer"),Ys=Symbol.for("react.context"),sd=Symbol.for("react.forward_ref"),rm=Symbol.for("react.suspense"),pf=Symbol.for("react.suspense_list"),am=Symbol.for("react.memo"),Ms=Symbol.for("react.lazy"),cv=Symbol.for("react.offscreen"),zx=Symbol.for("react.memo_cache_sentinel"),hl=Symbol.iterator,uv=Symbol.for("react.client.reference"),fn=df.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,To,dl,Qc=!1,mf=Array.isArray,fv=e.rendererVersion,od=e.rendererPackageName,gf=e.extraDevToolsConfig,vf=e.getPublicInstance,kx=e.getRootHostContext,yf=e.getChildHostContext,sm=e.prepareForCommit,Fx=e.resetAfterCommit,hv=e.createInstance,ld=e.appendInitialChild,pl=e.finalizeInitialChildren,wn=e.shouldSetTextContent,di=e.createTextInstance,lr=e.scheduleTimeout,om=e.cancelTimeout,ic=e.noTimeout,ua=e.isPrimaryRenderer;e.warnsIfNotActing;var pr=e.supportsMutation,Ts=e.supportsPersistence,Fr=e.supportsHydration,Hx=e.getInstanceFromNode;e.beforeActiveInstanceBlur,e.afterActiveInstanceBlur;var Ki=e.preparePortalMount;e.prepareScopeUpdate,e.getInstanceFromScope;var Kr=e.setCurrentUpdatePriority,ml=e.getCurrentUpdatePriority,Vx=e.resolveUpdatePriority;e.resolveEventType,e.resolveEventTimeStamp;var jx=e.shouldAttemptEagerTransition,n2=e.detachDeletedInstance;e.requestPostPaintCallback;var dv=e.maySuspendCommit,lm=e.preloadInstance,pv=e.startSuspendingCommit,fa=e.suspendInstance,cr=e.waitForCommitToBeReady,rc=e.NotPendingTransition,Zs=e.HostTransitionContext,cm=e.resetFormInstance;e.bindToConsole;var mv=e.supportsMicrotasks,gl=e.scheduleMicrotask,ac=e.supportsTestSelectors,gv=e.findFiberRoot,vv=e.getBoundingRect,Gx=e.getTextContent,_f=e.isHiddenSubtree,Wx=e.matchAccessibilityRole,Xx=e.setFocusIfFocusable,qx=e.setupIntersectionObserver,Yx=e.appendChild,yv=e.appendChildToContainer,Zx=e.commitTextUpdate,i2=e.commitMount,Kx=e.commitUpdate,$x=e.insertBefore,Jx=e.insertInContainerBefore,_v=e.removeChild,Qx=e.removeChildFromContainer,xv=e.resetTextContent,e1=e.hideInstance,t1=e.hideTextInstance,n1=e.unhideInstance,r2=e.unhideTextInstance,i1=e.clearContainer,xf=e.cloneInstance,cd=e.createContainerChildSet,bv=e.appendChildToContainerChildSet,um=e.finalizeContainerChildren,bf=e.replaceContainerChildren,Sv=e.cloneHiddenInstance,wv=e.cloneHiddenTextInstance,fm=e.isSuspenseInstancePending,hm=e.isSuspenseInstanceFallback,r1=e.getSuspenseInstanceFallbackErrorDetails,a1=e.registerSuspenseInstanceRetry,Ev=e.canHydrateFormStateMarker,s1=e.isFormStateMarkerMatching,Mv=e.getNextHydratableSibling,dm=e.getFirstHydratableChild,o1=e.getFirstHydratableChildWithinContainer,l1=e.getFirstHydratableChildWithinSuspenseInstance,a2=e.canHydrateInstance,Tv=e.canHydrateTextInstance,c1=e.canHydrateSuspenseInstance,u1=e.hydrateInstance,Av=e.hydrateTextInstance,f1=e.hydrateSuspenseInstance,h1=e.getNextHydratableInstanceAfterSuspenseInstance,s2=e.commitHydratedContainer,o2=e.commitHydratedSuspenseInstance,d1=e.clearSuspenseBoundary,ud=e.clearSuspenseBoundaryFromContainer,pm=e.shouldDeleteUnhydratedTailInstances;e.diffHydratedPropsForDevWarnings,e.diffHydratedTextForDevWarnings,e.describeHydratableInstanceForDevWarnings;var mm=e.validateHydratableInstance,p1=e.validateHydratableTextInstance,Xa=e.supportsResources,fd=e.isHostHoistableType,gm=e.getHoistableRoot,Cv=e.getResource,m1=e.acquireResource,eu=e.releaseResource,hd=e.hydrateHoistable,dd=e.mountHoistable,Sf=e.unmountHoistable,vm=e.createHoistableInstance,g1=e.prepareToCommitHoistables,v1=e.mayResourceSuspendCommit,tu=e.preloadResource,y1=e.suspendResource,vi=e.supportsSingletons,Ks=e.resolveSingletonInstance,sc=e.clearSingleton,_1=e.acquireSingletonInstance,oc=e.releaseSingletonInstance,Ao=e.isHostSingletonType,$i=[],vl=-1,lc={},ha=Math.clz32?Math.clz32:C,x1=Math.log,b1=Math.LN2,Co=128,nu=4194304,pd=Wa.unstable_scheduleCallback,ym=Wa.unstable_cancelCallback,S1=Wa.unstable_shouldYield,_m=Wa.unstable_requestPaint,As=Wa.unstable_now,xm=Wa.unstable_ImmediatePriority,w1=Wa.unstable_UserBlockingPriority,bm=Wa.unstable_NormalPriority,l2=Wa.unstable_IdlePriority,E1=Wa.log,Mr=Wa.unstable_setDisableYieldValue,Ji=null,Ca=null,Ra=typeof Object.is=="function"?Object.is:Q,Rv=new WeakMap,iu=[],ru=0,au=null,wf=0,qa=[],Ya=0,cc=null,$s=1,Js="",mr=E(null),Ef=E(null),Ro=E(null),su=E(null),Hr=null,Vr=null,Yn=!1,Cs=null,Tr=!1,md=Error(r(519)),Rs=[],ou=0,Qs=0,gd=null,yl=null,lu=!1,Ei=!1,Dv=!1,Mf=0,Tf=null,cu=0,Za=0,uu=null,_l=!1,fu=!1,Do=Object.prototype.hasOwnProperty,Af=Error(r(460)),vd=Error(r(474)),yd={then:function(){}},uc=null,fc=null,hc=0,dc=tn(!0),Oo=tn(!1),Mi=E(null),Cf=E(0),Ka=E(null),yi=null,gr=E(0),xl=0,Cn=null,on=null,Kn=null,Ds=!1,hu=!1,pc=!1,Sm=0,du=0,Ar=null,eo=0,wm=function(){return{lastEffect:null,events:null,stores:null,memoCache:null}},ji={readContext:Ir,use:ce,useCallback:sn,useContext:sn,useEffect:sn,useImperativeHandle:sn,useLayoutEffect:sn,useInsertionEffect:sn,useMemo:sn,useReducer:sn,useRef:sn,useState:sn,useDebugValue:sn,useDeferredValue:sn,useTransition:sn,useSyncExternalStore:sn,useId:sn};ji.useCacheRefresh=sn,ji.useMemoCache=sn,ji.useHostTransitionStatus=sn,ji.useFormState=sn,ji.useActionState=sn,ji.useOptimistic=sn;var mc={readContext:Ir,use:ce,useCallback:function(h,d){return oe().memoizedState=[h,d===void 0?null:d],h},useContext:Ir,useEffect:Lp,useImperativeHandle:function(h,d,x){x=x!=null?x.concat([h]):null,Oh(4194308,4,Up.bind(null,d,h),x)},useLayoutEffect:function(h,d){return Oh(4194308,4,h,d)},useInsertionEffect:function(h,d){Oh(4,2,h,d)},useMemo:function(h,d){var x=oe();d=d===void 0?null:d;var T=h();if(pc){Y(!0);try{h()}finally{Y(!1)}}return x.memoizedState=[T,d],T},useReducer:function(h,d,x){var T=oe();if(x!==void 0){var O=x(d);if(pc){Y(!0);try{x(d)}finally{Y(!1)}}}else O=d;return T.memoizedState=T.baseState=O,h={pending:null,lanes:0,dispatch:null,lastRenderedReducer:h,lastRenderedState:O},T.queue=h,h=h.dispatch=Bp.bind(null,Cn,h),[T.memoizedState,h]},useRef:function(h){var d=oe();return h={current:h},d.memoizedState=h},useState:function(h){h=Ht(h);var d=h.queue,x=Ig.bind(null,Cn,d);return d.dispatch=x,[h.memoizedState,x]},useDebugValue:Hl,useDeferredValue:function(h,d){var x=oe();return Lh(x,h,d)},useTransition:function(){var h=Ht(!1);return h=Yu.bind(null,Cn,h.queue,!0,!1),oe().memoizedState=h,[!1,h]},useSyncExternalStore:function(h,d,x){var T=Cn,O=oe();if(Yn){if(x===void 0)throw Error(r(407));x=x()}else{if(x=d(),ui===null)throw Error(r(349));(Fn&60)!==0||bt(T,d,x)}O.memoizedState=x;var k={value:x,getSnapshot:d};return O.queue=k,Lp(Kt.bind(null,T,k,h),[h]),T.flags|=2048,dr(9,jt.bind(null,T,k,x,d),{destroy:void 0},null),x},useId:function(){var h=oe(),d=ui.identifierPrefix;if(Yn){var x=Js,T=$s;x=(T&~(1<<32-ha(T)-1)).toString(32)+x,d=":"+d+"R"+x,x=Sm++,0<x&&(d+="H"+x.toString(32)),d+=":"}else x=eo++,d=":"+d+"r"+x.toString(32)+":";return h.memoizedState=d},useCacheRefresh:function(){return oe().memoizedState=Ug.bind(null,Cn)}};mc.useMemoCache=qe,mc.useHostTransitionStatus=Uh,mc.useFormState=hi,mc.useActionState=hi,mc.useOptimistic=function(h){var d=oe();d.memoizedState=d.baseState=h;var x={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return d.queue=x,d=Ku.bind(null,Cn,!0,x),x.dispatch=d,[h,d]};var da={readContext:Ir,use:ce,useCallback:Zc,useContext:Ir,useEffect:Ng,useImperativeHandle:Ip,useInsertionEffect:gx,useLayoutEffect:Ph,useMemo:Pg,useReducer:Je,useRef:mx,useState:function(){return Je(Fe)},useDebugValue:Hl,useDeferredValue:function(h,d){var x=he();return Lg(x,on.memoizedState,h,d)},useTransition:function(){var h=Je(Fe)[0],d=he().memoizedState;return[typeof h=="boolean"?h:pe(h),d]},useSyncExternalStore:Et,useId:Zu};da.useCacheRefresh=el,da.useMemoCache=qe,da.useHostTransitionStatus=Uh,da.useFormState=Di,da.useActionState=Di,da.useOptimistic=function(h,d){var x=he();return Ot(x,on,h,d)};var $a={readContext:Ir,use:ce,useCallback:Zc,useContext:Ir,useEffect:Ng,useImperativeHandle:Ip,useInsertionEffect:gx,useLayoutEffect:Ph,useMemo:Pg,useReducer:yt,useRef:mx,useState:function(){return yt(Fe)},useDebugValue:Hl,useDeferredValue:function(h,d){var x=he();return on===null?Lh(x,h,d):Lg(x,on.memoizedState,h,d)},useTransition:function(){var h=yt(Fe)[0],d=he().memoizedState;return[typeof h=="boolean"?h:pe(h),d]},useSyncExternalStore:Et,useId:Zu};$a.useCacheRefresh=el,$a.useMemoCache=qe,$a.useHostTransitionStatus=Uh,$a.useFormState=Yc,$a.useActionState=Yc,$a.useOptimistic=function(h,d){var x=he();return on!==null?Ot(x,on,h,d):(x.baseState=h,[h,x.queue.dispatch])};var No={isMounted:function(h){return(h=h._reactInternals)?g(h)===h:!1},enqueueSetState:function(h,d,x){h=h._reactInternals;var T=Zi(),O=it(T);O.payload=d,x!=null&&(O.callback=x),d=ct(h,O,T),d!==null&&(Er(d,h,T),zt(d,h,T))},enqueueReplaceState:function(h,d,x){h=h._reactInternals;var T=Zi(),O=it(T);O.tag=1,O.payload=d,x!=null&&(O.callback=x),d=ct(h,O,T),d!==null&&(Er(d,h,T),zt(d,h,T))},enqueueForceUpdate:function(h,d){h=h._reactInternals;var x=Zi(),T=it(x);T.tag=2,d!=null&&(T.callback=d),d=ct(h,T,x),d!==null&&(Er(d,h,x),zt(d,h,x))}},Em=typeof reportError=="function"?reportError:function(h){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var d=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof h=="object"&&h!==null&&typeof h.message=="string"?String(h.message):String(h),error:h});if(!window.dispatchEvent(d))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",h);return}console.error(h)},Mm=Error(r(461)),_i=!1,Tm={dehydrated:null,treeContext:null,retryLane:0},bl=E(null),to=null,Ja=null,Rf=typeof AbortController<"u"?AbortController:function(){var h=[],d=this.signal={aborted:!1,addEventListener:function(x,T){h.push(T)}};this.abort=function(){d.aborted=!0,h.forEach(function(x){return x()})}},M1=Wa.unstable_scheduleCallback,T1=Wa.unstable_NormalPriority,Ti={$$typeof:Ys,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0},Ov=fn.S;fn.S=function(h,d){typeof d=="object"&&d!==null&&typeof d.then=="function"&&Ue(h,d),Ov!==null&&Ov(h,d)};var Po=E(null),Lo=!1,Gi=!1,Nv=!1,ci=typeof WeakSet=="function"?WeakSet:Set,_n=null,Un=!1,nn=null,En=!1,ki=null,Qa=8192,Df={getCacheForType:function(h){var d=Ir(Ti),x=d.data.get(h);return x===void 0&&(x=h(),d.data.set(h,x)),x}},Of=0,Os=1,Oi=2,no=3,Uo=4;if(typeof Symbol=="function"&&Symbol.for){var pu=Symbol.for;Of=pu("selector.component"),Os=pu("selector.has_pseudo_class"),Oi=pu("selector.role"),no=pu("selector.test_id"),Uo=pu("selector.text")}var Ns=typeof WeakMap=="function"?WeakMap:Map,$n=0,ui=null,ln=null,Fn=0,pi=0,$r=null,Ps=!1,es=!1,vr=!1,Jr=0,xi=0,ts=0,Sl=0,_d=0,ns=0,Io=0,mu=null,Wi=null,Am=!1,pa=0,Nf=1/0,xd=null,gc=null,io=!1,Bo=null,gu=0,vc=0,Cm=null,Pf=0,Rm=null;return Sn.attemptContinuousHydration=function(h){if(h.tag===13){var d=re(h,67108864);d!==null&&Er(d,h,67108864),nd(h,67108864)}},Sn.attemptHydrationAtCurrentPriority=function(h){if(h.tag===13){var d=Zi(),x=re(h,d);x!==null&&Er(x,h,d),nd(h,d)}},Sn.attemptSynchronousHydration=function(h){switch(h.tag){case 3:if(h=h.stateNode,h.current.memoizedState.isDehydrated){var d=A(h.pendingLanes);if(d!==0){for(h.pendingLanes|=2,h.entangledLanes|=2;d;){var x=1<<31-ha(d);h.entanglements[1]|=x,d&=~x}$e(h),($n&6)===0&&(Nf=As()+500,_t(0))}}break;case 13:d=re(h,2),d!==null&&Er(d,h,2),Jh(),nd(h,2)}},Sn.batchedUpdates=function(h,d){return h(d)},Sn.createComponentSelector=function(h){return{$$typeof:Of,value:h}},Sn.createContainer=function(h,d,x,T,O,k,J,ve,Re,tt){return Bx(h,d,!1,null,x,T,k,J,ve,Re,tt,null)},Sn.createHasPseudoClassSelector=function(h){return{$$typeof:Os,value:h}},Sn.createHydrationContainer=function(h,d,x,T,O,k,J,ve,Re,tt,Mt,Nt,Bt){return h=Bx(x,T,!0,h,O,k,ve,Re,tt,Mt,Nt,Bt),h.context=or(null),x=h.current,T=Zi(),O=it(T),O.callback=d??null,ct(x,O,T),h.current.lanes=T,X(h,T),$e(h),h},Sn.createPortal=function(h,d,x){var T=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Es,key:T==null?null:""+T,children:h,containerInfo:d,implementation:x}},Sn.createRoleSelector=function(h){return{$$typeof:Oi,value:h}},Sn.createTestNameSelector=function(h){return{$$typeof:no,value:h}},Sn.createTextSelector=function(h){return{$$typeof:Uo,value:h}},Sn.defaultOnCaughtError=function(h){console.error(h)},Sn.defaultOnRecoverableError=function(h){Em(h)},Sn.defaultOnUncaughtError=function(h){Em(h)},Sn.deferredUpdates=function(h){var d=fn.T,x=ml();try{return Kr(32),fn.T=null,h()}finally{Kr(x),fn.T=d}},Sn.discreteUpdates=function(h,d,x,T,O){var k=fn.T,J=ml();try{return Kr(2),fn.T=null,h(d,x,T,O)}finally{Kr(J),fn.T=k,$n===0&&(Nf=As()+500)}},Sn.findAllNodes=Kh,Sn.findBoundingRects=function(h,d){if(!ac)throw Error(r(363));d=Kh(h,d),h=[];for(var x=0;x<d.length;x++)h.push(vv(d[x]));for(d=h.length-1;0<d;d--){x=h[d];for(var T=x.x,O=T+x.width,k=x.y,J=k+x.height,ve=d-1;0<=ve;ve--)if(d!==ve){var Re=h[ve],tt=Re.x,Mt=tt+Re.width,Nt=Re.y,Bt=Nt+Re.height;if(T>=tt&&k>=Nt&&O<=Mt&&J<=Bt){h.splice(d,1);break}else if(T!==tt||x.width!==Re.width||Bt<k||Nt>J){if(!(k!==Nt||x.height!==Re.height||Mt<T||tt>O)){tt>T&&(Re.width+=tt-T,Re.x=T),Mt<O&&(Re.width=O-tt),h.splice(d,1);break}}else{Nt>k&&(Re.height+=Nt-k,Re.y=k),Bt<J&&(Re.height=J-Nt),h.splice(d,1);break}}}return h},Sn.findHostInstance=tm,Sn.findHostInstanceWithNoPortals=function(h){return h=_(h),h=h!==null?w(h):null,h===null?null:vf(h.stateNode)},Sn.findHostInstanceWithWarning=function(h){return tm(h)},Sn.flushPassiveEffects=qs,Sn.flushSyncFromReconciler=function(h){var d=$n;$n|=1;var x=fn.T,T=ml();try{if(Kr(2),fn.T=null,h)return h()}finally{Kr(T),fn.T=x,$n=d,($n&6)===0&&_t(0)}},Sn.flushSyncWork=Jh,Sn.focusWithin=function(h,d){if(!ac)throw Error(r(363));for(h=of(h),d=Ta(h,d),d=Array.from(d),h=0;h<d.length;){var x=d[h++],T=x.tag;if(!_f(x)){if((T===5||T===26||T===27)&&Xx(x.stateNode))return!0;for(x=x.child;x!==null;)d.push(x),x=x.sibling}}return!1},Sn.getFindAllNodesFailureDescription=function(h,d){if(!ac)throw Error(r(363));var x=0,T=[];h=[of(h),0];for(var O=0;O<h.length;){var k=h[O++],J=k.tag,ve=h[O++],Re=d[ve];if((J!==5&&J!==26&&J!==27||!_f(k))&&(Kl(k,Re)&&(T.push(ev(Re)),ve++,ve>x&&(x=ve)),ve<d.length))for(k=k.child;k!==null;)h.push(k,ve),k=k.sibling}if(x<d.length){for(h=[];x<d.length;x++)h.push(ev(d[x]));return`findAllNodes was able to match part of the selector:
  `+(T.join(" > ")+`

No matching component was found for:
  `)+h.join(" > ")}return null},Sn.getPublicRootInstance=function(h){if(h=h.current,!h.child)return null;switch(h.child.tag){case 27:case 5:return vf(h.child.stateNode);default:return h.child.stateNode}},Sn.injectIntoDevTools=function(){var h={bundleType:0,version:fv,rendererPackageName:od,currentDispatcherRef:fn,findFiberByHostInstance:Hx,reconcilerVersion:"19.0.0"};if(gf!==null&&(h.rendererConfig=gf),typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u")h=!1;else{var d=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(d.isDisabled||!d.supportsFiber)h=!0;else{try{Ji=d.inject(h),Ca=d}catch{}h=!!d.checkDCE}}return h},Sn.isAlreadyRendering=function(){return!1},Sn.observeVisibleRects=function(h,d,x,T){if(!ac)throw Error(r(363));h=Kh(h,d);var O=qx(h,x,T).disconnect;return{disconnect:function(){O()}}},Sn.shouldError=function(){return null},Sn.shouldSuspend=function(){return!1},Sn.startHostTransition=function(h,d,x,T){if(h.tag!==5)throw Error(r(476));var O=So(h).queue;Yu(h,O,d,rc,x===null?n:function(){var k=So(h).next.queue;return Vl(h,k,{},Zi()),x(T)})},Sn.updateContainer=function(h,d,x,T){var O=d.current,k=Zi();return ff(O,k,h,d,x,T),k},Sn.updateContainerSync=function(h,d,x,T){return d.tag===0&&qs(),ff(d.current,2,h,d,x,T),2},Sn},i.exports.default=i.exports,Object.defineProperty(i.exports,"__esModule",{value:!0})})(sT)),sT.exports}var pP;function QJ(){return pP||(pP=1,aT.exports=JJ()),aT.exports}var eQ=QJ();const tQ=vg(eQ);var mP=Lz();function x3(i,e,t){if(!i)return;if(t(i)===!0)return i;let n=e?i.return:i.child;for(;n;){const r=x3(n,e,t);if(r)return r;n=e?null:n.sibling}}function Uz(i){try{return Object.defineProperties(i,{_currentRenderer:{get(){return null},set(){}},_currentRenderer2:{get(){return null},set(){}}})}catch{return i}}const b3=Uz(H.createContext(null));let Iz=class extends H.Component{render(){return H.createElement(b3.Provider,{value:this._reactInternals},this.props.children)}};function Bz(){const i=H.useContext(b3);if(i===null)throw new Error("its-fine: useFiber must be called within a <FiberProvider />!");const e=H.useId();return H.useMemo(()=>{for(const t of[i,i?.alternate]){if(!t)continue;const n=x3(t,!1,r=>{let a=r.memoizedState;for(;a;){if(a.memoizedState===e)return!0;a=a.next}});if(n)return n}},[i,e])}const nQ=Symbol.for("react.context"),iQ=i=>i!==null&&typeof i=="object"&&"$$typeof"in i&&i.$$typeof===nQ;function rQ(){const i=Bz(),[e]=H.useState(()=>new Map);e.clear();let t=i;for(;t;){const n=t.type;iQ(n)&&n!==b3&&!e.has(n)&&e.set(n,H.use(Uz(n))),t=t.return}return e}function aQ(){const i=rQ();return H.useMemo(()=>Array.from(i.keys()).reduce((e,t)=>n=>H.createElement(e,null,H.createElement(t.Provider,{...n,value:i.get(t)})),e=>H.createElement(Iz,{...e})),[i])}function zz(i){let e=i.root;for(;e.getState().previousRoot;)e=e.getState().previousRoot;return e}const kz=i=>i&&i.isOrthographicCamera,sQ=i=>i&&i.hasOwnProperty("current"),oQ=i=>i!=null&&(typeof i=="string"||typeof i=="number"||i.isColor),sx=((i,e)=>typeof window<"u"&&(((i=window.document)==null?void 0:i.createElement)||((e=window.navigator)==null?void 0:e.product)==="ReactNative"))()?H.useLayoutEffect:H.useEffect;function S3(i){const e=H.useRef(i);return sx(()=>void(e.current=i),[i]),e}function lQ(){const i=Bz(),e=aQ();return H.useMemo(()=>({children:t})=>{const r=!!x3(i,!0,a=>a.type===H.StrictMode)?H.StrictMode:H.Fragment;return I.jsx(r,{children:I.jsx(e,{children:t})})},[i,e])}function cQ({set:i}){return sx(()=>(i(new Promise(()=>null)),()=>i(!1)),[i]),null}const uQ=(i=>(i=class extends H.Component{constructor(...t){super(...t),this.state={error:!1}}componentDidCatch(t){this.props.set(t)}render(){return this.state.error?null:this.props.children}},i.getDerivedStateFromError=()=>({error:!0}),i))();function Fz(i){var e;const t=typeof window<"u"?(e=window.devicePixelRatio)!=null?e:2:1;return Array.isArray(i)?Math.min(Math.max(i[0],t),i[1]):i}function m0(i){var e;return(e=i.__r3f)==null?void 0:e.root.getState()}const Xi={obj:i=>i===Object(i)&&!Xi.arr(i)&&typeof i!="function",fun:i=>typeof i=="function",str:i=>typeof i=="string",num:i=>typeof i=="number",boo:i=>typeof i=="boolean",und:i=>i===void 0,nul:i=>i===null,arr:i=>Array.isArray(i),equ(i,e,{arrays:t="shallow",objects:n="reference",strict:r=!0}={}){if(typeof i!=typeof e||!!i!=!!e)return!1;if(Xi.str(i)||Xi.num(i)||Xi.boo(i))return i===e;const a=Xi.obj(i);if(a&&n==="reference")return i===e;const s=Xi.arr(i);if(s&&t==="reference")return i===e;if((s||a)&&i===e)return!0;let l;for(l in i)if(!(l in e))return!1;if(a&&t==="shallow"&&n==="shallow"){for(l in r?e:i)if(!Xi.equ(i[l],e[l],{strict:r,objects:"reference"}))return!1}else for(l in r?e:i)if(i[l]!==e[l])return!1;if(Xi.und(l)){if(s&&i.length===0&&e.length===0||a&&Object.keys(i).length===0&&Object.keys(e).length===0)return!0;if(i!==e)return!1}return!0}};function fQ(i){const e={nodes:{},materials:{},meshes:{}};return i&&i.traverse(t=>{t.name&&(e.nodes[t.name]=t),t.material&&!e.materials[t.material.name]&&(e.materials[t.material.name]=t.material),t.isMesh&&!e.meshes[t.name]&&(e.meshes[t.name]=t)}),e}function hQ(i){i.type!=="Scene"&&(i.dispose==null||i.dispose());for(const e in i){const t=i[e];t?.type!=="Scene"&&(t==null||t.dispose==null||t.dispose())}}const Hz=["children","key","ref"];function dQ(i){const e={};for(const t in i)Hz.includes(t)||(e[t]=i[t]);return e}function Bw(i,e,t,n){const r=i;let a=r?.__r3f;return a||(a={root:e,type:t,parent:null,children:[],props:dQ(n),object:r,eventCount:0,handlers:{},isHidden:!1},r&&(r.__r3f=a)),a}function O_(i,e){let t=i[e];if(!e.includes("-"))return{root:i,key:e,target:t};t=i;for(const r of e.split("-")){var n;e=r,i=t,t=(n=t)==null?void 0:n[e]}return{root:i,key:e,target:t}}const gP=/-\d+$/;function zw(i,e){if(Xi.str(e.props.attach)){if(gP.test(e.props.attach)){const r=e.props.attach.replace(gP,""),{root:a,key:s}=O_(i.object,r);Array.isArray(a[s])||(a[s]=[])}const{root:t,key:n}=O_(i.object,e.props.attach);e.previousAttach=t[n],t[n]=e.object}else Xi.fun(e.props.attach)&&(e.previousAttach=e.props.attach(i.object,e.object))}function kw(i,e){if(Xi.str(e.props.attach)){const{root:t,key:n}=O_(i.object,e.props.attach),r=e.previousAttach;r===void 0?delete t[n]:t[n]=r}else e.previousAttach==null||e.previousAttach(i.object,e.object);delete e.previousAttach}const nC=[...Hz,"args","dispose","attach","object","onUpdate","dispose"],vP=new Map;function pQ(i){let e=vP.get(i.constructor);try{e||(e=new i.constructor,vP.set(i.constructor,e))}catch{}return e}function mQ(i,e){const t={};for(const n in e)if(!nC.includes(n)&&!Xi.equ(e[n],i.props[n])){t[n]=e[n];for(const r in e)r.startsWith(`${n}-`)&&(t[r]=e[r])}for(const n in i.props){if(nC.includes(n)||e.hasOwnProperty(n))continue;const{root:r,key:a}=O_(i.object,n);if(r.constructor&&r.constructor.length===0){const s=pQ(r);Xi.und(s)||(t[a]=s[a])}else t[a]=0}return t}const gQ=["map","emissiveMap","sheenColorMap","specularColorMap","envMap"],vQ=/^on(Pointer|Click|DoubleClick|ContextMenu|Wheel)/;function Rc(i,e){var t;const n=i.__r3f,r=n&&zz(n).getState(),a=n?.eventCount;for(const l in e){let u=e[l];if(nC.includes(l))continue;if(n&&vQ.test(l)){typeof u=="function"?n.handlers[l]=u:delete n.handlers[l],n.eventCount=Object.keys(n.handlers).length;continue}if(u===void 0)continue;let{root:f,key:p,target:g}=O_(i,l);if(g instanceof lg&&u instanceof lg)g.mask=u.mask;else if(g instanceof Vt&&oQ(u))g.set(u);else if(g!==null&&typeof g=="object"&&typeof g.set=="function"&&typeof g.copy=="function"&&u!=null&&u.constructor&&g.constructor===u.constructor)g.copy(u);else if(g!==null&&typeof g=="object"&&typeof g.set=="function"&&Array.isArray(u))typeof g.fromArray=="function"?g.fromArray(u):g.set(...u);else if(g!==null&&typeof g=="object"&&typeof g.set=="function"&&typeof u=="number")typeof g.setScalar=="function"?g.setScalar(u):g.set(u);else{var s;f[p]=u,r&&!r.linear&&gQ.includes(p)&&(s=f[p])!=null&&s.isTexture&&f[p].format===Sr&&f[p].type===ys&&(f[p].colorSpace=va)}}if(n!=null&&n.parent&&r!=null&&r.internal&&(t=n.object)!=null&&t.isObject3D&&a!==n.eventCount){const l=n.object,u=r.internal.interaction.indexOf(l);u>-1&&r.internal.interaction.splice(u,1),n.eventCount&&l.raycast!==null&&r.internal.interaction.push(l)}return n&&n.props.attach===void 0&&(n.object.isBufferGeometry?n.props.attach="geometry":n.object.isMaterial&&(n.props.attach="material")),n&&Ag(n),i}function Ag(i){var e;if(!i.parent)return;i.props.onUpdate==null||i.props.onUpdate(i.object);const t=(e=i.root)==null||e.getState==null?void 0:e.getState();t&&t.internal.frames===0&&t.invalidate()}function Vz(i,e){i.manual||(kz(i)?(i.left=e.width/-2,i.right=e.width/2,i.top=e.height/2,i.bottom=e.height/-2):i.aspect=e.width/e.height,i.updateProjectionMatrix())}const hs=i=>i?.isObject3D;function Qb(i){return(i.eventObject||i.object).uuid+"/"+i.index+i.instanceId}function jz(i,e,t,n){const r=t.get(e);r&&(t.delete(e),t.size===0&&(i.delete(n),r.target.releasePointerCapture(n)))}function yQ(i,e){const{internal:t}=i.getState();t.interaction=t.interaction.filter(n=>n!==e),t.initialHits=t.initialHits.filter(n=>n!==e),t.hovered.forEach((n,r)=>{(n.eventObject===e||n.object===e)&&t.hovered.delete(r)}),t.capturedMap.forEach((n,r)=>{jz(t.capturedMap,e,n,r)})}function _Q(i){function e(u){const{internal:f}=i.getState(),p=u.offsetX-f.initialClick[0],g=u.offsetY-f.initialClick[1];return Math.round(Math.sqrt(p*p+g*g))}function t(u){return u.filter(f=>["Move","Over","Enter","Out","Leave"].some(p=>{var g;return(g=f.__r3f)==null?void 0:g.handlers["onPointer"+p]}))}function n(u,f){const p=i.getState(),g=new Set,v=[],_=f?f(p.internal.interaction):p.internal.interaction;for(let b=0;b<_.length;b++){const R=m0(_[b]);R&&(R.raycaster.camera=void 0)}p.previousRoot||p.events.compute==null||p.events.compute(u,p);function S(b){const R=m0(b);if(!R||!R.events.enabled||R.raycaster.camera===null)return[];if(R.raycaster.camera===void 0){var C;R.events.compute==null||R.events.compute(u,R,(C=R.previousRoot)==null?void 0:C.getState()),R.raycaster.camera===void 0&&(R.raycaster.camera=null)}return R.raycaster.camera?R.raycaster.intersectObject(b,!0):[]}let w=_.flatMap(S).sort((b,R)=>{const C=m0(b.object),A=m0(R.object);return!C||!A?b.distance-R.distance:A.events.priority-C.events.priority||b.distance-R.distance}).filter(b=>{const R=Qb(b);return g.has(R)?!1:(g.add(R),!0)});p.events.filter&&(w=p.events.filter(w,p));for(const b of w){let R=b.object;for(;R;){var E;(E=R.__r3f)!=null&&E.eventCount&&v.push({...b,eventObject:R}),R=R.parent}}if("pointerId"in u&&p.internal.capturedMap.has(u.pointerId))for(let b of p.internal.capturedMap.get(u.pointerId).values())g.has(Qb(b.intersection))||v.push(b.intersection);return v}function r(u,f,p,g){if(u.length){const v={stopped:!1};for(const _ of u){let S=m0(_.object);if(S||_.object.traverseAncestors(w=>{const E=m0(w);if(E)return S=E,!1}),S){const{raycaster:w,pointer:E,camera:b,internal:R}=S,C=new le(E.x,E.y,0).unproject(b),A=P=>{var z,X;return(z=(X=R.capturedMap.get(P))==null?void 0:X.has(_.eventObject))!=null?z:!1},N=P=>{const z={intersection:_,target:f.target};R.capturedMap.has(P)?R.capturedMap.get(P).set(_.eventObject,z):R.capturedMap.set(P,new Map([[_.eventObject,z]])),f.target.setPointerCapture(P)},L=P=>{const z=R.capturedMap.get(P);z&&jz(R.capturedMap,_.eventObject,z,P)};let B={};for(let P in f){let z=f[P];typeof z!="function"&&(B[P]=z)}let U={..._,...B,pointer:E,intersections:u,stopped:v.stopped,delta:p,unprojectedPoint:C,ray:w.ray,camera:b,stopPropagation(){const P="pointerId"in f&&R.capturedMap.get(f.pointerId);if((!P||P.has(_.eventObject))&&(U.stopped=v.stopped=!0,R.hovered.size&&Array.from(R.hovered.values()).find(z=>z.eventObject===_.eventObject))){const z=u.slice(0,u.indexOf(_));a([...z,_])}},target:{hasPointerCapture:A,setPointerCapture:N,releasePointerCapture:L},currentTarget:{hasPointerCapture:A,setPointerCapture:N,releasePointerCapture:L},nativeEvent:f};if(g(U),v.stopped===!0)break}}}return u}function a(u){const{internal:f}=i.getState();for(const p of f.hovered.values())if(!u.length||!u.find(g=>g.object===p.object&&g.index===p.index&&g.instanceId===p.instanceId)){const v=p.eventObject.__r3f;if(f.hovered.delete(Qb(p)),v!=null&&v.eventCount){const _=v.handlers,S={...p,intersections:u};_.onPointerOut==null||_.onPointerOut(S),_.onPointerLeave==null||_.onPointerLeave(S)}}}function s(u,f){for(let p=0;p<f.length;p++){const g=f[p].__r3f;g==null||g.handlers.onPointerMissed==null||g.handlers.onPointerMissed(u)}}function l(u){switch(u){case"onPointerLeave":case"onPointerCancel":return()=>a([]);case"onLostPointerCapture":return f=>{const{internal:p}=i.getState();"pointerId"in f&&p.capturedMap.has(f.pointerId)&&requestAnimationFrame(()=>{p.capturedMap.has(f.pointerId)&&(p.capturedMap.delete(f.pointerId),a([]))})}}return function(p){const{onPointerMissed:g,internal:v}=i.getState();v.lastEvent.current=p;const _=u==="onPointerMove",S=u==="onClick"||u==="onContextMenu"||u==="onDoubleClick",E=n(p,_?t:void 0),b=S?e(p):0;u==="onPointerDown"&&(v.initialClick=[p.offsetX,p.offsetY],v.initialHits=E.map(C=>C.eventObject)),S&&!E.length&&b<=2&&(s(p,v.interaction),g&&g(p)),_&&a(E);function R(C){const A=C.eventObject,N=A.__r3f;if(!(N!=null&&N.eventCount))return;const L=N.handlers;if(_){if(L.onPointerOver||L.onPointerEnter||L.onPointerOut||L.onPointerLeave){const B=Qb(C),U=v.hovered.get(B);U?U.stopped&&C.stopPropagation():(v.hovered.set(B,C),L.onPointerOver==null||L.onPointerOver(C),L.onPointerEnter==null||L.onPointerEnter(C))}L.onPointerMove==null||L.onPointerMove(C)}else{const B=L[u];B?(!S||v.initialHits.includes(A))&&(s(p,v.interaction.filter(U=>!v.initialHits.includes(U))),B(C)):S&&v.initialHits.includes(A)&&s(p,v.interaction.filter(U=>!v.initialHits.includes(U)))}}r(E,p,b,R)}}return{handlePointer:l}}const yP=i=>!!(i!=null&&i.render),w3=H.createContext(null),xQ=(i,e)=>{const t=Oz((l,u)=>{const f=new le,p=new le,g=new le;function v(b=u().camera,R=p,C=u().size){const{width:A,height:N,top:L,left:B}=C,U=A/N;R.isVector3?g.copy(R):g.set(...R);const P=b.getWorldPosition(f).distanceTo(g);if(kz(b))return{width:A/b.zoom,height:N/b.zoom,top:L,left:B,factor:1,distance:P,aspect:U};{const z=b.fov*Math.PI/180,X=2*Math.tan(z/2)*P,te=X*(A/N);return{width:te,height:X,top:L,left:B,factor:A/te,distance:P,aspect:U}}}let _;const S=b=>l(R=>({performance:{...R.performance,current:b}})),w=new ut;return{set:l,get:u,gl:null,camera:null,raycaster:null,events:{priority:1,enabled:!0,connected:!1},scene:null,xr:null,invalidate:(b=1)=>i(u(),b),advance:(b,R)=>e(b,R,u()),legacy:!1,linear:!1,flat:!1,controls:null,clock:new h3,pointer:w,mouse:w,frameloop:"always",onPointerMissed:void 0,performance:{current:1,min:.5,max:1,debounce:200,regress:()=>{const b=u();_&&clearTimeout(_),b.performance.current!==b.performance.min&&S(b.performance.min),_=setTimeout(()=>S(u().performance.max),b.performance.debounce)}},size:{width:0,height:0,top:0,left:0},viewport:{initialDpr:0,dpr:0,width:0,height:0,top:0,left:0,aspect:0,distance:0,factor:0,getCurrentViewport:v},setEvents:b=>l(R=>({...R,events:{...R.events,...b}})),setSize:(b,R,C=0,A=0)=>{const N=u().camera,L={width:b,height:R,top:C,left:A};l(B=>({size:L,viewport:{...B.viewport,...v(N,p,L)}}))},setDpr:b=>l(R=>{const C=Fz(b);return{viewport:{...R.viewport,dpr:C,initialDpr:R.viewport.initialDpr||C}}}),setFrameloop:(b="always")=>{const R=u().clock;R.stop(),R.elapsedTime=0,b!=="never"&&(R.start(),R.elapsedTime=0),l(()=>({frameloop:b}))},previousRoot:void 0,internal:{interaction:[],hovered:new Map,subscribers:[],initialClick:[0,0],initialHits:[],capturedMap:new Map,lastEvent:H.createRef(),active:!1,frames:0,priority:0,subscribe:(b,R,C)=>{const A=u().internal;return A.priority=A.priority+(R>0?1:0),A.subscribers.push({ref:b,priority:R,store:C}),A.subscribers=A.subscribers.sort((N,L)=>N.priority-L.priority),()=>{const N=u().internal;N!=null&&N.subscribers&&(N.priority=N.priority-(R>0?1:0),N.subscribers=N.subscribers.filter(L=>L.ref!==b))}}}}}),n=t.getState();let r=n.size,a=n.viewport.dpr,s=n.camera;return t.subscribe(()=>{const{camera:l,size:u,viewport:f,gl:p,set:g}=t.getState();if(u.width!==r.width||u.height!==r.height||f.dpr!==a){r=u,a=f.dpr,Vz(l,u),f.dpr>0&&p.setPixelRatio(f.dpr);const v=typeof HTMLCanvasElement<"u"&&p.domElement instanceof HTMLCanvasElement;p.setSize(u.width,u.height,v)}l!==s&&(s=l,g(v=>({viewport:{...v.viewport,...v.viewport.getCurrentViewport(l)}})))}),t.subscribe(l=>i(l)),t};function E3(){const i=H.useContext(w3);if(!i)throw new Error("R3F: Hooks can only be used within the Canvas component!");return i}function hg(i=t=>t,e){return E3()(i,e)}function zE(i,e=0){const t=E3(),n=t.getState().internal.subscribe,r=S3(i);return sx(()=>n(r,e,t),[e,n,t]),null}const _P=new WeakMap,bQ=i=>{var e;return typeof i=="function"&&(i==null||(e=i.prototype)==null?void 0:e.constructor)===i};function Gz(i,e){return function(t,...n){let r;return bQ(t)?(r=_P.get(t),r||(r=new t,_P.set(t,r))):r=t,i&&i(r),Promise.all(n.map(a=>new Promise((s,l)=>r.load(a,u=>{hs(u?.scene)&&Object.assign(u,fQ(u.scene)),s(u)},e,u=>l(new Error(`Could not load ${a}: ${u?.message}`))))))}}function Fu(i,e,t,n){const r=Array.isArray(e)?e:[e],a=YJ(Gz(t,n),[i,...r],{equal:Xi.equ});return Array.isArray(e)?a:a[0]}Fu.preload=function(i,e,t){const n=Array.isArray(e)?e:[e];return ZJ(Gz(t),[i,...n])};Fu.clear=function(i,e){const t=Array.isArray(e)?e:[e];return KJ([i,...t])};function SQ(i){const e=tQ(i);return e.injectIntoDevTools({bundleType:0,rendererPackageName:"@react-three/fiber",version:H.version}),e}const Wz=0,dg={},wQ=/^three(?=[A-Z])/,kE=i=>`${i[0].toUpperCase()}${i.slice(1)}`;let EQ=0;const MQ=i=>typeof i=="function";function Xz(i){if(MQ(i)){const e=`${EQ++}`;return dg[e]=i,e}else Object.assign(dg,i)}function qz(i,e){const t=kE(i),n=dg[t];if(i!=="primitive"&&!n)throw new Error(`R3F: ${t} is not part of the THREE namespace! Did you forget to extend? See: https://docs.pmnd.rs/react-three-fiber/api/objects#using-3rd-party-objects-declaratively`);if(i==="primitive"&&!e.object)throw new Error("R3F: Primitives without 'object' are invalid!");if(e.args!==void 0&&!Array.isArray(e.args))throw new Error("R3F: The args prop must be an array!")}function TQ(i,e,t){var n;return i=kE(i)in dg?i:i.replace(wQ,""),qz(i,e),i==="primitive"&&(n=e.object)!=null&&n.__r3f&&delete e.object.__r3f,Bw(e.object,t,i,e)}function AQ(i){if(!i.isHidden){var e;i.props.attach&&(e=i.parent)!=null&&e.object?kw(i.parent,i):hs(i.object)&&(i.object.visible=!1),i.isHidden=!0,Ag(i)}}function Yz(i){if(i.isHidden){var e;i.props.attach&&(e=i.parent)!=null&&e.object?zw(i.parent,i):hs(i.object)&&i.props.visible!==!1&&(i.object.visible=!0),i.isHidden=!1,Ag(i)}}function M3(i,e,t){const n=e.root.getState();if(!(!i.parent&&i.object!==n.scene)){if(!e.object){var r,a;const s=dg[kE(e.type)];e.object=(r=e.props.object)!=null?r:new s(...(a=e.props.args)!=null?a:[]),e.object.__r3f=e}if(Rc(e.object,e.props),e.props.attach)zw(i,e);else if(hs(e.object)&&hs(i.object)){const s=i.object.children.indexOf(t?.object);if(t&&s!==-1){const l=i.object.children.indexOf(e.object);if(l!==-1){i.object.children.splice(l,1);const u=l<s?s-1:s;i.object.children.splice(u,0,e.object)}else e.object.parent=i.object,i.object.children.splice(s,0,e.object),e.object.dispatchEvent({type:"added"}),i.object.dispatchEvent({type:"childadded",child:e.object})}else i.object.add(e.object)}for(const s of e.children)M3(e,s);Ag(e)}}function cT(i,e){e&&(e.parent=i,i.children.push(e),M3(i,e))}function xP(i,e,t){if(!e||!t)return;e.parent=i;const n=i.children.indexOf(t);n!==-1?i.children.splice(n,0,e):i.children.push(e),M3(i,e,t)}function Zz(i){if(typeof i.dispose=="function"){const e=()=>{try{i.dispose()}catch{}};typeof IS_REACT_ACT_ENVIRONMENT<"u"?e():mP.unstable_scheduleCallback(mP.unstable_IdlePriority,e)}}function iC(i,e,t){if(!e)return;e.parent=null;const n=i.children.indexOf(e);n!==-1&&i.children.splice(n,1),e.props.attach?kw(i,e):hs(e.object)&&hs(i.object)&&(i.object.remove(e.object),yQ(zz(e),e.object));const r=e.props.dispose!==null&&t!==!1;for(let a=e.children.length-1;a>=0;a--){const s=e.children[a];iC(e,s,r)}e.children.length=0,delete e.object.__r3f,r&&e.type!=="primitive"&&e.object.type!=="Scene"&&Zz(e.object),t===void 0&&Ag(e)}function CQ(i,e){for(const t of[i,i.alternate])if(t!==null)if(typeof t.ref=="function"){t.refCleanup==null||t.refCleanup();const n=t.ref(e);typeof n=="function"&&(t.refCleanup=n)}else t.ref&&(t.ref.current=e)}const ES=[];function RQ(){for(const[t]of ES){const n=t.parent;if(n){t.props.attach?kw(n,t):hs(t.object)&&hs(n.object)&&n.object.remove(t.object);for(const r of t.children)r.props.attach?kw(t,r):hs(r.object)&&hs(t.object)&&t.object.remove(r.object)}t.isHidden&&Yz(t),t.object.__r3f&&delete t.object.__r3f,t.type!=="primitive"&&Zz(t.object)}for(const[t,n,r]of ES){t.props=n;const a=t.parent;if(a){var i,e;const s=dg[kE(t.type)];t.object=(i=t.props.object)!=null?i:new s(...(e=t.props.args)!=null?e:[]),t.object.__r3f=t,CQ(r,t.object),Rc(t.object,t.props),t.props.attach?zw(a,t):hs(t.object)&&hs(a.object)&&a.object.add(t.object);for(const l of t.children)l.props.attach?zw(t,l):hs(l.object)&&hs(t.object)&&t.object.add(l.object);Ag(t)}}ES.length=0}const uT=()=>{},bP={};let eS=Wz;const DQ=0,OQ=4,Fw=SQ({isPrimaryRenderer:!1,warnsIfNotActing:!1,supportsMutation:!0,supportsPersistence:!1,supportsHydration:!1,createInstance:TQ,removeChild:iC,appendChild:cT,appendInitialChild:cT,insertBefore:xP,appendChildToContainer(i,e){const t=i.getState().scene.__r3f;!e||!t||cT(t,e)},removeChildFromContainer(i,e){const t=i.getState().scene.__r3f;!e||!t||iC(t,e)},insertInContainerBefore(i,e,t){const n=i.getState().scene.__r3f;!e||!t||!n||xP(n,e,t)},getRootHostContext:()=>bP,getChildHostContext:()=>bP,commitUpdate(i,e,t,n,r){var a,s,l;qz(e,n);let u=!1;if((i.type==="primitive"&&t.object!==n.object||((a=n.args)==null?void 0:a.length)!==((s=t.args)==null?void 0:s.length)||(l=n.args)!=null&&l.some((p,g)=>{var v;return p!==((v=t.args)==null?void 0:v[g])}))&&(u=!0),u)ES.push([i,{...n},r]);else{const p=mQ(i,n);Object.keys(p).length&&(Object.assign(i.props,p),Rc(i.object,p))}(r.sibling===null||(r.flags&OQ)===DQ)&&RQ()},finalizeInitialChildren:()=>!1,commitMount(){},getPublicInstance:i=>i?.object,prepareForCommit:()=>null,preparePortalMount:i=>Bw(i.getState().scene,i,"",{}),resetAfterCommit:()=>{},shouldSetTextContent:()=>!1,clearContainer:()=>!1,hideInstance:AQ,unhideInstance:Yz,createTextInstance:uT,hideTextInstance:uT,unhideTextInstance:uT,scheduleTimeout:typeof setTimeout=="function"?setTimeout:void 0,cancelTimeout:typeof clearTimeout=="function"?clearTimeout:void 0,noTimeout:-1,getInstanceFromNode:()=>null,beforeActiveInstanceBlur(){},afterActiveInstanceBlur(){},detachDeletedInstance(){},prepareScopeUpdate(){},getInstanceFromScope:()=>null,shouldAttemptEagerTransition:()=>!1,trackSchedulerEvent:()=>{},resolveEventType:()=>null,resolveEventTimeStamp:()=>-1.1,requestPostPaintCallback(){},maySuspendCommit:()=>!1,preloadInstance:()=>!0,startSuspendingCommit(){},suspendInstance(){},waitForCommitToBeReady:()=>null,NotPendingTransition:null,HostTransitionContext:H.createContext(null),setCurrentUpdatePriority(i){eS=i},getCurrentUpdatePriority(){return eS},resolveUpdatePriority(){var i;if(eS!==Wz)return eS;switch(typeof window<"u"&&((i=window.event)==null?void 0:i.type)){case"click":case"contextmenu":case"dblclick":case"pointercancel":case"pointerdown":case"pointerup":return xS.DiscreteEventPriority;case"pointermove":case"pointerout":case"pointerover":case"pointerenter":case"pointerleave":case"wheel":return xS.ContinuousEventPriority;default:return xS.DefaultEventPriority}},resetFormInstance(){}}),Mp=new Map,g0={objects:"shallow",strict:!1};function NQ(i,e){if(!e&&typeof HTMLCanvasElement<"u"&&i instanceof HTMLCanvasElement&&i.parentElement){const{width:t,height:n,top:r,left:a}=i.parentElement.getBoundingClientRect();return{width:t,height:n,top:r,left:a}}else if(!e&&typeof OffscreenCanvas<"u"&&i instanceof OffscreenCanvas)return{width:i.width,height:i.height,top:0,left:0};return{width:0,height:0,top:0,left:0,...e}}function PQ(i){const e=Mp.get(i),t=e?.fiber,n=e?.store;e&&console.warn("R3F.createRoot should only be called once!");const r=typeof reportError=="function"?reportError:console.error,a=n||xQ(sC,wP),s=t||Fw.createContainer(a,xS.ConcurrentRoot,null,!1,null,"",r,r,r,null);e||Mp.set(i,{fiber:s,store:a});let l,u,f=!1,p=null;return{async configure(g={}){let v;p=new Promise(fe=>v=fe);let{gl:_,size:S,scene:w,events:E,onCreated:b,shadows:R=!1,linear:C=!1,flat:A=!1,legacy:N=!1,orthographic:L=!1,frameloop:B="always",dpr:U=[1,2],performance:P,raycaster:z,camera:X,onPointerMissed:te}=g,se=a.getState(),ae=se.gl;if(!se.gl){const fe={canvas:i,powerPreference:"high-performance",antialias:!0,alpha:!0},Se=typeof _=="function"?await _(fe):_;yP(Se)?ae=Se:ae=new _3({...fe,..._}),se.set({gl:ae})}let ue=se.raycaster;ue||se.set({raycaster:ue=new g3});const{params:G,...Y}=z||{};if(Xi.equ(Y,ue,g0)||Rc(ue,{...Y}),Xi.equ(G,ue.params,g0)||Rc(ue,{params:{...ue.params,...G}}),!se.camera||se.camera===u&&!Xi.equ(u,X,g0)){u=X;const fe=X?.isCamera,Se=fe?X:L?new Mg(0,0,0,0,.1,1e3):new ra(75,0,.1,1e3);fe||(Se.position.z=5,X&&(Rc(Se,X),Se.manual||("aspect"in X||"left"in X||"right"in X||"bottom"in X||"top"in X)&&(Se.manual=!0,Se.updateProjectionMatrix())),!se.camera&&!(X!=null&&X.rotation)&&Se.lookAt(0,0,0)),se.set({camera:Se}),ue.camera=Se}if(!se.scene){let fe;w!=null&&w.isScene?(fe=w,Bw(fe,a,"",{})):(fe=new J_,Bw(fe,a,"",{}),w&&Rc(fe,w)),se.set({scene:fe})}E&&!se.events.handlers&&se.set({events:E(a)});const Q=NQ(i,S);if(Xi.equ(Q,se.size,g0)||se.setSize(Q.width,Q.height,Q.top,Q.left),U&&se.viewport.dpr!==Fz(U)&&se.setDpr(U),se.frameloop!==B&&se.setFrameloop(B),se.onPointerMissed||se.set({onPointerMissed:te}),P&&!Xi.equ(P,se.performance,g0)&&se.set(fe=>({performance:{...fe.performance,...P}})),!se.xr){var ye;const fe=(ke,we)=>{const ee=a.getState();ee.frameloop!=="never"&&wP(ke,!0,ee,we)},Se=()=>{const ke=a.getState();ke.gl.xr.enabled=ke.gl.xr.isPresenting,ke.gl.xr.setAnimationLoop(ke.gl.xr.isPresenting?fe:null),ke.gl.xr.isPresenting||sC(ke)},Ce={connect(){const ke=a.getState().gl;ke.xr.addEventListener("sessionstart",Se),ke.xr.addEventListener("sessionend",Se)},disconnect(){const ke=a.getState().gl;ke.xr.removeEventListener("sessionstart",Se),ke.xr.removeEventListener("sessionend",Se)}};typeof((ye=ae.xr)==null?void 0:ye.addEventListener)=="function"&&Ce.connect(),se.set({xr:Ce})}if(ae.shadowMap){const fe=ae.shadowMap.enabled,Se=ae.shadowMap.type;if(ae.shadowMap.enabled=!!R,Xi.boo(R))ae.shadowMap.type=Fy;else if(Xi.str(R)){var F;const Ce={basic:PI,percentage:aE,soft:Fy,variance:Ol};ae.shadowMap.type=(F=Ce[R])!=null?F:Fy}else Xi.obj(R)&&Object.assign(ae.shadowMap,R);(fe!==ae.shadowMap.enabled||Se!==ae.shadowMap.type)&&(ae.shadowMap.needsUpdate=!0)}return Qn.enabled=!N,f||(ae.outputColorSpace=C?zl:va,ae.toneMapping=A?Bc:PR),se.legacy!==N&&se.set(()=>({legacy:N})),se.linear!==C&&se.set(()=>({linear:C})),se.flat!==A&&se.set(()=>({flat:A})),_&&!Xi.fun(_)&&!yP(_)&&!Xi.equ(_,ae,g0)&&Rc(ae,_),l=b,f=!0,v(),this},render(g){return!f&&!p&&this.configure(),p.then(()=>{Fw.updateContainer(I.jsx(LQ,{store:a,children:g,onCreated:l,rootElement:i}),s,null,()=>{})}),a},unmount(){Kz(i)}}}function LQ({store:i,children:e,onCreated:t,rootElement:n}){return sx(()=>{const r=i.getState();r.set(a=>({internal:{...a.internal,active:!0}})),t&&t(r),i.getState().events.connected||r.events.connect==null||r.events.connect(n)},[]),I.jsx(w3.Provider,{value:i,children:e})}function Kz(i,e){const t=Mp.get(i),n=t?.fiber;if(n){const r=t?.store.getState();r&&(r.internal.active=!1),Fw.updateContainer(null,n,null,()=>{r&&setTimeout(()=>{try{var a,s,l,u;r.events.disconnect==null||r.events.disconnect(),(a=r.gl)==null||(s=a.renderLists)==null||s.dispose==null||s.dispose(),(l=r.gl)==null||l.forceContextLoss==null||l.forceContextLoss(),(u=r.gl)!=null&&u.xr&&r.xr.disconnect(),hQ(r.scene),Mp.delete(i)}catch{}},500)})}}function UQ(i,e,t){return I.jsx(IQ,{children:i,container:e,state:t})}function IQ({state:i={},children:e,container:t}){const{events:n,size:r,...a}=i,s=E3(),[l]=H.useState(()=>new g3),[u]=H.useState(()=>new ut),f=S3((g,v)=>{let _;if(v.camera&&r){const S=v.camera;_=g.viewport.getCurrentViewport(S,new le,r),S!==g.camera&&Vz(S,r)}return{...g,...v,scene:t,raycaster:l,pointer:u,mouse:u,previousRoot:s,events:{...g.events,...v.events,...n},size:{...g.size,...r},viewport:{...g.viewport,..._},setEvents:S=>v.set(w=>({...w,events:{...w.events,...S}}))}}),p=H.useMemo(()=>{const g=Oz((_,S)=>({...a,set:_,get:S})),v=_=>g.setState(S=>f.current(_,S));return v(s.getState()),s.subscribe(v),g},[s,t]);return I.jsx(I.Fragment,{children:Fw.createPortal(I.jsx(w3.Provider,{value:p,children:e}),p,null)})}const BQ=new Set,zQ=new Set,kQ=new Set;function fT(i,e){if(i.size)for(const{callback:t}of i.values())t(e)}function Ky(i,e){switch(i){case"before":return fT(BQ,e);case"after":return fT(zQ,e);case"tail":return fT(kQ,e)}}let hT,dT;function rC(i,e,t){let n=e.clock.getDelta();e.frameloop==="never"&&typeof i=="number"&&(n=i-e.clock.elapsedTime,e.clock.oldTime=e.clock.elapsedTime,e.clock.elapsedTime=i),hT=e.internal.subscribers;for(let r=0;r<hT.length;r++)dT=hT[r],dT.ref.current(dT.store.getState(),n,t);return!e.internal.priority&&e.gl.render&&e.gl.render(e.scene,e.camera),e.internal.frames=Math.max(0,e.internal.frames-1),e.frameloop==="always"?1:e.internal.frames}let Hw=!1,aC=!1,pT,SP,v0;function $z(i){SP=requestAnimationFrame($z),Hw=!0,pT=0,Ky("before",i),aC=!0;for(const t of Mp.values()){var e;v0=t.store.getState(),v0.internal.active&&(v0.frameloop==="always"||v0.internal.frames>0)&&!((e=v0.gl.xr)!=null&&e.isPresenting)&&(pT+=rC(i,v0))}if(aC=!1,Ky("after",i),pT===0)return Ky("tail",i),Hw=!1,cancelAnimationFrame(SP)}function sC(i,e=1){var t;if(!i)return Mp.forEach(n=>sC(n.store.getState(),e));(t=i.gl.xr)!=null&&t.isPresenting||!i.internal.active||i.frameloop==="never"||(e>1?i.internal.frames=Math.min(60,i.internal.frames+e):aC?i.internal.frames=2:i.internal.frames=1,Hw||(Hw=!0,requestAnimationFrame($z)))}function wP(i,e=!0,t,n){if(e&&Ky("before",i),t)rC(i,t,n);else for(const r of Mp.values())rC(i,r.store.getState());e&&Ky("after",i)}const mT={onClick:["click",!1],onContextMenu:["contextmenu",!1],onDoubleClick:["dblclick",!1],onWheel:["wheel",!0],onPointerDown:["pointerdown",!0],onPointerUp:["pointerup",!0],onPointerLeave:["pointerleave",!0],onPointerMove:["pointermove",!0],onPointerCancel:["pointercancel",!0],onLostPointerCapture:["lostpointercapture",!0]};function FQ(i){const{handlePointer:e}=_Q(i);return{priority:1,enabled:!0,compute(t,n,r){n.pointer.set(t.offsetX/n.size.width*2-1,-(t.offsetY/n.size.height)*2+1),n.raycaster.setFromCamera(n.pointer,n.camera)},connected:void 0,handlers:Object.keys(mT).reduce((t,n)=>({...t,[n]:e(n)}),{}),update:()=>{var t;const{events:n,internal:r}=i.getState();(t=r.lastEvent)!=null&&t.current&&n.handlers&&n.handlers.onPointerMove(r.lastEvent.current)},connect:t=>{const{set:n,events:r}=i.getState();if(r.disconnect==null||r.disconnect(),n(a=>({events:{...a.events,connected:t}})),r.handlers)for(const a in r.handlers){const s=r.handlers[a],[l,u]=mT[a];t.addEventListener(l,s,{passive:u})}},disconnect:()=>{const{set:t,events:n}=i.getState();if(n.connected){if(n.handlers)for(const r in n.handlers){const a=n.handlers[r],[s]=mT[r];n.connected.removeEventListener(s,a)}t(r=>({events:{...r.events,connected:void 0}}))}}}}function EP(i,e){let t;return(...n)=>{window.clearTimeout(t),t=window.setTimeout(()=>i(...n),e)}}function HQ({debounce:i,scroll:e,polyfill:t,offsetSize:n}={debounce:0,scroll:!1,offsetSize:!1}){const r=t||(typeof window>"u"?class{}:window.ResizeObserver);if(!r)throw new Error("This browser does not support ResizeObserver out of the box. See: https://github.com/react-spring/react-use-measure/#resize-observer-polyfills");const[a,s]=H.useState({left:0,top:0,width:0,height:0,bottom:0,right:0,x:0,y:0}),l=H.useRef({element:null,scrollContainers:null,resizeObserver:null,lastBounds:a,orientationHandler:null}),u=i?typeof i=="number"?i:i.scroll:null,f=i?typeof i=="number"?i:i.resize:null,p=H.useRef(!1);H.useEffect(()=>(p.current=!0,()=>void(p.current=!1)));const[g,v,_]=H.useMemo(()=>{const b=()=>{if(!l.current.element)return;const{left:R,top:C,width:A,height:N,bottom:L,right:B,x:U,y:P}=l.current.element.getBoundingClientRect(),z={left:R,top:C,width:A,height:N,bottom:L,right:B,x:U,y:P};l.current.element instanceof HTMLElement&&n&&(z.height=l.current.element.offsetHeight,z.width=l.current.element.offsetWidth),Object.freeze(z),p.current&&!WQ(l.current.lastBounds,z)&&s(l.current.lastBounds=z)};return[b,f?EP(b,f):b,u?EP(b,u):b]},[s,n,u,f]);function S(){l.current.scrollContainers&&(l.current.scrollContainers.forEach(b=>b.removeEventListener("scroll",_,!0)),l.current.scrollContainers=null),l.current.resizeObserver&&(l.current.resizeObserver.disconnect(),l.current.resizeObserver=null),l.current.orientationHandler&&("orientation"in screen&&"removeEventListener"in screen.orientation?screen.orientation.removeEventListener("change",l.current.orientationHandler):"onorientationchange"in window&&window.removeEventListener("orientationchange",l.current.orientationHandler))}function w(){l.current.element&&(l.current.resizeObserver=new r(_),l.current.resizeObserver.observe(l.current.element),e&&l.current.scrollContainers&&l.current.scrollContainers.forEach(b=>b.addEventListener("scroll",_,{capture:!0,passive:!0})),l.current.orientationHandler=()=>{_()},"orientation"in screen&&"addEventListener"in screen.orientation?screen.orientation.addEventListener("change",l.current.orientationHandler):"onorientationchange"in window&&window.addEventListener("orientationchange",l.current.orientationHandler))}const E=b=>{!b||b===l.current.element||(S(),l.current.element=b,l.current.scrollContainers=Jz(b),w())};return jQ(_,!!e),VQ(v),H.useEffect(()=>{S(),w()},[e,_,v]),H.useEffect(()=>S,[]),[E,a,g]}function VQ(i){H.useEffect(()=>{const e=i;return window.addEventListener("resize",e),()=>void window.removeEventListener("resize",e)},[i])}function jQ(i,e){H.useEffect(()=>{if(e){const t=i;return window.addEventListener("scroll",t,{capture:!0,passive:!0}),()=>void window.removeEventListener("scroll",t,!0)}},[i,e])}function Jz(i){const e=[];if(!i||i===document.body)return e;const{overflow:t,overflowX:n,overflowY:r}=window.getComputedStyle(i);return[t,n,r].some(a=>a==="auto"||a==="scroll")&&e.push(i),[...e,...Jz(i.parentElement)]}const GQ=["x","y","top","bottom","left","right","width","height"],WQ=(i,e)=>GQ.every(t=>i[t]===e[t]);function XQ({ref:i,children:e,fallback:t,resize:n,style:r,gl:a,events:s=FQ,eventSource:l,eventPrefix:u,shadows:f,linear:p,flat:g,legacy:v,orthographic:_,frameloop:S,dpr:w,performance:E,raycaster:b,camera:R,scene:C,onPointerMissed:A,onCreated:N,...L}){H.useMemo(()=>Xz(IJ),[]);const B=lQ(),[U,P]=HQ({scroll:!0,debounce:{scroll:50,resize:0},...n}),z=H.useRef(null),X=H.useRef(null);H.useImperativeHandle(i,()=>z.current);const te=S3(A),[se,ae]=H.useState(!1),[ue,G]=H.useState(!1);if(se)throw se;if(ue)throw ue;const Y=H.useRef(null);sx(()=>{const ye=z.current;if(P.width>0&&P.height>0&&ye){Y.current||(Y.current=PQ(ye));async function F(){await Y.current.configure({gl:a,scene:C,events:s,shadows:f,linear:p,flat:g,legacy:v,orthographic:_,frameloop:S,dpr:w,performance:E,raycaster:b,camera:R,size:P,onPointerMissed:(...fe)=>te.current==null?void 0:te.current(...fe),onCreated:fe=>{fe.events.connect==null||fe.events.connect(l?sQ(l)?l.current:l:X.current),u&&fe.setEvents({compute:(Se,Ce)=>{const ke=Se[u+"X"],we=Se[u+"Y"];Ce.pointer.set(ke/Ce.size.width*2-1,-(we/Ce.size.height)*2+1),Ce.raycaster.setFromCamera(Ce.pointer,Ce.camera)}}),N?.(fe)}}),Y.current.render(I.jsx(B,{children:I.jsx(uQ,{set:G,children:I.jsx(H.Suspense,{fallback:I.jsx(cQ,{set:ae}),children:e??null})})}))}F()}}),H.useEffect(()=>{const ye=z.current;if(ye)return()=>Kz(ye)},[]);const Q=l?"none":"auto";return I.jsx("div",{ref:X,style:{position:"relative",width:"100%",height:"100%",overflow:"hidden",pointerEvents:Q,...r},...L,children:I.jsx("div",{ref:U,style:{width:"100%",height:"100%"},children:I.jsx("canvas",{ref:z,style:{display:"block"},children:t})})})}function Qz(i){return I.jsx(Iz,{children:I.jsx(XQ,{...i})})}function oC(){return oC=Object.assign?Object.assign.bind():function(i){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)({}).hasOwnProperty.call(t,n)&&(i[n]=t[n])}return i},oC.apply(null,arguments)}const e6=parseInt(X_.replace(/\D+/g,""));var Xo=Uint8Array,lh=Uint16Array,lC=Uint32Array,t6=new Xo([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),n6=new Xo([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),qQ=new Xo([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),i6=function(i,e){for(var t=new lh(31),n=0;n<31;++n)t[n]=e+=1<<i[n-1];for(var r=new lC(t[30]),n=1;n<30;++n)for(var a=t[n];a<t[n+1];++a)r[a]=a-t[n]<<5|n;return[t,r]},r6=i6(t6,2),a6=r6[0],YQ=r6[1];a6[28]=258,YQ[258]=28;var ZQ=i6(n6,0),KQ=ZQ[0],cC=new lh(32768);for(var Fi=0;Fi<32768;++Fi){var Yf=(Fi&43690)>>>1|(Fi&21845)<<1;Yf=(Yf&52428)>>>2|(Yf&13107)<<2,Yf=(Yf&61680)>>>4|(Yf&3855)<<4,cC[Fi]=((Yf&65280)>>>8|(Yf&255)<<8)>>>1}var $y=(function(i,e,t){for(var n=i.length,r=0,a=new lh(e);r<n;++r)++a[i[r]-1];var s=new lh(e);for(r=0;r<e;++r)s[r]=s[r-1]+a[r-1]<<1;var l;if(t){l=new lh(1<<e);var u=15-e;for(r=0;r<n;++r)if(i[r])for(var f=r<<4|i[r],p=e-i[r],g=s[i[r]-1]++<<p,v=g|(1<<p)-1;g<=v;++g)l[cC[g]>>>u]=f}else for(l=new lh(n),r=0;r<n;++r)i[r]&&(l[r]=cC[s[i[r]-1]++]>>>15-i[r]);return l}),ox=new Xo(288);for(var Fi=0;Fi<144;++Fi)ox[Fi]=8;for(var Fi=144;Fi<256;++Fi)ox[Fi]=9;for(var Fi=256;Fi<280;++Fi)ox[Fi]=7;for(var Fi=280;Fi<288;++Fi)ox[Fi]=8;var s6=new Xo(32);for(var Fi=0;Fi<32;++Fi)s6[Fi]=5;var $Q=$y(ox,9,1),JQ=$y(s6,5,1),gT=function(i){for(var e=i[0],t=1;t<i.length;++t)i[t]>e&&(e=i[t]);return e},Al=function(i,e,t){var n=e/8|0;return(i[n]|i[n+1]<<8)>>(e&7)&t},vT=function(i,e){var t=e/8|0;return(i[t]|i[t+1]<<8|i[t+2]<<16)>>(e&7)},QQ=function(i){return(i/8|0)+(i&7&&1)},eee=function(i,e,t){(t==null||t>i.length)&&(t=i.length);var n=new(i instanceof lh?lh:i instanceof lC?lC:Xo)(t-e);return n.set(i.subarray(e,t)),n},tee=function(i,e,t){var n=i.length;if(!n||t&&!t.l&&n<5)return e||new Xo(0);var r=!e||t,a=!t||t.i;t||(t={}),e||(e=new Xo(n*3));var s=function(ee){var ie=e.length;if(ee>ie){var _e=new Xo(Math.max(ie*2,ee));_e.set(e),e=_e}},l=t.f||0,u=t.p||0,f=t.b||0,p=t.l,g=t.d,v=t.m,_=t.n,S=n*8;do{if(!p){t.f=l=Al(i,u,1);var w=Al(i,u+1,3);if(u+=3,w)if(w==1)p=$Q,g=JQ,v=9,_=5;else if(w==2){var C=Al(i,u,31)+257,A=Al(i,u+10,15)+4,N=C+Al(i,u+5,31)+1;u+=14;for(var L=new Xo(N),B=new Xo(19),U=0;U<A;++U)B[qQ[U]]=Al(i,u+U*3,7);u+=A*3;for(var P=gT(B),z=(1<<P)-1,X=$y(B,P,1),U=0;U<N;){var te=X[Al(i,u,z)];u+=te&15;var E=te>>>4;if(E<16)L[U++]=E;else{var se=0,ae=0;for(E==16?(ae=3+Al(i,u,3),u+=2,se=L[U-1]):E==17?(ae=3+Al(i,u,7),u+=3):E==18&&(ae=11+Al(i,u,127),u+=7);ae--;)L[U++]=se}}var ue=L.subarray(0,C),G=L.subarray(C);v=gT(ue),_=gT(G),p=$y(ue,v,1),g=$y(G,_,1)}else throw"invalid block type";else{var E=QQ(u)+4,b=i[E-4]|i[E-3]<<8,R=E+b;if(R>n){if(a)throw"unexpected EOF";break}r&&s(f+b),e.set(i.subarray(E,R),f),t.b=f+=b,t.p=u=R*8;continue}if(u>S){if(a)throw"unexpected EOF";break}}r&&s(f+131072);for(var Y=(1<<v)-1,Q=(1<<_)-1,ye=u;;ye=u){var se=p[vT(i,u)&Y],F=se>>>4;if(u+=se&15,u>S){if(a)throw"unexpected EOF";break}if(!se)throw"invalid length/literal";if(F<256)e[f++]=F;else if(F==256){ye=u,p=null;break}else{var fe=F-254;if(F>264){var U=F-257,Se=t6[U];fe=Al(i,u,(1<<Se)-1)+a6[U],u+=Se}var Ce=g[vT(i,u)&Q],ke=Ce>>>4;if(!Ce)throw"invalid distance";u+=Ce&15;var G=KQ[ke];if(ke>3){var Se=n6[ke];G+=vT(i,u)&(1<<Se)-1,u+=Se}if(u>S){if(a)throw"unexpected EOF";break}r&&s(f+131072);for(var we=f+fe;f<we;f+=4)e[f]=e[f-G],e[f+1]=e[f+1-G],e[f+2]=e[f+2-G],e[f+3]=e[f+3-G];f=we}}t.l=p,t.p=ye,t.b=f,p&&(l=1,t.m=v,t.d=g,t.n=_)}while(!l);return f==e.length?e:eee(e,0,f)},nee=new Xo(0),iee=function(i){if((i[0]&15)!=8||i[0]>>>4>7||(i[0]<<8|i[1])%31)throw"invalid zlib data";if(i[1]&32)throw"invalid zlib data: preset dictionaries not supported"};function tS(i,e){return tee((iee(i),i.subarray(2,-4)),e)}var ree=typeof TextDecoder<"u"&&new TextDecoder,aee=0;try{ree.decode(nee,{stream:!0}),aee=1}catch{}const see=i=>i&&i.isCubeTexture;class oee extends ar{constructor(e,t){var n,r;const a=see(e),l=((r=a?(n=e.image[0])==null?void 0:n.width:e.image.width)!=null?r:1024)/4,u=Math.floor(Math.log2(l)),f=Math.pow(2,u),p=3*Math.max(f,112),g=4*f,v=[a?"#define ENVMAP_TYPE_CUBE":"",`#define CUBEUV_TEXEL_WIDTH ${1/p}`,`#define CUBEUV_TEXEL_HEIGHT ${1/g}`,`#define CUBEUV_MAX_MIP ${u}.0`],_=`
        varying vec3 vWorldPosition;
        void main() 
        {
            vec4 worldPosition = ( modelMatrix * vec4( position, 1.0 ) );
            vWorldPosition = worldPosition.xyz;
            
            gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
        }
        `,S=v.join(`
`)+`
        #define ENVMAP_TYPE_CUBE_UV
        varying vec3 vWorldPosition;
        uniform float radius;
        uniform float height;
        uniform float angle;
        #ifdef ENVMAP_TYPE_CUBE
            uniform samplerCube map;
        #else
            uniform sampler2D map;
        #endif
        // From: https://www.shadertoy.com/view/4tsBD7
        float diskIntersectWithBackFaceCulling( vec3 ro, vec3 rd, vec3 c, vec3 n, float r ) 
        {
            float d = dot ( rd, n );
            
            if( d > 0.0 ) { return 1e6; }
            
            vec3  o = ro - c;
            float t = - dot( n, o ) / d;
            vec3  q = o + rd * t;
            
            return ( dot( q, q ) < r * r ) ? t : 1e6;
        }
        // From: https://www.iquilezles.org/www/articles/intersectors/intersectors.htm
        float sphereIntersect( vec3 ro, vec3 rd, vec3 ce, float ra ) 
        {
            vec3 oc = ro - ce;
            float b = dot( oc, rd );
            float c = dot( oc, oc ) - ra * ra;
            float h = b * b - c;
            
            if( h < 0.0 ) { return -1.0; }
            
            h = sqrt( h );
            
            return - b + h;
        }
        vec3 project() 
        {
            vec3 p = normalize( vWorldPosition );
            vec3 camPos = cameraPosition;
            camPos.y -= height;
            float intersection = sphereIntersect( camPos, p, vec3( 0.0 ), radius );
            if( intersection > 0.0 ) {
                
                vec3 h = vec3( 0.0, - height, 0.0 );
                float intersection2 = diskIntersectWithBackFaceCulling( camPos, p, h, vec3( 0.0, 1.0, 0.0 ), radius );
                p = ( camPos + min( intersection, intersection2 ) * p ) / radius;
            } else {
                p = vec3( 0.0, 1.0, 0.0 );
            }
            return p;
        }
        #include <common>
        #include <cube_uv_reflection_fragment>
        void main() 
        {
            vec3 projectedWorldPosition = project();
            
            #ifdef ENVMAP_TYPE_CUBE
                vec3 outcolor = textureCube( map, projectedWorldPosition ).rgb;
            #else
                vec3 direction = normalize( projectedWorldPosition );
                vec2 uv = equirectUv( direction );
                vec3 outcolor = texture2D( map, uv ).rgb;
            #endif
            gl_FragColor = vec4( outcolor, 1.0 );
            #include <tonemapping_fragment>
            #include <${e6>=154?"colorspace_fragment":"encodings_fragment"}>
        }
        `,w={map:{value:e},height:{value:t?.height||15},radius:{value:t?.radius||100}},E=new tx(1,16),b=new Ws({uniforms:w,fragmentShader:S,vertexShader:_,side:Ll});super(E,b)}set radius(e){this.material.uniforms.radius.value=e}get radius(){return this.material.uniforms.radius.value}set height(e){this.material.uniforms.height.value=e}get height(){return this.material.uniforms.height.value}}class lee extends c3{constructor(e){super(e),this.type=aa}parse(e){const s=function(U,P){switch(U){case 1:throw new Error("THREE.RGBELoader: Read Error: "+(P||""));case 2:throw new Error("THREE.RGBELoader: Write Error: "+(P||""));case 3:throw new Error("THREE.RGBELoader: Bad File Format: "+(P||""));default:case 4:throw new Error("THREE.RGBELoader: Memory Error: "+(P||""))}},g=function(U,P,z){P=P||1024;let te=U.pos,se=-1,ae=0,ue="",G=String.fromCharCode.apply(null,new Uint16Array(U.subarray(te,te+128)));for(;0>(se=G.indexOf(`
`))&&ae<P&&te<U.byteLength;)ue+=G,ae+=G.length,te+=128,G+=String.fromCharCode.apply(null,new Uint16Array(U.subarray(te,te+128)));return-1<se?(U.pos+=ae+se+1,ue+G.slice(0,se)):!1},v=function(U){const P=/^#\?(\S+)/,z=/^\s*GAMMA\s*=\s*(\d+(\.\d+)?)\s*$/,X=/^\s*EXPOSURE\s*=\s*(\d+(\.\d+)?)\s*$/,te=/^\s*FORMAT=(\S+)\s*$/,se=/^\s*\-Y\s+(\d+)\s+\+X\s+(\d+)\s*$/,ae={valid:0,string:"",comments:"",programtype:"RGBE",format:"",gamma:1,exposure:1,width:0,height:0};let ue,G;for((U.pos>=U.byteLength||!(ue=g(U)))&&s(1,"no header found"),(G=ue.match(P))||s(3,"bad initial token"),ae.valid|=1,ae.programtype=G[1],ae.string+=ue+`
`;ue=g(U),ue!==!1;){if(ae.string+=ue+`
`,ue.charAt(0)==="#"){ae.comments+=ue+`
`;continue}if((G=ue.match(z))&&(ae.gamma=parseFloat(G[1])),(G=ue.match(X))&&(ae.exposure=parseFloat(G[1])),(G=ue.match(te))&&(ae.valid|=2,ae.format=G[1]),(G=ue.match(se))&&(ae.valid|=4,ae.height=parseInt(G[1],10),ae.width=parseInt(G[2],10)),ae.valid&2&&ae.valid&4)break}return ae.valid&2||s(3,"missing format specifier"),ae.valid&4||s(3,"missing image size specifier"),ae},_=function(U,P,z){const X=P;if(X<8||X>32767||U[0]!==2||U[1]!==2||U[2]&128)return new Uint8Array(U);X!==(U[2]<<8|U[3])&&s(3,"wrong scanline width");const te=new Uint8Array(4*P*z);te.length||s(4,"unable to allocate buffer space");let se=0,ae=0;const ue=4*X,G=new Uint8Array(4),Y=new Uint8Array(ue);let Q=z;for(;Q>0&&ae<U.byteLength;){ae+4>U.byteLength&&s(1),G[0]=U[ae++],G[1]=U[ae++],G[2]=U[ae++],G[3]=U[ae++],(G[0]!=2||G[1]!=2||(G[2]<<8|G[3])!=X)&&s(3,"bad rgbe scanline format");let ye=0,F;for(;ye<ue&&ae<U.byteLength;){F=U[ae++];const Se=F>128;if(Se&&(F-=128),(F===0||ye+F>ue)&&s(3,"bad scanline data"),Se){const Ce=U[ae++];for(let ke=0;ke<F;ke++)Y[ye++]=Ce}else Y.set(U.subarray(ae,ae+F),ye),ye+=F,ae+=F}const fe=X;for(let Se=0;Se<fe;Se++){let Ce=0;te[se]=Y[Se+Ce],Ce+=X,te[se+1]=Y[Se+Ce],Ce+=X,te[se+2]=Y[Se+Ce],Ce+=X,te[se+3]=Y[Se+Ce],se+=4}Q--}return te},S=function(U,P,z,X){const te=U[P+3],se=Math.pow(2,te-128)/255;z[X+0]=U[P+0]*se,z[X+1]=U[P+1]*se,z[X+2]=U[P+2]*se,z[X+3]=1},w=function(U,P,z,X){const te=U[P+3],se=Math.pow(2,te-128)/255;z[X+0]=ep.toHalfFloat(Math.min(U[P+0]*se,65504)),z[X+1]=ep.toHalfFloat(Math.min(U[P+1]*se,65504)),z[X+2]=ep.toHalfFloat(Math.min(U[P+2]*se,65504)),z[X+3]=ep.toHalfFloat(1)},E=new Uint8Array(e);E.pos=0;const b=v(E),R=b.width,C=b.height,A=_(E.subarray(E.pos),R,C);let N,L,B;switch(this.type){case rr:B=A.length/4;const U=new Float32Array(B*4);for(let z=0;z<B;z++)S(A,z*4,U,z*4);N=U,L=rr;break;case aa:B=A.length/4;const P=new Uint16Array(B*4);for(let z=0;z<B;z++)w(A,z*4,P,z*4);N=P,L=aa;break;default:throw new Error("THREE.RGBELoader: Unsupported type: "+this.type)}return{width:R,height:C,data:N,header:b.string,gamma:b.gamma,exposure:b.exposure,type:L}}setDataType(e){return this.type=e,this}load(e,t,n,r){function a(s,l){switch(s.type){case rr:case aa:"colorSpace"in s?s.colorSpace="srgb-linear":s.encoding=3e3,s.minFilter=Si,s.magFilter=Si,s.generateMipmaps=!1,s.flipY=!0;break}t&&t(s,l)}return super.load(e,a,n,r)}}const cy=e6>=152;class cee extends c3{constructor(e){super(e),this.type=aa}parse(e){const P=Math.pow(2.7182818,2.2);function z(W,Z){for(var ge=0,Te=0;Te<65536;++Te)(Te==0||W[Te>>3]&1<<(Te&7))&&(Z[ge++]=Te);for(var Pe=ge-1;ge<65536;)Z[ge++]=0;return Pe}function X(W){for(var Z=0;Z<16384;Z++)W[Z]={},W[Z].len=0,W[Z].lit=0,W[Z].p=null}const te={l:0,c:0,lc:0};function se(W,Z,ge,Te,Pe){for(;ge<W;)Z=Z<<8|zt(Te,Pe),ge+=8;ge-=W,te.l=Z>>ge&(1<<W)-1,te.c=Z,te.lc=ge}const ae=new Array(59);function ue(W){for(var Z=0;Z<=58;++Z)ae[Z]=0;for(var Z=0;Z<65537;++Z)ae[W[Z]]+=1;for(var ge=0,Z=58;Z>0;--Z){var Te=ge+ae[Z]>>1;ae[Z]=ge,ge=Te}for(var Z=0;Z<65537;++Z){var Pe=W[Z];Pe>0&&(W[Z]=Pe|ae[Pe]++<<6)}}function G(W,Z,ge,Te,Pe,Ge,at){for(var V=ge,oe=0,he=0;Pe<=Ge;Pe++){if(V.value-ge.value>Te)return!1;se(6,oe,he,W,V);var pe=te.l;if(oe=te.c,he=te.lc,at[Pe]=pe,pe==63){if(V.value-ge.value>Te)throw"Something wrong with hufUnpackEncTable";se(8,oe,he,W,V);var ce=te.l+6;if(oe=te.c,he=te.lc,Pe+ce>Ge+1)throw"Something wrong with hufUnpackEncTable";for(;ce--;)at[Pe++]=0;Pe--}else if(pe>=59){var ce=pe-59+2;if(Pe+ce>Ge+1)throw"Something wrong with hufUnpackEncTable";for(;ce--;)at[Pe++]=0;Pe--}}ue(at)}function Y(W){return W&63}function Q(W){return W>>6}function ye(W,Z,ge,Te){for(;Z<=ge;Z++){var Pe=Q(W[Z]),Ge=Y(W[Z]);if(Pe>>Ge)throw"Invalid table entry";if(Ge>14){var at=Te[Pe>>Ge-14];if(at.len)throw"Invalid table entry";if(at.lit++,at.p){var V=at.p;at.p=new Array(at.lit);for(var oe=0;oe<at.lit-1;++oe)at.p[oe]=V[oe]}else at.p=new Array(1);at.p[at.lit-1]=Z}else if(Ge)for(var he=0,oe=1<<14-Ge;oe>0;oe--){var at=Te[(Pe<<14-Ge)+he];if(at.len||at.p)throw"Invalid table entry";at.len=Ge,at.lit=Z,he++}}return!0}const F={c:0,lc:0};function fe(W,Z,ge,Te){W=W<<8|zt(ge,Te),Z+=8,F.c=W,F.lc=Z}const Se={c:0,lc:0};function Ce(W,Z,ge,Te,Pe,Ge,at,V,oe,he){if(W==Z){Te<8&&(fe(ge,Te,Pe,at),ge=F.c,Te=F.lc),Te-=8;var pe=ge>>Te,pe=new Uint8Array([pe])[0];if(oe.value+pe>he)return!1;for(var ce=V[oe.value-1];pe-- >0;)V[oe.value++]=ce}else if(oe.value<he)V[oe.value++]=W;else return!1;Se.c=ge,Se.lc=Te}function ke(W){return W&65535}function we(W){var Z=ke(W);return Z>32767?Z-65536:Z}const ee={a:0,b:0};function ie(W,Z){var ge=we(W),Te=we(Z),Pe=Te,Ge=ge+(Pe&1)+(Pe>>1),at=Ge,V=Ge-Pe;ee.a=at,ee.b=V}function _e(W,Z){var ge=ke(W),Te=ke(Z),Pe=ge-(Te>>1)&65535,Ge=Te+Pe-32768&65535;ee.a=Ge,ee.b=Pe}function Be(W,Z,ge,Te,Pe,Ge,at){for(var V=at<16384,oe=ge>Pe?Pe:ge,he=1,pe;he<=oe;)he<<=1;for(he>>=1,pe=he,he>>=1;he>=1;){for(var ce=0,qe=ce+Ge*(Pe-pe),Fe=Ge*he,Je=Ge*pe,Qe=Te*he,yt=Te*pe,Et,bt,jt,Kt;ce<=qe;ce+=Je){for(var an=ce,Tn=ce+Te*(ge-pe);an<=Tn;an+=yt){var Ht=an+Qe,Ot=an+Fe,Gn=Ot+Qe;V?(ie(W[an+Z],W[Ot+Z]),Et=ee.a,jt=ee.b,ie(W[Ht+Z],W[Gn+Z]),bt=ee.a,Kt=ee.b,ie(Et,bt),W[an+Z]=ee.a,W[Ht+Z]=ee.b,ie(jt,Kt),W[Ot+Z]=ee.a,W[Gn+Z]=ee.b):(_e(W[an+Z],W[Ot+Z]),Et=ee.a,jt=ee.b,_e(W[Ht+Z],W[Gn+Z]),bt=ee.a,Kt=ee.b,_e(Et,bt),W[an+Z]=ee.a,W[Ht+Z]=ee.b,_e(jt,Kt),W[Ot+Z]=ee.a,W[Gn+Z]=ee.b)}if(ge&he){var Ot=an+Fe;V?ie(W[an+Z],W[Ot+Z]):_e(W[an+Z],W[Ot+Z]),Et=ee.a,W[Ot+Z]=ee.b,W[an+Z]=Et}}if(Pe&he)for(var an=ce,Tn=ce+Te*(ge-pe);an<=Tn;an+=yt){var Ht=an+Qe;V?ie(W[an+Z],W[Ht+Z]):_e(W[an+Z],W[Ht+Z]),Et=ee.a,W[Ht+Z]=ee.b,W[an+Z]=Et}pe=he,he>>=1}return ce}function Ze(W,Z,ge,Te,Pe,Ge,at,V,oe,he){for(var pe=0,ce=0,qe=V,Fe=Math.trunc(Pe.value+(Ge+7)/8);Pe.value<Fe;)for(fe(pe,ce,ge,Pe),pe=F.c,ce=F.lc;ce>=14;){var Je=pe>>ce-14&16383,Qe=Z[Je];if(Qe.len)ce-=Qe.len,Ce(Qe.lit,at,pe,ce,ge,Te,Pe,oe,he,qe),pe=Se.c,ce=Se.lc;else{if(!Qe.p)throw"hufDecode issues";var yt;for(yt=0;yt<Qe.lit;yt++){for(var Et=Y(W[Qe.p[yt]]);ce<Et&&Pe.value<Fe;)fe(pe,ce,ge,Pe),pe=F.c,ce=F.lc;if(ce>=Et&&Q(W[Qe.p[yt]])==(pe>>ce-Et&(1<<Et)-1)){ce-=Et,Ce(Qe.p[yt],at,pe,ce,ge,Te,Pe,oe,he,qe),pe=Se.c,ce=Se.lc;break}}if(yt==Qe.lit)throw"hufDecode issues"}}var bt=8-Ge&7;for(pe>>=bt,ce-=bt;ce>0;){var Qe=Z[pe<<14-ce&16383];if(Qe.len)ce-=Qe.len,Ce(Qe.lit,at,pe,ce,ge,Te,Pe,oe,he,qe),pe=Se.c,ce=Se.lc;else throw"hufDecode issues"}return!0}function gt(W,Z,ge,Te,Pe,Ge){var at={value:0},V=ge.value,oe=ct(Z,ge),he=ct(Z,ge);ge.value+=4;var pe=ct(Z,ge);if(ge.value+=4,oe<0||oe>=65537||he<0||he>=65537)throw"Something wrong with HUF_ENCSIZE";var ce=new Array(65537),qe=new Array(16384);X(qe);var Fe=Te-(ge.value-V);if(G(W,Z,ge,Fe,oe,he,ce),pe>8*(Te-(ge.value-V)))throw"Something wrong with hufUncompress";ye(ce,oe,he,qe),Ze(ce,qe,W,Z,ge,pe,he,Ge,Pe,at)}function pt(W,Z,ge){for(var Te=0;Te<ge;++Te)Z[Te]=W[Z[Te]]}function ne(W){for(var Z=1;Z<W.length;Z++){var ge=W[Z-1]+W[Z]-128;W[Z]=ge}}function be(W,Z){for(var ge=0,Te=Math.floor((W.length+1)/2),Pe=0,Ge=W.length-1;!(Pe>Ge||(Z[Pe++]=W[ge++],Pe>Ge));)Z[Pe++]=W[Te++]}function De(W){for(var Z=W.byteLength,ge=new Array,Te=0,Pe=new DataView(W);Z>0;){var Ge=Pe.getInt8(Te++);if(Ge<0){var at=-Ge;Z-=at+1;for(var V=0;V<at;V++)ge.push(Pe.getUint8(Te++))}else{var at=Ge;Z-=2;for(var oe=Pe.getUint8(Te++),V=0;V<at+1;V++)ge.push(oe)}}return ge}function Ye(W,Z,ge,Te,Pe,Ge){var Ht=new DataView(Ge.buffer),at=ge[W.idx[0]].width,V=ge[W.idx[0]].height,oe=3,he=Math.floor(at/8),pe=Math.ceil(at/8),ce=Math.ceil(V/8),qe=at-(pe-1)*8,Fe=V-(ce-1)*8,Je={value:0},Qe=new Array(oe),yt=new Array(oe),Et=new Array(oe),bt=new Array(oe),jt=new Array(oe);for(let An=0;An<oe;++An)jt[An]=Z[W.idx[An]],Qe[An]=An<1?0:Qe[An-1]+pe*ce,yt[An]=new Float32Array(64),Et[An]=new Uint16Array(64),bt[An]=new Uint16Array(pe*64);for(let An=0;An<ce;++An){var Kt=8;An==ce-1&&(Kt=Fe);var an=8;for(let yn=0;yn<pe;++yn){yn==pe-1&&(an=qe);for(let $t=0;$t<oe;++$t)Et[$t].fill(0),Et[$t][0]=Pe[Qe[$t]++],re(Je,Te,Et[$t]),Ve(Et[$t],yt[$t]),Ke(yt[$t]);$e(yt);for(let $t=0;$t<oe;++$t)_t(yt[$t],bt[$t],yn*64)}let qn=0;for(let yn=0;yn<oe;++yn){const $t=ge[W.idx[yn]].type;for(let hi=8*An;hi<8*An+Kt;++hi){qn=jt[yn][hi];for(let Di=0;Di<he;++Di){const In=Di*64+(hi&7)*8;Ht.setUint16(qn+0*$t,bt[yn][In+0],!0),Ht.setUint16(qn+2*$t,bt[yn][In+1],!0),Ht.setUint16(qn+4*$t,bt[yn][In+2],!0),Ht.setUint16(qn+6*$t,bt[yn][In+3],!0),Ht.setUint16(qn+8*$t,bt[yn][In+4],!0),Ht.setUint16(qn+10*$t,bt[yn][In+5],!0),Ht.setUint16(qn+12*$t,bt[yn][In+6],!0),Ht.setUint16(qn+14*$t,bt[yn][In+7],!0),qn+=16*$t}}if(he!=pe)for(let hi=8*An;hi<8*An+Kt;++hi){const Di=jt[yn][hi]+8*he*2*$t,In=he*64+(hi&7)*8;for(let wi=0;wi<an;++wi)Ht.setUint16(Di+wi*2*$t,bt[yn][In+wi],!0)}}}for(var Tn=new Uint16Array(at),Ht=new DataView(Ge.buffer),Ot=0;Ot<oe;++Ot){ge[W.idx[Ot]].decoded=!0;var Gn=ge[W.idx[Ot]].type;if(ge[Ot].type==2)for(var vn=0;vn<V;++vn){const An=jt[Ot][vn];for(var oi=0;oi<at;++oi)Tn[oi]=Ht.getUint16(An+oi*2*Gn,!0);for(var oi=0;oi<at;++oi)Ht.setFloat32(An+oi*2*Gn,Oe(Tn[oi]),!0)}}}function re(W,Z,ge){for(var Te,Pe=1;Pe<64;)Te=Z[W.value],Te==65280?Pe=64:Te>>8==255?Pe+=Te&255:(ge[Pe]=Te,Pe++),W.value++}function Ve(W,Z){Z[0]=Oe(W[0]),Z[1]=Oe(W[1]),Z[2]=Oe(W[5]),Z[3]=Oe(W[6]),Z[4]=Oe(W[14]),Z[5]=Oe(W[15]),Z[6]=Oe(W[27]),Z[7]=Oe(W[28]),Z[8]=Oe(W[2]),Z[9]=Oe(W[4]),Z[10]=Oe(W[7]),Z[11]=Oe(W[13]),Z[12]=Oe(W[16]),Z[13]=Oe(W[26]),Z[14]=Oe(W[29]),Z[15]=Oe(W[42]),Z[16]=Oe(W[3]),Z[17]=Oe(W[8]),Z[18]=Oe(W[12]),Z[19]=Oe(W[17]),Z[20]=Oe(W[25]),Z[21]=Oe(W[30]),Z[22]=Oe(W[41]),Z[23]=Oe(W[43]),Z[24]=Oe(W[9]),Z[25]=Oe(W[11]),Z[26]=Oe(W[18]),Z[27]=Oe(W[24]),Z[28]=Oe(W[31]),Z[29]=Oe(W[40]),Z[30]=Oe(W[44]),Z[31]=Oe(W[53]),Z[32]=Oe(W[10]),Z[33]=Oe(W[19]),Z[34]=Oe(W[23]),Z[35]=Oe(W[32]),Z[36]=Oe(W[39]),Z[37]=Oe(W[45]),Z[38]=Oe(W[52]),Z[39]=Oe(W[54]),Z[40]=Oe(W[20]),Z[41]=Oe(W[22]),Z[42]=Oe(W[33]),Z[43]=Oe(W[38]),Z[44]=Oe(W[46]),Z[45]=Oe(W[51]),Z[46]=Oe(W[55]),Z[47]=Oe(W[60]),Z[48]=Oe(W[21]),Z[49]=Oe(W[34]),Z[50]=Oe(W[37]),Z[51]=Oe(W[47]),Z[52]=Oe(W[50]),Z[53]=Oe(W[56]),Z[54]=Oe(W[59]),Z[55]=Oe(W[61]),Z[56]=Oe(W[35]),Z[57]=Oe(W[36]),Z[58]=Oe(W[48]),Z[59]=Oe(W[49]),Z[60]=Oe(W[57]),Z[61]=Oe(W[58]),Z[62]=Oe(W[62]),Z[63]=Oe(W[63])}function Ke(W){const Z=.5*Math.cos(.7853975),ge=.5*Math.cos(3.14159/16),Te=.5*Math.cos(3.14159/8),Pe=.5*Math.cos(3*3.14159/16),Ge=.5*Math.cos(5*3.14159/16),at=.5*Math.cos(3*3.14159/8),V=.5*Math.cos(7*3.14159/16);for(var oe=new Array(4),he=new Array(4),pe=new Array(4),ce=new Array(4),qe=0;qe<8;++qe){var Fe=qe*8;oe[0]=Te*W[Fe+2],oe[1]=at*W[Fe+2],oe[2]=Te*W[Fe+6],oe[3]=at*W[Fe+6],he[0]=ge*W[Fe+1]+Pe*W[Fe+3]+Ge*W[Fe+5]+V*W[Fe+7],he[1]=Pe*W[Fe+1]-V*W[Fe+3]-ge*W[Fe+5]-Ge*W[Fe+7],he[2]=Ge*W[Fe+1]-ge*W[Fe+3]+V*W[Fe+5]+Pe*W[Fe+7],he[3]=V*W[Fe+1]-Ge*W[Fe+3]+Pe*W[Fe+5]-ge*W[Fe+7],pe[0]=Z*(W[Fe+0]+W[Fe+4]),pe[3]=Z*(W[Fe+0]-W[Fe+4]),pe[1]=oe[0]+oe[3],pe[2]=oe[1]-oe[2],ce[0]=pe[0]+pe[1],ce[1]=pe[3]+pe[2],ce[2]=pe[3]-pe[2],ce[3]=pe[0]-pe[1],W[Fe+0]=ce[0]+he[0],W[Fe+1]=ce[1]+he[1],W[Fe+2]=ce[2]+he[2],W[Fe+3]=ce[3]+he[3],W[Fe+4]=ce[3]-he[3],W[Fe+5]=ce[2]-he[2],W[Fe+6]=ce[1]-he[1],W[Fe+7]=ce[0]-he[0]}for(var Je=0;Je<8;++Je)oe[0]=Te*W[16+Je],oe[1]=at*W[16+Je],oe[2]=Te*W[48+Je],oe[3]=at*W[48+Je],he[0]=ge*W[8+Je]+Pe*W[24+Je]+Ge*W[40+Je]+V*W[56+Je],he[1]=Pe*W[8+Je]-V*W[24+Je]-ge*W[40+Je]-Ge*W[56+Je],he[2]=Ge*W[8+Je]-ge*W[24+Je]+V*W[40+Je]+Pe*W[56+Je],he[3]=V*W[8+Je]-Ge*W[24+Je]+Pe*W[40+Je]-ge*W[56+Je],pe[0]=Z*(W[Je]+W[32+Je]),pe[3]=Z*(W[Je]-W[32+Je]),pe[1]=oe[0]+oe[3],pe[2]=oe[1]-oe[2],ce[0]=pe[0]+pe[1],ce[1]=pe[3]+pe[2],ce[2]=pe[3]-pe[2],ce[3]=pe[0]-pe[1],W[0+Je]=ce[0]+he[0],W[8+Je]=ce[1]+he[1],W[16+Je]=ce[2]+he[2],W[24+Je]=ce[3]+he[3],W[32+Je]=ce[3]-he[3],W[40+Je]=ce[2]-he[2],W[48+Je]=ce[1]-he[1],W[56+Je]=ce[0]-he[0]}function $e(W){for(var Z=0;Z<64;++Z){var ge=W[0][Z],Te=W[1][Z],Pe=W[2][Z];W[0][Z]=ge+1.5747*Pe,W[1][Z]=ge-.1873*Te-.4682*Pe,W[2][Z]=ge+1.8556*Te}}function _t(W,Z,ge){for(var Te=0;Te<64;++Te)Z[ge+Te]=ep.toHalfFloat(vt(W[Te]))}function vt(W){return W<=1?Math.sign(W)*Math.pow(Math.abs(W),2.2):Math.sign(W)*Math.pow(P,Math.abs(W)-1)}function $(W){return new DataView(W.array.buffer,W.offset.value,W.size)}function q(W){var Z=W.viewer.buffer.slice(W.offset.value,W.offset.value+W.size),ge=new Uint8Array(De(Z)),Te=new Uint8Array(ge.length);return ne(ge),be(ge,Te),new DataView(Te.buffer)}function xe(W){var Z=W.array.slice(W.offset.value,W.offset.value+W.size),ge=tS(Z),Te=new Uint8Array(ge.length);return ne(ge),be(ge,Te),new DataView(Te.buffer)}function Ne(W){for(var Z=W.viewer,ge={value:W.offset.value},Te=new Uint16Array(W.width*W.scanlineBlockSize*(W.channels*W.type)),Pe=new Uint8Array(8192),Ge=0,at=new Array(W.channels),V=0;V<W.channels;V++)at[V]={},at[V].start=Ge,at[V].end=at[V].start,at[V].nx=W.width,at[V].ny=W.lines,at[V].size=W.type,Ge+=at[V].nx*at[V].ny*at[V].size;var oe=dt(Z,ge),he=dt(Z,ge);if(he>=8192)throw"Something is wrong with PIZ_COMPRESSION BITMAP_SIZE";if(oe<=he)for(var V=0;V<he-oe+1;V++)Pe[V+oe]=Rt(Z,ge);var pe=new Uint16Array(65536),ce=z(Pe,pe),qe=ct(Z,ge);gt(W.array,Z,ge,qe,Te,Ge);for(var V=0;V<W.channels;++V)for(var Fe=at[V],Je=0;Je<at[V].size;++Je)Be(Te,Fe.start+Je,Fe.nx,Fe.size,Fe.ny,Fe.nx*Fe.size,ce);pt(pe,Te,Ge);for(var Qe=0,yt=new Uint8Array(Te.buffer.byteLength),Et=0;Et<W.lines;Et++)for(var bt=0;bt<W.channels;bt++){var Fe=at[bt],jt=Fe.nx*Fe.size,Kt=new Uint8Array(Te.buffer,Fe.end*2,jt*2);yt.set(Kt,Qe),Qe+=jt*2,Fe.end+=jt}return new DataView(yt.buffer)}function ze(W){var Z=W.array.slice(W.offset.value,W.offset.value+W.size),ge=tS(Z);const Te=W.lines*W.channels*W.width,Pe=W.type==1?new Uint16Array(Te):new Uint32Array(Te);let Ge=0,at=0;const V=new Array(4);for(let oe=0;oe<W.lines;oe++)for(let he=0;he<W.channels;he++){let pe=0;switch(W.type){case 1:V[0]=Ge,V[1]=V[0]+W.width,Ge=V[1]+W.width;for(let ce=0;ce<W.width;++ce){const qe=ge[V[0]++]<<8|ge[V[1]++];pe+=qe,Pe[at]=pe,at++}break;case 2:V[0]=Ge,V[1]=V[0]+W.width,V[2]=V[1]+W.width,Ge=V[2]+W.width;for(let ce=0;ce<W.width;++ce){const qe=ge[V[0]++]<<24|ge[V[1]++]<<16|ge[V[2]++]<<8;pe+=qe,Pe[at]=pe,at++}break}}return new DataView(Pe.buffer)}function Ue(W){var Z=W.viewer,ge={value:W.offset.value},Te=new Uint8Array(W.width*W.lines*(W.channels*W.type*2)),Pe={version:ft(Z,ge),unknownUncompressedSize:ft(Z,ge),unknownCompressedSize:ft(Z,ge),acCompressedSize:ft(Z,ge),dcCompressedSize:ft(Z,ge),rleCompressedSize:ft(Z,ge),rleUncompressedSize:ft(Z,ge),rleRawSize:ft(Z,ge),totalAcUncompressedCount:ft(Z,ge),totalDcUncompressedCount:ft(Z,ge),acCompression:ft(Z,ge)};if(Pe.version<2)throw"EXRLoader.parse: "+Qt.compression+" version "+Pe.version+" is unsupported";for(var Ge=new Array,at=dt(Z,ge)-2;at>0;){var V=mt(Z.buffer,ge),oe=Rt(Z,ge),he=oe>>2&3,pe=(oe>>4)-1,ce=new Int8Array([pe])[0],qe=Rt(Z,ge);Ge.push({name:V,index:ce,type:qe,compression:he}),at-=V.length+3}for(var Fe=Qt.channels,Je=new Array(W.channels),Qe=0;Qe<W.channels;++Qe){var yt=Je[Qe]={},Et=Fe[Qe];yt.name=Et.name,yt.compression=0,yt.decoded=!1,yt.type=Et.pixelType,yt.pLinear=Et.pLinear,yt.width=W.width,yt.height=W.lines}for(var bt={idx:new Array(3)},jt=0;jt<W.channels;++jt)for(var yt=Je[jt],Qe=0;Qe<Ge.length;++Qe){var Kt=Ge[Qe];yt.name==Kt.name&&(yt.compression=Kt.compression,Kt.index>=0&&(bt.idx[Kt.index]=jt),yt.offset=jt)}if(Pe.acCompressedSize>0)switch(Pe.acCompression){case 0:var Ht=new Uint16Array(Pe.totalAcUncompressedCount);gt(W.array,Z,ge,Pe.acCompressedSize,Ht,Pe.totalAcUncompressedCount);break;case 1:var an=W.array.slice(ge.value,ge.value+Pe.totalAcUncompressedCount),Tn=tS(an),Ht=new Uint16Array(Tn.buffer);ge.value+=Pe.totalAcUncompressedCount;break}if(Pe.dcCompressedSize>0){var Ot={array:W.array,offset:ge,size:Pe.dcCompressedSize},Gn=new Uint16Array(xe(Ot).buffer);ge.value+=Pe.dcCompressedSize}if(Pe.rleRawSize>0){var an=W.array.slice(ge.value,ge.value+Pe.rleCompressedSize),Tn=tS(an),vn=De(Tn.buffer);ge.value+=Pe.rleCompressedSize}for(var oi=0,An=new Array(Je.length),Qe=0;Qe<An.length;++Qe)An[Qe]=new Array;for(var qn=0;qn<W.lines;++qn)for(var yn=0;yn<Je.length;++yn)An[yn].push(oi),oi+=Je[yn].width*W.type*2;Ye(bt,An,Je,Ht,Gn,Te);for(var Qe=0;Qe<Je.length;++Qe){var yt=Je[Qe];if(!yt.decoded)switch(yt.compression){case 2:for(var $t=0,hi=0,qn=0;qn<W.lines;++qn){for(var Di=An[Qe][$t],In=0;In<yt.width;++In){for(var wi=0;wi<2*yt.type;++wi)Te[Di++]=vn[hi+wi*yt.width*yt.height];hi++}$t++}break;case 1:default:throw"EXRLoader.parse: unsupported channel compression"}}return new DataView(Te.buffer)}function mt(W,Z){for(var ge=new Uint8Array(W),Te=0;ge[Z.value+Te]!=0;)Te+=1;var Pe=new TextDecoder().decode(ge.slice(Z.value,Z.value+Te));return Z.value=Z.value+Te+1,Pe}function ht(W,Z,ge){var Te=new TextDecoder().decode(new Uint8Array(W).slice(Z.value,Z.value+ge));return Z.value=Z.value+ge,Te}function Dt(W,Z){var ge=it(W,Z),Te=ct(W,Z);return[ge,Te]}function wt(W,Z){var ge=ct(W,Z),Te=ct(W,Z);return[ge,Te]}function it(W,Z){var ge=W.getInt32(Z.value,!0);return Z.value=Z.value+4,ge}function ct(W,Z){var ge=W.getUint32(Z.value,!0);return Z.value=Z.value+4,ge}function zt(W,Z){var ge=W[Z.value];return Z.value=Z.value+1,ge}function Rt(W,Z){var ge=W.getUint8(Z.value);return Z.value=Z.value+1,ge}const ft=function(W,Z){let ge;return"getBigInt64"in DataView.prototype?ge=Number(W.getBigInt64(Z.value,!0)):ge=W.getUint32(Z.value+4,!0)+Number(W.getUint32(Z.value,!0)<<32),Z.value+=8,ge};function Ut(W,Z){var ge=W.getFloat32(Z.value,!0);return Z.value+=4,ge}function de(W,Z){return ep.toHalfFloat(Ut(W,Z))}function Oe(W){var Z=(W&31744)>>10,ge=W&1023;return(W>>15?-1:1)*(Z?Z===31?ge?NaN:1/0:Math.pow(2,Z-15)*(1+ge/1024):6103515625e-14*(ge/1024))}function dt(W,Z){var ge=W.getUint16(Z.value,!0);return Z.value+=2,ge}function At(W,Z){return Oe(dt(W,Z))}function ot(W,Z,ge,Te){for(var Pe=ge.value,Ge=[];ge.value<Pe+Te-1;){var at=mt(Z,ge),V=it(W,ge),oe=Rt(W,ge);ge.value+=3;var he=it(W,ge),pe=it(W,ge);Ge.push({name:at,pixelType:V,pLinear:oe,xSampling:he,ySampling:pe})}return ge.value+=1,Ge}function et(W,Z){var ge=Ut(W,Z),Te=Ut(W,Z),Pe=Ut(W,Z),Ge=Ut(W,Z),at=Ut(W,Z),V=Ut(W,Z),oe=Ut(W,Z),he=Ut(W,Z);return{redX:ge,redY:Te,greenX:Pe,greenY:Ge,blueX:at,blueY:V,whiteX:oe,whiteY:he}}function Lt(W,Z){var ge=["NO_COMPRESSION","RLE_COMPRESSION","ZIPS_COMPRESSION","ZIP_COMPRESSION","PIZ_COMPRESSION","PXR24_COMPRESSION","B44_COMPRESSION","B44A_COMPRESSION","DWAA_COMPRESSION","DWAB_COMPRESSION"],Te=Rt(W,Z);return ge[Te]}function Xt(W,Z){var ge=ct(W,Z),Te=ct(W,Z),Pe=ct(W,Z),Ge=ct(W,Z);return{xMin:ge,yMin:Te,xMax:Pe,yMax:Ge}}function bn(W,Z){var ge=["INCREASING_Y"],Te=Rt(W,Z);return ge[Te]}function Ct(W,Z){var ge=Ut(W,Z),Te=Ut(W,Z);return[ge,Te]}function Gt(W,Z){var ge=Ut(W,Z),Te=Ut(W,Z),Pe=Ut(W,Z);return[ge,Te,Pe]}function tn(W,Z,ge,Te,Pe){if(Te==="string"||Te==="stringvector"||Te==="iccProfile")return ht(Z,ge,Pe);if(Te==="chlist")return ot(W,Z,ge,Pe);if(Te==="chromaticities")return et(W,ge);if(Te==="compression")return Lt(W,ge);if(Te==="box2i")return Xt(W,ge);if(Te==="lineOrder")return bn(W,ge);if(Te==="float")return Ut(W,ge);if(Te==="v2f")return Ct(W,ge);if(Te==="v3f")return Gt(W,ge);if(Te==="int")return it(W,ge);if(Te==="rational")return Dt(W,ge);if(Te==="timecode")return wt(W,ge);if(Te==="preview")return ge.value+=Pe,"skipped";ge.value+=Pe}function xt(W,Z,ge){const Te={};if(W.getUint32(0,!0)!=20000630)throw"THREE.EXRLoader: provided file doesn't appear to be in OpenEXR format.";Te.version=W.getUint8(4);const Pe=W.getUint8(5);Te.spec={singleTile:!!(Pe&2),longName:!!(Pe&4),deepFormat:!!(Pe&8),multiPart:!!(Pe&16)},ge.value=8;for(var Ge=!0;Ge;){var at=mt(Z,ge);if(at==0)Ge=!1;else{var V=mt(Z,ge),oe=ct(W,ge),he=tn(W,Z,ge,V,oe);he===void 0?console.warn(`EXRLoader.parse: skipped unknown header attribute type '${V}'.`):Te[at]=he}}if((Pe&-5)!=0)throw console.error("EXRHeader:",Te),"THREE.EXRLoader: provided file is currently unsupported.";return Te}function kt(W,Z,ge,Te,Pe){const Ge={size:0,viewer:Z,array:ge,offset:Te,width:W.dataWindow.xMax-W.dataWindow.xMin+1,height:W.dataWindow.yMax-W.dataWindow.yMin+1,channels:W.channels.length,bytesPerLine:null,lines:null,inputSize:null,type:W.channels[0].pixelType,uncompress:null,getter:null,format:null,[cy?"colorSpace":"encoding"]:null};switch(W.compression){case"NO_COMPRESSION":Ge.lines=1,Ge.uncompress=$;break;case"RLE_COMPRESSION":Ge.lines=1,Ge.uncompress=q;break;case"ZIPS_COMPRESSION":Ge.lines=1,Ge.uncompress=xe;break;case"ZIP_COMPRESSION":Ge.lines=16,Ge.uncompress=xe;break;case"PIZ_COMPRESSION":Ge.lines=32,Ge.uncompress=Ne;break;case"PXR24_COMPRESSION":Ge.lines=16,Ge.uncompress=ze;break;case"DWAA_COMPRESSION":Ge.lines=32,Ge.uncompress=Ue;break;case"DWAB_COMPRESSION":Ge.lines=256,Ge.uncompress=Ue;break;default:throw"EXRLoader.parse: "+W.compression+" is unsupported"}if(Ge.scanlineBlockSize=Ge.lines,Ge.type==1)switch(Pe){case rr:Ge.getter=At,Ge.inputSize=2;break;case aa:Ge.getter=dt,Ge.inputSize=2;break}else if(Ge.type==2)switch(Pe){case rr:Ge.getter=Ut,Ge.inputSize=4;break;case aa:Ge.getter=de,Ge.inputSize=4}else throw"EXRLoader.parse: unsupported pixelType "+Ge.type+" for "+W.compression+".";Ge.blockCount=(W.dataWindow.yMax+1)/Ge.scanlineBlockSize;for(var at=0;at<Ge.blockCount;at++)ft(Z,Te);Ge.outputChannels=Ge.channels==3?4:Ge.channels;const V=Ge.width*Ge.height*Ge.outputChannels;switch(Pe){case rr:Ge.byteArray=new Float32Array(V),Ge.channels<Ge.outputChannels&&Ge.byteArray.fill(1,0,V);break;case aa:Ge.byteArray=new Uint16Array(V),Ge.channels<Ge.outputChannels&&Ge.byteArray.fill(15360,0,V);break;default:console.error("THREE.EXRLoader: unsupported type: ",Pe);break}return Ge.bytesPerLine=Ge.width*Ge.inputSize*Ge.channels,Ge.outputChannels==4?Ge.format=Sr:Ge.format=Z_,cy?Ge.colorSpace="srgb-linear":Ge.encoding=3e3,Ge}const Ft=new DataView(e),Zt=new Uint8Array(e),si={value:0},Qt=xt(Ft,e,si),It=kt(Qt,Ft,Zt,si,this.type),Zn={value:0},sn={R:0,G:1,B:2,A:3,Y:0};for(let W=0;W<It.height/It.scanlineBlockSize;W++){const Z=ct(Ft,si);It.size=ct(Ft,si),It.lines=Z+It.scanlineBlockSize>It.height?It.height-Z:It.scanlineBlockSize;const Te=It.size<It.lines*It.bytesPerLine?It.uncompress(It):$(It);si.value+=It.size;for(let Pe=0;Pe<It.scanlineBlockSize;Pe++){const Ge=Pe+W*It.scanlineBlockSize;if(Ge>=It.height)break;for(let at=0;at<It.channels;at++){const V=sn[Qt.channels[at].name];for(let oe=0;oe<It.width;oe++){Zn.value=(Pe*(It.channels*It.width)+at*It.width+oe)*It.inputSize;const he=(It.height-1-Ge)*(It.width*It.outputChannels)+oe*It.outputChannels+V;It.byteArray[he]=It.getter(Te,Zn)}}}}return{header:Qt,width:It.width,height:It.height,data:It.byteArray,format:It.format,[cy?"colorSpace":"encoding"]:It[cy?"colorSpace":"encoding"],type:this.type}}setDataType(e){return this.type=e,this}load(e,t,n,r){function a(s,l){cy?s.colorSpace=l.colorSpace:s.encoding=l.encoding,s.minFilter=Si,s.magFilter=Si,s.generateMipmaps=!1,s.flipY=!1,t&&t(s,l)}return super.load(e,a,n,r)}}const yT=i=>i===Object(i)&&!Array.isArray(i)&&typeof i!="function";function FE(i,e){const t=hg(a=>a.gl),n=Fu(UE,yT(i)?Object.values(i):i);return H.useLayoutEffect(()=>{e?.(n)},[e]),H.useEffect(()=>{if("initTexture"in t){let a=[];Array.isArray(n)?a=n:n instanceof gi?a=[n]:yT(n)&&(a=Object.values(n)),a.forEach(s=>{s instanceof gi&&t.initTexture(s)})}},[t,n]),H.useMemo(()=>{if(yT(i)){const a={};let s=0;for(const l in i)a[l]=n[s++];return a}else return n},[i,n])}FE.preload=i=>Fu.preload(UE,i);FE.clear=i=>Fu.clear(UE,i);const o6=(i,e,t)=>{let n;switch(i){case ys:n=new Uint8ClampedArray(e*t*4);break;case aa:n=new Uint16Array(e*t*4);break;case Gc:n=new Uint32Array(e*t*4);break;case sE:n=new Int8Array(e*t*4);break;case oE:n=new Int16Array(e*t*4);break;case Y_:n=new Int32Array(e*t*4);break;case rr:n=new Float32Array(e*t*4);break;default:throw new Error("Unsupported data type")}return n};let nS;const uee=(i,e,t,n)=>{if(nS!==void 0)return nS;const r=new Jo(1,1,n);e.setRenderTarget(r);const a=new ar(new Ch,new Xu({color:16777215}));e.render(a,t),e.setRenderTarget(null);const s=o6(i,r.width,r.height);return e.readRenderTargetPixels(r,0,0,r.width,r.height,s),r.dispose(),a.geometry.dispose(),a.material.dispose(),nS=s[0]!==0,nS};class T3{constructor(e){var t,n,r,a,s,l,u,f,p,g,v,_,S,w,E,b;this._rendererIsDisposable=!1,this._supportsReadPixels=!0,this.render=()=>{this._renderer.setRenderTarget(this._renderTarget);try{this._renderer.render(this._scene,this._camera)}catch(C){throw this._renderer.setRenderTarget(null),C}this._renderer.setRenderTarget(null)},this._width=e.width,this._height=e.height,this._type=e.type,this._colorSpace=e.colorSpace;const R={format:Sr,depthBuffer:!1,stencilBuffer:!1,type:this._type,colorSpace:this._colorSpace,anisotropy:((t=e.renderTargetOptions)===null||t===void 0?void 0:t.anisotropy)!==void 0?(n=e.renderTargetOptions)===null||n===void 0?void 0:n.anisotropy:1,generateMipmaps:((r=e.renderTargetOptions)===null||r===void 0?void 0:r.generateMipmaps)!==void 0?(a=e.renderTargetOptions)===null||a===void 0?void 0:a.generateMipmaps:!1,magFilter:((s=e.renderTargetOptions)===null||s===void 0?void 0:s.magFilter)!==void 0?(l=e.renderTargetOptions)===null||l===void 0?void 0:l.magFilter:Si,minFilter:((u=e.renderTargetOptions)===null||u===void 0?void 0:u.minFilter)!==void 0?(f=e.renderTargetOptions)===null||f===void 0?void 0:f.minFilter:Si,samples:((p=e.renderTargetOptions)===null||p===void 0?void 0:p.samples)!==void 0?(g=e.renderTargetOptions)===null||g===void 0?void 0:g.samples:void 0,wrapS:((v=e.renderTargetOptions)===null||v===void 0?void 0:v.wrapS)!==void 0?(_=e.renderTargetOptions)===null||_===void 0?void 0:_.wrapS:Lr,wrapT:((S=e.renderTargetOptions)===null||S===void 0?void 0:S.wrapT)!==void 0?(w=e.renderTargetOptions)===null||w===void 0?void 0:w.wrapT:Lr};if(this._material=e.material,e.renderer?this._renderer=e.renderer:(this._renderer=T3.instantiateRenderer(),this._rendererIsDisposable=!0),this._scene=new J_,this._camera=new Mg,this._camera.position.set(0,0,10),this._camera.left=-.5,this._camera.right=.5,this._camera.top=.5,this._camera.bottom=-.5,this._camera.updateProjectionMatrix(),!uee(this._type,this._renderer,this._camera,R)){let C;switch(this._type){case aa:C=this._renderer.extensions.has("EXT_color_buffer_float")?rr:void 0;break}C!==void 0?(console.warn(`This browser does not support reading pixels from ${this._type} RenderTargets, switching to ${rr}`),this._type=C):(this._supportsReadPixels=!1,console.warn("This browser dos not support toArray or toDataTexture, calls to those methods will result in an error thrown"))}this._quad=new ar(new Ch,this._material),this._quad.geometry.computeBoundingBox(),this._scene.add(this._quad),this._renderTarget=new Jo(this.width,this.height,R),this._renderTarget.texture.mapping=((E=e.renderTargetOptions)===null||E===void 0?void 0:E.mapping)!==void 0?(b=e.renderTargetOptions)===null||b===void 0?void 0:b.mapping:gh}static instantiateRenderer(){const e=new _3;return e.setSize(128,128),e}toArray(){if(!this._supportsReadPixels)throw new Error("Can't read pixels in this browser");const e=o6(this._type,this._width,this._height);return this._renderer.readRenderTargetPixels(this._renderTarget,0,0,this._width,this._height,e),e}toDataTexture(e){const t=new Bl(this.toArray(),this.width,this.height,Sr,this._type,e?.mapping||gh,e?.wrapS||Lr,e?.wrapT||Lr,e?.magFilter||Si,e?.minFilter||Si,e?.anisotropy||1,zl);return t.generateMipmaps=e?.generateMipmaps!==void 0?e?.generateMipmaps:!1,t}disposeOnDemandRenderer(){this._renderer.setRenderTarget(null),this._rendererIsDisposable&&(this._renderer.dispose(),this._renderer.forceContextLoss())}dispose(e){this.disposeOnDemandRenderer(),e&&this.renderTarget.dispose(),this.material instanceof Ws&&Object.values(this.material.uniforms).forEach(t=>{t.value instanceof gi&&t.value.dispose()}),Object.values(this.material).forEach(t=>{t instanceof gi&&t.dispose()}),this.material.dispose(),this._quad.geometry.dispose()}get width(){return this._width}set width(e){this._width=e,this._renderTarget.setSize(this._width,this._height)}get height(){return this._height}set height(e){this._height=e,this._renderTarget.setSize(this._width,this._height)}get renderer(){return this._renderer}get renderTarget(){return this._renderTarget}set renderTarget(e){this._renderTarget=e,this._width=e.width,this._height=e.height}get material(){return this._material}get type(){return this._type}get colorSpace(){return this._colorSpace}}const fee=`
varying vec2 vUv;

void main() {
  vUv = uv;
  gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);
}
`,hee=`
// min half float value
#define HALF_FLOAT_MIN vec3( -65504, -65504, -65504 )
// max half float value
#define HALF_FLOAT_MAX vec3( 65504, 65504, 65504 )

uniform sampler2D sdr;
uniform sampler2D gainMap;
uniform vec3 gamma;
uniform vec3 offsetHdr;
uniform vec3 offsetSdr;
uniform vec3 gainMapMin;
uniform vec3 gainMapMax;
uniform float weightFactor;

varying vec2 vUv;

void main() {
  vec3 rgb = texture2D( sdr, vUv ).rgb;
  vec3 recovery = texture2D( gainMap, vUv ).rgb;
  vec3 logRecovery = pow( recovery, gamma );
  vec3 logBoost = gainMapMin * ( 1.0 - logRecovery ) + gainMapMax * logRecovery;
  vec3 hdrColor = (rgb + offsetSdr) * exp2( logBoost * weightFactor ) - offsetHdr;
  vec3 clampedHdrColor = max( HALF_FLOAT_MIN, min( HALF_FLOAT_MAX, hdrColor ));
  gl_FragColor = vec4( clampedHdrColor , 1.0 );
}
`;class dee extends Ws{constructor({gamma:e,offsetHdr:t,offsetSdr:n,gainMapMin:r,gainMapMax:a,maxDisplayBoost:s,hdrCapacityMin:l,hdrCapacityMax:u,sdr:f,gainMap:p}){super({name:"GainMapDecoderMaterial",vertexShader:fee,fragmentShader:hee,uniforms:{sdr:{value:f},gainMap:{value:p},gamma:{value:new le(1/e[0],1/e[1],1/e[2])},offsetHdr:{value:new le().fromArray(t)},offsetSdr:{value:new le().fromArray(n)},gainMapMin:{value:new le().fromArray(r)},gainMapMax:{value:new le().fromArray(a)},weightFactor:{value:(Math.log2(s)-l)/(u-l)}},blending:Ic,depthTest:!1,depthWrite:!1}),this._maxDisplayBoost=s,this._hdrCapacityMin=l,this._hdrCapacityMax=u,this.needsUpdate=!0,this.uniformsNeedUpdate=!0}get sdr(){return this.uniforms.sdr.value}set sdr(e){this.uniforms.sdr.value=e}get gainMap(){return this.uniforms.gainMap.value}set gainMap(e){this.uniforms.gainMap.value=e}get offsetHdr(){return this.uniforms.offsetHdr.value.toArray()}set offsetHdr(e){this.uniforms.offsetHdr.value.fromArray(e)}get offsetSdr(){return this.uniforms.offsetSdr.value.toArray()}set offsetSdr(e){this.uniforms.offsetSdr.value.fromArray(e)}get gainMapMin(){return this.uniforms.gainMapMin.value.toArray()}set gainMapMin(e){this.uniforms.gainMapMin.value.fromArray(e)}get gainMapMax(){return this.uniforms.gainMapMax.value.toArray()}set gainMapMax(e){this.uniforms.gainMapMax.value.fromArray(e)}get gamma(){const e=this.uniforms.gamma.value;return[1/e.x,1/e.y,1/e.z]}set gamma(e){const t=this.uniforms.gamma.value;t.x=1/e[0],t.y=1/e[1],t.z=1/e[2]}get hdrCapacityMin(){return this._hdrCapacityMin}set hdrCapacityMin(e){this._hdrCapacityMin=e,this.calculateWeight()}get hdrCapacityMax(){return this._hdrCapacityMax}set hdrCapacityMax(e){this._hdrCapacityMax=e,this.calculateWeight()}get maxDisplayBoost(){return this._maxDisplayBoost}set maxDisplayBoost(e){this._maxDisplayBoost=Math.max(1,Math.min(65504,e)),this.calculateWeight()}calculateWeight(){const e=(Math.log2(this._maxDisplayBoost)-this._hdrCapacityMin)/(this._hdrCapacityMax-this._hdrCapacityMin);this.uniforms.weightFactor.value=Math.max(0,Math.min(1,e))}}class l6 extends Error{}class c6 extends Error{}const uy=(i,e,t)=>{const n=new RegExp(`${e}="([^"]*)"`,"i").exec(i);if(n)return n[1];const r=new RegExp(`<${e}[^>]*>([\\s\\S]*?)</${e}>`,"i").exec(i);if(r){const a=r[1].match(/<rdf:li>([^<]*)<\/rdf:li>/g);return a&&a.length===3?a.map(s=>s.replace(/<\/?rdf:li>/g,"")):r[1].trim()}if(t!==void 0)return t;throw new Error(`Can't find ${e} in gainmap metadata`)},pee=i=>{let e;typeof TextDecoder<"u"?e=new TextDecoder().decode(i):e=i.toString();let t=e.indexOf("<x:xmpmeta");for(;t!==-1;){const n=e.indexOf("x:xmpmeta>",t),r=e.slice(t,n+10);try{const a=uy(r,"hdrgm:GainMapMin","0"),s=uy(r,"hdrgm:GainMapMax"),l=uy(r,"hdrgm:Gamma","1"),u=uy(r,"hdrgm:OffsetSDR","0.015625"),f=uy(r,"hdrgm:OffsetHDR","0.015625"),p=/hdrgm:HDRCapacityMin="([^"]*)"/.exec(r),g=p?p[1]:"0",v=/hdrgm:HDRCapacityMax="([^"]*)"/.exec(r);if(!v)throw new Error("Incomplete gainmap metadata");const _=v[1];return{gainMapMin:Array.isArray(a)?a.map(S=>parseFloat(S)):[parseFloat(a),parseFloat(a),parseFloat(a)],gainMapMax:Array.isArray(s)?s.map(S=>parseFloat(S)):[parseFloat(s),parseFloat(s),parseFloat(s)],gamma:Array.isArray(l)?l.map(S=>parseFloat(S)):[parseFloat(l),parseFloat(l),parseFloat(l)],offsetSdr:Array.isArray(u)?u.map(S=>parseFloat(S)):[parseFloat(u),parseFloat(u),parseFloat(u)],offsetHdr:Array.isArray(f)?f.map(S=>parseFloat(S)):[parseFloat(f),parseFloat(f),parseFloat(f)],hdrCapacityMin:parseFloat(g),hdrCapacityMax:parseFloat(_)}}catch{}t=e.indexOf("<x:xmpmeta",n)}};class mee{constructor(e){this.options={debug:e&&e.debug!==void 0?e.debug:!1,extractFII:e&&e.extractFII!==void 0?e.extractFII:!0,extractNonFII:e&&e.extractNonFII!==void 0?e.extractNonFII:!0}}extract(e){return new Promise((t,n)=>{const r=this.options.debug,a=new DataView(e.buffer);if(a.getUint16(0)!==65496){n(new Error("Not a valid jpeg"));return}const s=a.byteLength;let l=2,u=0,f;for(;l<s;){if(++u>250){n(new Error(`Found no marker after ${u} loops 😵`));return}if(a.getUint8(l)!==255){n(new Error(`Not a valid marker at offset 0x${l.toString(16)}, found: 0x${a.getUint8(l).toString(16)}`));return}if(f=a.getUint8(l+1),r&&console.log(`Marker: ${f.toString(16)}`),f===226){r&&console.log("Found APP2 marker (0xffe2)");const p=l+4;if(a.getUint32(p)===1297106432){const g=p+4;let v;if(a.getUint16(g)===18761)v=!1;else if(a.getUint16(g)===19789)v=!0;else{n(new Error("No valid endianness marker found in TIFF header"));return}if(a.getUint16(g+2,!v)!==42){n(new Error("Not valid TIFF data! (no 0x002A marker)"));return}const _=a.getUint32(g+4,!v);if(_<8){n(new Error("Not valid TIFF data! (First offset less than 8)"));return}const S=g+_,w=a.getUint16(S,!v),E=S+2;let b=0;for(let N=E;N<E+12*w;N+=12)a.getUint16(N,!v)===45057&&(b=a.getUint32(N+8,!v));const C=S+2+w*12+4,A=[];for(let N=C;N<C+b*16;N+=16){const L={MPType:a.getUint32(N,!v),size:a.getUint32(N+4,!v),dataOffset:a.getUint32(N+8,!v),dependantImages:a.getUint32(N+12,!v),start:-1,end:-1,isFII:!1};L.dataOffset?(L.start=g+L.dataOffset,L.isFII=!1):(L.start=0,L.isFII=!0),L.end=L.start+L.size,A.push(L)}if(this.options.extractNonFII&&A.length){const N=new Blob([a]),L=[];for(const B of A){if(B.isFII&&!this.options.extractFII)continue;const U=N.slice(B.start,B.end+1,"image/jpeg");L.push(U)}t(L)}}}l+=2+a.getUint16(l+2)}})}}const gee=async i=>{const e=pee(i);if(!e)throw new c6("Gain map XMP metadata not found");const n=await new mee({extractFII:!0,extractNonFII:!0}).extract(i);if(n.length!==2)throw new l6("Gain map recovery image not found");return{sdr:new Uint8Array(await n[0].arrayBuffer()),gainMap:new Uint8Array(await n[1].arrayBuffer()),metadata:e}},MP=i=>new Promise((e,t)=>{const n=document.createElement("img");n.onload=()=>{e(n)},n.onerror=r=>{t(r)},n.src=URL.createObjectURL(i)});class u6 extends xs{constructor(e,t){super(t),e&&(this._renderer=e),this._internalLoadingManager=new LE}setRenderer(e){return this._renderer=e,this}setRenderTargetOptions(e){return this._renderTargetOptions=e,this}prepareQuadRenderer(){this._renderer||console.warn("WARNING: An existing WebGL Renderer was not passed to this Loader constructor or in setRenderer, the result of this Loader will need to be converted to a Data Texture with toDataTexture() before you can use it in your renderer.");const e=new dee({gainMapMax:[1,1,1],gainMapMin:[0,0,0],gamma:[1,1,1],offsetHdr:[1,1,1],offsetSdr:[1,1,1],hdrCapacityMax:1,hdrCapacityMin:0,maxDisplayBoost:1,gainMap:new gi,sdr:new gi});return new T3({width:16,height:16,type:aa,colorSpace:zl,material:e,renderer:this._renderer,renderTargetOptions:this._renderTargetOptions})}async render(e,t,n,r){const a=r?new Blob([r],{type:"image/jpeg"}):void 0,s=new Blob([n],{type:"image/jpeg"});let l,u,f=!1;if(typeof createImageBitmap>"u"){const v=await Promise.all([a?MP(a):Promise.resolve(void 0),MP(s)]);u=v[0],l=v[1],f=!0}else{const v=await Promise.all([a?createImageBitmap(a,{imageOrientation:"flipY"}):Promise.resolve(void 0),createImageBitmap(s,{imageOrientation:"flipY"})]);u=v[0],l=v[1]}const p=new gi(u||new ImageData(2,2),gh,Lr,Lr,Si,GA,Sr,ys,1,zl);p.flipY=f,p.needsUpdate=!0;const g=new gi(l,gh,Lr,Lr,Si,GA,Sr,ys,1,va);g.flipY=f,g.needsUpdate=!0,e.width=l.width,e.height=l.height,e.material.gainMap=p,e.material.sdr=g,e.material.gainMapMin=t.gainMapMin,e.material.gainMapMax=t.gainMapMax,e.material.offsetHdr=t.offsetHdr,e.material.offsetSdr=t.offsetSdr,e.material.gamma=t.gamma,e.material.hdrCapacityMin=t.hdrCapacityMin,e.material.hdrCapacityMax=t.hdrCapacityMax,e.material.maxDisplayBoost=Math.pow(2,t.hdrCapacityMax),e.material.needsUpdate=!0,e.render()}}class vee extends u6{load([e,t,n],r,a,s){const l=this.prepareQuadRenderer();let u,f,p;const g=async()=>{if(u&&f&&p){try{await this.render(l,p,u,f)}catch(P){this.manager.itemError(e),this.manager.itemError(t),this.manager.itemError(n),typeof s=="function"&&s(P),l.disposeOnDemandRenderer();return}typeof r=="function"&&r(l),this.manager.itemEnd(e),this.manager.itemEnd(t),this.manager.itemEnd(n),l.disposeOnDemandRenderer()}};let v=!0,_=0,S=0,w=!0,E=0,b=0,R=!0,C=0,A=0;const N=()=>{if(typeof a=="function"){const P=_+E+C,z=S+b+A,X=v&&w&&R;a(new ProgressEvent("progress",{lengthComputable:X,loaded:z,total:P}))}};this.manager.itemStart(e),this.manager.itemStart(t),this.manager.itemStart(n);const L=new vo(this._internalLoadingManager);L.setResponseType("arraybuffer"),L.setRequestHeader(this.requestHeader),L.setPath(this.path),L.setWithCredentials(this.withCredentials),L.load(e,async P=>{if(typeof P=="string")throw new Error("Invalid sdr buffer");u=P,await g()},P=>{v=P.lengthComputable,S=P.loaded,_=P.total,N()},P=>{this.manager.itemError(e),typeof s=="function"&&s(P)});const B=new vo(this._internalLoadingManager);B.setResponseType("arraybuffer"),B.setRequestHeader(this.requestHeader),B.setPath(this.path),B.setWithCredentials(this.withCredentials),B.load(t,async P=>{if(typeof P=="string")throw new Error("Invalid gainmap buffer");f=P,await g()},P=>{w=P.lengthComputable,b=P.loaded,E=P.total,N()},P=>{this.manager.itemError(t),typeof s=="function"&&s(P)});const U=new vo(this._internalLoadingManager);return U.setRequestHeader(this.requestHeader),U.setPath(this.path),U.setWithCredentials(this.withCredentials),U.load(n,async P=>{if(typeof P!="string")throw new Error("Invalid metadata string");p=JSON.parse(P),await g()},P=>{R=P.lengthComputable,A=P.loaded,C=P.total,N()},P=>{this.manager.itemError(n),typeof s=="function"&&s(P)}),l}}class yee extends u6{load(e,t,n,r){const a=this.prepareQuadRenderer(),s=new vo(this._internalLoadingManager);return s.setResponseType("arraybuffer"),s.setRequestHeader(this.requestHeader),s.setPath(this.path),s.setWithCredentials(this.withCredentials),this.manager.itemStart(e),s.load(e,async l=>{if(typeof l=="string")throw new Error("Invalid buffer, received [string], was expecting [ArrayBuffer]");const u=new Uint8Array(l);let f,p,g;try{const v=await gee(u);f=v.sdr,p=v.gainMap,g=v.metadata}catch(v){if(v instanceof c6||v instanceof l6)console.warn(`Failure to reconstruct an HDR image from ${e}: Gain map metadata not found in the file, HDRJPGLoader will render the SDR jpeg`),g={gainMapMin:[0,0,0],gainMapMax:[1,1,1],gamma:[1,1,1],hdrCapacityMin:0,hdrCapacityMax:1,offsetHdr:[0,0,0],offsetSdr:[0,0,0]},f=u;else throw v}try{await this.render(a,g,f,p)}catch(v){this.manager.itemError(e),typeof r=="function"&&r(v),a.disposeOnDemandRenderer();return}typeof t=="function"&&t(a),this.manager.itemEnd(e),a.disposeOnDemandRenderer()},n,l=>{this.manager.itemError(e),typeof r=="function"&&r(l)}),a}}const N_={apartment:"lebombo_1k.hdr",city:"potsdamer_platz_1k.hdr",dawn:"kiara_1_dawn_1k.hdr",forest:"forest_slope_1k.hdr",lobby:"st_fagans_interior_1k.hdr",night:"dikhololo_night_1k.hdr",park:"rooitou_park_1k.hdr",studio:"studio_small_03_1k.hdr",sunset:"venice_sunset_1k.hdr",warehouse:"empty_warehouse_01_1k.hdr"},f6="https://raw.githack.com/pmndrs/drei-assets/456060a26bbeb8fdf79326f224b6d99b8bcce736/hdri/",G0=i=>Array.isArray(i),A3=["/px.png","/nx.png","/py.png","/ny.png","/pz.png","/nz.png"];function HE({files:i=A3,path:e="",preset:t=void 0,colorSpace:n=void 0,extensions:r}={}){t&&(C3(t),i=N_[t],e=f6);const a=G0(i),{extension:s,isCubemap:l}=R3(i),u=D3(s);if(!u)throw new Error("useEnvironment: Unrecognized file extension: "+i);const f=hg(_=>_.gl);H.useLayoutEffect(()=>{if(s!=="webp"&&s!=="jpg"&&s!=="jpeg")return;function _(){Fu.clear(u,a?[i]:i)}f.domElement.addEventListener("webglcontextlost",_,{once:!0})},[i,f.domElement]);const p=Fu(u,a?[i]:i,_=>{(s==="webp"||s==="jpg"||s==="jpeg")&&_.setRenderer(f),_.setPath==null||_.setPath(e),r&&r(_)});let g=a?p[0]:p;if(s==="jpg"||s==="jpeg"||s==="webp"){var v;g=(v=g.renderTarget)==null?void 0:v.texture}return g.mapping=l?jc:tg,g.colorSpace=n??(l?"srgb":"srgb-linear"),g}const _ee={files:A3,path:"",preset:void 0,extensions:void 0};HE.preload=i=>{const e={..._ee,...i};let{files:t,path:n=""}=e;const{preset:r,extensions:a}=e;r&&(C3(r),t=N_[r],n=f6);const{extension:s}=R3(t);if(s==="webp"||s==="jpg"||s==="jpeg")throw new Error("useEnvironment: Preloading gainmaps is not supported");const l=D3(s);if(!l)throw new Error("useEnvironment: Unrecognized file extension: "+t);Fu.preload(l,G0(t)?[t]:t,u=>{u.setPath==null||u.setPath(n),a&&a(u)})};const xee={files:A3,preset:void 0};HE.clear=i=>{const e={...xee,...i};let{files:t}=e;const{preset:n}=e;n&&(C3(n),t=N_[n]);const{extension:r}=R3(t),a=D3(r);if(!a)throw new Error("useEnvironment: Unrecognized file extension: "+t);Fu.clear(a,G0(t)?[t]:t)};function C3(i){if(!(i in N_))throw new Error("Preset must be one of: "+Object.keys(N_).join(", "))}function R3(i){var e;const t=G0(i)&&i.length===6,n=G0(i)&&i.length===3&&i.some(s=>s.endsWith("json")),r=G0(i)?i[0]:i;return{extension:t?"cube":n?"webp":r.startsWith("data:application/exr")?"exr":r.startsWith("data:application/hdr")?"hdr":r.startsWith("data:image/jpeg")?"jpg":(e=r.split(".").pop())==null||(e=e.split("?"))==null||(e=e.shift())==null?void 0:e.toLowerCase(),isCubemap:t,isGainmap:n}}function D3(i){return i==="cube"?lz:i==="hdr"?lee:i==="exr"?cee:i==="jpg"||i==="jpeg"?yee:i==="webp"?vee:null}const bee=i=>i.current&&i.current.isScene,See=i=>bee(i)?i.current:i;function O3(i,e,t,n,r={}){var a,s,l,u;r={backgroundBlurriness:0,backgroundIntensity:1,backgroundRotation:[0,0,0],environmentIntensity:1,environmentRotation:[0,0,0],...r};const f=See(e||t),p=f.background,g=f.environment,v={backgroundBlurriness:f.backgroundBlurriness,backgroundIntensity:f.backgroundIntensity,backgroundRotation:(a=(s=f.backgroundRotation)==null||s.clone==null?void 0:s.clone())!==null&&a!==void 0?a:[0,0,0],environmentIntensity:f.environmentIntensity,environmentRotation:(l=(u=f.environmentRotation)==null||u.clone==null?void 0:u.clone())!==null&&l!==void 0?l:[0,0,0]};return i!=="only"&&(f.environment=n),i&&(f.background=n),Rc(f,r),()=>{i!=="only"&&(f.environment=g),i&&(f.background=p),Rc(f,v)}}function N3({scene:i,background:e=!1,map:t,...n}){const r=hg(a=>a.scene);return H.useLayoutEffect(()=>{if(t)return O3(e,i,r,t,n)}),null}function h6({background:i=!1,scene:e,blur:t,backgroundBlurriness:n,backgroundIntensity:r,backgroundRotation:a,environmentIntensity:s,environmentRotation:l,...u}){const f=HE(u),p=hg(g=>g.scene);return H.useLayoutEffect(()=>O3(i,e,p,f,{backgroundBlurriness:t??n,backgroundIntensity:r,backgroundRotation:a,environmentIntensity:s,environmentRotation:l})),H.useEffect(()=>()=>{f.dispose()},[f]),null}function wee({children:i,near:e=.1,far:t=1e3,resolution:n=256,frames:r=1,map:a,background:s=!1,blur:l,backgroundBlurriness:u,backgroundIntensity:f,backgroundRotation:p,environmentIntensity:g,environmentRotation:v,scene:_,files:S,path:w,preset:E=void 0,extensions:b}){const R=hg(U=>U.gl),C=hg(U=>U.scene),A=H.useRef(null),[N]=H.useState(()=>new J_),L=H.useMemo(()=>{const U=new XR(n);return U.texture.type=aa,U},[n]);H.useEffect(()=>()=>{L.dispose()},[L]),H.useLayoutEffect(()=>{if(r===1){const U=R.autoClear;R.autoClear=!0,A.current.update(R,N),R.autoClear=U}return O3(s,_,C,L.texture,{backgroundBlurriness:l??u,backgroundIntensity:f,backgroundRotation:p,environmentIntensity:g,environmentRotation:v})},[i,N,L.texture,_,C,s,r,R]);let B=1;return zE(()=>{if(r===1/0||B<r){const U=R.autoClear;R.autoClear=!0,A.current.update(R,N),R.autoClear=U,B++}}),H.createElement(H.Fragment,null,UQ(H.createElement(H.Fragment,null,i,H.createElement("cubeCamera",{ref:A,args:[e,t,L]}),S||E?H.createElement(h6,{background:!0,files:S,preset:E,path:w,extensions:b}):a?H.createElement(N3,{background:!0,map:a,extensions:b}):null),N))}function Eee(i){var e,t,n,r;const a=HE(i),s=i.map||a;H.useMemo(()=>Xz({GroundProjectedEnvImpl:oee}),[]),H.useEffect(()=>()=>{a.dispose()},[a]);const l=H.useMemo(()=>[s],[s]),u=(e=i.ground)==null?void 0:e.height,f=(t=i.ground)==null?void 0:t.radius,p=(n=(r=i.ground)==null?void 0:r.scale)!==null&&n!==void 0?n:1e3;return H.createElement(H.Fragment,null,H.createElement(N3,oC({},i,{map:s})),H.createElement("groundProjectedEnvImpl",{args:l,scale:p,height:u,radius:f}))}function Mee(i){return i.ground?H.createElement(Eee,i):i.map?H.createElement(N3,i):i.children?H.createElement(wee,i):H.createElement(h6,i)}const d6=H.createContext({});function Tee(i){const e=H.useRef(null);return e.current===null&&(e.current=i()),e.current}const P3=typeof window<"u",Aee=P3?H.useLayoutEffect:H.useEffect,L3=H.createContext(null);function U3(i,e){i.indexOf(e)===-1&&i.push(e)}function I3(i,e){const t=i.indexOf(e);t>-1&&i.splice(t,1)}const Hu=(i,e,t)=>t>e?e:t<i?i:t;let B3=()=>{};const Vu={},p6=i=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(i);function m6(i){return typeof i=="object"&&i!==null}const g6=i=>/^0[^.\s]+$/u.test(i);function z3(i){let e;return()=>(e===void 0&&(e=i()),e)}const $o=i=>i,Cee=(i,e)=>t=>e(i(t)),lx=(...i)=>i.reduce(Cee),P_=(i,e,t)=>{const n=e-i;return n===0?1:(t-i)/n};class k3{constructor(){this.subscriptions=[]}add(e){return U3(this.subscriptions,e),()=>I3(this.subscriptions,e)}notify(e,t,n){const r=this.subscriptions.length;if(r)if(r===1)this.subscriptions[0](e,t,n);else for(let a=0;a<r;a++){const s=this.subscriptions[a];s&&s(e,t,n)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const zc=i=>i*1e3,kc=i=>i/1e3;function v6(i,e){return e?i*(1e3/e):0}const y6=(i,e,t)=>(((1-3*t+3*e)*i+(3*t-6*e))*i+3*e)*i,Ree=1e-7,Dee=12;function Oee(i,e,t,n,r){let a,s,l=0;do s=e+(t-e)/2,a=y6(s,n,r)-i,a>0?t=s:e=s;while(Math.abs(a)>Ree&&++l<Dee);return s}function cx(i,e,t,n){if(i===e&&t===n)return $o;const r=a=>Oee(a,0,1,i,t);return a=>a===0||a===1?a:y6(r(a),e,n)}const _6=i=>e=>e<=.5?i(2*e)/2:(2-i(2*(1-e)))/2,x6=i=>e=>1-i(1-e),b6=cx(.33,1.53,.69,.99),F3=x6(b6),S6=_6(F3),w6=i=>(i*=2)<1?.5*F3(i):.5*(2-Math.pow(2,-10*(i-1))),H3=i=>1-Math.sin(Math.acos(i)),E6=x6(H3),M6=_6(H3),Nee=cx(.42,0,1,1),Pee=cx(0,0,.58,1),T6=cx(.42,0,.58,1),Lee=i=>Array.isArray(i)&&typeof i[0]!="number",A6=i=>Array.isArray(i)&&typeof i[0]=="number",Uee={linear:$o,easeIn:Nee,easeInOut:T6,easeOut:Pee,circIn:H3,circInOut:M6,circOut:E6,backIn:F3,backInOut:S6,backOut:b6,anticipate:w6},Iee=i=>typeof i=="string",TP=i=>{if(A6(i)){B3(i.length===4);const[e,t,n,r]=i;return cx(e,t,n,r)}else if(Iee(i))return Uee[i];return i},iS=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function Bee(i,e){let t=new Set,n=new Set,r=!1,a=!1;const s=new WeakSet;let l={delta:0,timestamp:0,isProcessing:!1};function u(p){s.has(p)&&(f.schedule(p),i()),p(l)}const f={schedule:(p,g=!1,v=!1)=>{const S=v&&r?t:n;return g&&s.add(p),S.has(p)||S.add(p),p},cancel:p=>{n.delete(p),s.delete(p)},process:p=>{if(l=p,r){a=!0;return}r=!0,[t,n]=[n,t],t.forEach(u),t.clear(),r=!1,a&&(a=!1,f.process(p))}};return f}const zee=40;function C6(i,e){let t=!1,n=!0;const r={delta:0,timestamp:0,isProcessing:!1},a=()=>t=!0,s=iS.reduce((C,A)=>(C[A]=Bee(a),C),{}),{setup:l,read:u,resolveKeyframes:f,preUpdate:p,update:g,preRender:v,render:_,postRender:S}=s,w=()=>{const C=Vu.useManualTiming?r.timestamp:performance.now();t=!1,Vu.useManualTiming||(r.delta=n?1e3/60:Math.max(Math.min(C-r.timestamp,zee),1)),r.timestamp=C,r.isProcessing=!0,l.process(r),u.process(r),f.process(r),p.process(r),g.process(r),v.process(r),_.process(r),S.process(r),r.isProcessing=!1,t&&e&&(n=!1,i(w))},E=()=>{t=!0,n=!0,r.isProcessing||i(w)};return{schedule:iS.reduce((C,A)=>{const N=s[A];return C[A]=(L,B=!1,U=!1)=>(t||E(),N.schedule(L,B,U)),C},{}),cancel:C=>{for(let A=0;A<iS.length;A++)s[iS[A]].cancel(C)},state:r,steps:s}}const{schedule:Yi,cancel:_h,state:ga,steps:_T}=C6(typeof requestAnimationFrame<"u"?requestAnimationFrame:$o,!0);let MS;function kee(){MS=void 0}const zs={now:()=>(MS===void 0&&zs.set(ga.isProcessing||Vu.useManualTiming?ga.timestamp:performance.now()),MS),set:i=>{MS=i,queueMicrotask(kee)}},R6=i=>e=>typeof e=="string"&&e.startsWith(i),V3=R6("--"),Fee=R6("var(--"),j3=i=>Fee(i)?Hee.test(i.split("/*")[0].trim()):!1,Hee=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Cg={test:i=>typeof i=="number",parse:parseFloat,transform:i=>i},L_={...Cg,transform:i=>Hu(0,1,i)},rS={...Cg,default:1},Jy=i=>Math.round(i*1e5)/1e5,G3=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function Vee(i){return i==null}const jee=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,W3=(i,e)=>t=>!!(typeof t=="string"&&jee.test(t)&&t.startsWith(i)||e&&!Vee(t)&&Object.prototype.hasOwnProperty.call(t,e)),D6=(i,e,t)=>n=>{if(typeof n!="string")return n;const[r,a,s,l]=n.match(G3);return{[i]:parseFloat(r),[e]:parseFloat(a),[t]:parseFloat(s),alpha:l!==void 0?parseFloat(l):1}},Gee=i=>Hu(0,255,i),xT={...Cg,transform:i=>Math.round(Gee(i))},ip={test:W3("rgb","red"),parse:D6("red","green","blue"),transform:({red:i,green:e,blue:t,alpha:n=1})=>"rgba("+xT.transform(i)+", "+xT.transform(e)+", "+xT.transform(t)+", "+Jy(L_.transform(n))+")"};function Wee(i){let e="",t="",n="",r="";return i.length>5?(e=i.substring(1,3),t=i.substring(3,5),n=i.substring(5,7),r=i.substring(7,9)):(e=i.substring(1,2),t=i.substring(2,3),n=i.substring(3,4),r=i.substring(4,5),e+=e,t+=t,n+=n,r+=r),{red:parseInt(e,16),green:parseInt(t,16),blue:parseInt(n,16),alpha:r?parseInt(r,16)/255:1}}const uC={test:W3("#"),parse:Wee,transform:ip.transform},ux=i=>({test:e=>typeof e=="string"&&e.endsWith(i)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${i}`}),$f=ux("deg"),Fc=ux("%"),mn=ux("px"),Xee=ux("vh"),qee=ux("vw"),AP={...Fc,parse:i=>Fc.parse(i)/100,transform:i=>Fc.transform(i*100)},D0={test:W3("hsl","hue"),parse:D6("hue","saturation","lightness"),transform:({hue:i,saturation:e,lightness:t,alpha:n=1})=>"hsla("+Math.round(i)+", "+Fc.transform(Jy(e))+", "+Fc.transform(Jy(t))+", "+Jy(L_.transform(n))+")"},Dr={test:i=>ip.test(i)||uC.test(i)||D0.test(i),parse:i=>ip.test(i)?ip.parse(i):D0.test(i)?D0.parse(i):uC.parse(i),transform:i=>typeof i=="string"?i:i.hasOwnProperty("red")?ip.transform(i):D0.transform(i),getAnimatableNone:i=>{const e=Dr.parse(i);return e.alpha=0,Dr.transform(e)}},Yee=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function Zee(i){return isNaN(i)&&typeof i=="string"&&(i.match(G3)?.length||0)+(i.match(Yee)?.length||0)>0}const O6="number",N6="color",Kee="var",$ee="var(",CP="${}",Jee=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function U_(i){const e=i.toString(),t=[],n={color:[],number:[],var:[]},r=[];let a=0;const l=e.replace(Jee,u=>(Dr.test(u)?(n.color.push(a),r.push(N6),t.push(Dr.parse(u))):u.startsWith($ee)?(n.var.push(a),r.push(Kee),t.push(u)):(n.number.push(a),r.push(O6),t.push(parseFloat(u))),++a,CP)).split(CP);return{values:t,split:l,indexes:n,types:r}}function P6(i){return U_(i).values}function L6(i){const{split:e,types:t}=U_(i),n=e.length;return r=>{let a="";for(let s=0;s<n;s++)if(a+=e[s],r[s]!==void 0){const l=t[s];l===O6?a+=Jy(r[s]):l===N6?a+=Dr.transform(r[s]):a+=r[s]}return a}}const Qee=i=>typeof i=="number"?0:Dr.test(i)?Dr.getAnimatableNone(i):i;function ete(i){const e=P6(i);return L6(i)(e.map(Qee))}const xh={test:Zee,parse:P6,createTransformer:L6,getAnimatableNone:ete};function bT(i,e,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?i+(e-i)*6*t:t<1/2?e:t<2/3?i+(e-i)*(2/3-t)*6:i}function tte({hue:i,saturation:e,lightness:t,alpha:n}){i/=360,e/=100,t/=100;let r=0,a=0,s=0;if(!e)r=a=s=t;else{const l=t<.5?t*(1+e):t+e-t*e,u=2*t-l;r=bT(u,l,i+1/3),a=bT(u,l,i),s=bT(u,l,i-1/3)}return{red:Math.round(r*255),green:Math.round(a*255),blue:Math.round(s*255),alpha:n}}function Vw(i,e){return t=>t>0?e:i}const ir=(i,e,t)=>i+(e-i)*t,ST=(i,e,t)=>{const n=i*i,r=t*(e*e-n)+n;return r<0?0:Math.sqrt(r)},nte=[uC,ip,D0],ite=i=>nte.find(e=>e.test(i));function RP(i){const e=ite(i);if(!e)return!1;let t=e.parse(i);return e===D0&&(t=tte(t)),t}const DP=(i,e)=>{const t=RP(i),n=RP(e);if(!t||!n)return Vw(i,e);const r={...t};return a=>(r.red=ST(t.red,n.red,a),r.green=ST(t.green,n.green,a),r.blue=ST(t.blue,n.blue,a),r.alpha=ir(t.alpha,n.alpha,a),ip.transform(r))},fC=new Set(["none","hidden"]);function rte(i,e){return fC.has(i)?t=>t<=0?i:e:t=>t>=1?e:i}function ate(i,e){return t=>ir(i,e,t)}function X3(i){return typeof i=="number"?ate:typeof i=="string"?j3(i)?Vw:Dr.test(i)?DP:lte:Array.isArray(i)?U6:typeof i=="object"?Dr.test(i)?DP:ste:Vw}function U6(i,e){const t=[...i],n=t.length,r=i.map((a,s)=>X3(a)(a,e[s]));return a=>{for(let s=0;s<n;s++)t[s]=r[s](a);return t}}function ste(i,e){const t={...i,...e},n={};for(const r in t)i[r]!==void 0&&e[r]!==void 0&&(n[r]=X3(i[r])(i[r],e[r]));return r=>{for(const a in n)t[a]=n[a](r);return t}}function ote(i,e){const t=[],n={color:0,var:0,number:0};for(let r=0;r<e.values.length;r++){const a=e.types[r],s=i.indexes[a][n[a]],l=i.values[s]??0;t[r]=l,n[a]++}return t}const lte=(i,e)=>{const t=xh.createTransformer(e),n=U_(i),r=U_(e);return n.indexes.var.length===r.indexes.var.length&&n.indexes.color.length===r.indexes.color.length&&n.indexes.number.length>=r.indexes.number.length?fC.has(i)&&!r.values.length||fC.has(e)&&!n.values.length?rte(i,e):lx(U6(ote(n,r),r.values),t):Vw(i,e)};function I6(i,e,t){return typeof i=="number"&&typeof e=="number"&&typeof t=="number"?ir(i,e,t):X3(i)(i,e)}const cte=i=>{const e=({timestamp:t})=>i(t);return{start:(t=!0)=>Yi.update(e,t),stop:()=>_h(e),now:()=>ga.isProcessing?ga.timestamp:zs.now()}},B6=(i,e,t=10)=>{let n="";const r=Math.max(Math.round(e/t),2);for(let a=0;a<r;a++)n+=Math.round(i(a/(r-1))*1e4)/1e4+", ";return`linear(${n.substring(0,n.length-2)})`},jw=2e4;function q3(i){let e=0;const t=50;let n=i.next(e);for(;!n.done&&e<jw;)e+=t,n=i.next(e);return e>=jw?1/0:e}function ute(i,e=100,t){const n=t({...i,keyframes:[0,e]}),r=Math.min(q3(n),jw);return{type:"keyframes",ease:a=>n.next(r*a).value/e,duration:kc(r)}}const fte=5;function z6(i,e,t){const n=Math.max(e-fte,0);return v6(t-i(n),e-n)}const fr={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},wT=.001;function hte({duration:i=fr.duration,bounce:e=fr.bounce,velocity:t=fr.velocity,mass:n=fr.mass}){let r,a,s=1-e;s=Hu(fr.minDamping,fr.maxDamping,s),i=Hu(fr.minDuration,fr.maxDuration,kc(i)),s<1?(r=f=>{const p=f*s,g=p*i,v=p-t,_=hC(f,s),S=Math.exp(-g);return wT-v/_*S},a=f=>{const g=f*s*i,v=g*t+t,_=Math.pow(s,2)*Math.pow(f,2)*i,S=Math.exp(-g),w=hC(Math.pow(f,2),s);return(-r(f)+wT>0?-1:1)*((v-_)*S)/w}):(r=f=>{const p=Math.exp(-f*i),g=(f-t)*i+1;return-wT+p*g},a=f=>{const p=Math.exp(-f*i),g=(t-f)*(i*i);return p*g});const l=5/i,u=pte(r,a,l);if(i=zc(i),isNaN(u))return{stiffness:fr.stiffness,damping:fr.damping,duration:i};{const f=Math.pow(u,2)*n;return{stiffness:f,damping:s*2*Math.sqrt(n*f),duration:i}}}const dte=12;function pte(i,e,t){let n=t;for(let r=1;r<dte;r++)n=n-i(n)/e(n);return n}function hC(i,e){return i*Math.sqrt(1-e*e)}const mte=["duration","bounce"],gte=["stiffness","damping","mass"];function OP(i,e){return e.some(t=>i[t]!==void 0)}function vte(i){let e={velocity:fr.velocity,stiffness:fr.stiffness,damping:fr.damping,mass:fr.mass,isResolvedFromDuration:!1,...i};if(!OP(i,gte)&&OP(i,mte))if(i.visualDuration){const t=i.visualDuration,n=2*Math.PI/(t*1.2),r=n*n,a=2*Hu(.05,1,1-(i.bounce||0))*Math.sqrt(r);e={...e,mass:fr.mass,stiffness:r,damping:a}}else{const t=hte(i);e={...e,...t,mass:fr.mass},e.isResolvedFromDuration=!0}return e}function Gw(i=fr.visualDuration,e=fr.bounce){const t=typeof i!="object"?{visualDuration:i,keyframes:[0,1],bounce:e}:i;let{restSpeed:n,restDelta:r}=t;const a=t.keyframes[0],s=t.keyframes[t.keyframes.length-1],l={done:!1,value:a},{stiffness:u,damping:f,mass:p,duration:g,velocity:v,isResolvedFromDuration:_}=vte({...t,velocity:-kc(t.velocity||0)}),S=v||0,w=f/(2*Math.sqrt(u*p)),E=s-a,b=kc(Math.sqrt(u/p)),R=Math.abs(E)<5;n||(n=R?fr.restSpeed.granular:fr.restSpeed.default),r||(r=R?fr.restDelta.granular:fr.restDelta.default);let C;if(w<1){const N=hC(b,w);C=L=>{const B=Math.exp(-w*b*L);return s-B*((S+w*b*E)/N*Math.sin(N*L)+E*Math.cos(N*L))}}else if(w===1)C=N=>s-Math.exp(-b*N)*(E+(S+b*E)*N);else{const N=b*Math.sqrt(w*w-1);C=L=>{const B=Math.exp(-w*b*L),U=Math.min(N*L,300);return s-B*((S+w*b*E)*Math.sinh(U)+N*E*Math.cosh(U))/N}}const A={calculatedDuration:_&&g||null,next:N=>{const L=C(N);if(_)l.done=N>=g;else{let B=N===0?S:0;w<1&&(B=N===0?zc(S):z6(C,N,L));const U=Math.abs(B)<=n,P=Math.abs(s-L)<=r;l.done=U&&P}return l.value=l.done?s:L,l},toString:()=>{const N=Math.min(q3(A),jw),L=B6(B=>A.next(N*B).value,N,30);return N+"ms "+L},toTransition:()=>{}};return A}Gw.applyToOptions=i=>{const e=ute(i,100,Gw);return i.ease=e.ease,i.duration=zc(e.duration),i.type="keyframes",i};function dC({keyframes:i,velocity:e=0,power:t=.8,timeConstant:n=325,bounceDamping:r=10,bounceStiffness:a=500,modifyTarget:s,min:l,max:u,restDelta:f=.5,restSpeed:p}){const g=i[0],v={done:!1,value:g},_=U=>l!==void 0&&U<l||u!==void 0&&U>u,S=U=>l===void 0?u:u===void 0||Math.abs(l-U)<Math.abs(u-U)?l:u;let w=t*e;const E=g+w,b=s===void 0?E:s(E);b!==E&&(w=b-g);const R=U=>-w*Math.exp(-U/n),C=U=>b+R(U),A=U=>{const P=R(U),z=C(U);v.done=Math.abs(P)<=f,v.value=v.done?b:z};let N,L;const B=U=>{_(v.value)&&(N=U,L=Gw({keyframes:[v.value,S(v.value)],velocity:z6(C,U,v.value),damping:r,stiffness:a,restDelta:f,restSpeed:p}))};return B(0),{calculatedDuration:null,next:U=>{let P=!1;return!L&&N===void 0&&(P=!0,A(U),B(U)),N!==void 0&&U>=N?L.next(U-N):(!P&&A(U),v)}}}function yte(i,e,t){const n=[],r=t||Vu.mix||I6,a=i.length-1;for(let s=0;s<a;s++){let l=r(i[s],i[s+1]);if(e){const u=Array.isArray(e)?e[s]||$o:e;l=lx(u,l)}n.push(l)}return n}function _te(i,e,{clamp:t=!0,ease:n,mixer:r}={}){const a=i.length;if(B3(a===e.length),a===1)return()=>e[0];if(a===2&&e[0]===e[1])return()=>e[1];const s=i[0]===i[1];i[0]>i[a-1]&&(i=[...i].reverse(),e=[...e].reverse());const l=yte(e,n,r),u=l.length,f=p=>{if(s&&p<i[0])return e[0];let g=0;if(u>1)for(;g<i.length-2&&!(p<i[g+1]);g++);const v=P_(i[g],i[g+1],p);return l[g](v)};return t?p=>f(Hu(i[0],i[a-1],p)):f}function xte(i,e){const t=i[i.length-1];for(let n=1;n<=e;n++){const r=P_(0,e,n);i.push(ir(t,1,r))}}function bte(i){const e=[0];return xte(e,i.length-1),e}function Ste(i,e){return i.map(t=>t*e)}function wte(i,e){return i.map(()=>e||T6).splice(0,i.length-1)}function Qy({duration:i=300,keyframes:e,times:t,ease:n="easeInOut"}){const r=Lee(n)?n.map(TP):TP(n),a={done:!1,value:e[0]},s=Ste(t&&t.length===e.length?t:bte(e),i),l=_te(s,e,{ease:Array.isArray(r)?r:wte(e,r)});return{calculatedDuration:i,next:u=>(a.value=l(u),a.done=u>=i,a)}}const Ete=i=>i!==null;function Y3(i,{repeat:e,repeatType:t="loop"},n,r=1){const a=i.filter(Ete),l=r<0||e&&t!=="loop"&&e%2===1?0:a.length-1;return!l||n===void 0?a[l]:n}const Mte={decay:dC,inertia:dC,tween:Qy,keyframes:Qy,spring:Gw};function k6(i){typeof i.type=="string"&&(i.type=Mte[i.type])}class Z3{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,t){return this.finished.then(e,t)}}const Tte=i=>i/100;class K3 extends Z3{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:t}=this.options;t&&t.updatedAt!==zs.now()&&this.tick(zs.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),this.options.onStop?.())},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;k6(e);const{type:t=Qy,repeat:n=0,repeatDelay:r=0,repeatType:a,velocity:s=0}=e;let{keyframes:l}=e;const u=t||Qy;u!==Qy&&typeof l[0]!="number"&&(this.mixKeyframes=lx(Tte,I6(l[0],l[1])),l=[0,100]);const f=u({...e,keyframes:l});a==="mirror"&&(this.mirroredGenerator=u({...e,keyframes:[...l].reverse(),velocity:-s})),f.calculatedDuration===null&&(f.calculatedDuration=q3(f));const{calculatedDuration:p}=f;this.calculatedDuration=p,this.resolvedDuration=p+r,this.totalDuration=this.resolvedDuration*(n+1)-r,this.generator=f}updateTime(e){const t=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=t}tick(e,t=!1){const{generator:n,totalDuration:r,mixKeyframes:a,mirroredGenerator:s,resolvedDuration:l,calculatedDuration:u}=this;if(this.startTime===null)return n.next(0);const{delay:f=0,keyframes:p,repeat:g,repeatType:v,repeatDelay:_,type:S,onUpdate:w,finalKeyframe:E}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-r/this.speed,this.startTime)),t?this.currentTime=e:this.updateTime(e);const b=this.currentTime-f*(this.playbackSpeed>=0?1:-1),R=this.playbackSpeed>=0?b<0:b>r;this.currentTime=Math.max(b,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=r);let C=this.currentTime,A=n;if(g){const U=Math.min(this.currentTime,r)/l;let P=Math.floor(U),z=U%1;!z&&U>=1&&(z=1),z===1&&P--,P=Math.min(P,g+1),!!(P%2)&&(v==="reverse"?(z=1-z,_&&(z-=_/l)):v==="mirror"&&(A=s)),C=Hu(0,1,z)*l}const N=R?{done:!1,value:p[0]}:A.next(C);a&&(N.value=a(N.value));let{done:L}=N;!R&&u!==null&&(L=this.playbackSpeed>=0?this.currentTime>=r:this.currentTime<=0);const B=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&L);return B&&S!==dC&&(N.value=Y3(p,this.options,E,this.speed)),w&&w(N.value),B&&this.finish(),N}then(e,t){return this.finished.then(e,t)}get duration(){return kc(this.calculatedDuration)}get time(){return kc(this.currentTime)}set time(e){e=zc(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(zs.now());const t=this.playbackSpeed!==e;this.playbackSpeed=e,t&&(this.time=kc(this.currentTime))}play(){if(this.isStopped)return;const{driver:e=cte,startTime:t}=this.options;this.driver||(this.driver=e(r=>this.tick(r))),this.options.onPlay?.();const n=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=n):this.holdTime!==null?this.startTime=n-this.holdTime:this.startTime||(this.startTime=t??n),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(zs.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),e.observe(this)}}function Ate(i){for(let e=1;e<i.length;e++)i[e]??(i[e]=i[e-1])}const rp=i=>i*180/Math.PI,pC=i=>{const e=rp(Math.atan2(i[1],i[0]));return mC(e)},Cte={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:i=>(Math.abs(i[0])+Math.abs(i[3]))/2,rotate:pC,rotateZ:pC,skewX:i=>rp(Math.atan(i[1])),skewY:i=>rp(Math.atan(i[2])),skew:i=>(Math.abs(i[1])+Math.abs(i[2]))/2},mC=i=>(i=i%360,i<0&&(i+=360),i),NP=pC,PP=i=>Math.sqrt(i[0]*i[0]+i[1]*i[1]),LP=i=>Math.sqrt(i[4]*i[4]+i[5]*i[5]),Rte={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:PP,scaleY:LP,scale:i=>(PP(i)+LP(i))/2,rotateX:i=>mC(rp(Math.atan2(i[6],i[5]))),rotateY:i=>mC(rp(Math.atan2(-i[2],i[0]))),rotateZ:NP,rotate:NP,skewX:i=>rp(Math.atan(i[4])),skewY:i=>rp(Math.atan(i[1])),skew:i=>(Math.abs(i[1])+Math.abs(i[4]))/2};function gC(i){return i.includes("scale")?1:0}function vC(i,e){if(!i||i==="none")return gC(e);const t=i.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let n,r;if(t)n=Rte,r=t;else{const l=i.match(/^matrix\(([-\d.e\s,]+)\)$/u);n=Cte,r=l}if(!r)return gC(e);const a=n[e],s=r[1].split(",").map(Ote);return typeof a=="function"?a(s):s[a]}const Dte=(i,e)=>{const{transform:t="none"}=getComputedStyle(i);return vC(t,e)};function Ote(i){return parseFloat(i.trim())}const Rg=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Dg=new Set(Rg),UP=i=>i===Cg||i===mn,Nte=new Set(["x","y","z"]),Pte=Rg.filter(i=>!Nte.has(i));function Lte(i){const e=[];return Pte.forEach(t=>{const n=i.getValue(t);n!==void 0&&(e.push([t,n.get()]),n.set(t.startsWith("scale")?1:0))}),e}const gp={width:({x:i},{paddingLeft:e="0",paddingRight:t="0"})=>i.max-i.min-parseFloat(e)-parseFloat(t),height:({y:i},{paddingTop:e="0",paddingBottom:t="0"})=>i.max-i.min-parseFloat(e)-parseFloat(t),top:(i,{top:e})=>parseFloat(e),left:(i,{left:e})=>parseFloat(e),bottom:({y:i},{top:e})=>parseFloat(e)+(i.max-i.min),right:({x:i},{left:e})=>parseFloat(e)+(i.max-i.min),x:(i,{transform:e})=>vC(e,"x"),y:(i,{transform:e})=>vC(e,"y")};gp.translateX=gp.x;gp.translateY=gp.y;const vp=new Set;let yC=!1,_C=!1,xC=!1;function F6(){if(_C){const i=Array.from(vp).filter(n=>n.needsMeasurement),e=new Set(i.map(n=>n.element)),t=new Map;e.forEach(n=>{const r=Lte(n);r.length&&(t.set(n,r),n.render())}),i.forEach(n=>n.measureInitialState()),e.forEach(n=>{n.render();const r=t.get(n);r&&r.forEach(([a,s])=>{n.getValue(a)?.set(s)})}),i.forEach(n=>n.measureEndState()),i.forEach(n=>{n.suspendedScrollY!==void 0&&window.scrollTo(0,n.suspendedScrollY)})}_C=!1,yC=!1,vp.forEach(i=>i.complete(xC)),vp.clear()}function H6(){vp.forEach(i=>{i.readKeyframes(),i.needsMeasurement&&(_C=!0)})}function Ute(){xC=!0,H6(),F6(),xC=!1}class $3{constructor(e,t,n,r,a,s=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=t,this.name=n,this.motionValue=r,this.element=a,this.isAsync=s}scheduleResolve(){this.state="scheduled",this.isAsync?(vp.add(this),yC||(yC=!0,Yi.read(H6),Yi.resolveKeyframes(F6))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:t,element:n,motionValue:r}=this;if(e[0]===null){const a=r?.get(),s=e[e.length-1];if(a!==void 0)e[0]=a;else if(n&&t){const l=n.readValue(t,s);l!=null&&(e[0]=l)}e[0]===void 0&&(e[0]=s),r&&a===void 0&&r.set(e[0])}Ate(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),vp.delete(this)}cancel(){this.state==="scheduled"&&(vp.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const Ite=i=>i.startsWith("--");function Bte(i,e,t){Ite(e)?i.style.setProperty(e,t):i.style[e]=t}const zte=z3(()=>window.ScrollTimeline!==void 0),kte={};function Fte(i,e){const t=z3(i);return()=>kte[e]??t()}const V6=Fte(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),wy=([i,e,t,n])=>`cubic-bezier(${i}, ${e}, ${t}, ${n})`,IP={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:wy([0,.65,.55,1]),circOut:wy([.55,0,1,.45]),backIn:wy([.31,.01,.66,-.59]),backOut:wy([.33,1.53,.69,.99])};function j6(i,e){if(i)return typeof i=="function"?V6()?B6(i,e):"ease-out":A6(i)?wy(i):Array.isArray(i)?i.map(t=>j6(t,e)||IP.easeOut):IP[i]}function Hte(i,e,t,{delay:n=0,duration:r=300,repeat:a=0,repeatType:s="loop",ease:l="easeOut",times:u}={},f=void 0){const p={[e]:t};u&&(p.offset=u);const g=j6(l,r);Array.isArray(g)&&(p.easing=g);const v={delay:n,duration:r,easing:Array.isArray(g)?"linear":g,fill:"both",iterations:a+1,direction:s==="reverse"?"alternate":"normal"};return f&&(v.pseudoElement=f),i.animate(p,v)}function G6(i){return typeof i=="function"&&"applyToOptions"in i}function Vte({type:i,...e}){return G6(i)&&V6()?i.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class jte extends Z3{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:t,name:n,keyframes:r,pseudoElement:a,allowFlatten:s=!1,finalKeyframe:l,onComplete:u}=e;this.isPseudoElement=!!a,this.allowFlatten=s,this.options=e,B3(typeof e.type!="string");const f=Vte(e);this.animation=Hte(t,n,r,f,a),f.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!a){const p=Y3(r,this.options,l,this.speed);this.updateMotionValue?this.updateMotionValue(p):Bte(t,n,p),this.animation.cancel()}u?.(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){this.isPseudoElement||this.animation.commitStyles?.()}get duration(){const e=this.animation.effect?.getComputedTiming?.().duration||0;return kc(Number(e))}get time(){return kc(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=zc(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline({timeline:e,observe:t}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,e&&zte()?(this.animation.timeline=e,$o):t(this)}}const W6={anticipate:w6,backInOut:S6,circInOut:M6};function Gte(i){return i in W6}function Wte(i){typeof i.ease=="string"&&Gte(i.ease)&&(i.ease=W6[i.ease])}const BP=10;class Xte extends jte{constructor(e){Wte(e),k6(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:t,onUpdate:n,onComplete:r,element:a,...s}=this.options;if(!t)return;if(e!==void 0){t.set(e);return}const l=new K3({...s,autoplay:!1}),u=zc(this.finishedTime??this.time);t.setWithVelocity(l.sample(u-BP).value,l.sample(u).value,BP),l.stop()}}const zP=(i,e)=>e==="zIndex"?!1:!!(typeof i=="number"||Array.isArray(i)||typeof i=="string"&&(xh.test(i)||i==="0")&&!i.startsWith("url("));function qte(i){const e=i[0];if(i.length===1)return!0;for(let t=0;t<i.length;t++)if(i[t]!==e)return!0}function Yte(i,e,t,n){const r=i[0];if(r===null)return!1;if(e==="display"||e==="visibility")return!0;const a=i[i.length-1],s=zP(r,e),l=zP(a,e);return!s||!l?!1:qte(i)||(t==="spring"||G6(t))&&n}function bC(i){i.duration=0,i.type}const Zte=new Set(["opacity","clipPath","filter","transform"]),Kte=z3(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function $te(i){const{motionValue:e,name:t,repeatDelay:n,repeatType:r,damping:a,type:s}=i;if(!(e?.owner?.current instanceof HTMLElement))return!1;const{onUpdate:u,transformTemplate:f}=e.owner.getProps();return Kte()&&t&&Zte.has(t)&&(t!=="transform"||!f)&&!u&&!n&&r!=="mirror"&&a!==0&&s!=="inertia"}const Jte=40;class Qte extends Z3{constructor({autoplay:e=!0,delay:t=0,type:n="keyframes",repeat:r=0,repeatDelay:a=0,repeatType:s="loop",keyframes:l,name:u,motionValue:f,element:p,...g}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=zs.now();const v={autoplay:e,delay:t,type:n,repeat:r,repeatDelay:a,repeatType:s,name:u,motionValue:f,element:p,...g},_=p?.KeyframeResolver||$3;this.keyframeResolver=new _(l,(S,w,E)=>this.onKeyframesResolved(S,w,v,!E),u,f,p),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(e,t,n,r){this.keyframeResolver=void 0;const{name:a,type:s,velocity:l,delay:u,isHandoff:f,onUpdate:p}=n;this.resolvedAt=zs.now(),Yte(e,a,s,l)||((Vu.instantAnimations||!u)&&p?.(Y3(e,n,t)),e[0]=e[e.length-1],bC(n),n.repeat=0);const v={startTime:r?this.resolvedAt?this.resolvedAt-this.createdAt>Jte?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:t,...n,keyframes:e},_=!f&&$te(v)?new Xte({...v,element:v.motionValue.owner.current}):new K3(v);_.finished.then(()=>this.notifyFinished()).catch($o),this.pendingTimeline&&(this.stopTimeline=_.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=_}get finished(){return this._animation?this.animation.finished:this._finished}then(e,t){return this.finished.finally(e).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),Ute()),this._animation}get duration(){return this.animation.duration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}const ene=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function tne(i){const e=ene.exec(i);if(!e)return[,];const[,t,n,r]=e;return[`--${t??n}`,r]}function X6(i,e,t=1){const[n,r]=tne(i);if(!n)return;const a=window.getComputedStyle(e).getPropertyValue(n);if(a){const s=a.trim();return p6(s)?parseFloat(s):s}return j3(r)?X6(r,e,t+1):r}function J3(i,e){return i?.[e]??i?.default??i}const q6=new Set(["width","height","top","left","right","bottom",...Rg]),nne={test:i=>i==="auto",parse:i=>i},Y6=i=>e=>e.test(i),Z6=[Cg,mn,Fc,$f,qee,Xee,nne],kP=i=>Z6.find(Y6(i));function ine(i){return typeof i=="number"?i===0:i!==null?i==="none"||i==="0"||g6(i):!0}const rne=new Set(["brightness","contrast","saturate","opacity"]);function ane(i){const[e,t]=i.slice(0,-1).split("(");if(e==="drop-shadow")return i;const[n]=t.match(G3)||[];if(!n)return i;const r=t.replace(n,"");let a=rne.has(e)?1:0;return n!==t&&(a*=100),e+"("+a+r+")"}const sne=/\b([a-z-]*)\(.*?\)/gu,SC={...xh,getAnimatableNone:i=>{const e=i.match(sne);return e?e.map(ane).join(" "):i}},FP={...Cg,transform:Math.round},one={rotate:$f,rotateX:$f,rotateY:$f,rotateZ:$f,scale:rS,scaleX:rS,scaleY:rS,scaleZ:rS,skew:$f,skewX:$f,skewY:$f,distance:mn,translateX:mn,translateY:mn,translateZ:mn,x:mn,y:mn,z:mn,perspective:mn,transformPerspective:mn,opacity:L_,originX:AP,originY:AP,originZ:mn},Q3={borderWidth:mn,borderTopWidth:mn,borderRightWidth:mn,borderBottomWidth:mn,borderLeftWidth:mn,borderRadius:mn,radius:mn,borderTopLeftRadius:mn,borderTopRightRadius:mn,borderBottomRightRadius:mn,borderBottomLeftRadius:mn,width:mn,maxWidth:mn,height:mn,maxHeight:mn,top:mn,right:mn,bottom:mn,left:mn,padding:mn,paddingTop:mn,paddingRight:mn,paddingBottom:mn,paddingLeft:mn,margin:mn,marginTop:mn,marginRight:mn,marginBottom:mn,marginLeft:mn,backgroundPositionX:mn,backgroundPositionY:mn,...one,zIndex:FP,fillOpacity:L_,strokeOpacity:L_,numOctaves:FP},lne={...Q3,color:Dr,backgroundColor:Dr,outlineColor:Dr,fill:Dr,stroke:Dr,borderColor:Dr,borderTopColor:Dr,borderRightColor:Dr,borderBottomColor:Dr,borderLeftColor:Dr,filter:SC,WebkitFilter:SC},K6=i=>lne[i];function $6(i,e){let t=K6(i);return t!==SC&&(t=xh),t.getAnimatableNone?t.getAnimatableNone(e):void 0}const cne=new Set(["auto","none","0"]);function une(i,e,t){let n=0,r;for(;n<i.length&&!r;){const a=i[n];typeof a=="string"&&!cne.has(a)&&U_(a).values.length&&(r=i[n]),n++}if(r&&t)for(const a of e)i[a]=$6(t,r)}class fne extends $3{constructor(e,t,n,r,a){super(e,t,n,r,a,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:t,name:n}=this;if(!t||!t.current)return;super.readKeyframes();for(let u=0;u<e.length;u++){let f=e[u];if(typeof f=="string"&&(f=f.trim(),j3(f))){const p=X6(f,t.current);p!==void 0&&(e[u]=p),u===e.length-1&&(this.finalKeyframe=f)}}if(this.resolveNoneKeyframes(),!q6.has(n)||e.length!==2)return;const[r,a]=e,s=kP(r),l=kP(a);if(s!==l)if(UP(s)&&UP(l))for(let u=0;u<e.length;u++){const f=e[u];typeof f=="string"&&(e[u]=parseFloat(f))}else gp[n]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:t}=this,n=[];for(let r=0;r<e.length;r++)(e[r]===null||ine(e[r]))&&n.push(r);n.length&&une(e,n,t)}measureInitialState(){const{element:e,unresolvedKeyframes:t,name:n}=this;if(!e||!e.current)return;n==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=gp[n](e.measureViewportBox(),window.getComputedStyle(e.current)),t[0]=this.measuredOrigin;const r=t[t.length-1];r!==void 0&&e.getValue(n,r).jump(r,!1)}measureEndState(){const{element:e,name:t,unresolvedKeyframes:n}=this;if(!e||!e.current)return;const r=e.getValue(t);r&&r.jump(this.measuredOrigin,!1);const a=n.length-1,s=n[a];n[a]=gp[t](e.measureViewportBox(),window.getComputedStyle(e.current)),s!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=s),this.removedTransforms?.length&&this.removedTransforms.forEach(([l,u])=>{e.getValue(l).set(u)}),this.resolveNoneKeyframes()}}function hne(i,e,t){if(i instanceof EventTarget)return[i];if(typeof i=="string"){let n=document;const r=t?.[i]??n.querySelectorAll(i);return r?Array.from(r):[]}return Array.from(i)}const J6=(i,e)=>e&&typeof i=="number"?e.transform(i):i;function dne(i){return m6(i)&&"offsetHeight"in i}const HP=30,pne=i=>!isNaN(parseFloat(i));class mne{constructor(e,t={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=n=>{const r=zs.now();if(this.updatedAt!==r&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(n),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const a of this.dependents)a.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=t.owner}setCurrent(e){this.current=e,this.updatedAt=zs.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=pne(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,t){this.events[e]||(this.events[e]=new k3);const n=this.events[e].add(t);return e==="change"?()=>{n(),Yi.read(()=>{this.events.change.getSize()||this.stop()})}:n}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,t){this.passiveEffect=e,this.stopPassiveEffect=t}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,t,n){this.set(t),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-n}jump(e,t=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,t&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=zs.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>HP)return 0;const t=Math.min(this.updatedAt-this.prevUpdatedAt,HP);return v6(parseFloat(this.current)-parseFloat(this.prevFrameValue),t)}start(e){return this.stop(),new Promise(t=>{this.hasAnimated=!0,this.animation=e(t),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function pg(i,e){return new mne(i,e)}const{schedule:eD}=C6(queueMicrotask,!1),Dl={x:!1,y:!1};function Q6(){return Dl.x||Dl.y}function gne(i){return i==="x"||i==="y"?Dl[i]?null:(Dl[i]=!0,()=>{Dl[i]=!1}):Dl.x||Dl.y?null:(Dl.x=Dl.y=!0,()=>{Dl.x=Dl.y=!1})}function ek(i,e){const t=hne(i),n=new AbortController,r={passive:!0,...e,signal:n.signal};return[t,r,()=>n.abort()]}function VP(i){return!(i.pointerType==="touch"||Q6())}function vne(i,e,t={}){const[n,r,a]=ek(i,t),s=l=>{if(!VP(l))return;const{target:u}=l,f=e(u,l);if(typeof f!="function"||!u)return;const p=g=>{VP(g)&&(f(g),u.removeEventListener("pointerleave",p))};u.addEventListener("pointerleave",p,r)};return n.forEach(l=>{l.addEventListener("pointerenter",s,r)}),a}const tk=(i,e)=>e?i===e?!0:tk(i,e.parentElement):!1,tD=i=>i.pointerType==="mouse"?typeof i.button!="number"||i.button<=0:i.isPrimary!==!1,yne=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function _ne(i){return yne.has(i.tagName)||i.tabIndex!==-1}const TS=new WeakSet;function jP(i){return e=>{e.key==="Enter"&&i(e)}}function ET(i,e){i.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const xne=(i,e)=>{const t=i.currentTarget;if(!t)return;const n=jP(()=>{if(TS.has(t))return;ET(t,"down");const r=jP(()=>{ET(t,"up")}),a=()=>ET(t,"cancel");t.addEventListener("keyup",r,e),t.addEventListener("blur",a,e)});t.addEventListener("keydown",n,e),t.addEventListener("blur",()=>t.removeEventListener("keydown",n),e)};function GP(i){return tD(i)&&!Q6()}function bne(i,e,t={}){const[n,r,a]=ek(i,t),s=l=>{const u=l.currentTarget;if(!GP(l))return;TS.add(u);const f=e(u,l),p=(_,S)=>{window.removeEventListener("pointerup",g),window.removeEventListener("pointercancel",v),TS.has(u)&&TS.delete(u),GP(_)&&typeof f=="function"&&f(_,{success:S})},g=_=>{p(_,u===window||u===document||t.useGlobalTarget||tk(u,_.target))},v=_=>{p(_,!1)};window.addEventListener("pointerup",g,r),window.addEventListener("pointercancel",v,r)};return n.forEach(l=>{(t.useGlobalTarget?window:l).addEventListener("pointerdown",s,r),dne(l)&&(l.addEventListener("focus",f=>xne(f,r)),!_ne(l)&&!l.hasAttribute("tabindex")&&(l.tabIndex=0))}),a}function nk(i){return m6(i)&&"ownerSVGElement"in i}function Sne(i){return nk(i)&&i.tagName==="svg"}const za=i=>!!(i&&i.getVelocity),wne=[...Z6,Dr,xh],Ene=i=>wne.find(Y6(i)),ik=H.createContext({transformPagePoint:i=>i,isStatic:!1,reducedMotion:"never"});function Mne(i=!0){const e=H.useContext(L3);if(e===null)return[!0,null];const{isPresent:t,onExitComplete:n,register:r}=e,a=H.useId();H.useEffect(()=>{if(i)return r(a)},[i]);const s=H.useCallback(()=>i&&n&&n(a),[a,n,i]);return!t&&n?[!1,s]:[!0]}const rk=H.createContext({strict:!1}),WP={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},mg={};for(const i in WP)mg[i]={isEnabled:e=>WP[i].some(t=>!!e[t])};function Tne(i){for(const e in i)mg[e]={...mg[e],...i[e]}}const Ane=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Ww(i){return i.startsWith("while")||i.startsWith("drag")&&i!=="draggable"||i.startsWith("layout")||i.startsWith("onTap")||i.startsWith("onPan")||i.startsWith("onLayout")||Ane.has(i)}let ak=i=>!Ww(i);function Cne(i){typeof i=="function"&&(ak=e=>e.startsWith("on")?!Ww(e):i(e))}try{Cne(require("@emotion/is-prop-valid").default)}catch{}function Rne(i,e,t){const n={};for(const r in i)r==="values"&&typeof i.values=="object"||(ak(r)||t===!0&&Ww(r)||!e&&!Ww(r)||i.draggable&&r.startsWith("onDrag"))&&(n[r]=i[r]);return n}const VE=H.createContext({});function jE(i){return i!==null&&typeof i=="object"&&typeof i.start=="function"}function I_(i){return typeof i=="string"||Array.isArray(i)}const nD=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],iD=["initial",...nD];function GE(i){return jE(i.animate)||iD.some(e=>I_(i[e]))}function sk(i){return!!(GE(i)||i.variants)}function Dne(i,e){if(GE(i)){const{initial:t,animate:n}=i;return{initial:t===!1||I_(t)?t:void 0,animate:I_(n)?n:void 0}}return i.inherit!==!1?e:{}}function One(i){const{initial:e,animate:t}=Dne(i,H.useContext(VE));return H.useMemo(()=>({initial:e,animate:t}),[XP(e),XP(t)])}function XP(i){return Array.isArray(i)?i.join(" "):i}const B_={};function Nne(i){for(const e in i)B_[e]=i[e],V3(e)&&(B_[e].isCSSVariable=!0)}function ok(i,{layout:e,layoutId:t}){return Dg.has(i)||i.startsWith("origin")||(e||t!==void 0)&&(!!B_[i]||i==="opacity")}const Pne={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},Lne=Rg.length;function Une(i,e,t){let n="",r=!0;for(let a=0;a<Lne;a++){const s=Rg[a],l=i[s];if(l===void 0)continue;let u=!0;if(typeof l=="number"?u=l===(s.startsWith("scale")?1:0):u=parseFloat(l)===0,!u||t){const f=J6(l,Q3[s]);if(!u){r=!1;const p=Pne[s]||s;n+=`${p}(${f}) `}t&&(e[s]=f)}}return n=n.trim(),t?n=t(e,r?"":n):r&&(n="none"),n}function rD(i,e,t){const{style:n,vars:r,transformOrigin:a}=i;let s=!1,l=!1;for(const u in e){const f=e[u];if(Dg.has(u)){s=!0;continue}else if(V3(u)){r[u]=f;continue}else{const p=J6(f,Q3[u]);u.startsWith("origin")?(l=!0,a[u]=p):n[u]=p}}if(e.transform||(s||t?n.transform=Une(e,i.transform,t):n.transform&&(n.transform="none")),l){const{originX:u="50%",originY:f="50%",originZ:p=0}=a;n.transformOrigin=`${u} ${f} ${p}`}}const aD=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function lk(i,e,t){for(const n in e)!za(e[n])&&!ok(n,t)&&(i[n]=e[n])}function Ine({transformTemplate:i},e){return H.useMemo(()=>{const t=aD();return rD(t,e,i),Object.assign({},t.vars,t.style)},[e])}function Bne(i,e){const t=i.style||{},n={};return lk(n,t,i),Object.assign(n,Ine(i,e)),n}function zne(i,e){const t={},n=Bne(i,e);return i.drag&&i.dragListener!==!1&&(t.draggable=!1,n.userSelect=n.WebkitUserSelect=n.WebkitTouchCallout="none",n.touchAction=i.drag===!0?"none":`pan-${i.drag==="x"?"y":"x"}`),i.tabIndex===void 0&&(i.onTap||i.onTapStart||i.whileTap)&&(t.tabIndex=0),t.style=n,t}const kne={offset:"stroke-dashoffset",array:"stroke-dasharray"},Fne={offset:"strokeDashoffset",array:"strokeDasharray"};function Hne(i,e,t=1,n=0,r=!0){i.pathLength=1;const a=r?kne:Fne;i[a.offset]=mn.transform(-n);const s=mn.transform(e),l=mn.transform(t);i[a.array]=`${s} ${l}`}function ck(i,{attrX:e,attrY:t,attrScale:n,pathLength:r,pathSpacing:a=1,pathOffset:s=0,...l},u,f,p){if(rD(i,l,f),u){i.style.viewBox&&(i.attrs.viewBox=i.style.viewBox);return}i.attrs=i.style,i.style={};const{attrs:g,style:v}=i;g.transform&&(v.transform=g.transform,delete g.transform),(v.transform||g.transformOrigin)&&(v.transformOrigin=g.transformOrigin??"50% 50%",delete g.transformOrigin),v.transform&&(v.transformBox=p?.transformBox??"fill-box",delete g.transformBox),e!==void 0&&(g.x=e),t!==void 0&&(g.y=t),n!==void 0&&(g.scale=n),r!==void 0&&Hne(g,r,a,s,!1)}const uk=()=>({...aD(),attrs:{}}),fk=i=>typeof i=="string"&&i.toLowerCase()==="svg";function Vne(i,e,t,n){const r=H.useMemo(()=>{const a=uk();return ck(a,e,fk(n),i.transformTemplate,i.style),{...a.attrs,style:{...a.style}}},[e]);if(i.style){const a={};lk(a,i.style,i),r.style={...a,...r.style}}return r}const jne=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function sD(i){return typeof i!="string"||i.includes("-")?!1:!!(jne.indexOf(i)>-1||/[A-Z]/u.test(i))}function Gne(i,e,t,{latestValues:n},r,a=!1){const l=(sD(i)?Vne:zne)(e,n,r,i),u=Rne(e,typeof i=="string",a),f=i!==H.Fragment?{...u,...l,ref:t}:{},{children:p}=e,g=H.useMemo(()=>za(p)?p.get():p,[p]);return H.createElement(i,{...f,children:g})}function qP(i){const e=[{},{}];return i?.values.forEach((t,n)=>{e[0][n]=t.get(),e[1][n]=t.getVelocity()}),e}function oD(i,e,t,n){if(typeof e=="function"){const[r,a]=qP(n);e=e(t!==void 0?t:i.custom,r,a)}if(typeof e=="string"&&(e=i.variants&&i.variants[e]),typeof e=="function"){const[r,a]=qP(n);e=e(t!==void 0?t:i.custom,r,a)}return e}function AS(i){return za(i)?i.get():i}function Wne({scrapeMotionValuesFromProps:i,createRenderState:e},t,n,r){return{latestValues:Xne(t,n,r,i),renderState:e()}}function Xne(i,e,t,n){const r={},a=n(i,{});for(const v in a)r[v]=AS(a[v]);let{initial:s,animate:l}=i;const u=GE(i),f=sk(i);e&&f&&!u&&i.inherit!==!1&&(s===void 0&&(s=e.initial),l===void 0&&(l=e.animate));let p=t?t.initial===!1:!1;p=p||s===!1;const g=p?l:s;if(g&&typeof g!="boolean"&&!jE(g)){const v=Array.isArray(g)?g:[g];for(let _=0;_<v.length;_++){const S=oD(i,v[_]);if(S){const{transitionEnd:w,transition:E,...b}=S;for(const R in b){let C=b[R];if(Array.isArray(C)){const A=p?C.length-1:0;C=C[A]}C!==null&&(r[R]=C)}for(const R in w)r[R]=w[R]}}}return r}const hk=i=>(e,t)=>{const n=H.useContext(VE),r=H.useContext(L3),a=()=>Wne(i,e,n,r);return t?a():Tee(a)};function lD(i,e,t){const{style:n}=i,r={};for(const a in n)(za(n[a])||e.style&&za(e.style[a])||ok(a,i)||t?.getValue(a)?.liveStyle!==void 0)&&(r[a]=n[a]);return r}const qne=hk({scrapeMotionValuesFromProps:lD,createRenderState:aD});function dk(i,e,t){const n=lD(i,e,t);for(const r in i)if(za(i[r])||za(e[r])){const a=Rg.indexOf(r)!==-1?"attr"+r.charAt(0).toUpperCase()+r.substring(1):r;n[a]=i[r]}return n}const Yne=hk({scrapeMotionValuesFromProps:dk,createRenderState:uk}),Zne=Symbol.for("motionComponentSymbol");function O0(i){return i&&typeof i=="object"&&Object.prototype.hasOwnProperty.call(i,"current")}function Kne(i,e,t){return H.useCallback(n=>{n&&i.onMount&&i.onMount(n),e&&(n?e.mount(n):e.unmount()),t&&(typeof t=="function"?t(n):O0(t)&&(t.current=n))},[e])}const cD=i=>i.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),$ne="framerAppearId",pk="data-"+cD($ne),mk=H.createContext({});function Jne(i,e,t,n,r){const{visualElement:a}=H.useContext(VE),s=H.useContext(rk),l=H.useContext(L3),u=H.useContext(ik).reducedMotion,f=H.useRef(null);n=n||s.renderer,!f.current&&n&&(f.current=n(i,{visualState:e,parent:a,props:t,presenceContext:l,blockInitialAnimation:l?l.initial===!1:!1,reducedMotionConfig:u}));const p=f.current,g=H.useContext(mk);p&&!p.projection&&r&&(p.type==="html"||p.type==="svg")&&Qne(f.current,t,r,g);const v=H.useRef(!1);H.useInsertionEffect(()=>{p&&v.current&&p.update(t,l)});const _=t[pk],S=H.useRef(!!_&&!window.MotionHandoffIsComplete?.(_)&&window.MotionHasOptimisedAnimation?.(_));return Aee(()=>{p&&(v.current=!0,window.MotionIsMounted=!0,p.updateFeatures(),p.scheduleRenderMicrotask(),S.current&&p.animationState&&p.animationState.animateChanges())}),H.useEffect(()=>{p&&(!S.current&&p.animationState&&p.animationState.animateChanges(),S.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(_)}),S.current=!1),p.enteringChildren=void 0)}),p}function Qne(i,e,t,n){const{layoutId:r,layout:a,drag:s,dragConstraints:l,layoutScroll:u,layoutRoot:f,layoutCrossfade:p}=e;i.projection=new t(i.latestValues,e["data-framer-portal-id"]?void 0:gk(i.parent)),i.projection.setOptions({layoutId:r,layout:a,alwaysMeasureLayout:!!s||l&&O0(l),visualElement:i,animationType:typeof a=="string"?a:"both",initialPromotionConfig:n,crossfade:p,layoutScroll:u,layoutRoot:f})}function gk(i){if(i)return i.options.allowProjection!==!1?i.projection:gk(i.parent)}function MT(i,{forwardMotionProps:e=!1}={},t,n){t&&Tne(t);const r=sD(i)?Yne:qne;function a(l,u){let f;const p={...H.useContext(ik),...l,layoutId:eie(l)},{isStatic:g}=p,v=One(l),_=r(l,g);if(!g&&P3){tie();const S=nie(p);f=S.MeasureLayout,v.visualElement=Jne(i,_,p,n,S.ProjectionNode)}return I.jsxs(VE.Provider,{value:v,children:[f&&v.visualElement?I.jsx(f,{visualElement:v.visualElement,...p}):null,Gne(i,l,Kne(_,v.visualElement,u),_,g,e)]})}a.displayName=`motion.${typeof i=="string"?i:`create(${i.displayName??i.name??""})`}`;const s=H.forwardRef(a);return s[Zne]=i,s}function eie({layoutId:i}){const e=H.useContext(d6).id;return e&&i!==void 0?e+"-"+i:i}function tie(i,e){H.useContext(rk).strict}function nie(i){const{drag:e,layout:t}=mg;if(!e&&!t)return{};const n={...e,...t};return{MeasureLayout:e?.isEnabled(i)||t?.isEnabled(i)?n.MeasureLayout:void 0,ProjectionNode:n.ProjectionNode}}function iie(i,e){if(typeof Proxy>"u")return MT;const t=new Map,n=(a,s)=>MT(a,s,i,e),r=(a,s)=>n(a,s);return new Proxy(r,{get:(a,s)=>s==="create"?n:(t.has(s)||t.set(s,MT(s,void 0,i,e)),t.get(s))})}function vk({top:i,left:e,right:t,bottom:n}){return{x:{min:e,max:t},y:{min:i,max:n}}}function rie({x:i,y:e}){return{top:e.min,right:i.max,bottom:e.max,left:i.min}}function aie(i,e){if(!e)return i;const t=e({x:i.left,y:i.top}),n=e({x:i.right,y:i.bottom});return{top:t.y,left:t.x,bottom:n.y,right:n.x}}function TT(i){return i===void 0||i===1}function wC({scale:i,scaleX:e,scaleY:t}){return!TT(i)||!TT(e)||!TT(t)}function qd(i){return wC(i)||yk(i)||i.z||i.rotate||i.rotateX||i.rotateY||i.skewX||i.skewY}function yk(i){return YP(i.x)||YP(i.y)}function YP(i){return i&&i!=="0%"}function Xw(i,e,t){const n=i-t,r=e*n;return t+r}function ZP(i,e,t,n,r){return r!==void 0&&(i=Xw(i,r,n)),Xw(i,t,n)+e}function EC(i,e=0,t=1,n,r){i.min=ZP(i.min,e,t,n,r),i.max=ZP(i.max,e,t,n,r)}function _k(i,{x:e,y:t}){EC(i.x,e.translate,e.scale,e.originPoint),EC(i.y,t.translate,t.scale,t.originPoint)}const KP=.999999999999,$P=1.0000000000001;function sie(i,e,t,n=!1){const r=t.length;if(!r)return;e.x=e.y=1;let a,s;for(let l=0;l<r;l++){a=t[l],s=a.projectionDelta;const{visualElement:u}=a.options;u&&u.props.style&&u.props.style.display==="contents"||(n&&a.options.layoutScroll&&a.scroll&&a!==a.root&&P0(i,{x:-a.scroll.offset.x,y:-a.scroll.offset.y}),s&&(e.x*=s.x.scale,e.y*=s.y.scale,_k(i,s)),n&&qd(a.latestValues)&&P0(i,a.latestValues))}e.x<$P&&e.x>KP&&(e.x=1),e.y<$P&&e.y>KP&&(e.y=1)}function N0(i,e){i.min=i.min+e,i.max=i.max+e}function JP(i,e,t,n,r=.5){const a=ir(i.min,i.max,r);EC(i,e,t,a,n)}function P0(i,e){JP(i.x,e.x,e.scaleX,e.scale,e.originX),JP(i.y,e.y,e.scaleY,e.scale,e.originY)}function xk(i,e){return vk(aie(i.getBoundingClientRect(),e))}function oie(i,e,t){const n=xk(i,t),{scroll:r}=e;return r&&(N0(n.x,r.offset.x),N0(n.y,r.offset.y)),n}const QP=()=>({translate:0,scale:1,origin:0,originPoint:0}),L0=()=>({x:QP(),y:QP()}),eL=()=>({min:0,max:0}),_r=()=>({x:eL(),y:eL()}),MC={current:null},bk={current:!1};function lie(){if(bk.current=!0,!!P3)if(window.matchMedia){const i=window.matchMedia("(prefers-reduced-motion)"),e=()=>MC.current=i.matches;i.addEventListener("change",e),e()}else MC.current=!1}const cie=new WeakMap;function uie(i,e,t){for(const n in e){const r=e[n],a=t[n];if(za(r))i.addValue(n,r);else if(za(a))i.addValue(n,pg(r,{owner:i}));else if(a!==r)if(i.hasValue(n)){const s=i.getValue(n);s.liveStyle===!0?s.jump(r):s.hasAnimated||s.set(r)}else{const s=i.getStaticValue(n);i.addValue(n,pg(s!==void 0?s:r,{owner:i}))}}for(const n in t)e[n]===void 0&&i.removeValue(n);return e}const tL=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class fie{scrapeMotionValuesFromProps(e,t,n){return{}}constructor({parent:e,props:t,presenceContext:n,reducedMotionConfig:r,blockInitialAnimation:a,visualState:s},l={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=$3,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const v=zs.now();this.renderScheduledAt<v&&(this.renderScheduledAt=v,Yi.render(this.render,!1,!0))};const{latestValues:u,renderState:f}=s;this.latestValues=u,this.baseTarget={...u},this.initialValues=t.initial?{...u}:{},this.renderState=f,this.parent=e,this.props=t,this.presenceContext=n,this.depth=e?e.depth+1:0,this.reducedMotionConfig=r,this.options=l,this.blockInitialAnimation=!!a,this.isControllingVariants=GE(t),this.isVariantNode=sk(t),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:p,...g}=this.scrapeMotionValuesFromProps(t,{},this);for(const v in g){const _=g[v];u[v]!==void 0&&za(_)&&_.set(u[v])}}mount(e){this.current=e,cie.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((t,n)=>this.bindToMotionValue(n,t)),bk.current||lie(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:MC.current,this.parent?.addChild(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),_h(this.notifyUpdate),_h(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent?.removeChild(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const t=this.features[e];t&&(t.unmount(),t.isMounted=!1)}this.current=null}addChild(e){this.children.add(e),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,t){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const n=Dg.has(e);n&&this.onBindTransform&&this.onBindTransform();const r=t.on("change",s=>{this.latestValues[e]=s,this.props.onUpdate&&Yi.preRender(this.notifyUpdate),n&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let a;window.MotionCheckAppearSync&&(a=window.MotionCheckAppearSync(this,e,t)),this.valueSubscriptions.set(e,()=>{r(),a&&a(),t.owner&&t.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in mg){const t=mg[e];if(!t)continue;const{isEnabled:n,Feature:r}=t;if(!this.features[e]&&r&&n(this.props)&&(this.features[e]=new r(this)),this.features[e]){const a=this.features[e];a.isMounted?a.update():(a.mount(),a.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):_r()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,t){this.latestValues[e]=t}update(e,t){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=t;for(let n=0;n<tL.length;n++){const r=tL[n];this.propEventSubscriptions[r]&&(this.propEventSubscriptions[r](),delete this.propEventSubscriptions[r]);const a="on"+r,s=e[a];s&&(this.propEventSubscriptions[r]=this.on(r,s))}this.prevMotionValues=uie(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const t=this.getClosestVariantNode();if(t)return t.variantChildren&&t.variantChildren.add(e),()=>t.variantChildren.delete(e)}addValue(e,t){const n=this.values.get(e);t!==n&&(n&&this.removeValue(e),this.bindToMotionValue(e,t),this.values.set(e,t),this.latestValues[e]=t.get())}removeValue(e){this.values.delete(e);const t=this.valueSubscriptions.get(e);t&&(t(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,t){if(this.props.values&&this.props.values[e])return this.props.values[e];let n=this.values.get(e);return n===void 0&&t!==void 0&&(n=pg(t===null?void 0:t,{owner:this}),this.addValue(e,n)),n}readValue(e,t){let n=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return n!=null&&(typeof n=="string"&&(p6(n)||g6(n))?n=parseFloat(n):!Ene(n)&&xh.test(t)&&(n=$6(e,t)),this.setBaseTarget(e,za(n)?n.get():n)),za(n)?n.get():n}setBaseTarget(e,t){this.baseTarget[e]=t}getBaseTarget(e){const{initial:t}=this.props;let n;if(typeof t=="string"||typeof t=="object"){const a=oD(this.props,t,this.presenceContext?.custom);a&&(n=a[e])}if(t&&n!==void 0)return n;const r=this.getBaseTargetFromProps(this.props,e);return r!==void 0&&!za(r)?r:this.initialValues[e]!==void 0&&n===void 0?void 0:this.baseTarget[e]}on(e,t){return this.events[e]||(this.events[e]=new k3),this.events[e].add(t)}notify(e,...t){this.events[e]&&this.events[e].notify(...t)}scheduleRenderMicrotask(){eD.render(this.render)}}class Sk extends fie{constructor(){super(...arguments),this.KeyframeResolver=fne}sortInstanceNodePosition(e,t){return e.compareDocumentPosition(t)&2?1:-1}getBaseTargetFromProps(e,t){return e.style?e.style[t]:void 0}removeValueFromRenderState(e,{vars:t,style:n}){delete t[e],delete n[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;za(e)&&(this.childSubscription=e.on("change",t=>{this.current&&(this.current.textContent=`${t}`)}))}}function wk(i,{style:e,vars:t},n,r){const a=i.style;let s;for(s in e)a[s]=e[s];r?.applyProjectionStyles(a,n);for(s in t)a.setProperty(s,t[s])}function hie(i){return window.getComputedStyle(i)}class die extends Sk{constructor(){super(...arguments),this.type="html",this.renderInstance=wk}readValueFromInstance(e,t){if(Dg.has(t))return this.projection?.isProjecting?gC(t):Dte(e,t);{const n=hie(e),r=(V3(t)?n.getPropertyValue(t):n[t])||0;return typeof r=="string"?r.trim():r}}measureInstanceViewportBox(e,{transformPagePoint:t}){return xk(e,t)}build(e,t,n){rD(e,t,n.transformTemplate)}scrapeMotionValuesFromProps(e,t,n){return lD(e,t,n)}}const Ek=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function pie(i,e,t,n){wk(i,e,void 0,n);for(const r in e.attrs)i.setAttribute(Ek.has(r)?r:cD(r),e.attrs[r])}class mie extends Sk{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=_r}getBaseTargetFromProps(e,t){return e[t]}readValueFromInstance(e,t){if(Dg.has(t)){const n=K6(t);return n&&n.default||0}return t=Ek.has(t)?t:cD(t),e.getAttribute(t)}scrapeMotionValuesFromProps(e,t,n){return dk(e,t,n)}build(e,t,n){ck(e,t,this.isSVGTag,n.transformTemplate,n.style)}renderInstance(e,t,n,r){pie(e,t,n,r)}mount(e){this.isSVGTag=fk(e.tagName),super.mount(e)}}const gie=(i,e)=>sD(i)?new mie(e):new die(e,{allowProjection:i!==H.Fragment});function W0(i,e,t){const n=i.getProps();return oD(n,e,t!==void 0?t:n.custom,i)}const TC=i=>Array.isArray(i);function vie(i,e,t){i.hasValue(e)?i.getValue(e).set(t):i.addValue(e,pg(t))}function yie(i){return TC(i)?i[i.length-1]||0:i}function _ie(i,e){const t=W0(i,e);let{transitionEnd:n={},transition:r={},...a}=t||{};a={...a,...n};for(const s in a){const l=yie(a[s]);vie(i,s,l)}}function xie(i){return!!(za(i)&&i.add)}function AC(i,e){const t=i.getValue("willChange");if(xie(t))return t.add(e);if(!t&&Vu.WillChange){const n=new Vu.WillChange("auto");i.addValue("willChange",n),n.add(e)}}function Mk(i){return i.props[pk]}const bie=i=>i!==null;function Sie(i,{repeat:e,repeatType:t="loop"},n){const r=i.filter(bie),a=e&&t!=="loop"&&e%2===1?0:r.length-1;return r[a]}const wie={type:"spring",stiffness:500,damping:25,restSpeed:10},Eie=i=>({type:"spring",stiffness:550,damping:i===0?2*Math.sqrt(550):30,restSpeed:10}),Mie={type:"keyframes",duration:.8},Tie={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},Aie=(i,{keyframes:e})=>e.length>2?Mie:Dg.has(i)?i.startsWith("scale")?Eie(e[1]):wie:Tie;function Cie({when:i,delay:e,delayChildren:t,staggerChildren:n,staggerDirection:r,repeat:a,repeatType:s,repeatDelay:l,from:u,elapsed:f,...p}){return!!Object.keys(p).length}const uD=(i,e,t,n={},r,a)=>s=>{const l=J3(n,i)||{},u=l.delay||n.delay||0;let{elapsed:f=0}=n;f=f-zc(u);const p={keyframes:Array.isArray(t)?t:[null,t],ease:"easeOut",velocity:e.getVelocity(),...l,delay:-f,onUpdate:v=>{e.set(v),l.onUpdate&&l.onUpdate(v)},onComplete:()=>{s(),l.onComplete&&l.onComplete()},name:i,motionValue:e,element:a?void 0:r};Cie(l)||Object.assign(p,Aie(i,p)),p.duration&&(p.duration=zc(p.duration)),p.repeatDelay&&(p.repeatDelay=zc(p.repeatDelay)),p.from!==void 0&&(p.keyframes[0]=p.from);let g=!1;if((p.type===!1||p.duration===0&&!p.repeatDelay)&&(bC(p),p.delay===0&&(g=!0)),(Vu.instantAnimations||Vu.skipAnimations)&&(g=!0,bC(p),p.delay=0),p.allowFlatten=!l.type&&!l.ease,g&&!a&&e.get()!==void 0){const v=Sie(p.keyframes,l);if(v!==void 0){Yi.update(()=>{p.onUpdate(v),p.onComplete()});return}}return l.isSync?new K3(p):new Qte(p)};function Rie({protectedKeys:i,needsAnimating:e},t){const n=i.hasOwnProperty(t)&&e[t]!==!0;return e[t]=!1,n}function Tk(i,e,{delay:t=0,transitionOverride:n,type:r}={}){let{transition:a=i.getDefaultTransition(),transitionEnd:s,...l}=e;n&&(a=n);const u=[],f=r&&i.animationState&&i.animationState.getState()[r];for(const p in l){const g=i.getValue(p,i.latestValues[p]??null),v=l[p];if(v===void 0||f&&Rie(f,p))continue;const _={delay:t,...J3(a||{},p)},S=g.get();if(S!==void 0&&!g.isAnimating&&!Array.isArray(v)&&v===S&&!_.velocity)continue;let w=!1;if(window.MotionHandoffAnimation){const b=Mk(i);if(b){const R=window.MotionHandoffAnimation(b,p,Yi);R!==null&&(_.startTime=R,w=!0)}}AC(i,p),g.start(uD(p,g,v,i.shouldReduceMotion&&q6.has(p)?{type:!1}:_,i,w));const E=g.animation;E&&u.push(E)}return s&&Promise.all(u).then(()=>{Yi.update(()=>{s&&_ie(i,s)})}),u}function Ak(i,e,t,n=0,r=1){const a=Array.from(i).sort((f,p)=>f.sortNodePosition(p)).indexOf(e),s=i.size,l=(s-1)*n;return typeof t=="function"?t(a,s):r===1?a*n:l-a*n}function CC(i,e,t={}){const n=W0(i,e,t.type==="exit"?i.presenceContext?.custom:void 0);let{transition:r=i.getDefaultTransition()||{}}=n||{};t.transitionOverride&&(r=t.transitionOverride);const a=n?()=>Promise.all(Tk(i,n,t)):()=>Promise.resolve(),s=i.variantChildren&&i.variantChildren.size?(u=0)=>{const{delayChildren:f=0,staggerChildren:p,staggerDirection:g}=r;return Die(i,e,u,f,p,g,t)}:()=>Promise.resolve(),{when:l}=r;if(l){const[u,f]=l==="beforeChildren"?[a,s]:[s,a];return u().then(()=>f())}else return Promise.all([a(),s(t.delay)])}function Die(i,e,t=0,n=0,r=0,a=1,s){const l=[];for(const u of i.variantChildren)u.notify("AnimationStart",e),l.push(CC(u,e,{...s,delay:t+(typeof n=="function"?0:n)+Ak(i.variantChildren,u,n,r,a)}).then(()=>u.notify("AnimationComplete",e)));return Promise.all(l)}function Oie(i,e,t={}){i.notify("AnimationStart",e);let n;if(Array.isArray(e)){const r=e.map(a=>CC(i,a,t));n=Promise.all(r)}else if(typeof e=="string")n=CC(i,e,t);else{const r=typeof e=="function"?W0(i,e,t.custom):e;n=Promise.all(Tk(i,r,t))}return n.then(()=>{i.notify("AnimationComplete",e)})}function Ck(i,e){if(!Array.isArray(e))return!1;const t=e.length;if(t!==i.length)return!1;for(let n=0;n<t;n++)if(e[n]!==i[n])return!1;return!0}const Nie=iD.length;function Rk(i){if(!i)return;if(!i.isControllingVariants){const t=i.parent?Rk(i.parent)||{}:{};return i.props.initial!==void 0&&(t.initial=i.props.initial),t}const e={};for(let t=0;t<Nie;t++){const n=iD[t],r=i.props[n];(I_(r)||r===!1)&&(e[n]=r)}return e}const Pie=[...nD].reverse(),Lie=nD.length;function Uie(i){return e=>Promise.all(e.map(({animation:t,options:n})=>Oie(i,t,n)))}function Iie(i){let e=Uie(i),t=nL(),n=!0;const r=u=>(f,p)=>{const g=W0(i,p,u==="exit"?i.presenceContext?.custom:void 0);if(g){const{transition:v,transitionEnd:_,...S}=g;f={...f,...S,..._}}return f};function a(u){e=u(i)}function s(u){const{props:f}=i,p=Rk(i.parent)||{},g=[],v=new Set;let _={},S=1/0;for(let E=0;E<Lie;E++){const b=Pie[E],R=t[b],C=f[b]!==void 0?f[b]:p[b],A=I_(C),N=b===u?R.isActive:null;N===!1&&(S=E);let L=C===p[b]&&C!==f[b]&&A;if(L&&n&&i.manuallyAnimateOnMount&&(L=!1),R.protectedKeys={..._},!R.isActive&&N===null||!C&&!R.prevProp||jE(C)||typeof C=="boolean")continue;const B=Bie(R.prevProp,C);let U=B||b===u&&R.isActive&&!L&&A||E>S&&A,P=!1;const z=Array.isArray(C)?C:[C];let X=z.reduce(r(b),{});N===!1&&(X={});const{prevResolvedValues:te={}}=R,se={...te,...X},ae=Y=>{U=!0,v.has(Y)&&(P=!0,v.delete(Y)),R.needsAnimating[Y]=!0;const Q=i.getValue(Y);Q&&(Q.liveStyle=!1)};for(const Y in se){const Q=X[Y],ye=te[Y];if(_.hasOwnProperty(Y))continue;let F=!1;TC(Q)&&TC(ye)?F=!Ck(Q,ye):F=Q!==ye,F?Q!=null?ae(Y):v.add(Y):Q!==void 0&&v.has(Y)?ae(Y):R.protectedKeys[Y]=!0}R.prevProp=C,R.prevResolvedValues=X,R.isActive&&(_={..._,...X}),n&&i.blockInitialAnimation&&(U=!1);const ue=L&&B;U&&(!ue||P)&&g.push(...z.map(Y=>{const Q={type:b};if(typeof Y=="string"&&n&&!ue&&i.manuallyAnimateOnMount&&i.parent){const{parent:ye}=i,F=W0(ye,Y);if(ye.enteringChildren&&F){const{delayChildren:fe}=F.transition||{};Q.delay=Ak(ye.enteringChildren,i,fe)}}return{animation:Y,options:Q}}))}if(v.size){const E={};if(typeof f.initial!="boolean"){const b=W0(i,Array.isArray(f.initial)?f.initial[0]:f.initial);b&&b.transition&&(E.transition=b.transition)}v.forEach(b=>{const R=i.getBaseTarget(b),C=i.getValue(b);C&&(C.liveStyle=!0),E[b]=R??null}),g.push({animation:E})}let w=!!g.length;return n&&(f.initial===!1||f.initial===f.animate)&&!i.manuallyAnimateOnMount&&(w=!1),n=!1,w?e(g):Promise.resolve()}function l(u,f){if(t[u].isActive===f)return Promise.resolve();i.variantChildren?.forEach(g=>g.animationState?.setActive(u,f)),t[u].isActive=f;const p=s(u);for(const g in t)t[g].protectedKeys={};return p}return{animateChanges:s,setActive:l,setAnimateFunction:a,getState:()=>t,reset:()=>{t=nL(),n=!0}}}function Bie(i,e){return typeof e=="string"?e!==i:Array.isArray(e)?!Ck(e,i):!1}function Fd(i=!1){return{isActive:i,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function nL(){return{animate:Fd(!0),whileInView:Fd(),whileHover:Fd(),whileTap:Fd(),whileDrag:Fd(),whileFocus:Fd(),exit:Fd()}}class Dh{constructor(e){this.isMounted=!1,this.node=e}update(){}}class zie extends Dh{constructor(e){super(e),e.animationState||(e.animationState=Iie(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();jE(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:t}=this.node.prevProps||{};e!==t&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let kie=0;class Fie extends Dh{constructor(){super(...arguments),this.id=kie++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:t}=this.node.presenceContext,{isPresent:n}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===n)return;const r=this.node.animationState.setActive("exit",!e);t&&!e&&r.then(()=>{t(this.id)})}mount(){const{register:e,onExitComplete:t}=this.node.presenceContext||{};t&&t(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const Hie={animation:{Feature:zie},exit:{Feature:Fie}};function z_(i,e,t,n={passive:!0}){return i.addEventListener(e,t,n),()=>i.removeEventListener(e,t)}function fx(i){return{point:{x:i.pageX,y:i.pageY}}}const Vie=i=>e=>tD(e)&&i(e,fx(e));function e_(i,e,t,n){return z_(i,e,Vie(t),n)}const Dk=1e-4,jie=1-Dk,Gie=1+Dk,Ok=.01,Wie=0-Ok,Xie=0+Ok;function gs(i){return i.max-i.min}function qie(i,e,t){return Math.abs(i-e)<=t}function iL(i,e,t,n=.5){i.origin=n,i.originPoint=ir(e.min,e.max,i.origin),i.scale=gs(t)/gs(e),i.translate=ir(t.min,t.max,i.origin)-i.originPoint,(i.scale>=jie&&i.scale<=Gie||isNaN(i.scale))&&(i.scale=1),(i.translate>=Wie&&i.translate<=Xie||isNaN(i.translate))&&(i.translate=0)}function t_(i,e,t,n){iL(i.x,e.x,t.x,n?n.originX:void 0),iL(i.y,e.y,t.y,n?n.originY:void 0)}function rL(i,e,t){i.min=t.min+e.min,i.max=i.min+gs(e)}function Yie(i,e,t){rL(i.x,e.x,t.x),rL(i.y,e.y,t.y)}function aL(i,e,t){i.min=e.min-t.min,i.max=i.min+gs(e)}function n_(i,e,t){aL(i.x,e.x,t.x),aL(i.y,e.y,t.y)}function jo(i){return[i("x"),i("y")]}const Nk=({current:i})=>i?i.ownerDocument.defaultView:null,sL=(i,e)=>Math.abs(i-e);function Zie(i,e){const t=sL(i.x,e.x),n=sL(i.y,e.y);return Math.sqrt(t**2+n**2)}class Pk{constructor(e,t,{transformPagePoint:n,contextWindow:r=window,dragSnapToOrigin:a=!1,distanceThreshold:s=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const v=CT(this.lastMoveEventInfo,this.history),_=this.startEvent!==null,S=Zie(v.offset,{x:0,y:0})>=this.distanceThreshold;if(!_&&!S)return;const{point:w}=v,{timestamp:E}=ga;this.history.push({...w,timestamp:E});const{onStart:b,onMove:R}=this.handlers;_||(b&&b(this.lastMoveEvent,v),this.startEvent=this.lastMoveEvent),R&&R(this.lastMoveEvent,v)},this.handlePointerMove=(v,_)=>{this.lastMoveEvent=v,this.lastMoveEventInfo=AT(_,this.transformPagePoint),Yi.update(this.updatePoint,!0)},this.handlePointerUp=(v,_)=>{this.end();const{onEnd:S,onSessionEnd:w,resumeAnimation:E}=this.handlers;if(this.dragSnapToOrigin&&E&&E(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const b=CT(v.type==="pointercancel"?this.lastMoveEventInfo:AT(_,this.transformPagePoint),this.history);this.startEvent&&S&&S(v,b),w&&w(v,b)},!tD(e))return;this.dragSnapToOrigin=a,this.handlers=t,this.transformPagePoint=n,this.distanceThreshold=s,this.contextWindow=r||window;const l=fx(e),u=AT(l,this.transformPagePoint),{point:f}=u,{timestamp:p}=ga;this.history=[{...f,timestamp:p}];const{onSessionStart:g}=t;g&&g(e,CT(u,this.history)),this.removeListeners=lx(e_(this.contextWindow,"pointermove",this.handlePointerMove),e_(this.contextWindow,"pointerup",this.handlePointerUp),e_(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),_h(this.updatePoint)}}function AT(i,e){return e?{point:e(i.point)}:i}function oL(i,e){return{x:i.x-e.x,y:i.y-e.y}}function CT({point:i},e){return{point:i,delta:oL(i,Lk(e)),offset:oL(i,Kie(e)),velocity:$ie(e,.1)}}function Kie(i){return i[0]}function Lk(i){return i[i.length-1]}function $ie(i,e){if(i.length<2)return{x:0,y:0};let t=i.length-1,n=null;const r=Lk(i);for(;t>=0&&(n=i[t],!(r.timestamp-n.timestamp>zc(e)));)t--;if(!n)return{x:0,y:0};const a=kc(r.timestamp-n.timestamp);if(a===0)return{x:0,y:0};const s={x:(r.x-n.x)/a,y:(r.y-n.y)/a};return s.x===1/0&&(s.x=0),s.y===1/0&&(s.y=0),s}function Jie(i,{min:e,max:t},n){return e!==void 0&&i<e?i=n?ir(e,i,n.min):Math.max(i,e):t!==void 0&&i>t&&(i=n?ir(t,i,n.max):Math.min(i,t)),i}function lL(i,e,t){return{min:e!==void 0?i.min+e:void 0,max:t!==void 0?i.max+t-(i.max-i.min):void 0}}function Qie(i,{top:e,left:t,bottom:n,right:r}){return{x:lL(i.x,t,r),y:lL(i.y,e,n)}}function cL(i,e){let t=e.min-i.min,n=e.max-i.max;return e.max-e.min<i.max-i.min&&([t,n]=[n,t]),{min:t,max:n}}function ere(i,e){return{x:cL(i.x,e.x),y:cL(i.y,e.y)}}function tre(i,e){let t=.5;const n=gs(i),r=gs(e);return r>n?t=P_(e.min,e.max-n,i.min):n>r&&(t=P_(i.min,i.max-r,e.min)),Hu(0,1,t)}function nre(i,e){const t={};return e.min!==void 0&&(t.min=e.min-i.min),e.max!==void 0&&(t.max=e.max-i.min),t}const RC=.35;function ire(i=RC){return i===!1?i=0:i===!0&&(i=RC),{x:uL(i,"left","right"),y:uL(i,"top","bottom")}}function uL(i,e,t){return{min:fL(i,e),max:fL(i,t)}}function fL(i,e){return typeof i=="number"?i:i[e]||0}const rre=new WeakMap;class are{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=_r(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:t=!1,distanceThreshold:n}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const a=g=>{const{dragSnapToOrigin:v}=this.getProps();v?this.pauseAnimation():this.stopAnimation(),t&&this.snapToCursor(fx(g).point)},s=(g,v)=>{const{drag:_,dragPropagation:S,onDragStart:w}=this.getProps();if(_&&!S&&(this.openDragLock&&this.openDragLock(),this.openDragLock=gne(_),!this.openDragLock))return;this.latestPointerEvent=g,this.latestPanInfo=v,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),jo(b=>{let R=this.getAxisMotionValue(b).get()||0;if(Fc.test(R)){const{projection:C}=this.visualElement;if(C&&C.layout){const A=C.layout.layoutBox[b];A&&(R=gs(A)*(parseFloat(R)/100))}}this.originPoint[b]=R}),w&&Yi.postRender(()=>w(g,v)),AC(this.visualElement,"transform");const{animationState:E}=this.visualElement;E&&E.setActive("whileDrag",!0)},l=(g,v)=>{this.latestPointerEvent=g,this.latestPanInfo=v;const{dragPropagation:_,dragDirectionLock:S,onDirectionLock:w,onDrag:E}=this.getProps();if(!_&&!this.openDragLock)return;const{offset:b}=v;if(S&&this.currentDirection===null){this.currentDirection=sre(b),this.currentDirection!==null&&w&&w(this.currentDirection);return}this.updateAxis("x",v.point,b),this.updateAxis("y",v.point,b),this.visualElement.render(),E&&E(g,v)},u=(g,v)=>{this.latestPointerEvent=g,this.latestPanInfo=v,this.stop(g,v),this.latestPointerEvent=null,this.latestPanInfo=null},f=()=>jo(g=>this.getAnimationState(g)==="paused"&&this.getAxisMotionValue(g).animation?.play()),{dragSnapToOrigin:p}=this.getProps();this.panSession=new Pk(e,{onSessionStart:a,onStart:s,onMove:l,onSessionEnd:u,resumeAnimation:f},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:p,distanceThreshold:n,contextWindow:Nk(this.visualElement)})}stop(e,t){const n=e||this.latestPointerEvent,r=t||this.latestPanInfo,a=this.isDragging;if(this.cancel(),!a||!r||!n)return;const{velocity:s}=r;this.startAnimation(s);const{onDragEnd:l}=this.getProps();l&&Yi.postRender(()=>l(n,r))}cancel(){this.isDragging=!1;const{projection:e,animationState:t}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:n}=this.getProps();!n&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),t&&t.setActive("whileDrag",!1)}updateAxis(e,t,n){const{drag:r}=this.getProps();if(!n||!aS(e,r,this.currentDirection))return;const a=this.getAxisMotionValue(e);let s=this.originPoint[e]+n[e];this.constraints&&this.constraints[e]&&(s=Jie(s,this.constraints[e],this.elastic[e])),a.set(s)}resolveConstraints(){const{dragConstraints:e,dragElastic:t}=this.getProps(),n=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,r=this.constraints;e&&O0(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&n?this.constraints=Qie(n.layoutBox,e):this.constraints=!1,this.elastic=ire(t),r!==this.constraints&&n&&this.constraints&&!this.hasMutatedConstraints&&jo(a=>{this.constraints!==!1&&this.getAxisMotionValue(a)&&(this.constraints[a]=nre(n.layoutBox[a],this.constraints[a]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:t}=this.getProps();if(!e||!O0(e))return!1;const n=e.current,{projection:r}=this.visualElement;if(!r||!r.layout)return!1;const a=oie(n,r.root,this.visualElement.getTransformPagePoint());let s=ere(r.layout.layoutBox,a);if(t){const l=t(rie(s));this.hasMutatedConstraints=!!l,l&&(s=vk(l))}return s}startAnimation(e){const{drag:t,dragMomentum:n,dragElastic:r,dragTransition:a,dragSnapToOrigin:s,onDragTransitionEnd:l}=this.getProps(),u=this.constraints||{},f=jo(p=>{if(!aS(p,t,this.currentDirection))return;let g=u&&u[p]||{};s&&(g={min:0,max:0});const v=r?200:1e6,_=r?40:1e7,S={type:"inertia",velocity:n?e[p]:0,bounceStiffness:v,bounceDamping:_,timeConstant:750,restDelta:1,restSpeed:10,...a,...g};return this.startAxisValueAnimation(p,S)});return Promise.all(f).then(l)}startAxisValueAnimation(e,t){const n=this.getAxisMotionValue(e);return AC(this.visualElement,e),n.start(uD(e,n,0,t,this.visualElement,!1))}stopAnimation(){jo(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){jo(e=>this.getAxisMotionValue(e).animation?.pause())}getAnimationState(e){return this.getAxisMotionValue(e).animation?.state}getAxisMotionValue(e){const t=`_drag${e.toUpperCase()}`,n=this.visualElement.getProps(),r=n[t];return r||this.visualElement.getValue(e,(n.initial?n.initial[e]:void 0)||0)}snapToCursor(e){jo(t=>{const{drag:n}=this.getProps();if(!aS(t,n,this.currentDirection))return;const{projection:r}=this.visualElement,a=this.getAxisMotionValue(t);if(r&&r.layout){const{min:s,max:l}=r.layout.layoutBox[t];a.set(e[t]-ir(s,l,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:t}=this.getProps(),{projection:n}=this.visualElement;if(!O0(t)||!n||!this.constraints)return;this.stopAnimation();const r={x:0,y:0};jo(s=>{const l=this.getAxisMotionValue(s);if(l&&this.constraints!==!1){const u=l.get();r[s]=tre({min:u,max:u},this.constraints[s])}});const{transformTemplate:a}=this.visualElement.getProps();this.visualElement.current.style.transform=a?a({},""):"none",n.root&&n.root.updateScroll(),n.updateLayout(),this.resolveConstraints(),jo(s=>{if(!aS(s,e,null))return;const l=this.getAxisMotionValue(s),{min:u,max:f}=this.constraints[s];l.set(ir(u,f,r[s]))})}addListeners(){if(!this.visualElement.current)return;rre.set(this.visualElement,this);const e=this.visualElement.current,t=e_(e,"pointerdown",u=>{const{drag:f,dragListener:p=!0}=this.getProps();f&&p&&this.start(u)}),n=()=>{const{dragConstraints:u}=this.getProps();O0(u)&&u.current&&(this.constraints=this.resolveRefConstraints())},{projection:r}=this.visualElement,a=r.addEventListener("measure",n);r&&!r.layout&&(r.root&&r.root.updateScroll(),r.updateLayout()),Yi.read(n);const s=z_(window,"resize",()=>this.scalePositionWithinConstraints()),l=r.addEventListener("didUpdate",(({delta:u,hasLayoutChanged:f})=>{this.isDragging&&f&&(jo(p=>{const g=this.getAxisMotionValue(p);g&&(this.originPoint[p]+=u[p].translate,g.set(g.get()+u[p].translate))}),this.visualElement.render())}));return()=>{s(),t(),a(),l&&l()}}getProps(){const e=this.visualElement.getProps(),{drag:t=!1,dragDirectionLock:n=!1,dragPropagation:r=!1,dragConstraints:a=!1,dragElastic:s=RC,dragMomentum:l=!0}=e;return{...e,drag:t,dragDirectionLock:n,dragPropagation:r,dragConstraints:a,dragElastic:s,dragMomentum:l}}}function aS(i,e,t){return(e===!0||e===i)&&(t===null||t===i)}function sre(i,e=10){let t=null;return Math.abs(i.y)>e?t="y":Math.abs(i.x)>e&&(t="x"),t}class ore extends Dh{constructor(e){super(e),this.removeGroupControls=$o,this.removeListeners=$o,this.controls=new are(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||$o}unmount(){this.removeGroupControls(),this.removeListeners()}}const hL=i=>(e,t)=>{i&&Yi.postRender(()=>i(e,t))};class lre extends Dh{constructor(){super(...arguments),this.removePointerDownListener=$o}onPointerDown(e){this.session=new Pk(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:Nk(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:t,onPan:n,onPanEnd:r}=this.node.getProps();return{onSessionStart:hL(e),onStart:hL(t),onMove:n,onEnd:(a,s)=>{delete this.session,r&&Yi.postRender(()=>r(a,s))}}}mount(){this.removePointerDownListener=e_(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const CS={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function dL(i,e){return e.max===e.min?0:i/(e.max-e.min)*100}const fy={correct:(i,e)=>{if(!e.target)return i;if(typeof i=="string")if(mn.test(i))i=parseFloat(i);else return i;const t=dL(i,e.target.x),n=dL(i,e.target.y);return`${t}% ${n}%`}},cre={correct:(i,{treeScale:e,projectionDelta:t})=>{const n=i,r=xh.parse(i);if(r.length>5)return n;const a=xh.createTransformer(i),s=typeof r[0]!="number"?1:0,l=t.x.scale*e.x,u=t.y.scale*e.y;r[0+s]/=l,r[1+s]/=u;const f=ir(l,u,.5);return typeof r[2+s]=="number"&&(r[2+s]/=f),typeof r[3+s]=="number"&&(r[3+s]/=f),a(r)}};let RT=!1;class ure extends H.Component{componentDidMount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:n,layoutId:r}=this.props,{projection:a}=e;Nne(fre),a&&(t.group&&t.group.add(a),n&&n.register&&r&&n.register(a),RT&&a.root.didUpdate(),a.addEventListener("animationComplete",()=>{this.safeToRemove()}),a.setOptions({...a.options,onExitComplete:()=>this.safeToRemove()})),CS.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:t,visualElement:n,drag:r,isPresent:a}=this.props,{projection:s}=n;return s&&(s.isPresent=a,RT=!0,r||e.layoutDependency!==t||t===void 0||e.isPresent!==a?s.willUpdate():this.safeToRemove(),e.isPresent!==a&&(a?s.promote():s.relegate()||Yi.postRender(()=>{const l=s.getStack();(!l||!l.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),eD.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:n}=this.props,{projection:r}=e;RT=!0,r&&(r.scheduleCheckAfterUnmount(),t&&t.group&&t.group.remove(r),n&&n.deregister&&n.deregister(r))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function Uk(i){const[e,t]=Mne(),n=H.useContext(d6);return I.jsx(ure,{...i,layoutGroup:n,switchLayoutGroup:H.useContext(mk),isPresent:e,safeToRemove:t})}const fre={borderRadius:{...fy,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:fy,borderTopRightRadius:fy,borderBottomLeftRadius:fy,borderBottomRightRadius:fy,boxShadow:cre};function hre(i,e,t){const n=za(i)?i:pg(i);return n.start(uD("",n,e,t)),n.animation}const dre=(i,e)=>i.depth-e.depth;class pre{constructor(){this.children=[],this.isDirty=!1}add(e){U3(this.children,e),this.isDirty=!0}remove(e){I3(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(dre),this.isDirty=!1,this.children.forEach(e)}}function mre(i,e){const t=zs.now(),n=({timestamp:r})=>{const a=r-t;a>=e&&(_h(n),i(a-e))};return Yi.setup(n,!0),()=>_h(n)}const Ik=["TopLeft","TopRight","BottomLeft","BottomRight"],gre=Ik.length,pL=i=>typeof i=="string"?parseFloat(i):i,mL=i=>typeof i=="number"||mn.test(i);function vre(i,e,t,n,r,a){r?(i.opacity=ir(0,t.opacity??1,yre(n)),i.opacityExit=ir(e.opacity??1,0,_re(n))):a&&(i.opacity=ir(e.opacity??1,t.opacity??1,n));for(let s=0;s<gre;s++){const l=`border${Ik[s]}Radius`;let u=gL(e,l),f=gL(t,l);if(u===void 0&&f===void 0)continue;u||(u=0),f||(f=0),u===0||f===0||mL(u)===mL(f)?(i[l]=Math.max(ir(pL(u),pL(f),n),0),(Fc.test(f)||Fc.test(u))&&(i[l]+="%")):i[l]=f}(e.rotate||t.rotate)&&(i.rotate=ir(e.rotate||0,t.rotate||0,n))}function gL(i,e){return i[e]!==void 0?i[e]:i.borderRadius}const yre=Bk(0,.5,E6),_re=Bk(.5,.95,$o);function Bk(i,e,t){return n=>n<i?0:n>e?1:t(P_(i,e,n))}function vL(i,e){i.min=e.min,i.max=e.max}function Ho(i,e){vL(i.x,e.x),vL(i.y,e.y)}function yL(i,e){i.translate=e.translate,i.scale=e.scale,i.originPoint=e.originPoint,i.origin=e.origin}function _L(i,e,t,n,r){return i-=e,i=Xw(i,1/t,n),r!==void 0&&(i=Xw(i,1/r,n)),i}function xre(i,e=0,t=1,n=.5,r,a=i,s=i){if(Fc.test(e)&&(e=parseFloat(e),e=ir(s.min,s.max,e/100)-s.min),typeof e!="number")return;let l=ir(a.min,a.max,n);i===a&&(l-=e),i.min=_L(i.min,e,t,l,r),i.max=_L(i.max,e,t,l,r)}function xL(i,e,[t,n,r],a,s){xre(i,e[t],e[n],e[r],e.scale,a,s)}const bre=["x","scaleX","originX"],Sre=["y","scaleY","originY"];function bL(i,e,t,n){xL(i.x,e,bre,t?t.x:void 0,n?n.x:void 0),xL(i.y,e,Sre,t?t.y:void 0,n?n.y:void 0)}function SL(i){return i.translate===0&&i.scale===1}function zk(i){return SL(i.x)&&SL(i.y)}function wL(i,e){return i.min===e.min&&i.max===e.max}function wre(i,e){return wL(i.x,e.x)&&wL(i.y,e.y)}function EL(i,e){return Math.round(i.min)===Math.round(e.min)&&Math.round(i.max)===Math.round(e.max)}function kk(i,e){return EL(i.x,e.x)&&EL(i.y,e.y)}function ML(i){return gs(i.x)/gs(i.y)}function TL(i,e){return i.translate===e.translate&&i.scale===e.scale&&i.originPoint===e.originPoint}class Ere{constructor(){this.members=[]}add(e){U3(this.members,e),e.scheduleRender()}remove(e){if(I3(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const t=this.members[this.members.length-1];t&&this.promote(t)}}relegate(e){const t=this.members.findIndex(r=>e===r);if(t===0)return!1;let n;for(let r=t;r>=0;r--){const a=this.members[r];if(a.isPresent!==!1){n=a;break}}return n?(this.promote(n),!0):!1}promote(e,t){const n=this.lead;if(e!==n&&(this.prevLead=n,this.lead=e,e.show(),n)){n.instance&&n.scheduleRender(),e.scheduleRender(),e.resumeFrom=n,t&&(e.resumeFrom.preserveOpacity=!0),n.snapshot&&(e.snapshot=n.snapshot,e.snapshot.latestValues=n.animationValues||n.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:r}=e.options;r===!1&&n.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:t,resumingFrom:n}=e;t.onExitComplete&&t.onExitComplete(),n&&n.options.onExitComplete&&n.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function Mre(i,e,t){let n="";const r=i.x.translate/e.x,a=i.y.translate/e.y,s=t?.z||0;if((r||a||s)&&(n=`translate3d(${r}px, ${a}px, ${s}px) `),(e.x!==1||e.y!==1)&&(n+=`scale(${1/e.x}, ${1/e.y}) `),t){const{transformPerspective:f,rotate:p,rotateX:g,rotateY:v,skewX:_,skewY:S}=t;f&&(n=`perspective(${f}px) ${n}`),p&&(n+=`rotate(${p}deg) `),g&&(n+=`rotateX(${g}deg) `),v&&(n+=`rotateY(${v}deg) `),_&&(n+=`skewX(${_}deg) `),S&&(n+=`skewY(${S}deg) `)}const l=i.x.scale*e.x,u=i.y.scale*e.y;return(l!==1||u!==1)&&(n+=`scale(${l}, ${u})`),n||"none"}const DT=["","X","Y","Z"],Tre=1e3;let Are=0;function OT(i,e,t,n){const{latestValues:r}=e;r[i]&&(t[i]=r[i],e.setStaticValue(i,0),n&&(n[i]=0))}function Fk(i){if(i.hasCheckedOptimisedAppear=!0,i.root===i)return;const{visualElement:e}=i.options;if(!e)return;const t=Mk(e);if(window.MotionHasOptimisedAnimation(t,"transform")){const{layout:r,layoutId:a}=i.options;window.MotionCancelOptimisedAnimation(t,"transform",Yi,!(r||a))}const{parent:n}=i;n&&!n.hasCheckedOptimisedAppear&&Fk(n)}function Hk({attachResizeListener:i,defaultParent:e,measureScroll:t,checkIsScrollRoot:n,resetTransform:r}){return class{constructor(s={},l=e?.()){this.id=Are++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(Dre),this.nodes.forEach(Lre),this.nodes.forEach(Ure),this.nodes.forEach(Ore)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=s,this.root=l?l.root||l:this,this.path=l?[...l.path,l]:[],this.parent=l,this.depth=l?l.depth+1:0;for(let u=0;u<this.path.length;u++)this.path[u].shouldResetTransform=!0;this.root===this&&(this.nodes=new pre)}addEventListener(s,l){return this.eventHandlers.has(s)||this.eventHandlers.set(s,new k3),this.eventHandlers.get(s).add(l)}notifyListeners(s,...l){const u=this.eventHandlers.get(s);u&&u.notify(...l)}hasListeners(s){return this.eventHandlers.has(s)}mount(s){if(this.instance)return;this.isSVG=nk(s)&&!Sne(s),this.instance=s;const{layoutId:l,layout:u,visualElement:f}=this.options;if(f&&!f.current&&f.mount(s),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(u||l)&&(this.isLayoutDirty=!0),i){let p,g=0;const v=()=>this.root.updateBlockedByResize=!1;Yi.read(()=>{g=window.innerWidth}),i(s,()=>{const _=window.innerWidth;_!==g&&(g=_,this.root.updateBlockedByResize=!0,p&&p(),p=mre(v,250),CS.hasAnimatedSinceResize&&(CS.hasAnimatedSinceResize=!1,this.nodes.forEach(RL)))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&f&&(l||u)&&this.addEventListener("didUpdate",({delta:p,hasLayoutChanged:g,hasRelativeLayoutChanged:v,layout:_})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const S=this.options.transition||f.getDefaultTransition()||Fre,{onLayoutAnimationStart:w,onLayoutAnimationComplete:E}=f.getProps(),b=!this.targetLayout||!kk(this.targetLayout,_),R=!g&&v;if(this.options.layoutRoot||this.resumeFrom||R||g&&(b||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const C={...J3(S,"layout"),onPlay:w,onComplete:E};(f.shouldReduceMotion||this.options.layoutRoot)&&(C.delay=0,C.type=!1),this.startAnimation(C),this.setAnimationOrigin(p,R)}else g||RL(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=_})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const s=this.getStack();s&&s.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),_h(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(Ire),this.animationId++)}getTransformTemplate(){const{visualElement:s}=this.options;return s&&s.getProps().transformTemplate}willUpdate(s=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&Fk(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let p=0;p<this.path.length;p++){const g=this.path[p];g.shouldResetTransform=!0,g.updateScroll("snapshot"),g.options.layoutRoot&&g.willUpdate(!1)}const{layoutId:l,layout:u}=this.options;if(l===void 0&&!u)return;const f=this.getTransformTemplate();this.prevTransformTemplateValue=f?f(this.latestValues,""):void 0,this.updateSnapshot(),s&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(AL);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(CL);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(Pre),this.nodes.forEach(Cre),this.nodes.forEach(Rre)):this.nodes.forEach(CL),this.clearAllSnapshots();const l=zs.now();ga.delta=Hu(0,1e3/60,l-ga.timestamp),ga.timestamp=l,ga.isProcessing=!0,_T.update.process(ga),_T.preRender.process(ga),_T.render.process(ga),ga.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,eD.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(Nre),this.sharedNodes.forEach(Bre)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Yi.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Yi.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!gs(this.snapshot.measuredBox.x)&&!gs(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let u=0;u<this.path.length;u++)this.path[u].updateScroll();const s=this.layout;this.layout=this.measure(!1),this.layoutCorrected=_r(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:l}=this.options;l&&l.notify("LayoutMeasure",this.layout.layoutBox,s?s.layoutBox:void 0)}updateScroll(s="measure"){let l=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===s&&(l=!1),l&&this.instance){const u=n(this.instance);this.scroll={animationId:this.root.animationId,phase:s,isRoot:u,offset:t(this.instance),wasRoot:this.scroll?this.scroll.isRoot:u}}}resetTransform(){if(!r)return;const s=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,l=this.projectionDelta&&!zk(this.projectionDelta),u=this.getTransformTemplate(),f=u?u(this.latestValues,""):void 0,p=f!==this.prevTransformTemplateValue;s&&this.instance&&(l||qd(this.latestValues)||p)&&(r(this.instance,f),this.shouldResetTransform=!1,this.scheduleRender())}measure(s=!0){const l=this.measurePageBox();let u=this.removeElementScroll(l);return s&&(u=this.removeTransform(u)),Hre(u),{animationId:this.root.animationId,measuredBox:l,layoutBox:u,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:s}=this.options;if(!s)return _r();const l=s.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(Vre))){const{scroll:f}=this.root;f&&(N0(l.x,f.offset.x),N0(l.y,f.offset.y))}return l}removeElementScroll(s){const l=_r();if(Ho(l,s),this.scroll?.wasRoot)return l;for(let u=0;u<this.path.length;u++){const f=this.path[u],{scroll:p,options:g}=f;f!==this.root&&p&&g.layoutScroll&&(p.wasRoot&&Ho(l,s),N0(l.x,p.offset.x),N0(l.y,p.offset.y))}return l}applyTransform(s,l=!1){const u=_r();Ho(u,s);for(let f=0;f<this.path.length;f++){const p=this.path[f];!l&&p.options.layoutScroll&&p.scroll&&p!==p.root&&P0(u,{x:-p.scroll.offset.x,y:-p.scroll.offset.y}),qd(p.latestValues)&&P0(u,p.latestValues)}return qd(this.latestValues)&&P0(u,this.latestValues),u}removeTransform(s){const l=_r();Ho(l,s);for(let u=0;u<this.path.length;u++){const f=this.path[u];if(!f.instance||!qd(f.latestValues))continue;wC(f.latestValues)&&f.updateSnapshot();const p=_r(),g=f.measurePageBox();Ho(p,g),bL(l,f.latestValues,f.snapshot?f.snapshot.layoutBox:void 0,p)}return qd(this.latestValues)&&bL(l,this.latestValues),l}setTargetDelta(s){this.targetDelta=s,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(s){this.options={...this.options,...s,crossfade:s.crossfade!==void 0?s.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==ga.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(s=!1){const l=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=l.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=l.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=l.isSharedProjectionDirty);const u=!!this.resumingFrom||this!==l;if(!(s||u&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:p,layoutId:g}=this.options;if(!(!this.layout||!(p||g))){if(this.resolvedRelativeTargetAt=ga.timestamp,!this.targetDelta&&!this.relativeTarget){const v=this.getClosestProjectingParent();v&&v.layout&&this.animationProgress!==1?(this.relativeParent=v,this.forceRelativeParentToResolveTarget(),this.relativeTarget=_r(),this.relativeTargetOrigin=_r(),n_(this.relativeTargetOrigin,this.layout.layoutBox,v.layout.layoutBox),Ho(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=_r(),this.targetWithTransforms=_r()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),Yie(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Ho(this.target,this.layout.layoutBox),_k(this.target,this.targetDelta)):Ho(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const v=this.getClosestProjectingParent();v&&!!v.resumingFrom==!!this.resumingFrom&&!v.options.layoutScroll&&v.target&&this.animationProgress!==1?(this.relativeParent=v,this.forceRelativeParentToResolveTarget(),this.relativeTarget=_r(),this.relativeTargetOrigin=_r(),n_(this.relativeTargetOrigin,this.target,v.target),Ho(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||wC(this.parent.latestValues)||yk(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){const s=this.getLead(),l=!!this.resumingFrom||this!==s;let u=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(u=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(u=!1),this.resolvedRelativeTargetAt===ga.timestamp&&(u=!1),u)return;const{layout:f,layoutId:p}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(f||p))return;Ho(this.layoutCorrected,this.layout.layoutBox);const g=this.treeScale.x,v=this.treeScale.y;sie(this.layoutCorrected,this.treeScale,this.path,l),s.layout&&!s.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(s.target=s.layout.layoutBox,s.targetWithTransforms=_r());const{target:_}=s;if(!_){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(yL(this.prevProjectionDelta.x,this.projectionDelta.x),yL(this.prevProjectionDelta.y,this.projectionDelta.y)),t_(this.projectionDelta,this.layoutCorrected,_,this.latestValues),(this.treeScale.x!==g||this.treeScale.y!==v||!TL(this.projectionDelta.x,this.prevProjectionDelta.x)||!TL(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",_))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(s=!0){if(this.options.visualElement?.scheduleRender(),s){const l=this.getStack();l&&l.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=L0(),this.projectionDelta=L0(),this.projectionDeltaWithTransform=L0()}setAnimationOrigin(s,l=!1){const u=this.snapshot,f=u?u.latestValues:{},p={...this.latestValues},g=L0();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!l;const v=_r(),_=u?u.source:void 0,S=this.layout?this.layout.source:void 0,w=_!==S,E=this.getStack(),b=!E||E.members.length<=1,R=!!(w&&!b&&this.options.crossfade===!0&&!this.path.some(kre));this.animationProgress=0;let C;this.mixTargetDelta=A=>{const N=A/1e3;DL(g.x,s.x,N),DL(g.y,s.y,N),this.setTargetDelta(g),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(n_(v,this.layout.layoutBox,this.relativeParent.layout.layoutBox),zre(this.relativeTarget,this.relativeTargetOrigin,v,N),C&&wre(this.relativeTarget,C)&&(this.isProjectionDirty=!1),C||(C=_r()),Ho(C,this.relativeTarget)),w&&(this.animationValues=p,vre(p,f,this.latestValues,N,R,b)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=N},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(s){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(_h(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Yi.update(()=>{CS.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=pg(0)),this.currentAnimation=hre(this.motionValue,[0,1e3],{...s,velocity:0,isSync:!0,onUpdate:l=>{this.mixTargetDelta(l),s.onUpdate&&s.onUpdate(l)},onStop:()=>{},onComplete:()=>{s.onComplete&&s.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const s=this.getStack();s&&s.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(Tre),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const s=this.getLead();let{targetWithTransforms:l,target:u,layout:f,latestValues:p}=s;if(!(!l||!u||!f)){if(this!==s&&this.layout&&f&&Vk(this.options.animationType,this.layout.layoutBox,f.layoutBox)){u=this.target||_r();const g=gs(this.layout.layoutBox.x);u.x.min=s.target.x.min,u.x.max=u.x.min+g;const v=gs(this.layout.layoutBox.y);u.y.min=s.target.y.min,u.y.max=u.y.min+v}Ho(l,u),P0(l,p),t_(this.projectionDeltaWithTransform,this.layoutCorrected,l,p)}}registerSharedNode(s,l){this.sharedNodes.has(s)||this.sharedNodes.set(s,new Ere),this.sharedNodes.get(s).add(l);const f=l.options.initialPromotionConfig;l.promote({transition:f?f.transition:void 0,preserveFollowOpacity:f&&f.shouldPreserveFollowOpacity?f.shouldPreserveFollowOpacity(l):void 0})}isLead(){const s=this.getStack();return s?s.lead===this:!0}getLead(){const{layoutId:s}=this.options;return s?this.getStack()?.lead||this:this}getPrevLead(){const{layoutId:s}=this.options;return s?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:s}=this.options;if(s)return this.root.sharedNodes.get(s)}promote({needsReset:s,transition:l,preserveFollowOpacity:u}={}){const f=this.getStack();f&&f.promote(this,u),s&&(this.projectionDelta=void 0,this.needsReset=!0),l&&this.setOptions({transition:l})}relegate(){const s=this.getStack();return s?s.relegate(this):!1}resetSkewAndRotation(){const{visualElement:s}=this.options;if(!s)return;let l=!1;const{latestValues:u}=s;if((u.z||u.rotate||u.rotateX||u.rotateY||u.rotateZ||u.skewX||u.skewY)&&(l=!0),!l)return;const f={};u.z&&OT("z",s,f,this.animationValues);for(let p=0;p<DT.length;p++)OT(`rotate${DT[p]}`,s,f,this.animationValues),OT(`skew${DT[p]}`,s,f,this.animationValues);s.render();for(const p in f)s.setStaticValue(p,f[p]),this.animationValues&&(this.animationValues[p]=f[p]);s.scheduleRender()}applyProjectionStyles(s,l){if(!this.instance||this.isSVG)return;if(!this.isVisible){s.visibility="hidden";return}const u=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,s.visibility="",s.opacity="",s.pointerEvents=AS(l?.pointerEvents)||"",s.transform=u?u(this.latestValues,""):"none";return}const f=this.getLead();if(!this.projectionDelta||!this.layout||!f.target){this.options.layoutId&&(s.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,s.pointerEvents=AS(l?.pointerEvents)||""),this.hasProjected&&!qd(this.latestValues)&&(s.transform=u?u({},""):"none",this.hasProjected=!1);return}s.visibility="";const p=f.animationValues||f.latestValues;this.applyTransformsToTarget();let g=Mre(this.projectionDeltaWithTransform,this.treeScale,p);u&&(g=u(p,g)),s.transform=g;const{x:v,y:_}=this.projectionDelta;s.transformOrigin=`${v.origin*100}% ${_.origin*100}% 0`,f.animationValues?s.opacity=f===this?p.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:p.opacityExit:s.opacity=f===this?p.opacity!==void 0?p.opacity:"":p.opacityExit!==void 0?p.opacityExit:0;for(const S in B_){if(p[S]===void 0)continue;const{correct:w,applyTo:E,isCSSVariable:b}=B_[S],R=g==="none"?p[S]:w(p[S],f);if(E){const C=E.length;for(let A=0;A<C;A++)s[E[A]]=R}else b?this.options.visualElement.renderState.vars[S]=R:s[S]=R}this.options.layoutId&&(s.pointerEvents=f===this?AS(l?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(s=>s.currentAnimation?.stop()),this.root.nodes.forEach(AL),this.root.sharedNodes.clear()}}}function Cre(i){i.updateLayout()}function Rre(i){const e=i.resumeFrom?.snapshot||i.snapshot;if(i.isLead()&&i.layout&&e&&i.hasListeners("didUpdate")){const{layoutBox:t,measuredBox:n}=i.layout,{animationType:r}=i.options,a=e.source!==i.layout.source;r==="size"?jo(p=>{const g=a?e.measuredBox[p]:e.layoutBox[p],v=gs(g);g.min=t[p].min,g.max=g.min+v}):Vk(r,e.layoutBox,t)&&jo(p=>{const g=a?e.measuredBox[p]:e.layoutBox[p],v=gs(t[p]);g.max=g.min+v,i.relativeTarget&&!i.currentAnimation&&(i.isProjectionDirty=!0,i.relativeTarget[p].max=i.relativeTarget[p].min+v)});const s=L0();t_(s,t,e.layoutBox);const l=L0();a?t_(l,i.applyTransform(n,!0),e.measuredBox):t_(l,t,e.layoutBox);const u=!zk(s);let f=!1;if(!i.resumeFrom){const p=i.getClosestProjectingParent();if(p&&!p.resumeFrom){const{snapshot:g,layout:v}=p;if(g&&v){const _=_r();n_(_,e.layoutBox,g.layoutBox);const S=_r();n_(S,t,v.layoutBox),kk(_,S)||(f=!0),p.options.layoutRoot&&(i.relativeTarget=S,i.relativeTargetOrigin=_,i.relativeParent=p)}}}i.notifyListeners("didUpdate",{layout:t,snapshot:e,delta:l,layoutDelta:s,hasLayoutChanged:u,hasRelativeLayoutChanged:f})}else if(i.isLead()){const{onExitComplete:t}=i.options;t&&t()}i.options.transition=void 0}function Dre(i){i.parent&&(i.isProjecting()||(i.isProjectionDirty=i.parent.isProjectionDirty),i.isSharedProjectionDirty||(i.isSharedProjectionDirty=!!(i.isProjectionDirty||i.parent.isProjectionDirty||i.parent.isSharedProjectionDirty)),i.isTransformDirty||(i.isTransformDirty=i.parent.isTransformDirty))}function Ore(i){i.isProjectionDirty=i.isSharedProjectionDirty=i.isTransformDirty=!1}function Nre(i){i.clearSnapshot()}function AL(i){i.clearMeasurements()}function CL(i){i.isLayoutDirty=!1}function Pre(i){const{visualElement:e}=i.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),i.resetTransform()}function RL(i){i.finishAnimation(),i.targetDelta=i.relativeTarget=i.target=void 0,i.isProjectionDirty=!0}function Lre(i){i.resolveTargetDelta()}function Ure(i){i.calcProjection()}function Ire(i){i.resetSkewAndRotation()}function Bre(i){i.removeLeadSnapshot()}function DL(i,e,t){i.translate=ir(e.translate,0,t),i.scale=ir(e.scale,1,t),i.origin=e.origin,i.originPoint=e.originPoint}function OL(i,e,t,n){i.min=ir(e.min,t.min,n),i.max=ir(e.max,t.max,n)}function zre(i,e,t,n){OL(i.x,e.x,t.x,n),OL(i.y,e.y,t.y,n)}function kre(i){return i.animationValues&&i.animationValues.opacityExit!==void 0}const Fre={duration:.45,ease:[.4,0,.1,1]},NL=i=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(i),PL=NL("applewebkit/")&&!NL("chrome/")?Math.round:$o;function LL(i){i.min=PL(i.min),i.max=PL(i.max)}function Hre(i){LL(i.x),LL(i.y)}function Vk(i,e,t){return i==="position"||i==="preserve-aspect"&&!qie(ML(e),ML(t),.2)}function Vre(i){return i!==i.root&&i.scroll?.wasRoot}const jre=Hk({attachResizeListener:(i,e)=>z_(i,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),NT={current:void 0},jk=Hk({measureScroll:i=>({x:i.scrollLeft,y:i.scrollTop}),defaultParent:()=>{if(!NT.current){const i=new jre({});i.mount(window),i.setOptions({layoutScroll:!0}),NT.current=i}return NT.current},resetTransform:(i,e)=>{i.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:i=>window.getComputedStyle(i).position==="fixed"}),Gre={pan:{Feature:lre},drag:{Feature:ore,ProjectionNode:jk,MeasureLayout:Uk}};function UL(i,e,t){const{props:n}=i;i.animationState&&n.whileHover&&i.animationState.setActive("whileHover",t==="Start");const r="onHover"+t,a=n[r];a&&Yi.postRender(()=>a(e,fx(e)))}class Wre extends Dh{mount(){const{current:e}=this.node;e&&(this.unmount=vne(e,(t,n)=>(UL(this.node,n,"Start"),r=>UL(this.node,r,"End"))))}unmount(){}}class Xre extends Dh{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=lx(z_(this.node.current,"focus",()=>this.onFocus()),z_(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function IL(i,e,t){const{props:n}=i;if(i.current instanceof HTMLButtonElement&&i.current.disabled)return;i.animationState&&n.whileTap&&i.animationState.setActive("whileTap",t==="Start");const r="onTap"+(t==="End"?"":t),a=n[r];a&&Yi.postRender(()=>a(e,fx(e)))}class qre extends Dh{mount(){const{current:e}=this.node;e&&(this.unmount=bne(e,(t,n)=>(IL(this.node,n,"Start"),(r,{success:a})=>IL(this.node,r,a?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const DC=new WeakMap,PT=new WeakMap,Yre=i=>{const e=DC.get(i.target);e&&e(i)},Zre=i=>{i.forEach(Yre)};function Kre({root:i,...e}){const t=i||document;PT.has(t)||PT.set(t,{});const n=PT.get(t),r=JSON.stringify(e);return n[r]||(n[r]=new IntersectionObserver(Zre,{root:i,...e})),n[r]}function $re(i,e,t){const n=Kre(e);return DC.set(i,t),n.observe(i),()=>{DC.delete(i),n.unobserve(i)}}const Jre={some:0,all:1};class Qre extends Dh{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:t,margin:n,amount:r="some",once:a}=e,s={root:t?t.current:void 0,rootMargin:n,threshold:typeof r=="number"?r:Jre[r]},l=u=>{const{isIntersecting:f}=u;if(this.isInView===f||(this.isInView=f,a&&!f&&this.hasEnteredView))return;f&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",f);const{onViewportEnter:p,onViewportLeave:g}=this.node.getProps(),v=f?p:g;v&&v(u)};return $re(this.node.current,s,l)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:t}=this.node;["amount","margin","root"].some(eae(e,t))&&this.startObserver()}unmount(){}}function eae({viewport:i={}},{viewport:e={}}={}){return t=>i[t]!==e[t]}const tae={inView:{Feature:Qre},tap:{Feature:qre},focus:{Feature:Xre},hover:{Feature:Wre}},nae={layout:{ProjectionNode:jk,MeasureLayout:Uk}},iae={...Hie,...tae,...Gre,...nae},Tc=iie(iae,gie);class Gk extends Nr.Component{constructor(e){super(e),this.state={hasError:!1,error:null,isContextLost:!1,retryCount:0},this.maxRetries=3}static getDerivedStateFromError(e){const t=e.message&&(e.message.includes("Context Lost")||e.message.includes("context lost")||e.message.includes("WebGL")||e.message.includes("THREE.WebGLRenderer"));return{hasError:!0,error:e,isContextLost:t,retryCount:0}}componentDidCatch(e,t){console.warn("Three.js Error Boundary caught an error:",e,t),this.state.isContextLost?(console.warn("WebGL context lost detected, attempting recovery..."),this.attemptRecovery()):setTimeout(()=>{this.setState({hasError:!1,error:null})},2e3)}attemptRecovery=()=>{const{retryCount:e}=this.state;if(e<this.maxRetries){console.log(`Attempting WebGL recovery (${e+1}/${this.maxRetries})...`),this.setState(n=>({retryCount:n.retryCount+1}));const t=Math.min(1e3*Math.pow(2,e),5e3);setTimeout(()=>{e+1>=this.maxRetries?console.error("WebGL recovery failed after maximum attempts"):this.setState({hasError:!1,error:null,isContextLost:!1})},t)}};handleRetry=()=>{this.setState({hasError:!1,error:null,isContextLost:!1,retryCount:0})};handleReload=()=>{window.location.reload()};render(){if(this.state.hasError){const{isContextLost:e,retryCount:t}=this.state;return e&&t>=this.maxRetries?I.jsx("div",{className:"w-full h-full bg-gray-900 flex items-center justify-center",children:I.jsxs("div",{className:"text-center text-gray-300 p-6",children:[I.jsx("div",{className:"text-4xl mb-4",children:"🎮"}),I.jsx("h3",{className:"text-lg font-semibold mb-2",children:"WebGL Graphics Unavailable"}),I.jsx("p",{className:"text-sm mb-4",children:"Your device or browser doesn't support WebGL graphics."}),I.jsxs("div",{className:"space-y-2",children:[I.jsx("button",{onClick:this.handleRetry,className:"px-4 py-2 bg-blue-600 hover:bg-blue-700 rounded text-sm mr-2",children:"Try Again"}),I.jsx("button",{onClick:this.handleReload,className:"px-4 py-2 bg-gray-600 hover:bg-gray-700 rounded text-sm",children:"Reload Page"})]})]})}):e?I.jsx("div",{className:"w-full h-full bg-gray-900 flex items-center justify-center",children:I.jsxs("div",{className:"text-center text-gray-300 p-6",children:[I.jsx("div",{className:"text-4xl mb-4",children:"🔄"}),I.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Recovering Graphics..."}),I.jsxs("p",{className:"text-sm mb-2",children:["Attempt ",t+1," of ",this.maxRetries]}),I.jsx("div",{className:"w-16 h-2 bg-gray-700 rounded-full mx-auto mt-4",children:I.jsx("div",{className:"h-full bg-blue-500 rounded-full transition-all duration-300",style:{width:`${(t+1)/this.maxRetries*100}%`}})})]})}):I.jsx("div",{className:"w-full h-full bg-gray-900 flex items-center justify-center",children:I.jsxs("div",{className:"text-center text-gray-300 p-6",children:[I.jsx("div",{className:"text-4xl mb-4",children:"⚠️"}),I.jsx("h3",{className:"text-lg font-semibold mb-2",children:"3D Content Temporarily Unavailable"}),I.jsx("p",{className:"text-sm mb-4",children:"Attempting to recover..."}),I.jsx("div",{className:"animate-pulse",children:I.jsx("div",{className:"w-4 h-4 bg-blue-500 rounded-full mx-auto"})})]})})}return this.props.children}}function LT({texture:i,position:e,animate:t,target:n,opacity:r=.97}){const a=H.useRef();return H.useEffect(()=>{if(a.current){const s=1.6-e[2]*.2;a.current.scale.set(s,s,1),a.current.userData.extraScale=1}},[e]),zE(()=>{if(a.current&&t){a.current.position.lerp(new le(...n),.014);const s=1.6-e[2]*.2,l=a.current.userData.extraScale??1,f=l+(1.12-l)*.014;a.current.userData.extraScale=f;const p=s*f;a.current.scale.set(p,p,1)}}),1.6-e[2]*.2,I.jsx("group",{children:I.jsxs("mesh",{ref:a,position:e,rotation:[-.02,0,.0999],children:[I.jsx("planeGeometry",{args:[1.6,1.6]}),I.jsx("meshStandardMaterial",{map:i,color:"#E5E5E5",metalness:.6,roughness:.3,envMapIntensity:1,transparent:!0,opacity:r*1})]})})}const rae=({startAnimation:i})=>{const e=FE(E7);return e?I.jsxs(I.Fragment,{children:[I.jsx(LT,{texture:e,position:[.3,-.4,-.3],animate:i,target:[.46,-.46,-.46],opacity:1}),I.jsx(LT,{texture:e,position:[0,0,0],animate:i,target:[0,0,0],opacity:1}),I.jsx(LT,{texture:e,position:[-.3,.4,.3],animate:i,target:[-.46,.46,.46],opacity:.95})]}):(console.log("Coin texture not loaded yet"),null)},aae=()=>{const[i,e]=H.useState(!1),[t,n]=H.useState(!1),[r,a]=H.useState(1);return H.useEffect(()=>{const s=setTimeout(()=>{e(!0),n(!0)},100);return()=>clearTimeout(s)},[]),H.useEffect(()=>{window.__loggedBInstantMobile||(window.__loggedBInstantMobile=!0,console.log("startCoinAnimation:",i),console.log("showCoins:",t))},[i,t]),H.useEffect(()=>{const s=()=>{try{const l=window.innerWidth||375,f=Math.min(l*.94/380,1);a(f)}catch{}};return s(),window.addEventListener("resize",s),window.addEventListener("orientationchange",s),()=>{window.removeEventListener("resize",s),window.removeEventListener("orientationchange",s)}},[]),I.jsxs("div",{className:"relative",style:{width:"100%",height:"100vh",backgroundColor:"#000",overflow:"hidden"},children:[I.jsx("div",{className:"absolute",style:{top:"50%",left:"50%",transform:"translate(-50%, -50%)",zIndex:20},children:I.jsx(Gk,{children:I.jsx(Qz,{camera:{position:[0,0,7.5],fov:45},style:{width:"800px",height:"600px"},gl:{powerPreference:"low-power",antialias:!1,alpha:!1,preserveDrawingBuffer:!1,failIfMajorPerformanceCaveat:!1,stencil:!1,depth:!0},dpr:[1,1.5],children:I.jsxs(H.Suspense,{fallback:null,children:[I.jsx("ambientLight",{intensity:.8,color:"#ffffff"}),I.jsx("directionalLight",{position:[1,2,1],intensity:.7,color:"#ffffff"}),I.jsx(rae,{startAnimation:i})]})})})}),I.jsx("div",{className:"absolute inset-0",style:{zIndex:30,pointerEvents:"none"},children:I.jsx("div",{style:{position:"absolute",top:"50%",left:"50%",transform:"translate(calc(-50% + 8px), -50%)",width:"380px",height:"120px"},children:I.jsxs(Tc.div,{style:{position:"relative",width:"100%",height:"100%",transform:`scale(${r})`,transformOrigin:"center center"},children:[I.jsxs(Tc.div,{style:{position:"relative"},initial:{y:120,opacity:0,scale:.8},animate:{y:0,opacity:1,scale:1},transition:{duration:3.5,ease:[.25,.1,.25,1],delay:0},children:[I.jsx("div",{style:{position:"absolute",width:"100px",height:"36px",left:"3.41px",top:"0px",fontFamily:"Inter, sans-serif",fontStyle:"italic",fontWeight:200,fontSize:"32px",lineHeight:"116.36%",color:"#FFFFFF"},children:"B-Coin"}),I.jsx("div",{style:{position:"absolute",width:"180px",height:"36px",left:"-1px",top:"30.04px",fontFamily:"Inter, sans-serif",fontStyle:"italic",fontWeight:200,fontSize:"32px",lineHeight:"116.36%",textAlign:"center",color:"#FFFFFF"},children:"Instant Value"}),I.jsx("div",{style:{position:"absolute",width:"10.92257308959961px",height:"0px",top:"45.74px",left:"185px",border:"1.54px solid #FFFFFF",opacity:1}})]}),I.jsxs(Tc.div,{style:{position:"relative"},initial:{y:120,opacity:0,scale:.8},animate:{y:0,opacity:1,scale:1},transition:{duration:3.5,ease:[.25,.1,.25,1],delay:0},children:[I.jsx("div",{style:{position:"absolute",width:"140px",height:"40px",left:"200px",top:"28.33px",fontFamily:"EB Garamond, serif",fontStyle:"normal",fontWeight:500,fontSize:"36px",lineHeight:"116.36%",textAlign:"right",textTransform:"uppercase",color:"#FFFFFF",textShadow:"0px 0px 11.6052px rgba(255, 255, 255, 0.25)"},children:"SHARED"}),I.jsx("div",{style:{position:"absolute",width:"120px",height:"36px",left:"220px",top:"61.78px",fontFamily:"Inter, sans-serif",fontStyle:"italic",fontWeight:200,fontSize:"32px",lineHeight:"116.36%",textAlign:"right",color:"#FFFFFF"},children:"Instantly"})]})]})})})]})};function UT({texture:i,position:e,animate:t,target:n,opacity:r=.97,animationDuration:a=5}){const s=H.useRef(),l=H.useRef(),[u,f]=H.useState(!1),[p,g]=H.useState(null),[v,_]=H.useState(!1),[S]=H.useState(new le(...e));zE(E=>{if(t&&s.current&&!u){p||(g(E.clock.elapsedTime),s.current.position.copy(S));const R=E.clock.elapsedTime-p;if(R<.4)return;if(R>=.4&&!v&&_(!0),R>=.4){const C=s.current.position,A=new le(...n);if(C.distanceTo(A)<.01){f(!0);return}const L=(R-.4)/(a-.4),B=1-Math.pow(1-L,3);C.lerp(A,B*.03)}if(R>=a){f(!0),s.current.position.copy(new le(...n));return}}});const w=2.2-e[2]*.3;return I.jsx("group",{ref:s,position:e,children:I.jsxs("mesh",{ref:l,position:[0,0,0],scale:[w,w,1],rotation:[-.02,0,.0999],visible:v,children:[I.jsx("planeGeometry",{args:[2,2]}),I.jsx("meshBasicMaterial",{map:i,transparent:!0,opacity:r,depthWrite:!1,depthTest:!0,brightness:.9,color:"#9e9e9e"})]})})}const sae=({startAnimation:i,animationDuration:e=3.5})=>{const t=FE("/b-coin.svg"),n=H.useRef(),r=-.5;return t?(zE(a=>{if(i&&n.current){const s=a.clock.elapsedTime;if(s<.2){const l=s/.2;n.current.material.opacity=l*.9}else if(s<.4){const l=(s-.2)/.2;n.current.material.opacity=.9-l*.9}else n.current.visible=!1}}),I.jsxs(I.Fragment,{children:[I.jsxs("mesh",{ref:n,position:[0,0,5],scale:[30,3,1],children:[I.jsx("planeGeometry",{args:[1.8,1.8]}),I.jsx("meshBasicMaterial",{color:"#000000",transparent:!0,opacity:0})]}),I.jsx(UT,{texture:t,position:[.4,-.4+r,-.4],animate:i,target:[.68,-.68+r,-.68],opacity:1,animationDuration:e}),I.jsx(UT,{texture:t,position:[0,0+r,0],animate:i,target:[0,0+r,0],opacity:1,animationDuration:e}),I.jsx(UT,{texture:t,position:[-.3,.4+r,.4],animate:i,target:[-.7,.7+r,.7],opacity:.97,animationDuration:e})]})):(console.log("Coin texture not loaded yet"),null)},oae=()=>{const[i,e]=H.useState(!1);return H.useEffect(()=>{const t=()=>{e(window.innerWidth<=768)};return t(),window.addEventListener("resize",t),()=>window.removeEventListener("resize",t)},[]),i},lae=()=>{const[i,e]=H.useState(!1),t=oae(),n=H.useRef(null),r=H.useRef(null);H.useEffect(()=>{const s=setTimeout(()=>e(!0),200);return()=>clearTimeout(s)},[]);const a=H.useCallback(()=>{if(console.log("🎯 BInstant: triggerExitAnimation called!"),!n.current){console.log("❌ BInstant: Refs not ready for exit animation");return}console.log("🎯 BInstant: Starting exit animations..."),st.timeline({onComplete:()=>{console.log("🎯 BInstant: Exit animations complete, dispatching event..."),window.dispatchEvent(new CustomEvent("binstantExitComplete"))}}).to(r.current,{opacity:0,duration:1.5,ease:"power2.in"}).to([".bc-bcoin",".bc-instant",".bc-dash",".bc-shared",".bc-instantly"],{opacity:0,y:-50,duration:1.5,ease:"power2.in"},"-=1.2")},[]);return H.useEffect(()=>(typeof window<"u"&&!window.__binstantExitHooked&&(console.log("🎯 BInstant: Exposing triggerBinstantExit to window"),window.triggerBinstantExit=a,window.__binstantExitHooked=!0),()=>{typeof window<"u"&&(console.log("🎯 BInstant: Cleaning up triggerBinstantExit from window"),delete window.triggerBinstantExit,delete window.__binstantExitHooked)}),[a]),t?I.jsx(aae,{}):I.jsxs("div",{ref:n,className:"relative w-full h-screen",style:{backgroundColor:"black"},children:[I.jsx(Tc.div,{className:"absolute inset-0",style:{background:"radial-gradient(41.99% 33.2% at 50% 50%, #092646 0%, rgba(9, 38, 70, 0) 100%)",zIndex:10,pointerEvents:"none"},initial:{opacity:.3},animate:{opacity:1},transition:{duration:2,ease:"easeOut"}}),I.jsx(Gk,{children:I.jsx(Qz,{ref:r,camera:{position:[0,0,7.5],fov:45},className:"w-full h-full relative z-20",gl:{antialias:!0,alpha:!1,powerPreference:"high-performance"},frameloop:"always",onCreated:({gl:s})=>{try{const l=s.domElement,u=f=>{f.preventDefault(),console.warn("WebGL context lost, preventing default to allow restoration.")};l.addEventListener("webglcontextlost",u,{passive:!1})}catch{}},dpr:Math.min(window.devicePixelRatio,2),children:I.jsxs(H.Suspense,{fallback:null,children:[I.jsx("ambientLight",{intensity:0,color:"#fff8dc"}),I.jsx("directionalLight",{position:[-6,7,4],intensity:.45,color:"#ffd27f",castShadow:!0}),I.jsx("spotLight",{position:[-2,8,3],angle:.5,penumbra:.5,intensity:.12,distance:40,color:"#ffebc2"}),I.jsx(Mee,{preset:"city"}),I.jsx(sae,{startAnimation:i,animationDuration:5})]})})}),I.jsx("div",{className:"absolute inset-0",style:{backgroundColor:"rgba(0, 0, 0, 0.6)",zIndex:25,pointerEvents:"none"}}),I.jsx("div",{className:"absolute inset-0 flex items-center justify-center z-30 pointer-events-none",children:I.jsxs(Tc.div,{className:"flex flex-col items-start leading-tight text-center",initial:{y:120,opacity:0},animate:{y:0,opacity:1},transition:{duration:3.8,ease:[.25,.1,.25,1]},style:{marginTop:"clamp(2rem, 8vh, 6rem)"},children:[I.jsx(Tc.span,{className:"text-amber-50 italic bc-bcoin",style:{fontWeight:200,fontSize:"clamp(28px, 5.5vw, 110px)",textShadow:"0 0 25px rgba(255,215,0,0.6)"},initial:{scaleX:.92,scaleY:.9,opacity:0},animate:{scaleX:1,scaleY:1,opacity:1},transition:{duration:2.5,ease:[.2,.8,.2,1]},children:"B-Coin"}),I.jsxs("div",{className:"flex items-baseline",children:[I.jsx(Tc.span,{className:"mr-2 text-amber-50 italic bc-instant",style:{fontWeight:200,fontSize:"clamp(28px, 5.5vw, 110px)",textShadow:"0 0 25px rgba(255,215,0,0.6)"},initial:{scaleX:.92,scaleY:.9,opacity:0},animate:{scaleX:1,scaleY:1,opacity:1},transition:{duration:2.5,ease:[.2,.8,.2,1]},children:"Instant Value"}),I.jsx(Tc.span,{className:"text-white bc-dash",style:{fontSize:"clamp(26px, 5vw, 90px)",fontWeight:400},initial:{scaleX:.92,scaleY:.9,opacity:0},animate:{scaleX:1,scaleY:1,opacity:1},transition:{duration:2.5,ease:[.2,.8,.2,1]},children:"—"}),I.jsx(Tc.span,{className:"ml-2 shared-word text-white uppercase bc-shared",style:{fontSize:"clamp(28px, 5.5vw, 100px)",fontWeight:500},initial:{scaleX:.92,scaleY:.9,opacity:0},animate:{scaleX:1,scaleY:1,opacity:1},transition:{duration:2.5,ease:[.2,.8,.2,1]},children:"SHARED"})]}),I.jsx(Tc.span,{className:"self-end text-amber-50 italic bc-instantly",style:{fontWeight:200,fontSize:"clamp(28px, 5.5vw, 110px)",textShadow:"0 0 25px rgba(255,215,0,0.6)"},initial:{scaleX:.92,scaleY:.9,opacity:0},animate:{scaleX:1,scaleY:1,opacity:1},transition:{duration:2,ease:[.2,.8,.2,1]},children:"Instantly"})]})})]})};/*!
 * @gsap/react 2.1.2
 * https://gsap.com
 *
 * Copyright 2008-2025, GreenSock. All rights reserved.
 * Subject to the terms at https://gsap.com/standard-license or for
 * Club GSAP members, the agreement issued with that membership.
 * @author: Jack Doyle, jack@greensock.com
*/let BL=typeof document<"u"?H.useLayoutEffect:H.useEffect,zL=i=>i&&!Array.isArray(i)&&typeof i=="object",sS=[],cae={},Wk=st;const WE=(i,e=sS)=>{let t=cae;zL(i)?(t=i,i=null,e="dependencies"in t?t.dependencies:sS):zL(e)&&(t=e,e="dependencies"in t?t.dependencies:sS),i&&typeof i!="function"&&console.warn("First parameter must be a function or config object");const{scope:n,revertOnUpdate:r}=t,a=H.useRef(!1),s=H.useRef(Wk.context(()=>{},n)),l=H.useRef(f=>s.current.add(null,f)),u=e&&e.length&&!r;return u&&BL(()=>(a.current=!0,()=>s.current.revert()),sS),BL(()=>{if(i&&s.current.add(i,n),!u||!a.current)return()=>s.current.revert()},e),{context:s.current,contextSafe:l.current}};WE.register=i=>{Wk=i};WE.headless=!0;st.registerPlugin(On);const uae=()=>{const i=H.useRef(null),e=H.useRef(null),t=H.useRef(null),n=H.useRef(null),r=H.useRef(null),[a,s]=H.useState(!1),l=H.useRef(!1),[u,f]=H.useState("80px"),[p,g]=H.useState(1);return H.useEffect(()=>{const v=()=>{const S=window.innerHeight,w=Math.max(100,S*.08);f(`${w}px`);const R=Math.max(window.innerWidth,320)/390,C=Math.max(.62,Math.min(R,1.35));g(C)};return v(),window.addEventListener("resize",v),()=>window.removeEventListener("resize",v)},[]),WE(()=>{if(!i.current||!t.current||!n.current)return;st.set(i.current,{opacity:0,y:-80}),st.set(n.current,{opacity:0}),r.current&&st.set(r.current,{opacity:0});let v=window.scrollY,_=!1;const S={current:!1},w=new IntersectionObserver(E=>{E.forEach(b=>{if(b.isIntersecting){const R=window.scrollY;if(_=R<v,S.current&&!_){v=R;return}const C=()=>{const N=st.timeline({onComplete:()=>{S.current=!0,w.disconnect()}});_?(st.set(n.current,{opacity:1}),N.to(n.current,{opacity:0,duration:1.6,ease:"power2.out"}).to(i.current,{opacity:1,y:0,duration:2.4,ease:"power1.inOut"},"+=0.8").to(r.current,{opacity:1,duration:1.2,ease:"power1.out"},"<")):N.to(i.current,{opacity:1,y:0,duration:2.4,ease:"power1.inOut",delay:.4}).to(r.current,{opacity:1,duration:1.2,ease:"power1.out"},"<")},A=()=>st.delayedCall(.8,C);if(l.current)A();else if(e.current){const N=()=>{l.current=!0,A(),e.current&&e.current.removeEventListener("play",N)};e.current.addEventListener("play",N,{once:!0})}else A();v=R}else st.set(i.current,{opacity:1,y:0}),v=window.scrollY})},{threshold:.3,rootMargin:"0px 0px -20% 0px"});return w.observe(t.current),()=>{w.disconnect(),st.killTweensOf([i.current,n.current])}},[]),I.jsxs("section",{ref:t,className:"relative w-full h-screen overflow-hidden",style:{backgroundColor:"#ffffff"},"data-theme":"light",children:[I.jsx("div",{ref:n,className:"absolute inset-0 z-50 pointer-events-none",style:{backgroundColor:"#ffffff"}}),I.jsxs("div",{className:"relative z-10 w-full h-full",style:{backgroundColor:"#ffffff"},children:[I.jsxs("div",{ref:i,className:"absolute",style:{top:u,left:"50%",width:"1045.386px",height:"148.822px",transform:"translateX(-50%)",transformOrigin:"top center",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"flex-start",gap:"12px",pointerEvents:"none"},children:[I.jsx("h1",{className:"mb-2 leading-tight",style:{fontFamily:"EB Garamond, serif",fontWeight:700,fontStyle:"bold",fontSize:"94.97px",lineHeight:"100%",letterSpacing:"0%",textAlign:"center",width:"1045.386474609375px",height:"124px",opacity:1,backgroundImage:"linear-gradient(161.3deg, #9AB5D2 33.59%, #092646 77.13%)",backgroundRepeat:"no-repeat",backgroundSize:"100% 100%",backgroundPosition:"center",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent",backgroundClip:"text",color:"transparent",margin:0,display:"flex",alignItems:"center",justifyContent:"center"},children:"B-Fast"}),I.jsx("p",{className:"leading-relaxed",style:{width:"1045.386474609375px",height:"25px",opacity:1,fontFamily:"Inter, sans-serif",fontWeight:500,fontStyle:"normal",fontSize:"20.33px",lineHeight:"100%",letterSpacing:"0%",textAlign:"center",color:"#777575",margin:0,display:"flex",alignItems:"center",justifyContent:"center"},children:"One Tap. Zero Wait."})]}),I.jsx("div",{className:"relative w-full h-full mx-auto",style:{backgroundColor:"transparent",position:"relative",display:"flex",alignItems:"center",justifyContent:"center",overflow:"hidden",marginTop:"60px",borderRadius:"0px"},children:I.jsxs("div",{className:"relative w-full h-full flex items-center justify-center",style:{backgroundColor:"transparent"},children:[I.jsx("div",{className:"absolute inset-0 pointer-events-none",style:{background:"transparent",zIndex:1}}),a?I.jsx("div",{className:"w-full h-full bg-gray-100 rounded-lg flex items-center justify-center relative z-10 shadow-lg",children:I.jsxs("div",{className:"text-center text-gray-500",children:[I.jsx("div",{className:"text-2xl mb-2",children:"🎥"}),I.jsx("p",{className:"text-sm",children:"Video unavailable"})]})}):I.jsx("div",{className:"relative",style:{width:"705.7943725585938px",height:"397.00933837890625px",position:"relative",top:"3cm",left:"50%",transform:"translateX(-50%)"},children:I.jsx("video",{ref:e,src:"/bfast_video_mobile.mp4",className:"relative z-10",style:{width:"100%",height:"100%",objectFit:"cover",objectPosition:"50% 50%",opacity:1,mixBlendMode:"normal",filter:"saturate(1.08) contrast(1.04) brightness(1.02)",WebkitMaskImage:"radial-gradient(ellipse at center, rgba(0,0,0,1) 62%, rgba(0,0,0,0.75) 78%, rgba(0,0,0,0.35) 90%, rgba(0,0,0,0) 100%)",maskImage:"radial-gradient(ellipse at center, rgba(0,0,0,1) 62%, rgba(0,0,0,0.75) 78%, rgba(0,0,0,0.35) 90%, rgba(0,0,0,0) 100%)",WebkitMaskRepeat:"no-repeat",maskRepeat:"no-repeat",WebkitMaskSize:"100% 100%",maskSize:"100% 100%",WebkitMaskPosition:"50% 50%",maskPosition:"50% 50%",transform:"scale(1.02)",transformOrigin:"center",pointerEvents:"none",border:"none",outline:"none",background:"transparent",backgroundColor:"transparent"},autoPlay:!0,muted:!0,playsInline:!0,controls:!1,disablePictureInPicture:!0,preload:"auto",onError:()=>s(!0),onPlay:()=>{l.current=!0}})})]})}),I.jsx("div",{ref:r,style:{position:"absolute",inset:0,zIndex:21,pointerEvents:"none"},children:I.jsxs("div",{style:{position:"absolute",left:"50%",top:"50%",width:0,height:0},children:[I.jsxs("div",{style:{position:"absolute",left:"-1px",top:"-1px",width:"2px",height:"2px",transformOrigin:"1px 1px",animation:"orbitSlow 24s linear infinite"},children:[I.jsx("div",{style:{width:"8px",height:"8px",background:"#000",clipPath:"polygon(50% 0%, 60% 40%, 100% 50%, 60% 60%, 50% 100%, 40% 60%, 0% 50%, 40% 40%)",opacity:.85,transform:"translateX(140px)"}}),I.jsx("div",{style:{width:"8px",height:"8px",background:"#000",clipPath:"polygon(50% 0%, 60% 40%, 100% 50%, 60% 60%, 50% 100%, 40% 60%, 0% 50%, 40% 40%)",opacity:.85,transform:"rotate(120deg) translateX(140px)"}}),I.jsx("div",{style:{width:"8px",height:"8px",background:"#000",clipPath:"polygon(50% 0%, 60% 40%, 100% 50%, 60% 60%, 50% 100%, 40% 60%, 0% 50%, 40% 40%)",opacity:.85,transform:"rotate(240deg) translateX(140px)"}})]}),I.jsxs("div",{style:{position:"absolute",left:"-1px",top:"-1px",width:"2px",height:"2px",transformOrigin:"1px 1px",animation:"orbitMed 18s linear infinite reverse"},children:[I.jsx("div",{style:{width:"6px",height:"6px",background:"#000",clipPath:"polygon(50% 0%, 60% 40%, 100% 50%, 60% 60%, 50% 100%, 40% 60%, 0% 50%, 40% 40%)",opacity:.9,transform:"translateX(190px)"}}),I.jsx("div",{style:{width:"6px",height:"6px",background:"#000",clipPath:"polygon(50% 0%, 60% 40%, 100% 50%, 60% 60%, 50% 100%, 40% 60%, 0% 50%, 40% 40%)",opacity:.9,transform:"rotate(90deg) translateX(190px)"}}),I.jsx("div",{style:{width:"6px",height:"6px",background:"#000",clipPath:"polygon(50% 0%, 60% 40%, 100% 50%, 60% 60%, 50% 100%, 40% 60%, 0% 50%, 40% 40%)",opacity:.9,transform:"rotate(180deg) translateX(190px)"}}),I.jsx("div",{style:{width:"6px",height:"6px",background:"#000",clipPath:"polygon(50% 0%, 60% 40%, 100% 50%, 60% 60%, 50% 100%, 40% 60%, 0% 50%, 40% 40%)",opacity:.9,transform:"rotate(270deg) translateX(190px)"}})]})]})})]}),I.jsx("style",{children:`
        @keyframes spinStar { from { transform: rotate(0deg); } to { transform: rotate(360deg); } }
        @keyframes twinkle { 0%, 100% { opacity: 0.65; } 50% { opacity: 1; } }
        @keyframes spinDriftA { 0% { transform: rotate(0deg) translate(0px, 0px); } 50% { transform: rotate(180deg) translate(6px, -4px); } 100% { transform: rotate(360deg) translate(0px, 0px); } }
        @keyframes spinDriftB { 0% { transform: rotate(0deg) translate(0px, 0px); } 50% { transform: rotate(180deg) translate(-5px, 6px); } 100% { transform: rotate(360deg) translate(0px, 0px); } }
        @keyframes spinDriftC { 0% { transform: rotate(0deg) translate(0px, 0px); } 50% { transform: rotate(180deg) translate(4px, 5px); } 100% { transform: rotate(360deg) translate(0px, 0px); } }
        @keyframes orbitSlow { from { transform: rotate(0deg); } to { transform: rotate(360deg); } }
        @keyframes orbitMed { from { transform: rotate(0deg); } to { transform: rotate(-360deg); } }
      `})]})};st.registerPlugin(On);const fae=()=>{const i=H.useRef(null),e=H.useRef(null),t=H.useRef(null);H.useRef(null);const n=H.useRef(null),r=H.useRef(null),a=H.useRef(null),[s,l]=H.useState(!1),[u,f]=H.useState({width:"100%",height:"100%"}),[p,g]=H.useState("2cm"),[v,_]=H.useState("80px"),[S,w]=H.useState("clamp(130px, 12vh, 240px)"),E=H.useRef(!1);return H.useEffect(()=>{const b=()=>{const C=window.innerWidth,A=window.innerHeight,N=C-10,L=A-4,B=16/9;let U,P;N/L>B?(P=L,U=L*B):(U=N,P=N/B),f({width:`${U}px`,height:`${P}px`});const z=80,X=200,te=P,se=z+X+te,ue=(A-se)/37.8;let G=2;if(ue<2){for(let ee=1.8;ee>=.2;ee-=.2)if(ee<=ue){G=ee;break}}g(`${G}cm`);const Y=80,Q=window.innerHeight,ye=Math.max(Y+20,Q*.08);_(`${ye}px`);const F=130,fe=80,Se=300;let Ce;if(Q<=600)Ce=fe;else if(Q<=900){const ee=(Q-600)/300;Ce=fe+(F-fe)*ee}else if(Q<=1200)Ce=F;else if(Q<=1600){const ee=(Q-1200)/400;Ce=F+(Se-F)*ee}else Ce=Se;const ke=Math.max(Ce*.3,Q*.08),we=Math.max(Ce,ke);w(`${Math.round(we)}px`)};return b(),setTimeout(()=>{const C=window.innerHeight;C<=600?w("80px"):C<=900?w("110px"):C<=1200?w("130px"):C<=1600?w("180px"):w("240px")},100),window.addEventListener("resize",b),()=>window.removeEventListener("resize",b)},[]),WE(()=>{if(!i.current||!e.current||!t.current)return;st.set(i.current,{opacity:0,y:-80}),n.current&&st.set(n.current,{opacity:0}),r.current&&st.set(r.current,{opacity:0}),a.current&&st.set(a.current,{opacity:0});let b=window.scrollY,R=!1;const C={current:!1},A=new IntersectionObserver(N=>{N.forEach(L=>{if(L.isIntersecting){const B=window.scrollY;if(R=B<b,C.current&&!R){b=B;return}st.set(i.current,{opacity:0,y:-80});const U=()=>{const z=st.timeline({onComplete:()=>{C.current=!0}});R?z.to(i.current,{opacity:1,y:0,duration:2.4,ease:"power1.inOut"}).to([n.current,r.current,a.current].filter(Boolean),{opacity:1,duration:1.2,ease:"power1.out"},"<"):z.to(i.current,{opacity:1,y:0,duration:2.4,ease:"power1.inOut",delay:.4}).to([n.current,r.current,a.current].filter(Boolean),{opacity:1,duration:1.2,ease:"power1.out"},"<")},P=()=>st.delayedCall(.8,U);if(E.current)P();else if(e.current){const z=()=>{E.current=!0,P(),e.current&&e.current.removeEventListener("play",z)};e.current.addEventListener("play",z,{once:!0})}else P();b=B}else b=window.scrollY})},{threshold:.3,rootMargin:"0px 0px -20% 0px"});return t.current&&A.observe(t.current),()=>{A.disconnect(),st.killTweensOf([i.current,n.current,r.current,a.current])}},[]),I.jsxs("section",{ref:t,className:"relative w-full h-screen overflow-hidden",style:{backgroundColor:"#ffffff"},"data-theme":"light",children:[I.jsxs("div",{className:"relative z-10 w-full h-full flex flex-col items-center justify-start",style:{backgroundColor:"#ffffff",textAlign:"center",marginTop:"clamp(20px, 6vh, 160px)"},children:[I.jsxs("div",{ref:i,className:"text-center max-w-6xl mx-auto",style:{marginTop:v,marginBottom:"0cm",paddingTop:"clamp(20px, 2vh, 40px)",width:"clamp(280px, 90vw, 1600px)",height:"clamp(100px, 15vh, 200px)",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",gap:"0.5cm",marginLeft:"auto",marginRight:"auto"},children:[I.jsx("h1",{className:"mb-4 leading-tight",style:{fontFamily:"EB Garamond, serif",fontWeight:700,fontStyle:"bold",fontSize:"clamp(80px, 8vw, 130.81px)",lineHeight:"100%",letterSpacing:"0%",textAlign:"center",width:"clamp(280px, 100vw, 1600px)",height:"clamp(80px, 15vh, 200px)",backgroundImage:"linear-gradient(180deg, #B8C9E0 33.59%, #0A2A4A 77.13%)",backgroundRepeat:"no-repeat",backgroundSize:"100% 100%",backgroundPosition:"center",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent",backgroundClip:"text",color:"transparent",textShadow:"none",margin:"0 auto",display:"flex",alignItems:"center",justifyContent:"center",position:"relative",left:"50%",transform:"translateX(-50%) rotate(0deg)"},children:"B-Fast"}),I.jsx("p",{className:"leading-relaxed",style:{width:"clamp(280px, 90vw, 1600px)",height:"clamp(25px, 3vh, 50px)",opacity:1,fontFamily:"Inter, sans-serif",fontWeight:500,fontStyle:"normal",fontSize:"clamp(16px, 2vw, 28px)",lineHeight:"100%",letterSpacing:"0%",textAlign:"center",color:"#777575",marginTop:"clamp(16px, 2vh, 32px)",margin:"0 auto",display:"flex",alignItems:"center",justifyContent:"center",position:"relative",left:"50%",transform:"translateX(-50%)"},children:"One Tap. Zero Wait."})]}),I.jsx("div",{className:"relative w-full mx-auto mac-margin mac-gap",style:{backgroundColor:"transparent",position:"relative",flex:"1 1 auto",display:"flex",alignItems:"center",justifyContent:"center",minHeight:"clamp(380px, 65vh, 1100px)",maxHeight:"clamp(760px, 90vh, 1300px)",marginTop:S,marginLeft:"clamp(5px, 0.5vw, 5px)",marginRight:"clamp(5px, 0.5vw, 5px)"},children:I.jsx("div",{className:"relative w-full h-full flex items-center justify-center",style:{backgroundColor:"transparent",border:"none",outline:"none"},children:s?I.jsx("div",{className:"w-full h-full bg-gray-100 rounded-lg flex items-center justify-center relative z-10 shadow-lg",children:I.jsxs("div",{className:"text-center text-gray-500",children:[I.jsx("div",{className:"text-2xl sm:text-3xl md:text-4xl mb-2",children:"🎥"}),I.jsx("p",{className:"text-sm sm:text-base",children:"Video unavailable"})]})}):I.jsx("video",{ref:e,src:C7,className:"object-contain relative z-10",style:{width:u.width||"clamp(600px, 90vw, 1400px)",height:u.height||"clamp(320px, 40vw, 728px)",objectFit:"contain",objectPosition:"center center",transform:"none",opacity:.98,position:"relative",margin:"0",left:"auto",mixBlendMode:"normal",pointerEvents:"none",border:"none",outline:"none",background:"transparent",backgroundColor:"transparent",maxWidth:"100%",maxHeight:"100%"},autoPlay:!0,muted:!0,playsInline:!0,controls:!1,disablePictureInPicture:!0,preload:"auto",onError:()=>l(!0),onLoadStart:()=>{},onCanPlay:()=>{},onEnded:()=>{}})})}),I.jsxs("div",{ref:n,style:{position:"absolute",width:"100vw",height:"100vh",left:"0px",top:"0px",transform:"rotate(45deg)",opacity:1,zIndex:21,pointerEvents:"none"},children:[I.jsx("div",{style:{position:"absolute",width:"clamp(8px, 0.5vw, 16px)",height:"clamp(8px, 0.5vw, 16px)",left:"15%",top:"20%",background:"#222222",clipPath:"polygon(50% 0%, 60% 40%, 100% 50%, 60% 60%, 50% 100%, 40% 60%, 0% 50%, 40% 40%)",opacity:.8,animation:"spinDriftA 18s linear infinite, twinkle 3.8s ease-in-out infinite"}}),I.jsx("div",{style:{position:"absolute",width:"clamp(8px, 0.5vw, 16px)",height:"clamp(8px, 0.5vw, 16px)",left:"65%",top:"15%",background:"#222222",clipPath:"polygon(50% 0%, 60% 40%, 100% 50%, 60% 60%, 50% 100%, 40% 60%, 0% 50%, 40% 40%)",opacity:.8,animation:"spinDriftB 22s linear infinite, twinkle 4.6s ease-in-out infinite"}}),I.jsx("div",{style:{position:"absolute",width:"clamp(8px, 0.5vw, 16px)",height:"clamp(8px, 0.5vw, 16px)",left:"35%",top:"60%",background:"#222222",clipPath:"polygon(50% 0%, 60% 40%, 100% 50%, 60% 60%, 50% 100%, 40% 60%, 0% 50%, 40% 40%)",opacity:.8,animation:"spinDriftC 20s linear infinite, twinkle 4.2s ease-in-out infinite"}}),I.jsx("div",{style:{position:"absolute",width:"clamp(8px, 0.5vw, 16px)",height:"clamp(8px, 0.5vw, 16px)",left:"85%",top:"70%",background:"#222222",clipPath:"polygon(50% 0%, 60% 40%, 100% 50%, 60% 60%, 50% 100%, 40% 60%, 0% 50%, 40% 40%)",opacity:.8,animation:"spinDriftB 24s linear infinite, twinkle 5s ease-in-out infinite"}}),I.jsx("div",{style:{position:"absolute",width:"clamp(8px, 0.5vw, 16px)",height:"clamp(8px, 0.5vw, 16px)",left:"80%",top:"85%",background:"#222222",clipPath:"polygon(50% 0%, 60% 40%, 100% 50%, 60% 60%, 50% 100%, 40% 60%, 0% 50%, 40% 40%)",opacity:.8,animation:"spinStar 10s linear infinite"}}),I.jsx("div",{style:{position:"absolute",width:"clamp(8px, 0.5vw, 16px)",height:"clamp(8px, 0.5vw, 16px)",left:"5%",top:"45%",background:"#222222",clipPath:"polygon(50% 0%, 60% 40%, 100% 50%, 60% 60%, 50% 100%, 40% 60%, 0% 50%, 40% 40%)",opacity:.8,animation:"spinStar 10s linear infinite"}})]}),I.jsxs("div",{ref:r,style:{position:"absolute",width:"100vw",height:"100vh",left:"0px",top:"0px",opacity:1,zIndex:20,pointerEvents:"none"},children:[I.jsx("div",{style:{position:"absolute",width:"clamp(6px, 0.35vw, 12px)",height:"clamp(6px, 0.35vw, 12px)",left:"12%",top:"18%",background:"#222222",clipPath:"polygon(50% 0%, 60% 40%, 100% 50%, 60% 60%, 50% 100%, 40% 60%, 0% 50%, 40% 40%)",opacity:.85,animation:"spinDriftA 26s linear infinite, twinkle 3.6s ease-in-out infinite"}}),I.jsx("div",{style:{position:"absolute",width:"clamp(6px, 0.35vw, 12px)",height:"clamp(6px, 0.35vw, 12px)",left:"42%",top:"35%",background:"#222222",clipPath:"polygon(50% 0%, 60% 40%, 100% 50%, 60% 60%, 50% 100%, 40% 60%, 0% 50%, 40% 40%)",opacity:.85,animation:"spinDriftB 21s linear infinite, twinkle 4.3s ease-in-out infinite"}}),I.jsx("div",{style:{position:"absolute",width:"clamp(6px, 0.35vw, 12px)",height:"clamp(6px, 0.35vw, 12px)",left:"72%",top:"28%",background:"#222222",clipPath:"polygon(50% 0%, 60% 40%, 100% 50%, 60% 60%, 50% 100%, 40% 60%, 0% 50%, 40% 40%)",opacity:.85,animation:"spinDriftC 28s linear infinite, twinkle 5.1s ease-in-out infinite"}}),I.jsx("div",{style:{position:"absolute",width:"clamp(6px, 0.35vw, 12px)",height:"clamp(6px, 0.35vw, 12px)",left:"88%",top:"68%",background:"#222222",clipPath:"polygon(50% 0%, 60% 40%, 100% 50%, 60% 60%, 50% 100%, 40% 60%, 0% 50%, 40% 40%)",opacity:.85,animation:"spinDriftA 24s linear infinite, twinkle 4.8s ease-in-out infinite"}})]}),I.jsx("div",{ref:a,style:{position:"absolute",inset:0,zIndex:22,pointerEvents:"none"},children:I.jsxs("div",{style:{position:"absolute",left:"50%",top:"50%",width:0,height:0},children:[I.jsxs("div",{style:{position:"absolute",left:"-1px",top:"-1px",width:"2px",height:"2px",transformOrigin:"1px 1px",animation:"orbitSlow 24s linear infinite"},children:[I.jsx("div",{style:{width:"clamp(8px, 0.5vw, 16px)",height:"clamp(8px, 0.5vw, 16px)",background:"#222",clipPath:"polygon(50% 0%, 60% 40%, 100% 50%, 60% 60%, 50% 100%, 40% 60%, 0% 50%, 40% 40%)",opacity:.85,transform:"translateX(clamp(280px, 22vw, 420px))"}}),I.jsx("div",{style:{width:"clamp(8px, 0.5vw, 16px)",height:"clamp(8px, 0.5vw, 16px)",background:"#222",clipPath:"polygon(50% 0%, 60% 40%, 100% 50%, 60% 60%, 50% 100%, 40% 60%, 0% 50%, 40% 40%)",opacity:.85,transform:"rotate(120deg) translateX(clamp(280px, 22vw, 420px))"}}),I.jsx("div",{style:{width:"clamp(8px, 0.5vw, 16px)",height:"clamp(8px, 0.5vw, 16px)",background:"#222",clipPath:"polygon(50% 0%, 60% 40%, 100% 50%, 60% 60%, 50% 100%, 40% 60%, 0% 50%, 40% 40%)",opacity:.85,transform:"rotate(240deg) translateX(clamp(280px, 22vw, 420px))"}})]}),I.jsxs("div",{style:{position:"absolute",left:"-1px",top:"-1px",width:"2px",height:"2px",transformOrigin:"1px 1px",animation:"orbitMed 18s linear infinite reverse"},children:[I.jsx("div",{style:{width:"clamp(6px, 0.35vw, 12px)",height:"clamp(6px, 0.35vw, 12px)",background:"#222",clipPath:"polygon(50% 0%, 60% 40%, 100% 50%, 60% 60%, 50% 100%, 40% 60%, 0% 50%, 40% 40%)",opacity:.9,transform:"translateX(clamp(380px, 30vw, 580px))"}}),I.jsx("div",{style:{width:"clamp(6px, 0.35vw, 12px)",height:"clamp(6px, 0.35vw, 12px)",background:"#222",clipPath:"polygon(50% 0%, 60% 40%, 100% 50%, 60% 60%, 50% 100%, 40% 60%, 0% 50%, 40% 40%)",opacity:.9,transform:"rotate(90deg) translateX(clamp(380px, 30vw, 580px))"}}),I.jsx("div",{style:{width:"clamp(6px, 0.35vw, 12px)",height:"clamp(6px, 0.35vw, 12px)",background:"#222",clipPath:"polygon(50% 0%, 60% 40%, 100% 50%, 60% 60%, 50% 100%, 40% 60%, 0% 50%, 40% 40%)",opacity:.9,transform:"rotate(180deg) translateX(clamp(380px, 30vw, 580px))"}}),I.jsx("div",{style:{width:"clamp(6px, 0.35vw, 12px)",height:"clamp(6px, 0.35vw, 12px)",background:"#222",clipPath:"polygon(50% 0%, 60% 40%, 100% 50%, 60% 60%, 50% 100%, 40% 60%, 0% 50%, 40% 40%)",opacity:.9,transform:"rotate(270deg) translateX(clamp(380px, 30vw, 580px))"}})]})]})})]}),I.jsx("style",{children:`
        @keyframes spinStar { from { transform: rotate(0deg); } to { transform: rotate(360deg); } }
        @keyframes twinkle { 0%, 100% { opacity: 0.65; } 50% { opacity: 1; } }
        @keyframes spinDriftA {
          0% { transform: rotate(0deg) translate(0px, 0px); }
          50% { transform: rotate(180deg) translate(6px, -4px); }
          100% { transform: rotate(360deg) translate(0px, 0px); }
        }
        @keyframes spinDriftB {
          0% { transform: rotate(0deg) translate(0px, 0px); }
          50% { transform: rotate(180deg) translate(-5px, 6px); }
          100% { transform: rotate(360deg) translate(0px, 0px); }
        }
        @keyframes spinDriftC {
          0% { transform: rotate(0deg) translate(0px, 0px); }
          50% { transform: rotate(180deg) translate(4px, 5px); }
          100% { transform: rotate(360deg) translate(0px, 0px); }
        }
        @keyframes orbitSlow { from { transform: rotate(0deg); } to { transform: rotate(360deg); } }
        @keyframes orbitMed { from { transform: rotate(0deg); } to { transform: rotate(-360deg); } }
        
        /* Mac-specific margin */
        @media screen and (-webkit-min-device-pixel-ratio: 2) and (min-resolution: 192dpi) {
          .mac-margin {
            margin-left: 5px !important;
            margin-right: 5px !important;
          }
          /* Smaller Mac displays: add extra gap between heading and video */
          @media (max-height: 900px) {
            .mac-gap { margin-top: clamp(160px, 14vh, 280px) !important; }
          }
        }
      `})]})},hae=()=>{const i=()=>typeof window<"u"?window.matchMedia("(max-width: 768px)").matches:!1,[e,t]=H.useState(i);return H.useEffect(()=>{const n=window.matchMedia("(max-width: 768px)"),r=()=>t(n.matches);return r(),n.addEventListener("change",r),()=>n.removeEventListener("change",r)},[]),e?I.jsx(uae,{}):I.jsx(fae,{})},dae=[US,IS,BS,zS];(()=>{if(!(typeof window>"u")&&!window.__baftFeaturesPreloaded){window.__baftFeaturesPreloaded=!0;try{dae.forEach(i=>{const e=document.createElement("link");e.rel="prefetch",e.as="image",e.href=i,document.head.appendChild(e);const t=new Image;t.src=i})}catch{}}})();const pae=()=>{const i=H.useRef(null),[e,t]=H.useState(0),n=H.useRef(0),r=H.useRef(null),a=H.useRef(null),s=H.useRef(null),l=[{icon:null,customIcon:uA,image:US,title:"Pay Bills",description:"Sort your bills with automated payments and reminders."},{icon:null,customIcon:fA,image:IS,title:"Manage Account",description:"Control your finances with management tools and insights."},{icon:null,customIcon:hA,image:BS,title:"Rewards",description:"Earn points and redeem them for rewards and benefits."},{icon:null,customIcon:dA,image:zS,title:"Seamless Payments",description:"Send and receive coins instantly with just a few taps."}],u=(_,S,w)=>{w?st.set(_,{...S,force3D:!0,WebkitBackfaceVisibility:"hidden",backfaceVisibility:"hidden"}):st.to(_,{...S,duration:.4,ease:"power2.out",overwrite:"auto",force3D:!0,WebkitBackfaceVisibility:"hidden",backfaceVisibility:"hidden"})},f=_=>{if(!i.current)return;const S=i.current.children[_];S&&st.to(S,{y:400,opacity:0,scale:.9,rotateZ:15,zIndex:5,duration:.4,ease:"power2.out",force3D:!0,WebkitBackfaceVisibility:"hidden",backfaceVisibility:"hidden"})},p=(_,S=!1)=>{if(!i.current)return;const w=Array.from(i.current.children),E=l.length;w.forEach((b,R)=>{R===_?u(b,{x:0,y:0,z:0,scale:1,opacity:1,zIndex:30,rotateX:0,rotateY:0,rotateZ:0},S):R===(_+1)%E?u(b,{x:0,y:-30,z:-30,scale:.95,opacity:1,zIndex:20,rotateX:0,rotateY:0,rotateZ:0},S):R===(_+2)%E?u(b,{x:0,y:-60,z:-60,scale:.9,opacity:1,zIndex:10,rotateX:0,rotateY:0,rotateZ:0},S):u(b,{x:0,y:200,z:0,scale:.7,opacity:0,zIndex:0,rotateX:0,rotateY:0,rotateZ:0},S)})},g=()=>{a.current&&(clearInterval(a.current),a.current=null)},v=()=>{a.current||(a.current=setInterval(()=>{t(_=>(_+1)%l.length)},3e3))};return H.useLayoutEffect(()=>{if(!i.current)return;p(0,!0);const _=()=>{requestAnimationFrame(()=>{p(n.current,!0)})};return window.addEventListener("resize",_),window.addEventListener("orientationchange",_),v(),()=>{g(),s.current&&(clearTimeout(s.current),s.current=null),window.removeEventListener("resize",_),window.removeEventListener("orientationchange",_)}},[]),H.useEffect(()=>{const _=r.current;_!==e&&r.current!==0&&f(_),p(e,!1),r.current=e,n.current=e},[e]),I.jsx("div",{className:"bg-white","data-theme":"light",children:I.jsx("section",{id:"features",className:"relative overflow-hidden py-8 sm:py-12 md:py-8",style:{marginTop:"clamp(0.5vh, 1vh, 2vh)",marginBottom:"0.1cm"},children:I.jsxs("div",{className:"w-full max-w-4xl mx-auto flex flex-col gap-0 items-center px-4 sm:px-6 md:px-8",style:{marginTop:"4rem"},children:[I.jsxs("div",{className:"flex flex-col justify-start w-full text-left z-10",style:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"flex-start",padding:"0px",width:"100%",maxWidth:"clamp(300px, 90%, 500px)"},children:[I.jsxs("p",{className:"font-normal mb-3 sm:mb-4 flex items-center gap-2 justify-start",style:{width:"36px",height:"13px",transform:"rotate(-0.08deg)",opacity:1,color:"#092646",marginBottom:"0.5cm"},children:[I.jsx("img",{src:aR,alt:"Icon",className:"w-4 h-4 sm:w-5 sm:h-5"}),"Features"]}),I.jsxs("h1",{className:"leading-tight font-bold text-[#1966BB] text-left",style:{width:"176.35px",height:"89px",transform:"rotate(-0.08deg)",opacity:1,fontFamily:"EB Garamond",fontWeight:700,fontStyle:"Bold",fontSize:"43.6px",lineHeight:"44.47px",letterSpacing:"-0.89px",verticalAlign:"middle",color:"#1966BB",margin:0,padding:0,marginBottom:"0.7cm"},children:[I.jsx("span",{className:"block",children:"All in"}),I.jsx("span",{className:"block",children:"One Place"})]}),I.jsx("ul",{className:"space-y-1 sm:space-y-1.5 md:space-y-2",style:{cursor:"default",marginBottom:"0",width:"100%"},children:l.map((_,S)=>{const w=S===e,E=_.icon;return I.jsxs("li",{onMouseEnter:()=>{g(),t(S),p(S,!1)},onMouseLeave:()=>{setTimeout(()=>{v()},500)},onClick:()=>{g(),s.current&&(clearTimeout(s.current),s.current=null),t(S),p(S,!1),s.current=setTimeout(()=>{v(),s.current=null},3e3)},style:{boxSizing:"border-box",display:"flex",flexDirection:"row",justifyContent:"flex-start",alignItems:"center",padding:"clamp(12px, 1.5vw, 20px) clamp(10px, 1.2vw, 14px)",gap:"clamp(8px, 1vw, 14px)",width:w?"fit-content":"100%",minHeight:"clamp(50px, 5vh, 75px)",background:w?"#FFFFFF":"transparent",border:w?"1px solid rgba(22, 93, 172, 0.19)":"none",borderRadius:"clamp(8px, 1.2vw, 14px)",boxShadow:w?"0px 2px 8px rgba(25, 102, 187, 0.1)":"none",flex:"none",order:w?0:1,flexGrow:0,transition:"all 0.3s ease"},children:[_.customIcon?I.jsx("img",{src:_.customIcon,alt:_.title,className:"flex-shrink-0",style:{width:"clamp(16px, 2vw, 24px)",height:"clamp(16px, 2vw, 24px)"}}):I.jsx(E,{className:"text-xl sm:text-2xl lg:text-3xl xl:text-4xl flex-shrink-0 text-[#1966BB]"}),I.jsxs("div",{className:"min-w-0 flex-1",children:[I.jsx("h6",{style:{fontFamily:"Inter",fontWeight:500,fontStyle:"normal",fontSize:"clamp(12px, 1.3vw, 15px)",lineHeight:"100%",letterSpacing:"0%",color:"#1966BB",margin:0},children:_.title}),I.jsx("p",{style:{fontFamily:"Inter",fontWeight:400,fontStyle:"normal",fontSize:"clamp(10px, 1vw, 12px)",lineHeight:"120%",letterSpacing:"0%",color:"#989898",margin:0,marginTop:"clamp(8px, 1.2vw, 12px)"},children:_.description})]})]},S)})})]}),I.jsx("div",{className:"relative w-full flex items-end justify-center perspective-[1200px] mt-0",style:{willChange:"transform, opacity",backfaceVisibility:"hidden",WebkitBackfaceVisibility:"hidden",transformStyle:"preserve-3d",WebkitTransformStyle:"preserve-3d",minHeight:"600px",paddingBottom:"7rem",paddingTop:"0",overflow:"hidden",marginTop:"-2rem",WebkitTransform:"translateZ(0)",transform:"translateZ(0)"},ref:i,children:l.map((_,S)=>I.jsx("div",{className:"absolute flex flex-col items-center justify-center",style:{width:"clamp(350px, 85vw, 500px)",height:"clamp(450px, 90vw, 600px)",transformOrigin:"center bottom",WebkitTransformOrigin:"center bottom",zIndex:10,WebkitTransform:"translateZ(0)",transform:"translateZ(0)",WebkitBackfaceVisibility:"hidden",backfaceVisibility:"hidden"},children:I.jsx("img",{src:_.image,alt:_.title,className:"w-full h-full object-contain",loading:"eager",decoding:"async",fetchPriority:"high",draggable:!1,style:{WebkitTransform:"translateZ(0)",transform:"translateZ(0)",WebkitBackfaceVisibility:"hidden",backfaceVisibility:"hidden",imageRendering:"auto",WebkitImageRendering:"auto"}})},S))})]})})})},mae=()=>{const i=H.useRef(null),[e,t]=H.useState(0),[n,r]=H.useState(!1),[a,s]=H.useState(!1),l=H.useRef(0),u=H.useRef(null),f=[{icon:null,customIcon:uA,image:US,title:"Pay Bills",description:"Sort your bills with automated payments and reminders."},{icon:null,customIcon:fA,image:IS,title:"Manage Accounts",description:"Control your finances with management tools and insights."},{icon:null,customIcon:hA,image:BS,title:"Rewards",description:"Earn points and redeem them for rewards and benefits."},{icon:null,customIcon:dA,image:zS,title:"Seamless Payments",description:"Send and receive coins instantly with just a few taps."}],p=40;H.useEffect(()=>{s(!0)},[]),H.useEffect(()=>{(()=>{[US,IS,BS,zS,uA,fA,hA,dA].forEach(b=>{const R=new Image;R.decoding="sync",R.fetchPriority="high",R.src=b,R.onload=()=>console.log(`Features asset loaded: ${b}`),R.onerror=()=>console.warn(`Failed to load Features asset: ${b}`)})})()},[]);const g=(w,E,b)=>{b?st.set(w,E):st.to(w,{...E,duration:.3,ease:"power2.out",overwrite:"auto"})},v=(w,E=!1)=>{if(!i.current)return;const b=Array.from(i.current.children),R=f.length,C=window.innerWidth,A=C<768,N=C>=768&&C<1024,L=C>=1024&&C<1280,B=C>=1280&&C<1536;b.forEach((U,P)=>{A?P===w?g(U,{x:0,y:p,z:0,scale:1,opacity:1,rotateY:0,zIndex:10},E):g(U,{x:0,y:P<w?p-20:p+20,z:-20,scale:.9,opacity:1,rotateY:0,zIndex:5},E):N?P===w?g(U,{x:0,y:p,z:0,scale:1,opacity:1,rotateY:0,zIndex:10},E):P===(w-1+R)%R?g(U,{x:-30,y:p,z:-30,scale:.9,opacity:1,rotateY:15,zIndex:9},E):P===(w+1)%R?g(U,{x:30,y:p,z:-30,scale:.9,opacity:1,rotateY:-15,zIndex:9},E):g(U,{x:P<w?-60:60,y:p,z:-45,scale:.75,opacity:1,rotateY:P<w?20:-20,zIndex:7},E):L?P===w?g(U,{x:0,y:p,z:0,scale:1,opacity:1,rotateY:0,zIndex:10},E):P===(w-1+R)%R?g(U,{x:-45,y:p,z:-45,scale:.9,opacity:1,rotateY:15,zIndex:9},E):P===(w+1)%R?g(U,{x:45,y:p,z:-45,scale:.9,opacity:1,rotateY:-15,zIndex:9},E):g(U,{x:P<w?-90:90,y:p,z:-70,scale:.8,opacity:1,rotateY:P<w?25:-25,zIndex:7},E):B?P===w?g(U,{x:0,y:p,z:0,scale:1,opacity:1,rotateY:0,zIndex:10},E):P===(w-1+R)%R?g(U,{x:-80,y:p,z:-80,scale:.85,opacity:1,rotateY:20,zIndex:9},E):P===(w+1)%R?g(U,{x:80,y:p,z:-80,scale:.9,opacity:1,rotateY:-15,zIndex:9},E):g(U,{x:P<w?-160:160,y:p,z:-120,scale:.75,opacity:1,rotateY:P<w?30:-30,zIndex:7},E):P===w?g(U,{x:0,y:p,z:0,scale:1,opacity:1,rotateY:0,zIndex:10},E):P===(w-1+R)%R?g(U,{x:-120,y:p,z:-120,scale:.8,opacity:1,rotateY:25,zIndex:9},E):P===(w+1)%R?g(U,{x:120,y:p,z:-120,scale:.85,opacity:1,rotateY:-20,zIndex:9},E):g(U,{x:P<w?-240:240,y:p,z:-180,scale:.7,opacity:1,rotateY:P<w?35:-35,zIndex:7},E)})},_=()=>{u.current&&(clearInterval(u.current),u.current=null)},S=()=>{u.current||(u.current=setInterval(()=>{t(w=>(w+1)%f.length)},3e3))};return H.useEffect(()=>{const w=()=>{r(window.innerWidth<768)};return w(),window.addEventListener("resize",w),()=>{window.removeEventListener("resize",w)}},[]),H.useEffect(()=>{const w=/^((?!chrome|android).)*safari/i.test(navigator.userAgent),E=/Chrome/.test(navigator.userAgent)&&/Google Inc/.test(navigator.vendor),b=/Edg/.test(navigator.userAgent),R=E||b;w&&i.current&&i.current.classList.add("safari-gpu-accelerated"),R&&(i.current&&i.current.classList.add("chromium-optimized"),i.current&&(i.current.style.transform="translateZ(0)",i.current.style.willChange="transform, opacity"),b?i.current&&i.current.style.setProperty("--browser-scale","1.1"):E&&i.current&&i.current.style.setProperty("--browser-scale","0.95"))},[]),H.useLayoutEffect(()=>{if(!i.current)return;v(0,!0);const w=()=>{v(l.current,!0)};return window.addEventListener("resize",w),S(),()=>{_(),window.removeEventListener("resize",w)}},[]),H.useEffect(()=>{l.current=e,v(e,!1)},[e]),n?I.jsx(pae,{}):I.jsx("div",{className:"bg-white","data-theme":"light",children:I.jsx("section",{id:"features",className:"relative overflow-hidden px-4 sm:px-6 md:px-8 lg:px-12 xl:px-16 2xl:px-24 py-12 sm:py-16 lg:py-20 xl:py-24 2xl:py-28 features-section",style:{marginTop:"clamp(4vh, 6vh, 8vh)",marginLeft:"1cm",marginRight:"1cm"},children:I.jsxs("div",{className:"w-full max-w-7xl mx-auto flex flex-col lg:grid lg:grid-cols-2 gap-8 sm:gap-10 md:gap-12 lg:gap-16 xl:gap-20 2xl:gap-24 items-start lg:items-center",children:[I.jsxs("div",{className:"flex flex-col justify-start w-full lg:w-auto order-2 lg:order-1 z-10",style:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"flex-start",padding:"0px",width:"clamp(400px, 60vw, 757.63px)",height:"clamp(600px, 80vh, 1023.77px)",transform:"rotate(0.08deg)",flex:"none",order:0,flexGrow:1},children:[I.jsxs("p",{className:"font-normal mb-3 sm:mb-4 lg:mb-5 xl:mb-6 flex items-center gap-2",style:{fontFamily:"Inter, sans-serif",fontSize:"clamp(16px, 4vw, 20px)",color:"#092646"},children:[I.jsx("img",{src:aR,alt:"Icon",className:"w-4 h-4 sm:w-5 sm:h-5 lg:w-6 lg:h-6"}),"Features"]}),I.jsxs("h1",{className:"leading-tight font-bold text-[#1966BB]",style:{fontFamily:"EB Garamond, serif",fontSize:"clamp(24px, 5.5vw, 87px)",lineHeight:"clamp(28px, 6vw, 90px)",margin:0,padding:0,marginBottom:"1cm"},children:[I.jsx("span",{className:"block",children:"All in"}),I.jsx("span",{className:"block",children:"One Place"})]}),I.jsx("ul",{className:"space-y-1 sm:space-y-1.5 md:space-y-2 lg:space-y-2.5 xl:space-y-3 2xl:space-y-4",onMouseEnter:_,onMouseLeave:S,style:{cursor:"default",marginBottom:"clamp(0.3cm, 1vh, 0.8cm)",width:"clamp(300px, 90%, 600px)"},children:f.map((w,E)=>{const b=E===e,R=w.icon;return I.jsxs("li",{"data-active":b,onMouseEnter:()=>t(E),style:{boxSizing:"border-box",display:"flex",flexDirection:"row",justifyContent:"flex-start",alignItems:"center",padding:"clamp(12px, 1.5vw, 24px) clamp(10px, 1.2vw, 18px)",gap:"clamp(8px, 1vw, 18px)",width:b?"fit-content":"100%",minHeight:"clamp(50px, 5vh, 90px)",background:b?"#FFFFFF":"transparent",border:b?"1px solid rgba(22, 93, 172, 0.19)":"none",borderRadius:"clamp(8px, 1.2vw, 18px)",boxShadow:b?"0px 2px 8px rgba(25, 102, 187, 0.1)":"none",flex:"none",order:b?0:1,flexGrow:0,transition:b?"all 0.3s ease":"none",position:"relative",zIndex:b?10:1},children:[w.customIcon?I.jsx("img",{src:w.customIcon,alt:w.title,className:"flex-shrink-0",style:{width:"clamp(16px, 2vw, 32px)",height:"clamp(16px, 2vw, 32px)"}}):I.jsx(R,{className:"text-xl sm:text-2xl lg:text-3xl xl:text-4xl flex-shrink-0 text-[#1966BB]"}),I.jsxs("div",{className:"min-w-0 flex-1",children:[I.jsx("h6",{style:{fontFamily:"Inter",fontWeight:500,fontStyle:"normal",fontSize:"clamp(12px, 1.3vw, 18px)",lineHeight:"100%",letterSpacing:"0%",color:"#1966BB",margin:0},children:w.title}),I.jsx("p",{style:{fontFamily:"Inter",fontWeight:400,fontStyle:"normal",fontSize:"clamp(10px, 1vw, 14px)",lineHeight:"100%",letterSpacing:"0%",color:"#989898",margin:0,marginTop:"clamp(4px, 0.8vw, 10px)"},children:w.description})]})]},E)})})]}),I.jsx("div",{className:"relative w-full flex items-center justify-center lg:justify-end perspective-[1200px] order-1 lg:order-2 mt-20 lg:mt-0",style:{willChange:"transform, opacity",backfaceVisibility:"hidden",transformStyle:"preserve-3d"},ref:i,children:f.map((w,E)=>I.jsx("div",{className:"absolute w-[14rem] sm:w-[18rem] md:w-[20rem] lg:w-[28rem] xl:w-[36rem] 2xl:w-[42rem] flex flex-col items-center justify-center scale-90 sm:scale-100 md:scale-110 lg:scale-150 xl:scale-200 2xl:scale-250",children:I.jsx("img",{src:w.image,alt:w.title,className:"w-full h-full object-contain",loading:"eager",decoding:"sync",fetchPriority:"high",style:{willChange:"transform, opacity"}})},E))})]})})})},gae=()=>{const i=typeof navigator<"u"&&/safari/i.test(navigator.userAgent)&&!/chrome|crios|fxios|android/i.test(navigator.userAgent);return I.jsx("div",{className:"h-screen bg-gray-900 relative",style:{WebkitTransform:"translateZ(0)",transform:"translateZ(0)",WebkitBackfaceVisibility:"hidden",backfaceVisibility:"hidden"},children:I.jsx("section",{className:"h-full flex items-center justify-center px-0",style:{WebkitTransform:"translateZ(0)",transform:"translateZ(0)",WebkitBackfaceVisibility:"hidden",backfaceVisibility:"hidden"},children:I.jsx("div",{className:"w-full h-full relative",style:{WebkitTransform:"translateZ(0)",transform:"translateZ(0)",WebkitBackfaceVisibility:"hidden",backfaceVisibility:"hidden"},children:I.jsxs("div",{className:"safe-secure-container flex flex-col items-center justify-center text-center",style:{width:"100%",height:"100%",background:"#000000",padding:"2rem 1rem",gap:"2rem",WebkitTransform:"translateZ(0)",transform:"translateZ(0)",WebkitBackfaceVisibility:"hidden",backfaceVisibility:"hidden"},children:[I.jsx("h1",{className:"safe-secure-title",style:{fontSize:"clamp(48px, 12vw, 85px)",color:"#FFFFFF",fontWeight:"700",fontFamily:"EB Garamond, serif",lineHeight:"100%",textAlign:"center",marginBottom:"2rem",maxWidth:"90vw",overflow:"hidden",wordWrap:"break-word",padding:"0 1rem",WebkitFontSmoothing:"antialiased",MozOsxFontSmoothing:"grayscale",WebkitTextStroke:"0.01em transparent",WebkitTransform:"translateZ(0)",transform:"translateZ(0)",WebkitBackfaceVisibility:"hidden",backfaceVisibility:"hidden"},children:"Safe & Secure"}),I.jsx("p",{className:"safe-secure-description",style:{fontSize:"clamp(14px, 4vw, 16px)",color:"#FFFFFF8C",fontWeight:"400",fontFamily:"Inter, sans-serif",lineHeight:"1.6",textAlign:"center",maxWidth:"35ch",marginBottom:"2rem",WebkitFontSmoothing:"antialiased",MozOsxFontSmoothing:"grayscale",WebkitTextStroke:"0.01em transparent",WebkitTransform:"translateZ(0)",transform:"translateZ(0)",WebkitBackfaceVisibility:"hidden",backfaceVisibility:"hidden"},children:"At BaFT, we know trust isn't built in a day. That's why every payment, every detail, and every account is protected with care. No hidden risks. Just the security you deserve while managing your money."}),I.jsx("div",{className:"safe-secure-logo",children:I.jsx("div",{className:"security-logo-wrapper",style:{width:i?"300.5002899169922px":"100%",height:i?"300.5002899169922px":"100%",aspectRatio:i?"1 / 1":void 0,display:"flex",justifyContent:"center",alignItems:"center",flexShrink:i?0:void 0,flexGrow:i?0:void 0,boxSizing:i?"content-box":void 0,transform:i?"none":"scale(1.5)",WebkitTransform:i?"none":"scale(1.5)",transformOrigin:"center center",WebkitTransformOrigin:"center center",overflow:"hidden",borderRadius:i?"50%":void 0,margin:i?"0 auto":void 0,WebkitMaskImage:i?"radial-gradient(circle, #000 99.9%, transparent 100%)":void 0,maskImage:i?"radial-gradient(circle, #000 99.9%, transparent 100%)":void 0,opacity:i?1:void 0},children:I.jsx("img",{src:sU,alt:"Security Badge",className:"security-logo-svg",style:{width:"100%",height:i?"110%":"auto",position:"relative",display:"block",objectFit:i?"cover":"contain",transform:i?"none":"scale(1.10004)",WebkitTransform:i?"none":"scale(1.10004)",transformOrigin:"center",WebkitTransformOrigin:"center",imageRendering:"auto",WebkitImageRendering:"auto"}})})})]})})})})},vae=()=>{const[t,n]=H.useState({x:0,y:0,s:1.10004}),[r,a]=H.useState(!1),s=8,l=g=>{try{const v=g.currentTarget.getBoundingClientRect(),_=(g.clientX-v.left)/v.width,S=(g.clientY-v.top)/v.height,w=(_-.5)*2,E=(S-.5)*2,b=Math.max(-1,Math.min(1,w)),R=Math.max(-1,Math.min(1,E)),N=1.10004+.08*(1-Math.min(1,Math.sqrt(b*b+R*R)));n({x:b*s,y:R*s,s:N}),a(!0)}catch{}},u=()=>{n({x:0,y:0,s:1.10004}),a(!1)},f=g=>{try{const v=g.touches&&g.touches[0];if(!v)return;const _=g.currentTarget.getBoundingClientRect(),S=(v.clientX-_.left)/_.width,w=(v.clientY-_.top)/_.height,E=(S-.5)*2,b=(w-.5)*2,R=Math.max(-1,Math.min(1,E)),C=Math.max(-1,Math.min(1,b)),L=1.10004+.08*(1-Math.min(1,Math.sqrt(R*R+C*C)));n({x:R*s,y:C*s,s:L})}catch{}},p=()=>u();return I.jsx("div",{className:"h-screen bg-white","data-theme":"light",children:I.jsx("section",{className:"h-screen flex items-center justify-center px-3 lg:px-16",children:I.jsx("div",{className:"w-full max-w-7xl",children:I.jsx("div",{className:"safe-secure-container",children:I.jsxs("div",{className:"safe-secure-content",children:[I.jsxs("div",{className:"safe-secure-text",children:[I.jsx("h2",{className:"safe-secure-title",children:"Safe & Secure"}),I.jsx("p",{className:"safe-secure-description",children:"At BaFT, we know trust isn't built in a day. That's why every payment, every detail, and every account is protected with care. No hidden risks. Just the security you deserve while managing your money."})]}),I.jsx("div",{className:"safe-secure-logo",children:I.jsx("div",{className:`security-logo-wrapper ${r?"hovering":""}`,style:{width:"100%",height:"100%",display:"flex",justifyContent:"center",alignItems:"center",transform:"scale(1.5)",transformOrigin:"center center",perspective:"800px",cursor:"pointer",overflow:r?"visible":"hidden"},onMouseMove:l,onMouseLeave:u,onTouchMove:f,onTouchEnd:p,children:I.jsx("div",{className:"image-container",style:{overflow:r?"visible":"hidden",transition:"overflow 200ms ease-out"},children:I.jsx("img",{src:sU,alt:"Security Badge",className:"security-logo-svg",style:{width:"100%",height:"auto",position:"relative",display:"block",transform:`scale(${t.s.toFixed(5)}) rotateX(${(-t.y).toFixed(2)}deg) rotateY(${t.x.toFixed(2)}deg)`,transformOrigin:"center",transition:"transform 200ms ease",willChange:"transform"}})})})})]})})})})})},yae=()=>{const[i,e]=H.useState(!1);return H.useEffect(()=>{const t=window.matchMedia("(max-width: 768px)"),n=()=>e(t.matches);return n(),t.addEventListener("change",n),()=>t.removeEventListener("change",n)},[]),i?I.jsx(gae,{}):I.jsx(vae,{})};/*!
 * Font Awesome Free 7.0.0 by @fontawesome - https://fontawesome.com
 * License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License)
 * Copyright 2025 Fonticons, Inc.
 */function OC(i,e){(e==null||e>i.length)&&(e=i.length);for(var t=0,n=Array(e);t<e;t++)n[t]=i[t];return n}function _ae(i){if(Array.isArray(i))return i}function xae(i){if(Array.isArray(i))return OC(i)}function bae(i,e){if(!(i instanceof e))throw new TypeError("Cannot call a class as a function")}function Sae(i,e){for(var t=0;t<e.length;t++){var n=e[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(i,Xk(n.key),n)}}function wae(i,e,t){return e&&Sae(i.prototype,e),Object.defineProperty(i,"prototype",{writable:!1}),i}function RS(i,e){var t=typeof Symbol<"u"&&i[Symbol.iterator]||i["@@iterator"];if(!t){if(Array.isArray(i)||(t=fD(i))||e){t&&(i=t);var n=0,r=function(){};return{s:r,n:function(){return n>=i.length?{done:!0}:{done:!1,value:i[n++]}},e:function(u){throw u},f:r}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var a,s=!0,l=!1;return{s:function(){t=t.call(i)},n:function(){var u=t.next();return s=u.done,u},e:function(u){l=!0,a=u},f:function(){try{s||t.return==null||t.return()}finally{if(l)throw a}}}}function Jn(i,e,t){return(e=Xk(e))in i?Object.defineProperty(i,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):i[e]=t,i}function Eae(i){if(typeof Symbol<"u"&&i[Symbol.iterator]!=null||i["@@iterator"]!=null)return Array.from(i)}function Mae(i,e){var t=i==null?null:typeof Symbol<"u"&&i[Symbol.iterator]||i["@@iterator"];if(t!=null){var n,r,a,s,l=[],u=!0,f=!1;try{if(a=(t=t.call(i)).next,e===0){if(Object(t)!==t)return;u=!1}else for(;!(u=(n=a.call(t)).done)&&(l.push(n.value),l.length!==e);u=!0);}catch(p){f=!0,r=p}finally{try{if(!u&&t.return!=null&&(s=t.return(),Object(s)!==s))return}finally{if(f)throw r}}return l}}function Tae(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Aae(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function kL(i,e){var t=Object.keys(i);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(i);e&&(n=n.filter(function(r){return Object.getOwnPropertyDescriptor(i,r).enumerable})),t.push.apply(t,n)}return t}function Tt(i){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?kL(Object(t),!0).forEach(function(n){Jn(i,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(t)):kL(Object(t)).forEach(function(n){Object.defineProperty(i,n,Object.getOwnPropertyDescriptor(t,n))})}return i}function XE(i,e){return _ae(i)||Mae(i,e)||fD(i,e)||Tae()}function kl(i){return xae(i)||Eae(i)||fD(i)||Aae()}function Cae(i,e){if(typeof i!="object"||!i)return i;var t=i[Symbol.toPrimitive];if(t!==void 0){var n=t.call(i,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(i)}function Xk(i){var e=Cae(i,"string");return typeof e=="symbol"?e:e+""}function qw(i){"@babel/helpers - typeof";return qw=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qw(i)}function fD(i,e){if(i){if(typeof i=="string")return OC(i,e);var t={}.toString.call(i).slice(8,-1);return t==="Object"&&i.constructor&&(t=i.constructor.name),t==="Map"||t==="Set"?Array.from(i):t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?OC(i,e):void 0}}var FL=function(){},hD={},qk={},Yk=null,Zk={mark:FL,measure:FL};try{typeof window<"u"&&(hD=window),typeof document<"u"&&(qk=document),typeof MutationObserver<"u"&&(Yk=MutationObserver),typeof performance<"u"&&(Zk=performance)}catch{}var Rae=hD.navigator||{},HL=Rae.userAgent,VL=HL===void 0?"":HL,bh=hD,Hi=qk,jL=Yk,oS=Zk;bh.document;var qu=!!Hi.documentElement&&!!Hi.head&&typeof Hi.addEventListener=="function"&&typeof Hi.createElement=="function",Kk=~VL.indexOf("MSIE")||~VL.indexOf("Trident/"),IT,Dae=/fa(k|kd|s|r|l|t|d|dr|dl|dt|b|slr|slpr|wsb|tl|ns|nds|es|jr|jfr|jdr|cr|ss|sr|sl|st|sds|sdr|sdl|sdt)?[\-\ ]/,Oae=/Font ?Awesome ?([567 ]*)(Solid|Regular|Light|Thin|Duotone|Brands|Free|Pro|Sharp Duotone|Sharp|Kit|Notdog Duo|Notdog|Chisel|Etch|Thumbprint|Jelly Fill|Jelly Duo|Jelly|Slab Press|Slab|Whiteboard)?.*/i,$k={classic:{fa:"solid",fas:"solid","fa-solid":"solid",far:"regular","fa-regular":"regular",fal:"light","fa-light":"light",fat:"thin","fa-thin":"thin",fab:"brands","fa-brands":"brands"},duotone:{fa:"solid",fad:"solid","fa-solid":"solid","fa-duotone":"solid",fadr:"regular","fa-regular":"regular",fadl:"light","fa-light":"light",fadt:"thin","fa-thin":"thin"},sharp:{fa:"solid",fass:"solid","fa-solid":"solid",fasr:"regular","fa-regular":"regular",fasl:"light","fa-light":"light",fast:"thin","fa-thin":"thin"},"sharp-duotone":{fa:"solid",fasds:"solid","fa-solid":"solid",fasdr:"regular","fa-regular":"regular",fasdl:"light","fa-light":"light",fasdt:"thin","fa-thin":"thin"},slab:{"fa-regular":"regular",faslr:"regular"},"slab-press":{"fa-regular":"regular",faslpr:"regular"},thumbprint:{"fa-light":"light",fatl:"light"},whiteboard:{"fa-semibold":"semibold",fawsb:"semibold"},notdog:{"fa-solid":"solid",fans:"solid"},"notdog-duo":{"fa-solid":"solid",fands:"solid"},etch:{"fa-solid":"solid",faes:"solid"},jelly:{"fa-regular":"regular",fajr:"regular"},"jelly-fill":{"fa-regular":"regular",fajfr:"regular"},"jelly-duo":{"fa-regular":"regular",fajdr:"regular"},chisel:{"fa-regular":"regular",facr:"regular"}},Nae={GROUP:"duotone-group",PRIMARY:"primary",SECONDARY:"secondary"},Jk=["fa-classic","fa-duotone","fa-sharp","fa-sharp-duotone","fa-thumbprint","fa-whiteboard","fa-notdog","fa-notdog-duo","fa-chisel","fa-etch","fa-jelly","fa-jelly-fill","fa-jelly-duo","fa-slab","fa-slab-press"],Ha="classic",hx="duotone",Qk="sharp",e8="sharp-duotone",t8="chisel",n8="etch",i8="jelly",r8="jelly-duo",a8="jelly-fill",s8="notdog",o8="notdog-duo",l8="slab",c8="slab-press",u8="thumbprint",f8="whiteboard",Pae="Classic",Lae="Duotone",Uae="Sharp",Iae="Sharp Duotone",Bae="Chisel",zae="Etch",kae="Jelly",Fae="Jelly Duo",Hae="Jelly Fill",Vae="Notdog",jae="Notdog Duo",Gae="Slab",Wae="Slab Press",Xae="Thumbprint",qae="Whiteboard",h8=[Ha,hx,Qk,e8,t8,n8,i8,r8,a8,s8,o8,l8,c8,u8,f8];IT={},Jn(Jn(Jn(Jn(Jn(Jn(Jn(Jn(Jn(Jn(IT,Ha,Pae),hx,Lae),Qk,Uae),e8,Iae),t8,Bae),n8,zae),i8,kae),r8,Fae),a8,Hae),s8,Vae),Jn(Jn(Jn(Jn(Jn(IT,o8,jae),l8,Gae),c8,Wae),u8,Xae),f8,qae);var Yae={classic:{900:"fas",400:"far",normal:"far",300:"fal",100:"fat"},duotone:{900:"fad",400:"fadr",300:"fadl",100:"fadt"},sharp:{900:"fass",400:"fasr",300:"fasl",100:"fast"},"sharp-duotone":{900:"fasds",400:"fasdr",300:"fasdl",100:"fasdt"},slab:{400:"faslr"},"slab-press":{400:"faslpr"},whiteboard:{600:"fawsb"},thumbprint:{300:"fatl"},notdog:{900:"fans"},"notdog-duo":{900:"fands"},etch:{900:"faes"},chisel:{400:"facr"},jelly:{400:"fajr"},"jelly-fill":{400:"fajfr"},"jelly-duo":{400:"fajdr"}},Zae={"Font Awesome 7 Free":{900:"fas",400:"far"},"Font Awesome 7 Pro":{900:"fas",400:"far",normal:"far",300:"fal",100:"fat"},"Font Awesome 7 Brands":{400:"fab",normal:"fab"},"Font Awesome 7 Duotone":{900:"fad",400:"fadr",normal:"fadr",300:"fadl",100:"fadt"},"Font Awesome 7 Sharp":{900:"fass",400:"fasr",normal:"fasr",300:"fasl",100:"fast"},"Font Awesome 7 Sharp Duotone":{900:"fasds",400:"fasdr",normal:"fasdr",300:"fasdl",100:"fasdt"},"Font Awesome 7 Jelly":{400:"fajr",normal:"fajr"},"Font Awesome 7 Jelly Fill":{400:"fajfr",normal:"fajfr"},"Font Awesome 7 Jelly Duo":{400:"fajdr",normal:"fajdr"},"Font Awesome 7 Slab":{400:"faslr",normal:"faslr"},"Font Awesome 7 Slab Press":{400:"faslpr",normal:"faslpr"},"Font Awesome 7 Thumbprint":{300:"fatl",normal:"fatl"},"Font Awesome 7 Notdog":{900:"fans",normal:"fans"},"Font Awesome 7 Notdog Duo":{900:"fands",normal:"fands"},"Font Awesome 7 Etch":{900:"faes",normal:"faes"},"Font Awesome 7 Chisel":{400:"facr",normal:"facr"},"Font Awesome 7 Whiteboard":{600:"fawsb",normal:"fawsb"}},Kae=new Map([["classic",{defaultShortPrefixId:"fas",defaultStyleId:"solid",styleIds:["solid","regular","light","thin","brands"],futureStyleIds:[],defaultFontWeight:900}],["duotone",{defaultShortPrefixId:"fad",defaultStyleId:"solid",styleIds:["solid","regular","light","thin"],futureStyleIds:[],defaultFontWeight:900}],["sharp",{defaultShortPrefixId:"fass",defaultStyleId:"solid",styleIds:["solid","regular","light","thin"],futureStyleIds:[],defaultFontWeight:900}],["sharp-duotone",{defaultShortPrefixId:"fasds",defaultStyleId:"solid",styleIds:["solid","regular","light","thin"],futureStyleIds:[],defaultFontWeight:900}],["chisel",{defaultShortPrefixId:"facr",defaultStyleId:"regular",styleIds:["regular"],futureStyleIds:[],defaultFontWeight:400}],["etch",{defaultShortPrefixId:"faes",defaultStyleId:"solid",styleIds:["solid"],futureStyleIds:[],defaultFontWeight:900}],["jelly",{defaultShortPrefixId:"fajr",defaultStyleId:"regular",styleIds:["regular"],futureStyleIds:[],defaultFontWeight:400}],["jelly-duo",{defaultShortPrefixId:"fajdr",defaultStyleId:"regular",styleIds:["regular"],futureStyleIds:[],defaultFontWeight:400}],["jelly-fill",{defaultShortPrefixId:"fajfr",defaultStyleId:"regular",styleIds:["regular"],futureStyleIds:[],defaultFontWeight:400}],["notdog",{defaultShortPrefixId:"fans",defaultStyleId:"solid",styleIds:["solid"],futureStyleIds:[],defaultFontWeight:900}],["notdog-duo",{defaultShortPrefixId:"fands",defaultStyleId:"solid",styleIds:["solid"],futureStyleIds:[],defaultFontWeight:900}],["slab",{defaultShortPrefixId:"faslr",defaultStyleId:"regular",styleIds:["regular"],futureStyleIds:[],defaultFontWeight:400}],["slab-press",{defaultShortPrefixId:"faslpr",defaultStyleId:"regular",styleIds:["regular"],futureStyleIds:[],defaultFontWeight:400}],["thumbprint",{defaultShortPrefixId:"fatl",defaultStyleId:"light",styleIds:["light"],futureStyleIds:[],defaultFontWeight:300}],["whiteboard",{defaultShortPrefixId:"fawsb",defaultStyleId:"semibold",styleIds:["semibold"],futureStyleIds:[],defaultFontWeight:600}]]),$ae={chisel:{regular:"facr"},classic:{brands:"fab",light:"fal",regular:"far",solid:"fas",thin:"fat"},duotone:{light:"fadl",regular:"fadr",solid:"fad",thin:"fadt"},etch:{solid:"faes"},jelly:{regular:"fajr"},"jelly-duo":{regular:"fajdr"},"jelly-fill":{regular:"fajfr"},notdog:{solid:"fans"},"notdog-duo":{solid:"fands"},sharp:{light:"fasl",regular:"fasr",solid:"fass",thin:"fast"},"sharp-duotone":{light:"fasdl",regular:"fasdr",solid:"fasds",thin:"fasdt"},slab:{regular:"faslr"},"slab-press":{regular:"faslpr"},thumbprint:{light:"fatl"},whiteboard:{semibold:"fawsb"}},d8=["fak","fa-kit","fakd","fa-kit-duotone"],GL={kit:{fak:"kit","fa-kit":"kit"},"kit-duotone":{fakd:"kit-duotone","fa-kit-duotone":"kit-duotone"}},Jae=["kit"],Qae="kit",ese="kit-duotone",tse="Kit",nse="Kit Duotone";Jn(Jn({},Qae,tse),ese,nse);var ise={kit:{"fa-kit":"fak"}},rse={"Font Awesome Kit":{400:"fak",normal:"fak"},"Font Awesome Kit Duotone":{400:"fakd",normal:"fakd"}},ase={kit:{fak:"fa-kit"}},WL={kit:{kit:"fak"},"kit-duotone":{"kit-duotone":"fakd"}},BT,lS={GROUP:"duotone-group",SWAP_OPACITY:"swap-opacity",PRIMARY:"primary",SECONDARY:"secondary"},sse=["fa-classic","fa-duotone","fa-sharp","fa-sharp-duotone","fa-thumbprint","fa-whiteboard","fa-notdog","fa-notdog-duo","fa-chisel","fa-etch","fa-jelly","fa-jelly-fill","fa-jelly-duo","fa-slab","fa-slab-press"],ose="classic",lse="duotone",cse="sharp",use="sharp-duotone",fse="chisel",hse="etch",dse="jelly",pse="jelly-duo",mse="jelly-fill",gse="notdog",vse="notdog-duo",yse="slab",_se="slab-press",xse="thumbprint",bse="whiteboard",Sse="Classic",wse="Duotone",Ese="Sharp",Mse="Sharp Duotone",Tse="Chisel",Ase="Etch",Cse="Jelly",Rse="Jelly Duo",Dse="Jelly Fill",Ose="Notdog",Nse="Notdog Duo",Pse="Slab",Lse="Slab Press",Use="Thumbprint",Ise="Whiteboard";BT={},Jn(Jn(Jn(Jn(Jn(Jn(Jn(Jn(Jn(Jn(BT,ose,Sse),lse,wse),cse,Ese),use,Mse),fse,Tse),hse,Ase),dse,Cse),pse,Rse),mse,Dse),gse,Ose),Jn(Jn(Jn(Jn(Jn(BT,vse,Nse),yse,Pse),_se,Lse),xse,Use),bse,Ise);var Bse="kit",zse="kit-duotone",kse="Kit",Fse="Kit Duotone";Jn(Jn({},Bse,kse),zse,Fse);var Hse={classic:{"fa-brands":"fab","fa-duotone":"fad","fa-light":"fal","fa-regular":"far","fa-solid":"fas","fa-thin":"fat"},duotone:{"fa-regular":"fadr","fa-light":"fadl","fa-thin":"fadt"},sharp:{"fa-solid":"fass","fa-regular":"fasr","fa-light":"fasl","fa-thin":"fast"},"sharp-duotone":{"fa-solid":"fasds","fa-regular":"fasdr","fa-light":"fasdl","fa-thin":"fasdt"},slab:{"fa-regular":"faslr"},"slab-press":{"fa-regular":"faslpr"},whiteboard:{"fa-semibold":"fawsb"},thumbprint:{"fa-light":"fatl"},notdog:{"fa-solid":"fans"},"notdog-duo":{"fa-solid":"fands"},etch:{"fa-solid":"faes"},jelly:{"fa-regular":"fajr"},"jelly-fill":{"fa-regular":"fajfr"},"jelly-duo":{"fa-regular":"fajdr"},chisel:{"fa-regular":"facr"}},Vse={classic:["fas","far","fal","fat","fad"],duotone:["fadr","fadl","fadt"],sharp:["fass","fasr","fasl","fast"],"sharp-duotone":["fasds","fasdr","fasdl","fasdt"],slab:["faslr"],"slab-press":["faslpr"],whiteboard:["fawsb"],thumbprint:["fatl"],notdog:["fans"],"notdog-duo":["fands"],etch:["faes"],jelly:["fajr"],"jelly-fill":["fajfr"],"jelly-duo":["fajdr"],chisel:["facr"]},NC={classic:{fab:"fa-brands",fad:"fa-duotone",fal:"fa-light",far:"fa-regular",fas:"fa-solid",fat:"fa-thin"},duotone:{fadr:"fa-regular",fadl:"fa-light",fadt:"fa-thin"},sharp:{fass:"fa-solid",fasr:"fa-regular",fasl:"fa-light",fast:"fa-thin"},"sharp-duotone":{fasds:"fa-solid",fasdr:"fa-regular",fasdl:"fa-light",fasdt:"fa-thin"},slab:{faslr:"fa-regular"},"slab-press":{faslpr:"fa-regular"},whiteboard:{fawsb:"fa-semibold"},thumbprint:{fatl:"fa-light"},notdog:{fans:"fa-solid"},"notdog-duo":{fands:"fa-solid"},etch:{faes:"fa-solid"},jelly:{fajr:"fa-regular"},"jelly-fill":{fajfr:"fa-regular"},"jelly-duo":{fajdr:"fa-regular"},chisel:{facr:"fa-regular"}},jse=["fa-solid","fa-regular","fa-light","fa-thin","fa-duotone","fa-brands","fa-semibold"],p8=["fa","fas","far","fal","fat","fad","fadr","fadl","fadt","fab","fass","fasr","fasl","fast","fasds","fasdr","fasdl","fasdt","faslr","faslpr","fawsb","fatl","fans","fands","faes","fajr","fajfr","fajdr","facr"].concat(sse,jse),Gse=["solid","regular","light","thin","duotone","brands","semibold"],m8=[1,2,3,4,5,6,7,8,9,10],Wse=m8.concat([11,12,13,14,15,16,17,18,19,20]),Xse=["aw","fw","pull-left","pull-right"],qse=[].concat(kl(Object.keys(Vse)),Gse,Xse,["2xs","xs","sm","lg","xl","2xl","beat","border","fade","beat-fade","bounce","flip-both","flip-horizontal","flip-vertical","flip","inverse","layers","layers-bottom-left","layers-bottom-right","layers-counter","layers-text","layers-top-left","layers-top-right","li","pull-end","pull-start","pulse","rotate-180","rotate-270","rotate-90","rotate-by","shake","spin-pulse","spin-reverse","spin","stack-1x","stack-2x","stack","ul","width-auto","width-fixed",lS.GROUP,lS.SWAP_OPACITY,lS.PRIMARY,lS.SECONDARY]).concat(m8.map(function(i){return"".concat(i,"x")})).concat(Wse.map(function(i){return"w-".concat(i)})),Yse={"Font Awesome 5 Free":{900:"fas",400:"far"},"Font Awesome 5 Pro":{900:"fas",400:"far",normal:"far",300:"fal"},"Font Awesome 5 Brands":{400:"fab",normal:"fab"},"Font Awesome 5 Duotone":{900:"fad"}},ju="___FONT_AWESOME___",PC=16,g8="fa",v8="svg-inline--fa",Tp="data-fa-i2svg",LC="data-fa-pseudo-element",Zse="data-fa-pseudo-element-pending",dD="data-prefix",pD="data-icon",XL="fontawesome-i2svg",Kse="async",$se=["HTML","HEAD","STYLE","SCRIPT"],y8=["::before","::after",":before",":after"],_8=(function(){try{return!0}catch{return!1}})();function dx(i){return new Proxy(i,{get:function(t,n){return n in t?t[n]:t[Ha]}})}var x8=Tt({},$k);x8[Ha]=Tt(Tt(Tt(Tt({},{"fa-duotone":"duotone"}),$k[Ha]),GL.kit),GL["kit-duotone"]);var Jse=dx(x8),UC=Tt({},$ae);UC[Ha]=Tt(Tt(Tt(Tt({},{duotone:"fad"}),UC[Ha]),WL.kit),WL["kit-duotone"]);var qL=dx(UC),IC=Tt({},NC);IC[Ha]=Tt(Tt({},IC[Ha]),ase.kit);var b8=dx(IC),BC=Tt({},Hse);BC[Ha]=Tt(Tt({},BC[Ha]),ise.kit);dx(BC);var Qse=Dae,S8="fa-layers-text",eoe=Oae,toe=Tt({},Yae);dx(toe);var noe=["class","data-prefix","data-icon","data-fa-transform","data-fa-mask"],zT=Nae,ioe=[].concat(kl(Jae),kl(qse)),i_=bh.FontAwesomeConfig||{};function roe(i){var e=Hi.querySelector("script["+i+"]");if(e)return e.getAttribute(i)}function aoe(i){return i===""?!0:i==="false"?!1:i==="true"?!0:i}if(Hi&&typeof Hi.querySelector=="function"){var soe=[["data-family-prefix","familyPrefix"],["data-css-prefix","cssPrefix"],["data-family-default","familyDefault"],["data-style-default","styleDefault"],["data-replacement-class","replacementClass"],["data-auto-replace-svg","autoReplaceSvg"],["data-auto-add-css","autoAddCss"],["data-search-pseudo-elements","searchPseudoElements"],["data-search-pseudo-elements-warnings","searchPseudoElementsWarnings"],["data-search-pseudo-elements-full-scan","searchPseudoElementsFullScan"],["data-observe-mutations","observeMutations"],["data-mutate-approach","mutateApproach"],["data-keep-original-source","keepOriginalSource"],["data-measure-performance","measurePerformance"],["data-show-missing-icons","showMissingIcons"]];soe.forEach(function(i){var e=XE(i,2),t=e[0],n=e[1],r=aoe(roe(t));r!=null&&(i_[n]=r)})}var w8={styleDefault:"solid",familyDefault:Ha,cssPrefix:g8,replacementClass:v8,autoReplaceSvg:!0,autoAddCss:!0,searchPseudoElements:!1,searchPseudoElementsWarnings:!0,searchPseudoElementsFullScan:!1,observeMutations:!0,mutateApproach:"async",keepOriginalSource:!0,measurePerformance:!1,showMissingIcons:!0};i_.familyPrefix&&(i_.cssPrefix=i_.familyPrefix);var gg=Tt(Tt({},w8),i_);gg.autoReplaceSvg||(gg.observeMutations=!1);var rn={};Object.keys(w8).forEach(function(i){Object.defineProperty(rn,i,{enumerable:!0,set:function(t){gg[i]=t,r_.forEach(function(n){return n(rn)})},get:function(){return gg[i]}})});Object.defineProperty(rn,"familyPrefix",{enumerable:!0,set:function(e){gg.cssPrefix=e,r_.forEach(function(t){return t(rn)})},get:function(){return gg.cssPrefix}});bh.FontAwesomeConfig=rn;var r_=[];function ooe(i){return r_.push(i),function(){r_.splice(r_.indexOf(i),1)}}var y0=PC,Lc={size:16,x:0,y:0,rotate:0,flipX:!1,flipY:!1};function loe(i){if(!(!i||!qu)){var e=Hi.createElement("style");e.setAttribute("type","text/css"),e.innerHTML=i;for(var t=Hi.head.childNodes,n=null,r=t.length-1;r>-1;r--){var a=t[r],s=(a.tagName||"").toUpperCase();["STYLE","LINK"].indexOf(s)>-1&&(n=a)}return Hi.head.insertBefore(e,n),i}}var coe="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";function YL(){for(var i=12,e="";i-- >0;)e+=coe[Math.random()*62|0];return e}function Og(i){for(var e=[],t=(i||[]).length>>>0;t--;)e[t]=i[t];return e}function mD(i){return i.classList?Og(i.classList):(i.getAttribute("class")||"").split(" ").filter(function(e){return e})}function E8(i){return"".concat(i).replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function uoe(i){return Object.keys(i||{}).reduce(function(e,t){return e+"".concat(t,'="').concat(E8(i[t]),'" ')},"").trim()}function qE(i){return Object.keys(i||{}).reduce(function(e,t){return e+"".concat(t,": ").concat(i[t].trim(),";")},"")}function gD(i){return i.size!==Lc.size||i.x!==Lc.x||i.y!==Lc.y||i.rotate!==Lc.rotate||i.flipX||i.flipY}function foe(i){var e=i.transform,t=i.containerWidth,n=i.iconWidth,r={transform:"translate(".concat(t/2," 256)")},a="translate(".concat(e.x*32,", ").concat(e.y*32,") "),s="scale(".concat(e.size/16*(e.flipX?-1:1),", ").concat(e.size/16*(e.flipY?-1:1),") "),l="rotate(".concat(e.rotate," 0 0)"),u={transform:"".concat(a," ").concat(s," ").concat(l)},f={transform:"translate(".concat(n/2*-1," -256)")};return{outer:r,inner:u,path:f}}function hoe(i){var e=i.transform,t=i.width,n=t===void 0?PC:t,r=i.height,a=r===void 0?PC:r,s="";return Kk?s+="translate(".concat(e.x/y0-n/2,"em, ").concat(e.y/y0-a/2,"em) "):s+="translate(calc(-50% + ".concat(e.x/y0,"em), calc(-50% + ").concat(e.y/y0,"em)) "),s+="scale(".concat(e.size/y0*(e.flipX?-1:1),", ").concat(e.size/y0*(e.flipY?-1:1),") "),s+="rotate(".concat(e.rotate,"deg) "),s}var doe=`:root, :host {
  --fa-font-solid: normal 900 1em/1 "Font Awesome 7 Free";
  --fa-font-regular: normal 400 1em/1 "Font Awesome 7 Free";
  --fa-font-light: normal 300 1em/1 "Font Awesome 7 Pro";
  --fa-font-thin: normal 100 1em/1 "Font Awesome 7 Pro";
  --fa-font-duotone: normal 900 1em/1 "Font Awesome 7 Duotone";
  --fa-font-duotone-regular: normal 400 1em/1 "Font Awesome 7 Duotone";
  --fa-font-duotone-light: normal 300 1em/1 "Font Awesome 7 Duotone";
  --fa-font-duotone-thin: normal 100 1em/1 "Font Awesome 7 Duotone";
  --fa-font-brands: normal 400 1em/1 "Font Awesome 7 Brands";
  --fa-font-sharp-solid: normal 900 1em/1 "Font Awesome 7 Sharp";
  --fa-font-sharp-regular: normal 400 1em/1 "Font Awesome 7 Sharp";
  --fa-font-sharp-light: normal 300 1em/1 "Font Awesome 7 Sharp";
  --fa-font-sharp-thin: normal 100 1em/1 "Font Awesome 7 Sharp";
  --fa-font-sharp-duotone-solid: normal 900 1em/1 "Font Awesome 7 Sharp Duotone";
  --fa-font-sharp-duotone-regular: normal 400 1em/1 "Font Awesome 7 Sharp Duotone";
  --fa-font-sharp-duotone-light: normal 300 1em/1 "Font Awesome 7 Sharp Duotone";
  --fa-font-sharp-duotone-thin: normal 100 1em/1 "Font Awesome 7 Sharp Duotone";
  --fa-font-slab-regular: normal 400 1em/1 "Font Awesome 7 Slab";
  --fa-font-slab-press-regular: normal 400 1em/1 "Font Awesome 7 Slab Press";
  --fa-font-whiteboard-semibold: normal 600 1em/1 "Font Awesome 7 Whiteboard";
  --fa-font-thumbprint-light: normal 300 1em/1 "Font Awesome 7 Thumbprint";
  --fa-font-notdog-solid: normal 900 1em/1 "Font Awesome 7 Notdog";
  --fa-font-notdog-duo-solid: normal 900 1em/1 "Font Awesome 7 Notdog Duo";
  --fa-font-etch-solid: normal 900 1em/1 "Font Awesome 7 Etch";
  --fa-font-jelly-regular: normal 400 1em/1 "Font Awesome 7 Jelly";
  --fa-font-jelly-fill-regular: normal 400 1em/1 "Font Awesome 7 Jelly Fill";
  --fa-font-jelly-duo-regular: normal 400 1em/1 "Font Awesome 7 Jelly Duo";
  --fa-font-chisel-regular: normal 400 1em/1 "Font Awesome 7 Chisel";
}

.svg-inline--fa {
  box-sizing: content-box;
  display: var(--fa-display, inline-block);
  height: 1em;
  overflow: visible;
  vertical-align: -0.125em;
  width: var(--fa-width, 1.25em);
}
.svg-inline--fa.fa-2xs {
  vertical-align: 0.1em;
}
.svg-inline--fa.fa-xs {
  vertical-align: 0em;
}
.svg-inline--fa.fa-sm {
  vertical-align: -0.0714285714em;
}
.svg-inline--fa.fa-lg {
  vertical-align: -0.2em;
}
.svg-inline--fa.fa-xl {
  vertical-align: -0.25em;
}
.svg-inline--fa.fa-2xl {
  vertical-align: -0.3125em;
}
.svg-inline--fa.fa-pull-left,
.svg-inline--fa .fa-pull-start {
  float: inline-start;
  margin-inline-end: var(--fa-pull-margin, 0.3em);
}
.svg-inline--fa.fa-pull-right,
.svg-inline--fa .fa-pull-end {
  float: inline-end;
  margin-inline-start: var(--fa-pull-margin, 0.3em);
}
.svg-inline--fa.fa-li {
  width: var(--fa-li-width, 2em);
  inset-inline-start: calc(-1 * var(--fa-li-width, 2em));
  inset-block-start: 0.25em; /* syncing vertical alignment with Web Font rendering */
}

.fa-layers-counter, .fa-layers-text {
  display: inline-block;
  position: absolute;
  text-align: center;
}

.fa-layers {
  display: inline-block;
  height: 1em;
  position: relative;
  text-align: center;
  vertical-align: -0.125em;
  width: var(--fa-width, 1.25em);
}
.fa-layers .svg-inline--fa {
  inset: 0;
  margin: auto;
  position: absolute;
  transform-origin: center center;
}

.fa-layers-text {
  left: 50%;
  top: 50%;
  transform: translate(-50%, -50%);
  transform-origin: center center;
}

.fa-layers-counter {
  background-color: var(--fa-counter-background-color, #ff253a);
  border-radius: var(--fa-counter-border-radius, 1em);
  box-sizing: border-box;
  color: var(--fa-inverse, #fff);
  line-height: var(--fa-counter-line-height, 1);
  max-width: var(--fa-counter-max-width, 5em);
  min-width: var(--fa-counter-min-width, 1.5em);
  overflow: hidden;
  padding: var(--fa-counter-padding, 0.25em 0.5em);
  right: var(--fa-right, 0);
  text-overflow: ellipsis;
  top: var(--fa-top, 0);
  transform: scale(var(--fa-counter-scale, 0.25));
  transform-origin: top right;
}

.fa-layers-bottom-right {
  bottom: var(--fa-bottom, 0);
  right: var(--fa-right, 0);
  top: auto;
  transform: scale(var(--fa-layers-scale, 0.25));
  transform-origin: bottom right;
}

.fa-layers-bottom-left {
  bottom: var(--fa-bottom, 0);
  left: var(--fa-left, 0);
  right: auto;
  top: auto;
  transform: scale(var(--fa-layers-scale, 0.25));
  transform-origin: bottom left;
}

.fa-layers-top-right {
  top: var(--fa-top, 0);
  right: var(--fa-right, 0);
  transform: scale(var(--fa-layers-scale, 0.25));
  transform-origin: top right;
}

.fa-layers-top-left {
  left: var(--fa-left, 0);
  right: auto;
  top: var(--fa-top, 0);
  transform: scale(var(--fa-layers-scale, 0.25));
  transform-origin: top left;
}

.fa-1x {
  font-size: 1em;
}

.fa-2x {
  font-size: 2em;
}

.fa-3x {
  font-size: 3em;
}

.fa-4x {
  font-size: 4em;
}

.fa-5x {
  font-size: 5em;
}

.fa-6x {
  font-size: 6em;
}

.fa-7x {
  font-size: 7em;
}

.fa-8x {
  font-size: 8em;
}

.fa-9x {
  font-size: 9em;
}

.fa-10x {
  font-size: 10em;
}

.fa-2xs {
  font-size: calc(10 / 16 * 1em); /* converts a 10px size into an em-based value that's relative to the scale's 16px base */
  line-height: calc(1 / 10 * 1em); /* sets the line-height of the icon back to that of it's parent */
  vertical-align: calc((6 / 10 - 0.375) * 1em); /* vertically centers the icon taking into account the surrounding text's descender */
}

.fa-xs {
  font-size: calc(12 / 16 * 1em); /* converts a 12px size into an em-based value that's relative to the scale's 16px base */
  line-height: calc(1 / 12 * 1em); /* sets the line-height of the icon back to that of it's parent */
  vertical-align: calc((6 / 12 - 0.375) * 1em); /* vertically centers the icon taking into account the surrounding text's descender */
}

.fa-sm {
  font-size: calc(14 / 16 * 1em); /* converts a 14px size into an em-based value that's relative to the scale's 16px base */
  line-height: calc(1 / 14 * 1em); /* sets the line-height of the icon back to that of it's parent */
  vertical-align: calc((6 / 14 - 0.375) * 1em); /* vertically centers the icon taking into account the surrounding text's descender */
}

.fa-lg {
  font-size: calc(20 / 16 * 1em); /* converts a 20px size into an em-based value that's relative to the scale's 16px base */
  line-height: calc(1 / 20 * 1em); /* sets the line-height of the icon back to that of it's parent */
  vertical-align: calc((6 / 20 - 0.375) * 1em); /* vertically centers the icon taking into account the surrounding text's descender */
}

.fa-xl {
  font-size: calc(24 / 16 * 1em); /* converts a 24px size into an em-based value that's relative to the scale's 16px base */
  line-height: calc(1 / 24 * 1em); /* sets the line-height of the icon back to that of it's parent */
  vertical-align: calc((6 / 24 - 0.375) * 1em); /* vertically centers the icon taking into account the surrounding text's descender */
}

.fa-2xl {
  font-size: calc(32 / 16 * 1em); /* converts a 32px size into an em-based value that's relative to the scale's 16px base */
  line-height: calc(1 / 32 * 1em); /* sets the line-height of the icon back to that of it's parent */
  vertical-align: calc((6 / 32 - 0.375) * 1em); /* vertically centers the icon taking into account the surrounding text's descender */
}

.fa-width-auto {
  --fa-width: auto;
}

.fa-fw,
.fa-width-fixed {
  --fa-width: 1.25em;
}

.fa-ul {
  list-style-type: none;
  margin-inline-start: var(--fa-li-margin, 2.5em);
  padding-inline-start: 0;
}
.fa-ul > li {
  position: relative;
}

.fa-li {
  inset-inline-start: calc(-1 * var(--fa-li-width, 2em));
  position: absolute;
  text-align: center;
  width: var(--fa-li-width, 2em);
  line-height: inherit;
}

/* Heads Up: Bordered Icons will not be supported in the future!
  - This feature will be deprecated in the next major release of Font Awesome (v8)!
  - You may continue to use it in this version *v7), but it will not be supported in Font Awesome v8.
*/
/* Notes:
* --@{v.$css-prefix}-border-width = 1/16 by default (to render as ~1px based on a 16px default font-size)
* --@{v.$css-prefix}-border-padding =
  ** 3/16 for vertical padding (to give ~2px of vertical whitespace around an icon considering it's vertical alignment)
  ** 4/16 for horizontal padding (to give ~4px of horizontal whitespace around an icon)
*/
.fa-border {
  border-color: var(--fa-border-color, #eee);
  border-radius: var(--fa-border-radius, 0.1em);
  border-style: var(--fa-border-style, solid);
  border-width: var(--fa-border-width, 0.0625em);
  box-sizing: var(--fa-border-box-sizing, content-box);
  padding: var(--fa-border-padding, 0.1875em 0.25em);
}

.fa-pull-left,
.fa-pull-start {
  float: inline-start;
  margin-inline-end: var(--fa-pull-margin, 0.3em);
}

.fa-pull-right,
.fa-pull-end {
  float: inline-end;
  margin-inline-start: var(--fa-pull-margin, 0.3em);
}

.fa-beat {
  animation-name: fa-beat;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, ease-in-out);
}

.fa-bounce {
  animation-name: fa-bounce;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.28, 0.84, 0.42, 1));
}

.fa-fade {
  animation-name: fa-fade;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));
}

.fa-beat-fade {
  animation-name: fa-beat-fade;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));
}

.fa-flip {
  animation-name: fa-flip;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, ease-in-out);
}

.fa-shake {
  animation-name: fa-shake;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, linear);
}

.fa-spin {
  animation-name: fa-spin;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 2s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, linear);
}

.fa-spin-reverse {
  --fa-animation-direction: reverse;
}

.fa-pulse,
.fa-spin-pulse {
  animation-name: fa-spin;
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, steps(8));
}

@media (prefers-reduced-motion: reduce) {
  .fa-beat,
  .fa-bounce,
  .fa-fade,
  .fa-beat-fade,
  .fa-flip,
  .fa-pulse,
  .fa-shake,
  .fa-spin,
  .fa-spin-pulse {
    animation: none !important;
    transition: none !important;
  }
}
@keyframes fa-beat {
  0%, 90% {
    transform: scale(1);
  }
  45% {
    transform: scale(var(--fa-beat-scale, 1.25));
  }
}
@keyframes fa-bounce {
  0% {
    transform: scale(1, 1) translateY(0);
  }
  10% {
    transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);
  }
  30% {
    transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));
  }
  50% {
    transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);
  }
  57% {
    transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));
  }
  64% {
    transform: scale(1, 1) translateY(0);
  }
  100% {
    transform: scale(1, 1) translateY(0);
  }
}
@keyframes fa-fade {
  50% {
    opacity: var(--fa-fade-opacity, 0.4);
  }
}
@keyframes fa-beat-fade {
  0%, 100% {
    opacity: var(--fa-beat-fade-opacity, 0.4);
    transform: scale(1);
  }
  50% {
    opacity: 1;
    transform: scale(var(--fa-beat-fade-scale, 1.125));
  }
}
@keyframes fa-flip {
  50% {
    transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));
  }
}
@keyframes fa-shake {
  0% {
    transform: rotate(-15deg);
  }
  4% {
    transform: rotate(15deg);
  }
  8%, 24% {
    transform: rotate(-18deg);
  }
  12%, 28% {
    transform: rotate(18deg);
  }
  16% {
    transform: rotate(-22deg);
  }
  20% {
    transform: rotate(22deg);
  }
  32% {
    transform: rotate(-12deg);
  }
  36% {
    transform: rotate(12deg);
  }
  40%, 100% {
    transform: rotate(0deg);
  }
}
@keyframes fa-spin {
  0% {
    transform: rotate(0deg);
  }
  100% {
    transform: rotate(360deg);
  }
}
.fa-rotate-90 {
  transform: rotate(90deg);
}

.fa-rotate-180 {
  transform: rotate(180deg);
}

.fa-rotate-270 {
  transform: rotate(270deg);
}

.fa-flip-horizontal {
  transform: scale(-1, 1);
}

.fa-flip-vertical {
  transform: scale(1, -1);
}

.fa-flip-both,
.fa-flip-horizontal.fa-flip-vertical {
  transform: scale(-1, -1);
}

.fa-rotate-by {
  transform: rotate(var(--fa-rotate-angle, 0));
}

.svg-inline--fa .fa-primary {
  fill: var(--fa-primary-color, currentColor);
  opacity: var(--fa-primary-opacity, 1);
}

.svg-inline--fa .fa-secondary {
  fill: var(--fa-secondary-color, currentColor);
  opacity: var(--fa-secondary-opacity, 0.4);
}

.svg-inline--fa.fa-swap-opacity .fa-primary {
  opacity: var(--fa-secondary-opacity, 0.4);
}

.svg-inline--fa.fa-swap-opacity .fa-secondary {
  opacity: var(--fa-primary-opacity, 1);
}

.svg-inline--fa mask .fa-primary,
.svg-inline--fa mask .fa-secondary {
  fill: black;
}

.svg-inline--fa.fa-inverse {
  fill: var(--fa-inverse, #fff);
}

.fa-stack {
  display: inline-block;
  height: 2em;
  line-height: 2em;
  position: relative;
  vertical-align: middle;
  width: 2.5em;
}

.fa-inverse {
  color: var(--fa-inverse, #fff);
}

.svg-inline--fa.fa-stack-1x {
  height: 1em;
  width: 1.25em;
}
.svg-inline--fa.fa-stack-2x {
  height: 2em;
  width: 2.5em;
}

.fa-stack-1x,
.fa-stack-2x {
  bottom: 0;
  left: 0;
  margin: auto;
  position: absolute;
  right: 0;
  top: 0;
  z-index: var(--fa-stack-z-index, auto);
}`;function M8(){var i=g8,e=v8,t=rn.cssPrefix,n=rn.replacementClass,r=doe;if(t!==i||n!==e){var a=new RegExp("\\.".concat(i,"\\-"),"g"),s=new RegExp("\\--".concat(i,"\\-"),"g"),l=new RegExp("\\.".concat(e),"g");r=r.replace(a,".".concat(t,"-")).replace(s,"--".concat(t,"-")).replace(l,".".concat(n))}return r}var ZL=!1;function kT(){rn.autoAddCss&&!ZL&&(loe(M8()),ZL=!0)}var poe={mixout:function(){return{dom:{css:M8,insertCss:kT}}},hooks:function(){return{beforeDOMElementCreation:function(){kT()},beforeI2svg:function(){kT()}}}},Gu=bh||{};Gu[ju]||(Gu[ju]={});Gu[ju].styles||(Gu[ju].styles={});Gu[ju].hooks||(Gu[ju].hooks={});Gu[ju].shims||(Gu[ju].shims=[]);var Il=Gu[ju],T8=[],A8=function(){Hi.removeEventListener("DOMContentLoaded",A8),Yw=1,T8.map(function(e){return e()})},Yw=!1;qu&&(Yw=(Hi.documentElement.doScroll?/^loaded|^c/:/^loaded|^i|^c/).test(Hi.readyState),Yw||Hi.addEventListener("DOMContentLoaded",A8));function moe(i){qu&&(Yw?setTimeout(i,0):T8.push(i))}function px(i){var e=i.tag,t=i.attributes,n=t===void 0?{}:t,r=i.children,a=r===void 0?[]:r;return typeof i=="string"?E8(i):"<".concat(e," ").concat(uoe(n),">").concat(a.map(px).join(""),"</").concat(e,">")}function KL(i,e,t){if(i&&i[e]&&i[e][t])return{prefix:e,iconName:t,icon:i[e][t]}}var FT=function(e,t,n,r){var a=Object.keys(e),s=a.length,l=t,u,f,p;for(n===void 0?(u=1,p=e[a[0]]):(u=0,p=n);u<s;u++)f=a[u],p=l(p,e[f],f,e);return p};function C8(i){return kl(i).length!==1?null:i.codePointAt(0).toString(16)}function $L(i){return Object.keys(i).reduce(function(e,t){var n=i[t],r=!!n.icon;return r?e[n.iconName]=n.icon:e[t]=n,e},{})}function R8(i,e){var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},n=t.skipHooks,r=n===void 0?!1:n,a=$L(e);typeof Il.hooks.addPack=="function"&&!r?Il.hooks.addPack(i,$L(e)):Il.styles[i]=Tt(Tt({},Il.styles[i]||{}),a),i==="fas"&&R8("fa",e)}var k_=Il.styles,goe=Il.shims,D8=Object.keys(b8),voe=D8.reduce(function(i,e){return i[e]=Object.keys(b8[e]),i},{}),vD=null,O8={},N8={},P8={},L8={},U8={};function yoe(i){return~ioe.indexOf(i)}function _oe(i,e){var t=e.split("-"),n=t[0],r=t.slice(1).join("-");return n===i&&r!==""&&!yoe(r)?r:null}var I8=function(){var e=function(a){return FT(k_,function(s,l,u){return s[u]=FT(l,a,{}),s},{})};O8=e(function(r,a,s){if(a[3]&&(r[a[3]]=s),a[2]){var l=a[2].filter(function(u){return typeof u=="number"});l.forEach(function(u){r[u.toString(16)]=s})}return r}),N8=e(function(r,a,s){if(r[s]=s,a[2]){var l=a[2].filter(function(u){return typeof u=="string"});l.forEach(function(u){r[u]=s})}return r}),U8=e(function(r,a,s){var l=a[2];return r[s]=s,l.forEach(function(u){r[u]=s}),r});var t="far"in k_||rn.autoFetchSvg,n=FT(goe,function(r,a){var s=a[0],l=a[1],u=a[2];return l==="far"&&!t&&(l="fas"),typeof s=="string"&&(r.names[s]={prefix:l,iconName:u}),typeof s=="number"&&(r.unicodes[s.toString(16)]={prefix:l,iconName:u}),r},{names:{},unicodes:{}});P8=n.names,L8=n.unicodes,vD=YE(rn.styleDefault,{family:rn.familyDefault})};ooe(function(i){vD=YE(i.styleDefault,{family:rn.familyDefault})});I8();function yD(i,e){return(O8[i]||{})[e]}function xoe(i,e){return(N8[i]||{})[e]}function ap(i,e){return(U8[i]||{})[e]}function B8(i){return P8[i]||{prefix:null,iconName:null}}function boe(i){var e=L8[i],t=yD("fas",i);return e||(t?{prefix:"fas",iconName:t}:null)||{prefix:null,iconName:null}}function Sh(){return vD}var z8=function(){return{prefix:null,iconName:null,rest:[]}};function Soe(i){var e=Ha,t=D8.reduce(function(n,r){return n[r]="".concat(rn.cssPrefix,"-").concat(r),n},{});return h8.forEach(function(n){(i.includes(t[n])||i.some(function(r){return voe[n].includes(r)}))&&(e=n)}),e}function YE(i){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},t=e.family,n=t===void 0?Ha:t,r=Jse[n][i];if(n===hx&&!i)return"fad";var a=qL[n][i]||qL[n][r],s=i in Il.styles?i:null,l=a||s||null;return l}function woe(i){var e=[],t=null;return i.forEach(function(n){var r=_oe(rn.cssPrefix,n);r?t=r:n&&e.push(n)}),{iconName:t,rest:e}}function JL(i){return i.sort().filter(function(e,t,n){return n.indexOf(e)===t})}var QL=p8.concat(d8);function ZE(i){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},t=e.skipLookups,n=t===void 0?!1:t,r=null,a=JL(i.filter(function(_){return QL.includes(_)})),s=JL(i.filter(function(_){return!QL.includes(_)})),l=a.filter(function(_){return r=_,!Jk.includes(_)}),u=XE(l,1),f=u[0],p=f===void 0?null:f,g=Soe(a),v=Tt(Tt({},woe(s)),{},{prefix:YE(p,{family:g})});return Tt(Tt(Tt({},v),Aoe({values:i,family:g,styles:k_,config:rn,canonical:v,givenPrefix:r})),Eoe(n,r,v))}function Eoe(i,e,t){var n=t.prefix,r=t.iconName;if(i||!n||!r)return{prefix:n,iconName:r};var a=e==="fa"?B8(r):{},s=ap(n,r);return r=a.iconName||s||r,n=a.prefix||n,n==="far"&&!k_.far&&k_.fas&&!rn.autoFetchSvg&&(n="fas"),{prefix:n,iconName:r}}var Moe=h8.filter(function(i){return i!==Ha||i!==hx}),Toe=Object.keys(NC).filter(function(i){return i!==Ha}).map(function(i){return Object.keys(NC[i])}).flat();function Aoe(i){var e=i.values,t=i.family,n=i.canonical,r=i.givenPrefix,a=r===void 0?"":r,s=i.styles,l=s===void 0?{}:s,u=i.config,f=u===void 0?{}:u,p=t===hx,g=e.includes("fa-duotone")||e.includes("fad"),v=f.familyDefault==="duotone",_=n.prefix==="fad"||n.prefix==="fa-duotone";if(!p&&(g||v||_)&&(n.prefix="fad"),(e.includes("fa-brands")||e.includes("fab"))&&(n.prefix="fab"),!n.prefix&&Moe.includes(t)){var S=Object.keys(l).find(function(E){return Toe.includes(E)});if(S||f.autoFetchSvg){var w=Kae.get(t).defaultShortPrefixId;n.prefix=w,n.iconName=ap(n.prefix,n.iconName)||n.iconName}}return(n.prefix==="fa"||a==="fa")&&(n.prefix=Sh()||"fas"),n}var Coe=(function(){function i(){bae(this,i),this.definitions={}}return wae(i,[{key:"add",value:function(){for(var t=this,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];var s=r.reduce(this._pullDefinitions,{});Object.keys(s).forEach(function(l){t.definitions[l]=Tt(Tt({},t.definitions[l]||{}),s[l]),R8(l,s[l]),I8()})}},{key:"reset",value:function(){this.definitions={}}},{key:"_pullDefinitions",value:function(t,n){var r=n.prefix&&n.iconName&&n.icon?{0:n}:n;return Object.keys(r).map(function(a){var s=r[a],l=s.prefix,u=s.iconName,f=s.icon,p=f[2];t[l]||(t[l]={}),p.length>0&&p.forEach(function(g){typeof g=="string"&&(t[l][g]=f)}),t[l][u]=f}),t}}])})(),e4=[],U0={},X0={},Roe=Object.keys(X0);function Doe(i,e){var t=e.mixoutsTo;return e4=i,U0={},Object.keys(X0).forEach(function(n){Roe.indexOf(n)===-1&&delete X0[n]}),e4.forEach(function(n){var r=n.mixout?n.mixout():{};if(Object.keys(r).forEach(function(s){typeof r[s]=="function"&&(t[s]=r[s]),qw(r[s])==="object"&&Object.keys(r[s]).forEach(function(l){t[s]||(t[s]={}),t[s][l]=r[s][l]})}),n.hooks){var a=n.hooks();Object.keys(a).forEach(function(s){U0[s]||(U0[s]=[]),U0[s].push(a[s])})}n.provides&&n.provides(X0)}),t}function zC(i,e){for(var t=arguments.length,n=new Array(t>2?t-2:0),r=2;r<t;r++)n[r-2]=arguments[r];var a=U0[i]||[];return a.forEach(function(s){e=s.apply(null,[e].concat(n))}),e}function Ap(i){for(var e=arguments.length,t=new Array(e>1?e-1:0),n=1;n<e;n++)t[n-1]=arguments[n];var r=U0[i]||[];r.forEach(function(a){a.apply(null,t)})}function wh(){var i=arguments[0],e=Array.prototype.slice.call(arguments,1);return X0[i]?X0[i].apply(null,e):void 0}function kC(i){i.prefix==="fa"&&(i.prefix="fas");var e=i.iconName,t=i.prefix||Sh();if(e)return e=ap(t,e)||e,KL(k8.definitions,t,e)||KL(Il.styles,t,e)}var k8=new Coe,Ooe=function(){rn.autoReplaceSvg=!1,rn.observeMutations=!1,Ap("noAuto")},Noe={i2svg:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return qu?(Ap("beforeI2svg",e),wh("pseudoElements2svg",e),wh("i2svg",e)):Promise.reject(new Error("Operation requires a DOM of some kind."))},watch:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=e.autoReplaceSvgRoot;rn.autoReplaceSvg===!1&&(rn.autoReplaceSvg=!0),rn.observeMutations=!0,moe(function(){Loe({autoReplaceSvgRoot:t}),Ap("watch",e)})}},Poe={icon:function(e){if(e===null)return null;if(qw(e)==="object"&&e.prefix&&e.iconName)return{prefix:e.prefix,iconName:ap(e.prefix,e.iconName)||e.iconName};if(Array.isArray(e)&&e.length===2){var t=e[1].indexOf("fa-")===0?e[1].slice(3):e[1],n=YE(e[0]);return{prefix:n,iconName:ap(n,t)||t}}if(typeof e=="string"&&(e.indexOf("".concat(rn.cssPrefix,"-"))>-1||e.match(Qse))){var r=ZE(e.split(" "),{skipLookups:!0});return{prefix:r.prefix||Sh(),iconName:ap(r.prefix,r.iconName)||r.iconName}}if(typeof e=="string"){var a=Sh();return{prefix:a,iconName:ap(a,e)||e}}}},bo={noAuto:Ooe,config:rn,dom:Noe,parse:Poe,library:k8,findIconDefinition:kC,toHtml:px},Loe=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=e.autoReplaceSvgRoot,n=t===void 0?Hi:t;(Object.keys(Il.styles).length>0||rn.autoFetchSvg)&&qu&&rn.autoReplaceSvg&&bo.dom.i2svg({node:n})};function KE(i,e){return Object.defineProperty(i,"abstract",{get:e}),Object.defineProperty(i,"html",{get:function(){return i.abstract.map(function(n){return px(n)})}}),Object.defineProperty(i,"node",{get:function(){if(qu){var n=Hi.createElement("div");return n.innerHTML=i.html,n.children}}}),i}function Uoe(i){var e=i.children,t=i.main,n=i.mask,r=i.attributes,a=i.styles,s=i.transform;if(gD(s)&&t.found&&!n.found){var l=t.width,u=t.height,f={x:l/u/2,y:.5};r.style=qE(Tt(Tt({},a),{},{"transform-origin":"".concat(f.x+s.x/16,"em ").concat(f.y+s.y/16,"em")}))}return[{tag:"svg",attributes:r,children:e}]}function Ioe(i){var e=i.prefix,t=i.iconName,n=i.children,r=i.attributes,a=i.symbol,s=a===!0?"".concat(e,"-").concat(rn.cssPrefix,"-").concat(t):a;return[{tag:"svg",attributes:{style:"display: none;"},children:[{tag:"symbol",attributes:Tt(Tt({},r),{},{id:s}),children:n}]}]}function Boe(i){var e=["aria-label","aria-labelledby","title","role"];return e.some(function(t){return t in i})}function _D(i){var e=i.icons,t=e.main,n=e.mask,r=i.prefix,a=i.iconName,s=i.transform,l=i.symbol,u=i.maskId,f=i.extra,p=i.watchable,g=p===void 0?!1:p,v=n.found?n:t,_=v.width,S=v.height,w=[rn.replacementClass,a?"".concat(rn.cssPrefix,"-").concat(a):""].filter(function(N){return f.classes.indexOf(N)===-1}).filter(function(N){return N!==""||!!N}).concat(f.classes).join(" "),E={children:[],attributes:Tt(Tt({},f.attributes),{},{"data-prefix":r,"data-icon":a,class:w,role:f.attributes.role||"img",viewBox:"0 0 ".concat(_," ").concat(S)})};!Boe(f.attributes)&&!f.attributes["aria-hidden"]&&(E.attributes["aria-hidden"]="true"),g&&(E.attributes[Tp]="");var b=Tt(Tt({},E),{},{prefix:r,iconName:a,main:t,mask:n,maskId:u,transform:s,symbol:l,styles:Tt({},f.styles)}),R=n.found&&t.found?wh("generateAbstractMask",b)||{children:[],attributes:{}}:wh("generateAbstractIcon",b)||{children:[],attributes:{}},C=R.children,A=R.attributes;return b.children=C,b.attributes=A,l?Ioe(b):Uoe(b)}function t4(i){var e=i.content,t=i.width,n=i.height,r=i.transform,a=i.extra,s=i.watchable,l=s===void 0?!1:s,u=Tt(Tt({},a.attributes),{},{class:a.classes.join(" ")});l&&(u[Tp]="");var f=Tt({},a.styles);gD(r)&&(f.transform=hoe({transform:r,width:t,height:n}),f["-webkit-transform"]=f.transform);var p=qE(f);p.length>0&&(u.style=p);var g=[];return g.push({tag:"span",attributes:u,children:[e]}),g}function zoe(i){var e=i.content,t=i.extra,n=Tt(Tt({},t.attributes),{},{class:t.classes.join(" ")}),r=qE(t.styles);r.length>0&&(n.style=r);var a=[];return a.push({tag:"span",attributes:n,children:[e]}),a}var HT=Il.styles;function FC(i){var e=i[0],t=i[1],n=i.slice(4),r=XE(n,1),a=r[0],s=null;return Array.isArray(a)?s={tag:"g",attributes:{class:"".concat(rn.cssPrefix,"-").concat(zT.GROUP)},children:[{tag:"path",attributes:{class:"".concat(rn.cssPrefix,"-").concat(zT.SECONDARY),fill:"currentColor",d:a[0]}},{tag:"path",attributes:{class:"".concat(rn.cssPrefix,"-").concat(zT.PRIMARY),fill:"currentColor",d:a[1]}}]}:s={tag:"path",attributes:{fill:"currentColor",d:a}},{found:!0,width:e,height:t,icon:s}}var koe={found:!1,width:512,height:512};function Foe(i,e){!_8&&!rn.showMissingIcons&&i&&console.error('Icon with name "'.concat(i,'" and prefix "').concat(e,'" is missing.'))}function HC(i,e){var t=e;return e==="fa"&&rn.styleDefault!==null&&(e=Sh()),new Promise(function(n,r){if(t==="fa"){var a=B8(i)||{};i=a.iconName||i,e=a.prefix||e}if(i&&e&&HT[e]&&HT[e][i]){var s=HT[e][i];return n(FC(s))}Foe(i,e),n(Tt(Tt({},koe),{},{icon:rn.showMissingIcons&&i?wh("missingIconAbstract")||{}:{}}))})}var n4=function(){},VC=rn.measurePerformance&&oS&&oS.mark&&oS.measure?oS:{mark:n4,measure:n4},Ey='FA "7.0.0"',Hoe=function(e){return VC.mark("".concat(Ey," ").concat(e," begins")),function(){return F8(e)}},F8=function(e){VC.mark("".concat(Ey," ").concat(e," ends")),VC.measure("".concat(Ey," ").concat(e),"".concat(Ey," ").concat(e," begins"),"".concat(Ey," ").concat(e," ends"))},xD={begin:Hoe,end:F8},DS=function(){};function i4(i){var e=i.getAttribute?i.getAttribute(Tp):null;return typeof e=="string"}function Voe(i){var e=i.getAttribute?i.getAttribute(dD):null,t=i.getAttribute?i.getAttribute(pD):null;return e&&t}function joe(i){return i&&i.classList&&i.classList.contains&&i.classList.contains(rn.replacementClass)}function Goe(){if(rn.autoReplaceSvg===!0)return OS.replace;var i=OS[rn.autoReplaceSvg];return i||OS.replace}function Woe(i){return Hi.createElementNS("http://www.w3.org/2000/svg",i)}function Xoe(i){return Hi.createElement(i)}function H8(i){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},t=e.ceFn,n=t===void 0?i.tag==="svg"?Woe:Xoe:t;if(typeof i=="string")return Hi.createTextNode(i);var r=n(i.tag);Object.keys(i.attributes||[]).forEach(function(s){r.setAttribute(s,i.attributes[s])});var a=i.children||[];return a.forEach(function(s){r.appendChild(H8(s,{ceFn:n}))}),r}function qoe(i){var e=" ".concat(i.outerHTML," ");return e="".concat(e,"Font Awesome fontawesome.com "),e}var OS={replace:function(e){var t=e[0];if(t.parentNode)if(e[1].forEach(function(r){t.parentNode.insertBefore(H8(r),t)}),t.getAttribute(Tp)===null&&rn.keepOriginalSource){var n=Hi.createComment(qoe(t));t.parentNode.replaceChild(n,t)}else t.remove()},nest:function(e){var t=e[0],n=e[1];if(~mD(t).indexOf(rn.replacementClass))return OS.replace(e);var r=new RegExp("".concat(rn.cssPrefix,"-.*"));if(delete n[0].attributes.id,n[0].attributes.class){var a=n[0].attributes.class.split(" ").reduce(function(l,u){return u===rn.replacementClass||u.match(r)?l.toSvg.push(u):l.toNode.push(u),l},{toNode:[],toSvg:[]});n[0].attributes.class=a.toSvg.join(" "),a.toNode.length===0?t.removeAttribute("class"):t.setAttribute("class",a.toNode.join(" "))}var s=n.map(function(l){return px(l)}).join(`
`);t.setAttribute(Tp,""),t.innerHTML=s}};function r4(i){i()}function V8(i,e){var t=typeof e=="function"?e:DS;if(i.length===0)t();else{var n=r4;rn.mutateApproach===Kse&&(n=bh.requestAnimationFrame||r4),n(function(){var r=Goe(),a=xD.begin("mutate");i.map(r),a(),t()})}}var bD=!1;function j8(){bD=!0}function jC(){bD=!1}var Zw=null;function a4(i){if(jL&&rn.observeMutations){var e=i.treeCallback,t=e===void 0?DS:e,n=i.nodeCallback,r=n===void 0?DS:n,a=i.pseudoElementsCallback,s=a===void 0?DS:a,l=i.observeMutationsRoot,u=l===void 0?Hi:l;Zw=new jL(function(f){if(!bD){var p=Sh();Og(f).forEach(function(g){if(g.type==="childList"&&g.addedNodes.length>0&&!i4(g.addedNodes[0])&&(rn.searchPseudoElements&&s(g.target),t(g.target)),g.type==="attributes"&&g.target.parentNode&&rn.searchPseudoElements&&s([g.target],!0),g.type==="attributes"&&i4(g.target)&&~noe.indexOf(g.attributeName))if(g.attributeName==="class"&&Voe(g.target)){var v=ZE(mD(g.target)),_=v.prefix,S=v.iconName;g.target.setAttribute(dD,_||p),S&&g.target.setAttribute(pD,S)}else joe(g.target)&&r(g.target)})}}),qu&&Zw.observe(u,{childList:!0,attributes:!0,characterData:!0,subtree:!0})}}function Yoe(){Zw&&Zw.disconnect()}function Zoe(i){var e=i.getAttribute("style"),t=[];return e&&(t=e.split(";").reduce(function(n,r){var a=r.split(":"),s=a[0],l=a.slice(1);return s&&l.length>0&&(n[s]=l.join(":").trim()),n},{})),t}function Koe(i){var e=i.getAttribute("data-prefix"),t=i.getAttribute("data-icon"),n=i.innerText!==void 0?i.innerText.trim():"",r=ZE(mD(i));return r.prefix||(r.prefix=Sh()),e&&t&&(r.prefix=e,r.iconName=t),r.iconName&&r.prefix||(r.prefix&&n.length>0&&(r.iconName=xoe(r.prefix,i.innerText)||yD(r.prefix,C8(i.innerText))),!r.iconName&&rn.autoFetchSvg&&i.firstChild&&i.firstChild.nodeType===Node.TEXT_NODE&&(r.iconName=i.firstChild.data)),r}function $oe(i){var e=Og(i.attributes).reduce(function(t,n){return t.name!=="class"&&t.name!=="style"&&(t[n.name]=n.value),t},{});return e}function Joe(){return{iconName:null,prefix:null,transform:Lc,symbol:!1,mask:{iconName:null,prefix:null,rest:[]},maskId:null,extra:{classes:[],styles:{},attributes:{}}}}function s4(i){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{styleParser:!0},t=Koe(i),n=t.iconName,r=t.prefix,a=t.rest,s=$oe(i),l=zC("parseNodeAttributes",{},i),u=e.styleParser?Zoe(i):[];return Tt({iconName:n,prefix:r,transform:Lc,mask:{iconName:null,prefix:null,rest:[]},maskId:null,symbol:!1,extra:{classes:a,styles:u,attributes:s}},l)}var Qoe=Il.styles;function G8(i){var e=rn.autoReplaceSvg==="nest"?s4(i,{styleParser:!1}):s4(i);return~e.extra.classes.indexOf(S8)?wh("generateLayersText",i,e):wh("generateSvgReplacementMutation",i,e)}function ele(){return[].concat(kl(d8),kl(p8))}function o4(i){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(!qu)return Promise.resolve();var t=Hi.documentElement.classList,n=function(g){return t.add("".concat(XL,"-").concat(g))},r=function(g){return t.remove("".concat(XL,"-").concat(g))},a=rn.autoFetchSvg?ele():Jk.concat(Object.keys(Qoe));a.includes("fa")||a.push("fa");var s=[".".concat(S8,":not([").concat(Tp,"])")].concat(a.map(function(p){return".".concat(p,":not([").concat(Tp,"])")})).join(", ");if(s.length===0)return Promise.resolve();var l=[];try{l=Og(i.querySelectorAll(s))}catch{}if(l.length>0)n("pending"),r("complete");else return Promise.resolve();var u=xD.begin("onTree"),f=l.reduce(function(p,g){try{var v=G8(g);v&&p.push(v)}catch(_){_8||_.name==="MissingIcon"&&console.error(_)}return p},[]);return new Promise(function(p,g){Promise.all(f).then(function(v){V8(v,function(){n("active"),n("complete"),r("pending"),typeof e=="function"&&e(),u(),p()})}).catch(function(v){u(),g(v)})})}function tle(i){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;G8(i).then(function(t){t&&V8([t],e)})}function nle(i){return function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=(e||{}).icon?e:kC(e||{}),r=t.mask;return r&&(r=(r||{}).icon?r:kC(r||{})),i(n,Tt(Tt({},t),{},{mask:r}))}}var ile=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=t.transform,r=n===void 0?Lc:n,a=t.symbol,s=a===void 0?!1:a,l=t.mask,u=l===void 0?null:l,f=t.maskId,p=f===void 0?null:f,g=t.classes,v=g===void 0?[]:g,_=t.attributes,S=_===void 0?{}:_,w=t.styles,E=w===void 0?{}:w;if(e){var b=e.prefix,R=e.iconName,C=e.icon;return KE(Tt({type:"icon"},e),function(){return Ap("beforeDOMElementCreation",{iconDefinition:e,params:t}),_D({icons:{main:FC(C),mask:u?FC(u.icon):{found:!1,width:null,height:null,icon:{}}},prefix:b,iconName:R,transform:Tt(Tt({},Lc),r),symbol:s,maskId:p,extra:{attributes:S,styles:E,classes:v}})})}},rle={mixout:function(){return{icon:nle(ile)}},hooks:function(){return{mutationObserverCallbacks:function(t){return t.treeCallback=o4,t.nodeCallback=tle,t}}},provides:function(e){e.i2svg=function(t){var n=t.node,r=n===void 0?Hi:n,a=t.callback,s=a===void 0?function(){}:a;return o4(r,s)},e.generateSvgReplacementMutation=function(t,n){var r=n.iconName,a=n.prefix,s=n.transform,l=n.symbol,u=n.mask,f=n.maskId,p=n.extra;return new Promise(function(g,v){Promise.all([HC(r,a),u.iconName?HC(u.iconName,u.prefix):Promise.resolve({found:!1,width:512,height:512,icon:{}})]).then(function(_){var S=XE(_,2),w=S[0],E=S[1];g([t,_D({icons:{main:w,mask:E},prefix:a,iconName:r,transform:s,symbol:l,maskId:f,extra:p,watchable:!0})])}).catch(v)})},e.generateAbstractIcon=function(t){var n=t.children,r=t.attributes,a=t.main,s=t.transform,l=t.styles,u=qE(l);u.length>0&&(r.style=u);var f;return gD(s)&&(f=wh("generateAbstractTransformGrouping",{main:a,transform:s,containerWidth:a.width,iconWidth:a.width})),n.push(f||a.icon),{children:n,attributes:r}}}},ale={mixout:function(){return{layer:function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=n.classes,a=r===void 0?[]:r;return KE({type:"layer"},function(){Ap("beforeDOMElementCreation",{assembler:t,params:n});var s=[];return t(function(l){Array.isArray(l)?l.map(function(u){s=s.concat(u.abstract)}):s=s.concat(l.abstract)}),[{tag:"span",attributes:{class:["".concat(rn.cssPrefix,"-layers")].concat(kl(a)).join(" ")},children:s}]})}}}},sle={mixout:function(){return{counter:function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};n.title;var r=n.classes,a=r===void 0?[]:r,s=n.attributes,l=s===void 0?{}:s,u=n.styles,f=u===void 0?{}:u;return KE({type:"counter",content:t},function(){return Ap("beforeDOMElementCreation",{content:t,params:n}),zoe({content:t.toString(),extra:{attributes:l,styles:f,classes:["".concat(rn.cssPrefix,"-layers-counter")].concat(kl(a))}})})}}}},ole={mixout:function(){return{text:function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=n.transform,a=r===void 0?Lc:r,s=n.classes,l=s===void 0?[]:s,u=n.attributes,f=u===void 0?{}:u,p=n.styles,g=p===void 0?{}:p;return KE({type:"text",content:t},function(){return Ap("beforeDOMElementCreation",{content:t,params:n}),t4({content:t,transform:Tt(Tt({},Lc),a),extra:{attributes:f,styles:g,classes:["".concat(rn.cssPrefix,"-layers-text")].concat(kl(l))}})})}}},provides:function(e){e.generateLayersText=function(t,n){var r=n.transform,a=n.extra,s=null,l=null;if(Kk){var u=parseInt(getComputedStyle(t).fontSize,10),f=t.getBoundingClientRect();s=f.width/u,l=f.height/u}return Promise.resolve([t,t4({content:t.innerHTML,width:s,height:l,transform:r,extra:a,watchable:!0})])}}},W8=new RegExp('"',"ug"),l4=[1105920,1112319],c4=Tt(Tt(Tt(Tt({},{FontAwesome:{normal:"fas",400:"fas"}}),Zae),Yse),rse),GC=Object.keys(c4).reduce(function(i,e){return i[e.toLowerCase()]=c4[e],i},{}),lle=Object.keys(GC).reduce(function(i,e){var t=GC[e];return i[e]=t[900]||kl(Object.entries(t))[0][1],i},{});function cle(i){var e=i.replace(W8,"");return C8(kl(e)[0]||"")}function ule(i){var e=i.getPropertyValue("font-feature-settings").includes("ss01"),t=i.getPropertyValue("content"),n=t.replace(W8,""),r=n.codePointAt(0),a=r>=l4[0]&&r<=l4[1],s=n.length===2?n[0]===n[1]:!1;return a||s||e}function fle(i,e){var t=i.replace(/^['"]|['"]$/g,"").toLowerCase(),n=parseInt(e),r=isNaN(n)?"normal":n;return(GC[t]||{})[r]||lle[t]}function u4(i,e){var t="".concat(Zse).concat(e.replace(":","-"));return new Promise(function(n,r){if(i.getAttribute(t)!==null)return n();var a=Og(i.children),s=a.filter(function(L){return L.getAttribute(LC)===e})[0],l=bh.getComputedStyle(i,e),u=l.getPropertyValue("font-family"),f=u.match(eoe),p=l.getPropertyValue("font-weight"),g=l.getPropertyValue("content");if(s&&!f)return i.removeChild(s),n();if(f&&g!=="none"&&g!==""){var v=l.getPropertyValue("content"),_=fle(u,p),S=cle(v),w=f[0].startsWith("FontAwesome"),E=ule(l),b=yD(_,S),R=b;if(w){var C=boe(S);C.iconName&&C.prefix&&(b=C.iconName,_=C.prefix)}if(b&&!E&&(!s||s.getAttribute(dD)!==_||s.getAttribute(pD)!==R)){i.setAttribute(t,R),s&&i.removeChild(s);var A=Joe(),N=A.extra;N.attributes[LC]=e,HC(b,_).then(function(L){var B=_D(Tt(Tt({},A),{},{icons:{main:L,mask:z8()},prefix:_,iconName:R,extra:N,watchable:!0})),U=Hi.createElementNS("http://www.w3.org/2000/svg","svg");e==="::before"?i.insertBefore(U,i.firstChild):i.appendChild(U),U.outerHTML=B.map(function(P){return px(P)}).join(`
`),i.removeAttribute(t),n()}).catch(r)}else n()}else n()})}function hle(i){return Promise.all([u4(i,"::before"),u4(i,"::after")])}function dle(i){return i.parentNode!==document.head&&!~$se.indexOf(i.tagName.toUpperCase())&&!i.getAttribute(LC)&&(!i.parentNode||i.parentNode.tagName!=="svg")}var ple=function(e){return!!e&&y8.some(function(t){return e.includes(t)})},mle=function(e){if(!e)return[];for(var t=new Set,n=[e],r=[/(?=\s:)/,new RegExp("(?<=\\)\\)?[^,]*,)")],a=function(){var _=l[s];n=n.flatMap(function(S){return S.split(_).map(function(w){return w.replace(/,\s*$/,"").trim()})})},s=0,l=r;s<l.length;s++)a();n=n.flatMap(function(v){return v.includes("(")?v:v.split(",").map(function(_){return _.trim()})});var u=RS(n),f;try{for(u.s();!(f=u.n()).done;){var p=f.value;if(ple(p)){var g=y8.reduce(function(v,_){return v.replace(_,"")},p);g!==""&&g!=="*"&&t.add(g)}}}catch(v){u.e(v)}finally{u.f()}return t};function f4(i){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(qu){var t;if(e)t=i;else if(rn.searchPseudoElementsFullScan)t=i.querySelectorAll("*");else{var n=new Set,r=RS(document.styleSheets),a;try{for(r.s();!(a=r.n()).done;){var s=a.value;try{var l=RS(s.cssRules),u;try{for(l.s();!(u=l.n()).done;){var f=u.value,p=mle(f.selectorText),g=RS(p),v;try{for(g.s();!(v=g.n()).done;){var _=v.value;n.add(_)}}catch(w){g.e(w)}finally{g.f()}}}catch(w){l.e(w)}finally{l.f()}}catch(w){rn.searchPseudoElementsWarnings&&console.warn("Font Awesome: cannot parse stylesheet: ".concat(s.href," (").concat(w.message,`)
If it declares any Font Awesome CSS pseudo-elements, they will not be rendered as SVG icons. Add crossorigin="anonymous" to the <link>, enable searchPseudoElementsFullScan for slower but more thorough DOM parsing, or suppress this warning by setting searchPseudoElementsWarnings to false.`))}}}catch(w){r.e(w)}finally{r.f()}if(!n.size)return;var S=Array.from(n).join(", ");try{t=i.querySelectorAll(S)}catch{}}return new Promise(function(w,E){var b=Og(t).filter(dle).map(hle),R=xD.begin("searchPseudoElements");j8(),Promise.all(b).then(function(){R(),jC(),w()}).catch(function(){R(),jC(),E()})})}}var gle={hooks:function(){return{mutationObserverCallbacks:function(t){return t.pseudoElementsCallback=f4,t}}},provides:function(e){e.pseudoElements2svg=function(t){var n=t.node,r=n===void 0?Hi:n;rn.searchPseudoElements&&f4(r)}}},h4=!1,vle={mixout:function(){return{dom:{unwatch:function(){j8(),h4=!0}}}},hooks:function(){return{bootstrap:function(){a4(zC("mutationObserverCallbacks",{}))},noAuto:function(){Yoe()},watch:function(t){var n=t.observeMutationsRoot;h4?jC():a4(zC("mutationObserverCallbacks",{observeMutationsRoot:n}))}}}},d4=function(e){var t={size:16,x:0,y:0,flipX:!1,flipY:!1,rotate:0};return e.toLowerCase().split(" ").reduce(function(n,r){var a=r.toLowerCase().split("-"),s=a[0],l=a.slice(1).join("-");if(s&&l==="h")return n.flipX=!0,n;if(s&&l==="v")return n.flipY=!0,n;if(l=parseFloat(l),isNaN(l))return n;switch(s){case"grow":n.size=n.size+l;break;case"shrink":n.size=n.size-l;break;case"left":n.x=n.x-l;break;case"right":n.x=n.x+l;break;case"up":n.y=n.y-l;break;case"down":n.y=n.y+l;break;case"rotate":n.rotate=n.rotate+l;break}return n},t)},yle={mixout:function(){return{parse:{transform:function(t){return d4(t)}}}},hooks:function(){return{parseNodeAttributes:function(t,n){var r=n.getAttribute("data-fa-transform");return r&&(t.transform=d4(r)),t}}},provides:function(e){e.generateAbstractTransformGrouping=function(t){var n=t.main,r=t.transform,a=t.containerWidth,s=t.iconWidth,l={transform:"translate(".concat(a/2," 256)")},u="translate(".concat(r.x*32,", ").concat(r.y*32,") "),f="scale(".concat(r.size/16*(r.flipX?-1:1),", ").concat(r.size/16*(r.flipY?-1:1),") "),p="rotate(".concat(r.rotate," 0 0)"),g={transform:"".concat(u," ").concat(f," ").concat(p)},v={transform:"translate(".concat(s/2*-1," -256)")},_={outer:l,inner:g,path:v};return{tag:"g",attributes:Tt({},_.outer),children:[{tag:"g",attributes:Tt({},_.inner),children:[{tag:n.icon.tag,children:n.icon.children,attributes:Tt(Tt({},n.icon.attributes),_.path)}]}]}}}},VT={x:0,y:0,width:"100%",height:"100%"};function p4(i){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return i.attributes&&(i.attributes.fill||e)&&(i.attributes.fill="black"),i}function _le(i){return i.tag==="g"?i.children:[i]}var xle={hooks:function(){return{parseNodeAttributes:function(t,n){var r=n.getAttribute("data-fa-mask"),a=r?ZE(r.split(" ").map(function(s){return s.trim()})):z8();return a.prefix||(a.prefix=Sh()),t.mask=a,t.maskId=n.getAttribute("data-fa-mask-id"),t}}},provides:function(e){e.generateAbstractMask=function(t){var n=t.children,r=t.attributes,a=t.main,s=t.mask,l=t.maskId,u=t.transform,f=a.width,p=a.icon,g=s.width,v=s.icon,_=foe({transform:u,containerWidth:g,iconWidth:f}),S={tag:"rect",attributes:Tt(Tt({},VT),{},{fill:"white"})},w=p.children?{children:p.children.map(p4)}:{},E={tag:"g",attributes:Tt({},_.inner),children:[p4(Tt({tag:p.tag,attributes:Tt(Tt({},p.attributes),_.path)},w))]},b={tag:"g",attributes:Tt({},_.outer),children:[E]},R="mask-".concat(l||YL()),C="clip-".concat(l||YL()),A={tag:"mask",attributes:Tt(Tt({},VT),{},{id:R,maskUnits:"userSpaceOnUse",maskContentUnits:"userSpaceOnUse"}),children:[S,b]},N={tag:"defs",children:[{tag:"clipPath",attributes:{id:C},children:_le(v)},A]};return n.push(N,{tag:"rect",attributes:Tt({fill:"currentColor","clip-path":"url(#".concat(C,")"),mask:"url(#".concat(R,")")},VT)}),{children:n,attributes:r}}}},ble={provides:function(e){var t=!1;bh.matchMedia&&(t=bh.matchMedia("(prefers-reduced-motion: reduce)").matches),e.missingIconAbstract=function(){var n=[],r={fill:"currentColor"},a={attributeType:"XML",repeatCount:"indefinite",dur:"2s"};n.push({tag:"path",attributes:Tt(Tt({},r),{},{d:"M156.5,447.7l-12.6,29.5c-18.7-9.5-35.9-21.2-51.5-34.9l22.7-22.7C127.6,430.5,141.5,440,156.5,447.7z M40.6,272H8.5 c1.4,21.2,5.4,41.7,11.7,61.1L50,321.2C45.1,305.5,41.8,289,40.6,272z M40.6,240c1.4-18.8,5.2-37,11.1-54.1l-29.5-12.6 C14.7,194.3,10,216.7,8.5,240H40.6z M64.3,156.5c7.8-14.9,17.2-28.8,28.1-41.5L69.7,92.3c-13.7,15.6-25.5,32.8-34.9,51.5 L64.3,156.5z M397,419.6c-13.9,12-29.4,22.3-46.1,30.4l11.9,29.8c20.7-9.9,39.8-22.6,56.9-37.6L397,419.6z M115,92.4 c13.9-12,29.4-22.3,46.1-30.4l-11.9-29.8c-20.7,9.9-39.8,22.6-56.8,37.6L115,92.4z M447.7,355.5c-7.8,14.9-17.2,28.8-28.1,41.5 l22.7,22.7c13.7-15.6,25.5-32.9,34.9-51.5L447.7,355.5z M471.4,272c-1.4,18.8-5.2,37-11.1,54.1l29.5,12.6 c7.5-21.1,12.2-43.5,13.6-66.8H471.4z M321.2,462c-15.7,5-32.2,8.2-49.2,9.4v32.1c21.2-1.4,41.7-5.4,61.1-11.7L321.2,462z M240,471.4c-18.8-1.4-37-5.2-54.1-11.1l-12.6,29.5c21.1,7.5,43.5,12.2,66.8,13.6V471.4z M462,190.8c5,15.7,8.2,32.2,9.4,49.2h32.1 c-1.4-21.2-5.4-41.7-11.7-61.1L462,190.8z M92.4,397c-12-13.9-22.3-29.4-30.4-46.1l-29.8,11.9c9.9,20.7,22.6,39.8,37.6,56.9 L92.4,397z M272,40.6c18.8,1.4,36.9,5.2,54.1,11.1l12.6-29.5C317.7,14.7,295.3,10,272,8.5V40.6z M190.8,50 c15.7-5,32.2-8.2,49.2-9.4V8.5c-21.2,1.4-41.7,5.4-61.1,11.7L190.8,50z M442.3,92.3L419.6,115c12,13.9,22.3,29.4,30.5,46.1 l29.8-11.9C470,128.5,457.3,109.4,442.3,92.3z M397,92.4l22.7-22.7c-15.6-13.7-32.8-25.5-51.5-34.9l-12.6,29.5 C370.4,72.1,384.4,81.5,397,92.4z"})});var s=Tt(Tt({},a),{},{attributeName:"opacity"}),l={tag:"circle",attributes:Tt(Tt({},r),{},{cx:"256",cy:"364",r:"28"}),children:[]};return t||l.children.push({tag:"animate",attributes:Tt(Tt({},a),{},{attributeName:"r",values:"28;14;28;28;14;28;"})},{tag:"animate",attributes:Tt(Tt({},s),{},{values:"1;0;1;1;0;1;"})}),n.push(l),n.push({tag:"path",attributes:Tt(Tt({},r),{},{opacity:"1",d:"M263.7,312h-16c-6.6,0-12-5.4-12-12c0-71,77.4-63.9,77.4-107.8c0-20-17.8-40.2-57.4-40.2c-29.1,0-44.3,9.6-59.2,28.7 c-3.9,5-11.1,6-16.2,2.4l-13.1-9.2c-5.6-3.9-6.9-11.8-2.6-17.2c21.2-27.2,46.4-44.7,91.2-44.7c52.3,0,97.4,29.8,97.4,80.2 c0,67.6-77.4,63.5-77.4,107.8C275.7,306.6,270.3,312,263.7,312z"}),children:t?[]:[{tag:"animate",attributes:Tt(Tt({},s),{},{values:"1;0;0;0;0;1;"})}]}),t||n.push({tag:"path",attributes:Tt(Tt({},r),{},{opacity:"0",d:"M232.5,134.5l7,168c0.3,6.4,5.6,11.5,12,11.5h9c6.4,0,11.7-5.1,12-11.5l7-168c0.3-6.8-5.2-12.5-12-12.5h-23 C237.7,122,232.2,127.7,232.5,134.5z"}),children:[{tag:"animate",attributes:Tt(Tt({},s),{},{values:"0;0;1;1;0;0;"})}]}),{tag:"g",attributes:{class:"missing"},children:n}}}},Sle={hooks:function(){return{parseNodeAttributes:function(t,n){var r=n.getAttribute("data-fa-symbol"),a=r===null?!1:r===""?!0:r;return t.symbol=a,t}}}},wle=[poe,rle,ale,sle,ole,gle,vle,yle,xle,ble,Sle];Doe(wle,{mixoutsTo:bo});bo.noAuto;bo.config;bo.library;bo.dom;var WC=bo.parse;bo.findIconDefinition;bo.toHtml;var Ele=bo.icon;bo.layer;bo.text;bo.counter;var jT={exports:{}},GT,m4;function Mle(){if(m4)return GT;m4=1;var i="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return GT=i,GT}var WT,g4;function Tle(){if(g4)return WT;g4=1;var i=Mle();function e(){}function t(){}return t.resetWarningCache=e,WT=function(){function n(s,l,u,f,p,g){if(g!==i){var v=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw v.name="Invariant Violation",v}}n.isRequired=n;function r(){return n}var a={array:n,bigint:n,bool:n,func:n,number:n,object:n,string:n,symbol:n,any:n,arrayOf:r,element:n,elementType:n,instanceOf:r,node:n,objectOf:r,oneOf:r,oneOfType:r,shape:r,exact:r,checkPropTypes:t,resetWarningCache:e};return a.PropTypes=a,a},WT}var v4;function Ale(){return v4||(v4=1,jT.exports=Tle()()),jT.exports}var Cle=Ale();const zn=vg(Cle);var Rle={};function XC(i,e){(e==null||e>i.length)&&(e=i.length);for(var t=0,n=Array(e);t<e;t++)n[t]=i[t];return n}function Dle(i){if(Array.isArray(i))return i}function Ole(i){if(Array.isArray(i))return XC(i)}function Qf(i,e,t){return(e=kle(e))in i?Object.defineProperty(i,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):i[e]=t,i}function Nle(i){if(typeof Symbol<"u"&&i[Symbol.iterator]!=null||i["@@iterator"]!=null)return Array.from(i)}function Ple(i,e){var t=i==null?null:typeof Symbol<"u"&&i[Symbol.iterator]||i["@@iterator"];if(t!=null){var n,r,a,s,l=[],u=!0,f=!1;try{if(a=(t=t.call(i)).next,e!==0)for(;!(u=(n=a.call(t)).done)&&(l.push(n.value),l.length!==e);u=!0);}catch(p){f=!0,r=p}finally{try{if(!u&&t.return!=null&&(s=t.return(),Object(s)!==s))return}finally{if(f)throw r}}return l}}function Lle(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ule(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function y4(i,e){var t=Object.keys(i);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(i);e&&(n=n.filter(function(r){return Object.getOwnPropertyDescriptor(i,r).enumerable})),t.push.apply(t,n)}return t}function Ac(i){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?y4(Object(t),!0).forEach(function(n){Qf(i,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(t)):y4(Object(t)).forEach(function(n){Object.defineProperty(i,n,Object.getOwnPropertyDescriptor(t,n))})}return i}function Ile(i,e){if(i==null)return{};var t,n,r=Ble(i,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);for(n=0;n<a.length;n++)t=a[n],e.indexOf(t)===-1&&{}.propertyIsEnumerable.call(i,t)&&(r[t]=i[t])}return r}function Ble(i,e){if(i==null)return{};var t={};for(var n in i)if({}.hasOwnProperty.call(i,n)){if(e.indexOf(n)!==-1)continue;t[n]=i[n]}return t}function _4(i,e){return Dle(i)||Ple(i,e)||X8(i,e)||Lle()}function qC(i){return Ole(i)||Nle(i)||X8(i)||Ule()}function zle(i,e){if(typeof i!="object"||!i)return i;var t=i[Symbol.toPrimitive];if(t!==void 0){var n=t.call(i,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(i)}function kle(i){var e=zle(i,"string");return typeof e=="symbol"?e:e+""}function Kw(i){"@babel/helpers - typeof";return Kw=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Kw(i)}function X8(i,e){if(i){if(typeof i=="string")return XC(i,e);var t={}.toString.call(i).slice(8,-1);return t==="Object"&&i.constructor&&(t=i.constructor.name),t==="Map"||t==="Set"?Array.from(i):t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?XC(i,e):void 0}}var Fle="7.0.0-alpha1",YC;try{var Hle=require("@fortawesome/fontawesome-svg-core/package.json");YC=Hle.version}catch{YC=Rle.FA_VERSION||"7.0.0-alpha8"}function Vle(i){var e=i.beat,t=i.fade,n=i.beatFade,r=i.bounce,a=i.shake,s=i.flash,l=i.spin,u=i.spinPulse,f=i.spinReverse,p=i.pulse,g=i.fixedWidth,v=i.inverse,_=i.border,S=i.listItem,w=i.flip,E=i.size,b=i.rotation,R=i.pull,C=i.swapOpacity,A=i.rotateBy,N=i.widthAuto,L=jle(YC,Fle),B=Qf(Qf(Qf(Qf(Qf(Qf({"fa-beat":e,"fa-fade":t,"fa-beat-fade":n,"fa-bounce":r,"fa-shake":a,"fa-flash":s,"fa-spin":l,"fa-spin-reverse":f,"fa-spin-pulse":u,"fa-pulse":p,"fa-fw":g,"fa-inverse":v,"fa-border":_,"fa-li":S,"fa-flip":w===!0,"fa-flip-horizontal":w==="horizontal"||w==="both","fa-flip-vertical":w==="vertical"||w==="both"},"fa-".concat(E),typeof E<"u"&&E!==null),"fa-rotate-".concat(b),typeof b<"u"&&b!==null&&b!==0),"fa-pull-".concat(R),typeof R<"u"&&R!==null),"fa-swap-opacity",C),"fa-rotate-by",L&&A),"fa-width-auto",L&&N);return Object.keys(B).map(function(U){return B[U]?U:null}).filter(function(U){return U})}function jle(i,e){for(var t=i.split("-"),n=_4(t,2),r=n[0],a=n[1],s=e.split("-"),l=_4(s,2),u=l[0],f=l[1],p=r.split("."),g=u.split("."),v=0;v<Math.max(p.length,g.length);v++){var _=p[v]||"0",S=g[v]||"0",w=parseInt(_,10),E=parseInt(S,10);if(w!==E)return w>E}for(var b=0;b<Math.max(p.length,g.length);b++){var R=p[b]||"0",C=g[b]||"0";if(R!==C&&R.length!==C.length)return R.length<C.length}return!(a&&!f)}function Gle(i){return i=i-0,i===i}function q8(i){return Gle(i)?i:(i=i.replace(/[\-_\s]+(.)?/g,function(e,t){return t?t.toUpperCase():""}),i.substr(0,1).toLowerCase()+i.substr(1))}var Wle=["style"];function Xle(i){return i.charAt(0).toUpperCase()+i.slice(1)}function qle(i){return i.split(";").map(function(e){return e.trim()}).filter(function(e){return e}).reduce(function(e,t){var n=t.indexOf(":"),r=q8(t.slice(0,n)),a=t.slice(n+1).trim();return r.startsWith("webkit")?e[Xle(r)]=a:e[r]=a,e},{})}function Y8(i,e){var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(typeof e=="string")return e;var n=(e.children||[]).map(function(u){return Y8(i,u)}),r=Object.keys(e.attributes||{}).reduce(function(u,f){var p=e.attributes[f];switch(f){case"class":u.attrs.className=p,delete e.attributes.class;break;case"style":u.attrs.style=qle(p);break;default:f.indexOf("aria-")===0||f.indexOf("data-")===0?u.attrs[f.toLowerCase()]=p:u.attrs[q8(f)]=p}return u},{attrs:{}}),a=t.style,s=a===void 0?{}:a,l=Ile(t,Wle);return r.attrs.style=Ac(Ac({},r.attrs.style),s),i.apply(void 0,[e.tag,Ac(Ac({},r.attrs),l)].concat(qC(n)))}var Z8=!1;try{Z8=!0}catch{}function Yle(){if(!Z8&&console&&typeof console.error=="function"){var i;(i=console).error.apply(i,arguments)}}function x4(i){if(i&&Kw(i)==="object"&&i.prefix&&i.iconName&&i.icon)return i;if(WC.icon)return WC.icon(i);if(i===null)return null;if(i&&Kw(i)==="object"&&i.prefix&&i.iconName)return i;if(Array.isArray(i)&&i.length===2)return{prefix:i[0],iconName:i[1]};if(typeof i=="string")return{prefix:"fas",iconName:i}}function XT(i,e){return Array.isArray(e)&&e.length>0||!Array.isArray(e)&&e?Qf({},i,e):{}}var b4={border:!1,className:"",mask:null,maskId:null,fixedWidth:!1,inverse:!1,flip:!1,icon:null,listItem:!1,pull:null,pulse:!1,rotation:null,rotateBy:!1,size:null,spin:!1,spinPulse:!1,spinReverse:!1,beat:!1,fade:!1,beatFade:!1,bounce:!1,shake:!1,symbol:!1,title:"",titleId:null,transform:null,swapOpacity:!1,widthAuto:!1},hh=Nr.forwardRef(function(i,e){var t=Ac(Ac({},b4),i),n=t.icon,r=t.mask,a=t.symbol,s=t.className,l=t.title,u=t.titleId,f=t.maskId,p=x4(n),g=XT("classes",[].concat(qC(Vle(t)),qC((s||"").split(" ")))),v=XT("transform",typeof t.transform=="string"?WC.transform(t.transform):t.transform),_=XT("mask",x4(r)),S=Ele(p,Ac(Ac(Ac(Ac({},g),v),_),{},{symbol:a,title:l,titleId:u,maskId:f}));if(!S)return Yle("Could not find icon",p),null;var w=S.abstract,E={ref:e};return Object.keys(t).forEach(function(b){b4.hasOwnProperty(b)||(E[b]=t[b])}),Zle(w[0],E)});hh.displayName="FontAwesomeIcon";hh.propTypes={beat:zn.bool,border:zn.bool,beatFade:zn.bool,bounce:zn.bool,className:zn.string,fade:zn.bool,flash:zn.bool,mask:zn.oneOfType([zn.object,zn.array,zn.string]),maskId:zn.string,fixedWidth:zn.bool,inverse:zn.bool,flip:zn.oneOf([!0,!1,"horizontal","vertical","both"]),icon:zn.oneOfType([zn.object,zn.array,zn.string]),listItem:zn.bool,pull:zn.oneOf(["right","left"]),pulse:zn.bool,rotation:zn.oneOf([0,90,180,270]),rotateBy:zn.bool,shake:zn.bool,size:zn.oneOf(["2xs","xs","sm","lg","xl","2xl","1x","2x","3x","4x","5x","6x","7x","8x","9x","10x"]),spin:zn.bool,spinPulse:zn.bool,spinReverse:zn.bool,symbol:zn.oneOfType([zn.bool,zn.string]),title:zn.string,titleId:zn.string,transform:zn.oneOfType([zn.string,zn.object]),swapOpacity:zn.bool,widthAuto:zn.bool};var Zle=Y8.bind(null,Nr.createElement);/*!
 * Font Awesome Free 7.0.0 by @fontawesome - https://fontawesome.com
 * License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License)
 * Copyright 2025 Fonticons, Inc.
 */var K8={prefix:"fab",iconName:"linkedin",icon:[448,512,[],"f08c","M416 32L31.9 32C14.3 32 0 46.5 0 64.3L0 447.7C0 465.5 14.3 480 31.9 480L416 480c17.6 0 32-14.5 32-32.3l0-383.4C448 46.5 433.6 32 416 32zM135.4 416l-66.4 0 0-213.8 66.5 0 0 213.8-.1 0zM102.2 96a38.5 38.5 0 1 1 0 77 38.5 38.5 0 1 1 0-77zM384.3 416l-66.4 0 0-104c0-24.8-.5-56.7-34.5-56.7-34.6 0-39.9 27-39.9 54.9l0 105.8-66.4 0 0-213.8 63.7 0 0 29.2 .9 0c8.9-16.8 30.6-34.5 62.9-34.5 67.2 0 79.7 44.3 79.7 101.9l0 117.2z"]},$8={prefix:"fab",iconName:"facebook",icon:[512,512,[62e3],"f09a","M512 256C512 114.6 397.4 0 256 0S0 114.6 0 256C0 376 82.7 476.8 194.2 504.5l0-170.3-52.8 0 0-78.2 52.8 0 0-33.7c0-87.1 39.4-127.5 125-127.5 16.2 0 44.2 3.2 55.7 6.4l0 70.8c-6-.6-16.5-1-29.6-1-42 0-58.2 15.9-58.2 57.2l0 27.8 83.6 0-14.4 78.2-69.3 0 0 175.9C413.8 494.8 512 386.9 512 256z"]},J8={prefix:"fab",iconName:"instagram",icon:[448,512,[],"f16d","M224.3 141a115 115 0 1 0 -.6 230 115 115 0 1 0 .6-230zm-.6 40.4a74.6 74.6 0 1 1 .6 149.2 74.6 74.6 0 1 1 -.6-149.2zm93.4-45.1a26.8 26.8 0 1 1 53.6 0 26.8 26.8 0 1 1 -53.6 0zm129.7 27.2c-1.7-35.9-9.9-67.7-36.2-93.9-26.2-26.2-58-34.4-93.9-36.2-37-2.1-147.9-2.1-184.9 0-35.8 1.7-67.6 9.9-93.9 36.1s-34.4 58-36.2 93.9c-2.1 37-2.1 147.9 0 184.9 1.7 35.9 9.9 67.7 36.2 93.9s58 34.4 93.9 36.2c37 2.1 147.9 2.1 184.9 0 35.9-1.7 67.7-9.9 93.9-36.2 26.2-26.2 34.4-58 36.2-93.9 2.1-37 2.1-147.8 0-184.8zM399 388c-7.8 19.6-22.9 34.7-42.6 42.6-29.5 11.7-99.5 9-132.1 9s-102.7 2.6-132.1-9c-19.6-7.8-34.7-22.9-42.6-42.6-11.7-29.5-9-99.5-9-132.1s-2.6-102.7 9-132.1c7.8-19.6 22.9-34.7 42.6-42.6 29.5-11.7 99.5-9 132.1-9s102.7-2.6 132.1 9c19.6 7.8 34.7 22.9 42.6 42.6 11.7 29.5 9 99.5 9 132.1s2.7 102.7-9 132.1z"]};const Q8=({isOpen:i,onClose:e})=>{const[t,n]=H.useState(!1),[r,a]=H.useState(!1),[s,l]=H.useState(!1);H.useEffect(()=>{if(i){a(!1),setTimeout(()=>n(!0),10);const f=setTimeout(()=>l(!0),50);return()=>clearTimeout(f)}else n(!1),a(!1),l(!1)},[i]);const u=()=>{a(!0),n(!1),setTimeout(()=>e(),800)};return i?_V.createPortal(I.jsx("div",{className:"fixed inset-0 flex items-center justify-center z-50",style:{zIndex:9999},onClick:()=>{s&&e()},children:I.jsx("div",{className:`thanks-page-container transition-all duration-800 ease-out ${t&&!r?"opacity-100 scale-100 translate-y-0":"opacity-0 scale-90 translate-y-8"}`,onClick:f=>f.stopPropagation(),children:I.jsxs("div",{className:"thanks-card",children:[I.jsx("button",{onClick:u,className:"cursor-pointer absolute top-4 right-4 text-white hover:text-gray-300 text-2xl z-10",children:"✕"}),I.jsxs("div",{className:"signup-header",children:[I.jsx("img",{src:sR,alt:"BaFT Logo",className:"signup-logo"}),I.jsx("p",{className:"signup-tagline",children:"Built for You, Powered by Tech"})]}),I.jsx("div",{className:"checkmark-wrapper",children:I.jsxs("svg",{className:"checkmark-svg",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 52 52",children:[I.jsx("circle",{className:"checkmark-circle",cx:"26",cy:"26",r:"25",fill:"none"}),I.jsx("path",{className:"checkmark-path",fill:"none",d:"M14 27l7 7 17-17"})]})}),I.jsxs("div",{className:"thanks-text",children:[I.jsx("h2",{className:"thanks-title",children:"Thanks for subscribing!"}),I.jsx("p",{className:"thanks-message font-light text-white opacity-85",children:"You're all set! We'll keep you updated with our latest news and exclusive offers."})]})]})})}),document.body):null},qT=1e3,YT=i=>i<.5?4*i*i*i:1-Math.pow(-2*i+2,3)/2,Kle=Nr.memo(({content:i,maxLength:e=200,onExpandChange:t})=>{const[n,r]=H.useState(!1),a=H.useRef(null),[s,l]=H.useState(null),[u,f]=H.useState(!1),p=1200,g=1500,v="cubic-bezier(0.25, 0.8, 0.25, 1)",_="cubic-bezier(0.33, 1, 0.68, 1)",[S,w]=H.useState(p),[E,b]=H.useState(v),R=H.useRef(n),C=i.length>e,A=H.useMemo(()=>i.split(/\n+/).map(B=>B.trim()).filter(B=>B.length>0),[i]),N=()=>{const B=!n;r(B),t&&t(B)},L=()=>{try{if(typeof window>"u"||typeof document>"u")return 180;const B=Math.max(document.documentElement?.clientWidth||0,window.innerWidth||0),U=Math.max(140,Math.min(.28*B,220));return Math.round(U)}catch{return 180}};return H.useEffect(()=>{a.current&&l(L())},[]),H.useEffect(()=>{const B=a.current;if(!B)return;const U=B.getBoundingClientRect?.(),P=U&&typeof U.height=="number"?U.height:B.offsetHeight||0,z=n?B.scrollHeight||P:L();n?(w(p),b(v)):(w(g),b(_)),f(!0),l(Math.round(P));const X=requestAnimationFrame(()=>{l(Math.round(z))}),te=setTimeout(()=>{f(!1),n&&l(null)},(n?p:g)+50);return()=>{cancelAnimationFrame(X),clearTimeout(te)}},[n]),H.useEffect(()=>{R.current=n},[n]),I.jsxs("div",{className:"leading-relaxed",children:[I.jsx("div",{ref:a,style:{height:s==null?n?"auto":`${L()}px`:`${s}px`,overflow:"hidden",transition:u?`height ${S}ms ${E}`:"none",willChange:u?"height":"auto"},children:A.map((B,U)=>I.jsx("p",{className:U===A.length-1?"mb-0":"mb-2",style:{fontFamily:"Inter, sans-serif",fontWeight:"400",fontStyle:"normal",fontSize:"clamp(10px, 2.8vw, 12.38px)",lineHeight:"147%",letterSpacing:"0px",verticalAlign:"middle",color:"#909090",width:"clamp(250px, 80vw, 326.1158447265625px)",opacity:1},children:B},U))}),C&&I.jsx("div",{className:"button-container",style:{transform:"translateY(0)",transition:`transform ${S}ms ${E}`},children:I.jsx("button",{onClick:N,className:"mt-1 reveal-button",style:{fontFamily:"Inter, sans-serif",fontWeight:"400",fontStyle:"normal",borderRadius:"200px",backgroundColor:"#E3EDFF",color:"#092646",border:"none",cursor:"pointer",width:"clamp(70px, 20vw, 140px)",height:"clamp(28px, 7vw, 44px)",fontSize:"clamp(9px, 2.5vw, 13px)",lineHeight:"clamp(12px, 3vw, 16px)",letterSpacing:"0px",verticalAlign:"middle",opacity:1,whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",transition:"all 8s cubic-bezier(0.1, 0.0, 0.1, 1)"},onTouchStart:B=>{B.target.style.backgroundColor="#000000",B.target.style.color="#ffffff",B.target.style.transform="scale(0.95)"},onTouchEnd:B=>{B.target.style.backgroundColor="#E3EDFF",B.target.style.color="#092646",B.target.style.transform="scale(1)"},children:n?"Read Less":"Read More"})})]})}),ZT=Nr.memo(({disabled:i=!1})=>{const[e,t]=H.useState(null),[n,r]=H.useState(!1),[a,s]=H.useState("full"),[l,u]=H.useState("full"),[f,p]=H.useState(new Set(["/Property 1=Image.png"])),g=Nr.useMemo(()=>[{id:"vibha",name:"Vibha Harish",position:"Co-Founder, BaFT Technology",area:{x:"35%",y:"45%",width:"30%",height:"55%"},image:"/Property 1=Vibha Harish (1).png",textPosition:{left:"51%",bottom:"26%",transform:"translateX(-50%)"},animation:"center"},{id:"dion",name:"Dion Monteiro",position:"Co-Founder, BaFT Technology",area:{x:"5%",y:"20%",width:"35%",height:"70%"},image:"/Property 1=Dion Monteiro (1).png",textPosition:{left:"8%",bottom:"27%"},animation:"fade-right"},{id:"saket",name:"Saket Borkar",position:"Co-Founder, BaFT Technology",area:{x:"60%",y:"15%",width:"35%",height:"75%"},image:"/Property 1=Saket Borkar (1).png",textPosition:{right:"5%",bottom:"27%"},animation:"fade-left"}],[]),v=Nr.useMemo(()=>["full","vibha","dion","saket"],[]);Nr.useEffect(()=>{g.map(A=>A.image).forEach(A=>{const N=new Image;N.onload=()=>{p(L=>new Set([...L,A]))},N.src=A})},[g]),Nr.useEffect(()=>{if(!n&&!i){const C=setInterval(()=>{s(A=>{const L=(v.findIndex(B=>B===A)+1)%v.length;return v[L]})},2500);return()=>clearInterval(C)}else s("full")},[n,i,v]),Nr.useEffect(()=>{if(i){u("full");return}u((n?e:a)||"full")},[a,e,n,i]),Nr.useEffect(()=>{i&&(t(null),r(!1))},[i]);const _=()=>{i||r(!0)},S=()=>{i||(t(null),r(!1),s("full"))},w=C=>{i||t(C)},E=C=>{i||r(!0)},b=C=>{i||(t(null),r(!1),s("full"))},R=C=>{if(!C)return{};const A=n&&e===C.id,N=!n&&a===C.id,L=A||N;switch(C.animation){case"fade-right":return{name:{transform:L?"translateX(0)":"translateX(20px)",opacity:L?1:0,transition:"transform 0.6s ease-in-out 0.5s, opacity 0.6s ease-in-out 0.5s"},role:{transform:"translateX(0)",opacity:L?1:0,transition:"transform 1.2s ease-in-out, opacity 1.2s ease-in-out"}};case"fade-left":return{name:{transform:L?"translateX(0)":"translateX(-30px)",opacity:L?1:0,transition:"transform 0.6s ease-in-out 0.5s, opacity 0.6s ease-in-out 0.5s",textAlign:"right"},role:{transform:"translateX(0)",opacity:L?1:0,transition:"transform 1.2s ease-in-out, opacity 1.2s ease-in-out",textAlign:"right"}};case"center":return{name:{opacity:L?1:0,transition:"opacity 0.6s ease-in-out 0.5s",textAlign:"center"},role:{opacity:L?1:0,transition:"opacity 1.2s ease-in-out",textAlign:"center"}};default:return{name:{opacity:L?1:0,transition:"opacity 0.6s ease-in-out"},role:{opacity:L?1:0,transition:"opacity 0.6s ease-in-out 0.1s"}}}};return I.jsx("div",{className:"relative bg-gray-100 w-full h-full",style:{borderRadius:"inherit",flex:"none",order:1,flexGrow:0,width:"100%",height:"100%"},children:I.jsxs("div",{className:"relative w-full h-full overflow-hidden bg-gray-100",style:{borderRadius:"inherit",pointerEvents:i?"none":"auto"},onMouseEnter:i?void 0:_,onMouseLeave:i?void 0:S,onTouchStart:i?void 0:E,onTouchEnd:i?void 0:b,children:[I.jsx("img",{src:"/Property 1=Image.png",alt:"BaFT Team Full",className:"absolute inset-0 w-full h-full object-cover object-center",style:{objectPosition:"center center",opacity:l==="full"?1:.999,transition:"opacity 1200ms ease-in-out",zIndex:1},onLoad:()=>{}}),g.map(C=>{const A=f.has(C.image),N=l===C.id;return I.jsx("img",{src:C.image,alt:`BaFT Team ${C.name}`,className:"absolute inset-0 w-full h-full object-cover object-center",style:{objectPosition:"center center",opacity:N&&A?1:0,transition:"opacity 1200ms ease-in-out",zIndex:N?2:1,display:A?"block":"none"},onLoad:()=>{p(L=>new Set([...L,C.image]))}},C.id)}),g.map(C=>{const A=R(C);return I.jsx("div",{className:"absolute z-30 pointer-events-none",style:{...C.textPosition,maxWidth:"280px"},children:I.jsxs("div",{className:"text-white",children:[I.jsx("h3",{className:"text-2xl font-bold leading-tight mb-2",style:{fontFamily:"EB Garamond, serif",textShadow:"2px 2px 4px rgba(0,0,0,0.8)",...A.name},children:C.name}),I.jsx("p",{className:"text-lg leading-tight",style:{fontFamily:"Inter, sans-serif",fontWeight:"150",textShadow:"2px 2px 4px rgba(0,0,0,0.8)",...A.role},children:C.position})]})},C.id)}),!i&&g.map(C=>I.jsx("div",{className:"absolute cursor-pointer z-20",style:{left:C.area.x,top:C.area.y,width:C.area.width,height:C.area.height},onMouseEnter:()=>w(C.id),onTouchStart:()=>w(C.id)},C.id))]})})}),$le=()=>{const[i,e]=H.useState(!1),[t,n]=H.useState(0),[r,a]=H.useState(0),[s,l]=H.useState(!1),[u,f]=H.useState(!1),[p,g]=H.useState(!1),[v,_]=H.useState(!1),S=H.useRef(null);H.useRef(null);const w=H.useRef(null),E=H.useRef(null),[b,R]=H.useState(null),C=H.useRef(null),A=H.useRef(!1),N=H.useRef(!1),L=H.useRef(!1),B=H.useRef(0);H.useRef(0);const U=H.useRef(0);H.useRef(0);const P=H.useRef([]),z=H.useRef(0),X=H.useRef(!1),te=H.useRef(""),se=H.useRef(""),ae=H.useRef(""),ue=H.useRef(null),G=H.useRef(null),Y=H.useRef(!1),Q=()=>{try{document.body.style.overflow=te.current||"",document.body.style.touchAction=se.current||"",document.documentElement.style.overscrollBehavior=ae.current||""}catch(ee){console.warn("Could not release body scroll:",ee)}},ye=H.useRef([]),F=()=>{ye.current.forEach(({eventType:ee,handler:ie,options:_e})=>{document.removeEventListener(ee,ie,_e)}),ye.current.length=0};H.useEffect(()=>()=>{Q(),F(),A.current=!1},[]);const fe=()=>{try{const Ze=new CustomEvent("navigateToSlide",{detail:{index:7,slow:!1,instant:!1}});window.dispatchEvent(Ze);const gt=new CustomEvent("aboutToPreFooterTransition");window.dispatchEvent(gt);return}catch(Ze){console.warn("AboutMobile: Slide navigation failed:",Ze)}const ee=[".pre-footer-container","#footer",'[data-theme="dark"]',".combined-footer",'section[data-theme="dark"]'];for(const Ze of ee){const gt=document.querySelector(Ze);if(gt){gt.scrollIntoView({behavior:"smooth",block:"start"});return}}const ie=document.querySelector("#about");if(ie){let Ze=ie.nextElementSibling;for(;Ze&&Ze.tagName!=="SECTION";)Ze=Ze.nextElementSibling;if(Ze){Ze.scrollIntoView({behavior:"smooth",block:"start"});return}}const Be=window.pageYOffset+window.innerHeight;window.scrollTo({top:Math.min(Be,document.documentElement.scrollHeight-window.innerHeight),behavior:"smooth"})};H.useEffect(()=>{try{const ie=navigator.userAgent||"",_e=/iPhone/i.test(ie),Be=Math.min(window.innerWidth||0,window.innerHeight||0),Ze=Math.max(window.innerWidth||0,window.innerHeight||0),gt=Be>=380&&Be<=400,pt=Ze>=840&&Ze<=870;_(_e&&gt&&pt)}catch{}const ee=()=>{if(E.current){const ie=E.current.getBoundingClientRect();R({left:ie.left,top:ie.top,width:ie.width,height:ie.height})}};return ee(),window.addEventListener("resize",ee),()=>window.removeEventListener("resize",ee)},[]),H.useEffect(()=>{if(!S.current)return;let ee=null,ie=null;const _e=Ze=>{if(!(!w.current||ee||A.current)){if(X.current){Ze.cancelable&&Ze.preventDefault(),Ze.stopPropagation();const gt=Ze.deltaY*.1;return z.current+=gt,z.current*=.9,z.current=Math.max(-50,Math.min(50,z.current)),!1}ee=requestAnimationFrame(()=>{try{const gt=w.current.getBoundingClientRect(),pt=w.current.offsetHeight,ne=window.innerHeight;if(gt.top<=0&&gt.bottom>ne){const be=Math.abs(gt.top),De=Math.max(pt-ne,1),Ve=Math.max(0,Math.min(be/De,1))*.2,$e=U.current+(Ve-U.current)*.06,_t=.02,vt=Math.max(-_t,Math.min(_t,$e-U.current));U.current+=vt,n(U.current)}else gt.top>0?(U.current+=(0-U.current)*.05,n(U.current)):(U.current+=(1-U.current)*.05,n(U.current))}catch(gt){console.warn("Scroll calculation error:",gt),n(0)}finally{ee=null}})}},Be=()=>{A.current||(ie=requestAnimationFrame(Be))};return Be(),window.addEventListener("scroll",_e,{passive:!1}),window.addEventListener("wheel",_e,{passive:!1}),()=>{window.removeEventListener("scroll",_e),window.removeEventListener("wheel",_e),ee&&cancelAnimationFrame(ee),ie&&cancelAnimationFrame(ie)}},[]),H.useEffect(()=>{if(!S.current)return;const ee={passive:!1,capture:!0},ie=40;let _e=null;const Be=be=>{if(!w.current)return;const De=w.current.getBoundingClientRect(),Ye=window.innerHeight;if(!(De.top<=0&&De.bottom>Ye))return;if(be.cancelable&&be.preventDefault(),be.stopPropagation(),A.current)return!1;if(be.deltaY<=0)return;X.current=!0,B.current=Date.now(),P.current=[],A.current=!0,l(!0);try{E.current&&(C.current=E.current.getBoundingClientRect())}catch{}const Ve=vt=>(vt.cancelable&&vt.preventDefault(),vt.stopPropagation(),!1);try{te.current=document.body.style.overflow,se.current=document.body.style.touchAction,ae.current=document.documentElement.style.overscrollBehavior,document.body.style.overflow="hidden",document.body.style.touchAction="none",document.documentElement.style.overscrollBehavior="none"}catch{}document.addEventListener("wheel",Ve,ee),document.addEventListener("touchmove",Ve,ee),document.addEventListener("touchstart",Ve,ee),document.addEventListener("touchend",Ve,ee),document.addEventListener("scroll",Ve,ee);const Ke=performance.now(),$e=Math.max(0,Math.min(t,1)),_t=vt=>{const $=vt||performance.now(),q=Math.max(0,Math.min(($-Ke)/qT,1)),xe=YT(q),Ne=$e+(1-$e)*xe;if(n(Ne),a(q),q<1)requestAnimationFrame(_t);else{document.removeEventListener("wheel",Ve,ee),document.removeEventListener("touchmove",Ve,ee),document.removeEventListener("touchstart",Ve,ee),document.removeEventListener("touchend",Ve,ee),document.removeEventListener("scroll",Ve,ee);try{document.body.style.overflow=te.current||"",document.body.style.touchAction=se.current||"",document.documentElement.style.overscrollBehavior=ae.current||""}catch{}A.current=!1,l(!1),a(1),setTimeout(()=>{fe();try{const ze=new CustomEvent("aboutMobileExpansionComplete");window.dispatchEvent(ze)}catch(ze){console.warn("Could not dispatch aboutMobileExpansionComplete event:",ze)}},1e3)}};requestAnimationFrame(_t)},Ze=be=>{if(!w.current)return;const De=w.current.getBoundingClientRect(),Ye=window.innerHeight;if(!(De.top<=0&&De.bottom>Ye))return;const Ve=be.touches&&be.touches[0]?be.touches[0]:null;Ve&&(_e=Math.max(0,Math.min(Ve.clientY,window.innerHeight)),ue.current=Math.max(0,Math.min(Ve.clientX,window.innerWidth)),G.current=_e,Y.current=!!(be.target&&be.target.closest&&be.target.closest(".reveal-button")))},gt=be=>{if(!w.current)return;const De=w.current.getBoundingClientRect(),Ye=window.innerHeight;if(!(De.top<=0&&De.bottom>Ye)||Y.current)return;const Ve=be.touches&&be.touches[0]?be.touches[0]:null;if(!Ve)return;const Ke=Math.max(0,Math.min(Ve.clientX,window.innerWidth)),$e=Math.max(0,Math.min(Ve.clientY,window.innerHeight)),_t=ue.current||0,vt=G.current||0,$=Math.abs(Ke-_t),q=Math.abs($e-vt);if($>4||q>4)return be.cancelable&&be.preventDefault(),be.stopPropagation(),!1},pt=be=>{if(!w.current)return;const De=w.current.getBoundingClientRect(),Ye=window.innerHeight;if(!(De.top<=0&&De.bottom>Ye)||_e==null)return;const Ve=be.changedTouches&&be.changedTouches[0]?be.changedTouches[0].clientY:_e;if(_e-Ve<ie)return;if(Y.current||(be.cancelable&&be.preventDefault(),be.stopPropagation()),A.current){Y.current=!1;return}A.current=!0,l(!0);const $e=q=>(q.cancelable&&q.preventDefault(),q.stopPropagation(),!1);try{E.current&&(C.current=E.current.getBoundingClientRect()),te.current=document.body.style.overflow,se.current=document.body.style.touchAction,ae.current=document.documentElement.style.overscrollBehavior,document.body.style.overflow="hidden",document.body.style.touchAction="none",document.documentElement.style.overscrollBehavior="none"}catch{}document.addEventListener("wheel",$e,ee),document.addEventListener("touchmove",$e,ee),document.addEventListener("touchstart",$e,ee),document.addEventListener("touchend",$e,ee),document.addEventListener("scroll",$e,ee);const _t=performance.now(),vt=Math.max(0,Math.min(t,1)),$=q=>{const xe=q||performance.now(),Ne=Math.max(0,Math.min((xe-_t)/qT,1)),ze=YT(Ne),Ue=vt+(1-vt)*ze;if(n(Ue),a(Ne),Ne<1)requestAnimationFrame($);else{document.removeEventListener("wheel",$e,ee),document.removeEventListener("touchmove",$e,ee),document.removeEventListener("touchstart",$e,ee),document.removeEventListener("touchend",$e,ee),document.removeEventListener("scroll",$e,ee);try{document.body.style.overflow=te.current||"",document.body.style.touchAction=se.current||"",document.documentElement.style.overscrollBehavior=ae.current||""}catch{}A.current=!1,l(!1),a(1),setTimeout(()=>{fe();try{const mt=new CustomEvent("aboutMobileExpansionComplete");window.dispatchEvent(mt)}catch(mt){console.warn("Could not dispatch aboutMobileExpansionComplete event:",mt)}},1e3)}};requestAnimationFrame($)},ne=S.current;return ne.addEventListener("wheel",Be,ee),ne.addEventListener("touchstart",Ze,ee),ne.addEventListener("touchmove",gt,ee),ne.addEventListener("touchend",pt,ee),()=>{ne.removeEventListener("wheel",Be,ee),ne.removeEventListener("touchstart",Ze,ee),ne.removeEventListener("touchmove",gt,ee),ne.removeEventListener("touchend",pt,ee)}},[t]);const Se=YT(t),Ce=200/qT,we=1-.2*Math.max(0,Math.min(1,(r-Ce)/Math.max(1e-4,1-Ce)));return I.jsx("div",{ref:w,className:"relative",style:{height:"300vh"},children:I.jsxs("section",{ref:S,id:"about","data-theme":"light",className:"sticky top-0 bg-white flex items-center justify-center",style:{height:"100vh",width:"100vw",overflow:"hidden",paddingTop:"clamp(56px, 14vw, 112px)",overscrollBehavior:"contain",scrollBehavior:"smooth"},children:[I.jsxs("div",{className:"w-full max-w-6xl mx-auto px-4 flex flex-col h-full",children:[I.jsxs("div",{className:"flex flex-col justify-center flex-1",style:{padding:"clamp(8px, 2vw, 20px)",opacity:1-Se,transition:"none",pointerEvents:1-Se<.05?"none":"auto"},children:[I.jsxs("p",{className:"font-normal mb-2 flex items-center gap-2",style:{fontFamily:"Inter, sans-serif",fontWeight:"400",fontStyle:"normal",fontSize:"clamp(8px, 2.5vw, 12px)",lineHeight:"clamp(8px, 2.5vw, 12px)",letterSpacing:"-0.14px",verticalAlign:"middle",color:"#092646",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",opacity:1},children:[I.jsx("img",{src:"/SVG.svg",alt:"Icon",style:{width:"clamp(8px, 2.5vw, 12px)",height:"clamp(8px, 2.5vw, 12px)",transform:"rotate(-0.08deg)",opacity:1,flexShrink:0}}),I.jsx("span",{style:{whiteSpace:"nowrap"},children:"Know our story"})]}),I.jsx("h1",{className:"leading-tight mb-3 sm:mb-4",style:{fontFamily:"EB Garamond, serif",fontWeight:"700",fontStyle:"normal",fontSize:"clamp(24px, 7.5vw, 33.02px)",lineHeight:"clamp(24px, 7.5vw, 33.02px)",letterSpacing:"-0.14px",verticalAlign:"middle",color:"#1966BB",width:"clamp(140px, 40vw, 172px)",height:"clamp(24px, 7.5vw, 34px)",opacity:1,whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},children:I.jsx("span",{className:"block",children:"About BaFT"})}),I.jsx(Kle,{content:`We're Vibha, Dion and Saket, the trio behind BaFT Technology. We started this company with a simple goal: to make banking in India less of a headache and more of a smooth, dare we say... enjoyable experience.

Somewhere between dodging endless forms and wondering if "technical glitch" was just a lifestyle, we figured there had to be a better way to do things. So, armed with ambition, caffeine, and a shared love for solving messy problems, we got to work and BaFT Technology was born.

At BaFT, we build smart, seamless solutions that cut through the clutter of traditional banking. No more confusing interfaces, endless queues, or mysterious errors. Just clean, user-friendly tools designed for real people.`,onExpandChange:e})]}),I.jsx("div",{className:"flex justify-center items-center flex-1",children:I.jsx("div",{ref:E,className:"relative rounded-2xl overflow-hidden",style:{width:"clamp(280px, 75vw, 380px)",height:v?"clamp(600px, 100vh, 820px)":"clamp(520px, 100vh, 720px)",opacity:Se>.08||r>=.8||u||N.current||r>0||p||L.current?0:1,border:p?"2px solid red":"none",transition:"opacity 200ms ease-out, height 8s cubic-bezier(0.1, 0.0, 0.1, 1)",transform:"none",position:"relative",zIndex:1,left:"auto",top:"auto",right:"auto",bottom:"auto"},children:I.jsx(ZT,{disabled:Se>.02})})})]}),I.jsxs("div",{className:"fixed inset-0 pointer-events-none z-50",children:[(C.current||b)&&L.current&&(C.current?C.current.width>0:b.width>0)&&(()=>{const ee=window.innerWidth,ie=window.innerHeight,_e=C.current||b,Be=Math.max(0,Math.min(_e.left,ee-_e.width)),Ze=Math.max(0,Math.min(_e.top,ie-_e.height)),gt=Math.max(100,Math.min(_e.width,ee)),pt=Math.max(100,Math.min(_e.height,ie)),ne=Math.min(1,r/.8),be=u||N.current?1:Math.max(ne,.08),De=gt+(ee-gt)*be,Ye=pt+(ie-pt)*be;let re,Ve;if(be>=1)re=0,Ve=0;else{const $=(ee-De)/2,q=(ie-Ye)/2;re=Be+($-Be)*be,Ve=Ze+(q-Ze)*be}const Ke=Math.max(0,Math.min(re,ee-De)),$e=Math.max(0,Math.min(Ve,ie-Ye)),_t=be>=1?0:Math.max(0,16*(1-be)),vt=.25*(1-be);return I.jsxs("div",{className:"absolute floating-overlay-container",style:{position:"fixed",left:`${Ke}px`,top:`${$e}px`,right:`${be>=1?0:"auto"}px`,bottom:`${be>=1?0:"auto"}px`,width:`${De}px`,height:`${Ye}px`,borderRadius:`${_t}px`,overflow:"hidden",boxShadow:`0 40px 120px rgba(0,0,0,${vt})`,pointerEvents:"none",transform:`scale(${u&&be>=1?1.02:1})`,transformOrigin:"center center",transition:u?"all 0.8s ease-out":"none",zIndex:50,opacity:1},children:[I.jsx("div",{className:"relative w-full h-full",style:{opacity:u||N.current||r>=.8?.8:we,transition:u?"opacity 0.8s ease-out":"none"},children:I.jsx(ZT,{disabled:!0})}),I.jsx("div",{style:{position:"absolute",inset:0,background:"rgba(0, 0, 0, 0.7)",opacity:u||N.current?.7:r>=.8?Math.min(.7,(r-.8)/.2*.7):0,pointerEvents:"none",transition:u?"opacity 0.8s ease-out":"none"}})]})})(),b&&!L.current&&(Se>.08||r>=.8||u||N.current||r>0)&&(()=>{const ee=Math.max(1,window.innerWidth||1),ie=Math.max(1,window.innerHeight||1),_e=C.current||b,Be=Math.max(0,Math.min(_e.left,ee)),Ze=Math.max(0,Math.min(_e.top,ie)),gt=Math.max(0,Math.min(_e.width,ee)),pt=Math.max(0,Math.min(_e.height,ie)),ne=Be+gt/2,be=Ze+pt/2,De=ee/2,Ye=ie/2,re=Math.min(1,r/.8),Ve=Math.max(re,.08),Ke=ne+(De-ne)*Ve,$e=be+(Ye-be)*Ve,_t=ee,vt=ie,$=Ve>=1?ee:gt+(_t-gt)*Ve,q=Ve>=1?ie:pt+(vt-pt)*Ve;let xe=Ve>=1?0:Ke-$/2,Ne=Ve>=1?0:$e-q/2;$<=ee?xe=Math.max(0,Math.min(xe,ee-$)):xe=0,q<=ie?Ne=Math.max(0,Math.min(Ne,ie-q)):Ne=0;const ze=Ve>=1?0:Math.max(0,16*(1-Ve)),Ue=.25*(1-Ve);return I.jsxs("div",{className:"absolute floating-overlay-container",style:{position:"fixed",left:`${xe}px`,top:`${Ne}px`,right:`${Ve>=1?0:"auto"}px`,bottom:`${Ve>=1?0:"auto"}px`,width:`${$}px`,height:`${q}px`,borderRadius:`${ze}px`,overflow:"hidden",boxShadow:`0 40px 120px rgba(0,0,0,${Ue})`,pointerEvents:"none",transform:`scale(${u&&Ve>=1?1.02:1})`,transformOrigin:"center center",transition:u?"all 0.8s ease-out":"none",willChange:"left, top, width, height, transform, opacity",zIndex:50,opacity:1},children:[I.jsx("div",{className:"relative w-full h-full",style:{opacity:u||N.current||r>=.8?.8:we,transition:u?"opacity 0.8s ease-out":"none"},children:I.jsx(ZT,{disabled:!0})}),I.jsx("div",{style:{position:"absolute",inset:0,background:"rgba(0, 0, 0, 0.7)",opacity:u||N.current?.7:r>=.8?Math.min(.7,(r-.8)/.2*.7):0,pointerEvents:"none",transition:u?"opacity 0.8s ease-out":"none"}})]})})()]})]})})};st.registerPlugin(On);const Jle=({content:i,maxLength:e=320,onExpandChange:t,compact:n=!1,screenSize:r="medium"})=>{const[a,s]=H.useState(!1),l=H.useRef(null),[u,f]=H.useState(200),[p,g]=H.useState(!1),[v,_]=H.useState(560),S=(A,N,L)=>{switch(r){case"small":return A;case"medium":return N;case"large":return L;default:return N}},w=(A,N,L)=>{switch(r){case"small":return A;case"medium":return N;case"large":return L;default:return N}},E=(A,N,L)=>{switch(r){case"small":return A;case"medium":return N;case"large":return L;default:return N}},b=i.length>e,R=i.split(/\n+/).map(A=>A.trim()).filter(A=>A.length>0),C=()=>{const A=!a;s(A),t&&t(A)};return H.useEffect(()=>{const A=()=>{if(!(!l.current||typeof window>"u"))try{const U=window.innerWidth||0,P=window.innerHeight||0,z=U<1280||P<820;g(z);const X=l.current.querySelectorAll("p"),te=X&&X[0]?X[0]:l.current,se=window.getComputedStyle(te),ae=parseFloat(se.lineHeight||"0")||28;let ue=250;if(X&&X.length>=2){const ye=X[0].getBoundingClientRect(),F=ye&&ye.height>0?ye.height:ae*4,fe=X[1].getBoundingClientRect(),Se=fe&&fe.height>0?fe.height:ae*4,Ce=Math.ceil(Se/ae);ue=F,ue+=16}else if(X&&X.length===1){const ye=X[0].getBoundingClientRect();ue=(ye&&ye.height>0?ye.height:ae*4)+24}else ue=Math.max(6,z?4:5)*ae+16;ue=Math.max(ue,z?200:250),f(ue);const Y=r==="small"?200:r==="medium"?160:r==="large"?Math.max(180,P*.25):120,Q=Math.max(500,(P||800)-Y);_(Q)}catch{f(250),_(900)}},N=()=>{if(!(!l.current||typeof window>"u"))try{const U=l.current.querySelectorAll("p");if(U.length>=2){const P=document.createElement("div");P.style.position="absolute",P.style.visibility="hidden",P.style.width=l.current.offsetWidth+"px",P.style.fontFamily=window.getComputedStyle(U[0]).fontFamily,P.style.fontSize=window.getComputedStyle(U[0]).fontSize,P.style.lineHeight=window.getComputedStyle(U[0]).lineHeight,P.style.padding="0",P.style.margin="0";const z=U[0].cloneNode(!0);P.appendChild(z),document.body.appendChild(P);const X=P.offsetHeight+8;document.body.removeChild(P),X>0&&X>u&&f(X)}}catch{A()}},B=setTimeout(()=>{A(),setTimeout(N,100),setTimeout(A,200),setTimeout(A,500)},50);return window.addEventListener("resize",A,{passive:!0}),typeof document<"u"&&document.fonts?.ready?.then(()=>{setTimeout(A,100)}),()=>{clearTimeout(B),window.removeEventListener("resize",A)}},[]),H.useEffect(()=>{if(l.current)if(st.killTweensOf(l.current),l.current.style.height=`${u}px`,a){const A=l.current.scrollHeight,N=Math.max(u,v),L=Math.min(Math.max(A,u),N);typeof window<"u"&&window.innerWidth>=1024?st.to(l.current,{height:L,duration:1.2,ease:"power3.out"}):l.current.style.height=`${L}px`}else typeof window<"u"&&window.innerWidth>=1024?st.to(l.current,{height:u,duration:1,ease:"power3.out"}):l.current.style.height=`${u}px`},[a,u,v]),H.useEffect(()=>{if(a&&l.current)try{l.current.scrollTo({top:0,behavior:"auto"})}catch{try{l.current.scrollTop=0}catch{}}},[a]),I.jsxs("div",{className:"leading-relaxed pr-2",style:{maxWidth:E("520px","600px","700px"),maxHeight:n||r==="small"?"calc(100vh - 200px)":r==="medium"?"calc(100vh - 180px)":r==="large"?"calc(100vh - 25vh)":"calc(100vh - 160px)",display:"flex",flexDirection:"column",minHeight:a?"auto":"280px",transition:typeof window<"u"&&window.innerWidth>=1024?"all 1.2s cubic-bezier(0.4, 0, 0.2, 1)":"none"},children:[I.jsxs("div",{ref:l,style:{height:`${Math.max(u,280)}px`,maxHeight:a?`${v}px`:void 0,overflowY:a?"auto":"hidden",WebkitOverflowScrolling:a?"touch":void 0,paddingRight:a?"4px":0,opacity:a?1:.9,transition:typeof window<"u"&&window.innerWidth>=1024?"opacity 1.2s cubic-bezier(0.4, 0, 0.2, 1), padding 1.2s cubic-bezier(0.4, 0, 0.2, 1), height 1.2s cubic-bezier(0.4, 0, 0.2, 1)":"opacity 0.3s ease, height 0.3s ease",position:"relative",flex:a?"1 1 auto":"0 0 auto",paddingTop:"8px",paddingBottom:"8px"},children:[R.map((A,N)=>I.jsx("p",{className:"mt-[-10] mb-6 sm:mb-2 md:mb-3",style:{fontFamily:"Inter, sans-serif",color:"#909090",fontSize:r==="large"?"16px":n?w("14px","16px","18px"):w("16px","18px","16px"),lineHeight:r==="large"?"24px":n?w("20px","22px","24px"):w("22px","24px","22px"),marginBottom:N===0?S("16px","18px","20px"):S("14px","16px","18px")},children:A},N)),!a&&I.jsx("div",{"aria-hidden":!0,style:{position:"absolute",left:0,right:0,bottom:0,height:Math.max(24,Math.min(u*.25,72)),background:"linear-gradient(to bottom, rgba(255,255,255,0), rgba(255,255,255,1))",pointerEvents:"none"}})]}),b&&I.jsx("button",{onClick:C,className:"mt-2",style:{fontFamily:"Inter, sans-serif",width:E("140px","160px","180px"),height:E("50px","60px","60px"),fontSize:w("14px","18px","16px"),lineHeight:1.1,borderRadius:"200px",backgroundColor:"#E3EDFF",color:"#092646",border:"none",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",flex:"0 0 auto",order:2,flexGrow:0,alignSelf:"flex-start",marginTop:a?r==="large"?"4px":S("10px","12px","8px"):r==="large"?"2px":S("6px","8px","12px"),zIndex:10,position:"relative",transition:typeof window<"u"&&window.innerWidth>=1024?"all 1.2s cubic-bezier(0.4, 0, 0.2, 1), margin-top 1.2s cubic-bezier(0.4, 0, 0.2, 1), transform 0.3s ease-out":"all 0.3s ease-out",transform:"translateY(0)",opacity:1},onMouseEnter:A=>{typeof window<"u"&&window.innerWidth>=1024?(A.target.style.backgroundColor="#000000",A.target.style.color="#ffffff",A.target.style.transform="translateY(-2px) scale(1.02)"):(A.target.style.backgroundColor="#000000",A.target.style.color="#ffffff")},onMouseLeave:A=>{typeof window<"u"&&window.innerWidth>=1024?(A.target.style.backgroundColor="#E3EDFF",A.target.style.color="#092646",A.target.style.transform="translateY(0) scale(1)"):(A.target.style.backgroundColor="#E3EDFF",A.target.style.color="#092646")},children:a?"Read Less":"Read More"})]})},S4=({disabled:i=!1})=>{const[e,t]=H.useState(null),[n,r]=H.useState(!1),[a,s]=H.useState("full"),[l,u]=H.useState("full"),[f,p]=H.useState(new Set([W5])),g=Nr.useMemo(()=>[{id:"vibha",name:"Vibha Harish",position:"Co-Founder, BaFT Technology",area:{x:"35%",y:"45%",width:"30%",height:"55%"},image:R7,textPosition:{left:"51%",bottom:"26%",transform:"translateX(-50%)"},animation:"center"},{id:"dion",name:"Dion Monteiro",position:"Co-Founder, BaFT Technology",area:{x:"5%",y:"20%",width:"35%",height:"70%"},image:D7,textPosition:{left:"8%",bottom:"27%"},animation:"fade-right"},{id:"saket",name:"Saket Borkar",position:"Co-Founder, BaFT Technology",area:{x:"60%",y:"15%",width:"35%",height:"75%"},image:O7,textPosition:{right:"5%",bottom:"27%"},animation:"fade-left"}],[]),v=Nr.useMemo(()=>["full","vibha","dion","saket"],[]);Nr.useEffect(()=>{g.map(R=>R.image).forEach(R=>{const C=new Image;C.onload=()=>{p(A=>new Set([...A,R]))},C.src=R})},[g]),Nr.useEffect(()=>{if(!n&&!i){const b=setInterval(()=>{s(R=>{const A=(v.findIndex(N=>N===R)+1)%v.length;return v[A]})},2500);return()=>clearInterval(b)}else s("full")},[n,i,v]),Nr.useEffect(()=>{if(i){u("full");return}u((n?e:a)||"full")},[a,e,n,i]),Nr.useEffect(()=>{i&&(t(null),r(!1))},[i]);const _=()=>{i||r(!0)},S=()=>{i||(t(null),r(!1),s("full"))},w=b=>{i||t(b)},E=b=>{if(!b)return{};const R=n&&e===b.id,C=!n&&a===b.id,A=R||C;switch(b.animation){case"fade-right":return{name:{transform:A?"translateX(0)":"translateX(20px)",opacity:A?1:0,transition:"transform 0.6s ease-in-out 0.5s, opacity 0.6s ease-in-out 0.5s"},role:{transform:"translateX(0)",opacity:A?1:0,transition:"transform 1.2s ease-in-out, opacity 1.2s ease-in-out"}};case"fade-left":return{name:{transform:A?"translateX(0)":"translateX(-30px)",opacity:A?1:0,transition:"transform 0.6s ease-in-out 0.5s, opacity 0.6s ease-in-out 0.5s",textAlign:"right"},role:{transform:"translateX(0)",opacity:A?1:0,transition:"transform 1.2s ease-in-out, opacity 1.2s ease-in-out",textAlign:"right"}};case"center":return{name:{opacity:A?1:0,transition:"opacity 0.6s ease-in-out 0.5s",textAlign:"center"},role:{opacity:A?1:0,transition:"opacity 1.2s ease-in-out",textAlign:"center"}};default:return{name:{opacity:A?1:0,transition:"opacity 0.6s ease-in-out"},role:{opacity:A?1:0,transition:"opacity 0.6s ease-in-out 0.1s"}}}};return I.jsx("div",{className:"relative bg-gray-100 w-full h-full",style:{borderRadius:"24px",flex:"none",order:1,flexGrow:0,minHeight:"400px",minWidth:"300px"},children:I.jsxs("div",{className:"relative w-full h-full overflow-hidden bg-gray-100",style:{borderRadius:"24px",pointerEvents:i?"none":"auto"},onMouseEnter:i?void 0:_,onMouseLeave:i?void 0:S,children:[I.jsx("img",{src:W5,alt:"BaFT Team Full",className:"absolute inset-0 w-full h-full object-cover object-center",style:{objectPosition:"center center",opacity:l==="full"?1:.999,transition:"opacity 1200ms ease-in-out",zIndex:1},onLoad:()=>{}}),g.map(b=>{const R=f.has(b.image),C=l===b.id;return I.jsx("img",{src:b.image,alt:`BaFT Team ${b.name}`,className:"absolute inset-0 w-full h-full object-cover object-center",style:{objectPosition:"center center",opacity:C&&R?1:0,transition:"opacity 1200ms ease-in-out",zIndex:C?2:1,display:R?"block":"none"},onLoad:()=>{p(A=>new Set([...A,b.image]))}},b.id)}),g.map(b=>{const R=E(b);return I.jsx("div",{className:"absolute z-30 pointer-events-none",style:{...b.textPosition,maxWidth:"280px"},children:I.jsxs("div",{className:"text-white",children:[I.jsx("h3",{className:"text-2xl font-bold leading-tight mb-2",style:{fontFamily:"EB Garamond, serif",textShadow:"2px 2px 4px rgba(0,0,0,0.8)",...R.name},children:b.name}),I.jsx("p",{className:"text-lg leading-tight",style:{fontFamily:"Inter, sans-serif",fontWeight:"150",textShadow:"2px 2px 4px rgba(0,0,0,0.8)",...R.role},children:b.position})]})},b.id)}),!i&&g.map(b=>I.jsx("div",{className:"absolute cursor-pointer z-20",style:{left:b.area.x,top:b.area.y,width:b.area.width,height:b.area.height},onMouseEnter:()=>w(b.id)},b.id))]})})},Qle=()=>{const[i,e]=H.useState(!1),[t,n]=H.useState(!1),[r,a]=H.useState(!1),[s,l]=H.useState(0),[u,f]=H.useState("medium"),[p,g]=H.useState({columnGap:"100px",maxWidth:"1400px",paddingHorizontal:"2rem",marginTop:"4vh"}),v=(ie,_e,Be)=>{switch(u){case"small":return ie;case"medium":return _e;case"large":return Be;default:return _e}},_=(ie,_e,Be)=>{switch(u){case"small":return ie;case"medium":return _e;case"large":return Be;default:return _e}},S=(ie,_e,Be)=>{switch(u){case"small":return ie;case"medium":return _e;case"large":return Be;default:return _e}},w=H.useRef(!1),E=H.useRef(0),b=H.useRef(0),R=H.useRef(""),C=H.useRef(""),A=H.useRef(""),[N,L]=H.useState(0),[B,U]=H.useState(0),P=5500;H.useEffect(()=>{if(!t)return;const ie=document.querySelector("nav")||document.getElementById("navbar")||document.querySelector(".site-navbar"),_e=()=>{const Be=ie?ie.getBoundingClientRect().height:64;document.documentElement.style.setProperty("--nav-h",`${Be}px`);const Ze=Math.max(12,Math.min(window.innerHeight*.02,28));document.documentElement.style.setProperty("--gap",`${Ze}px`);const gt=Math.min(window.innerWidth||0,window.innerHeight||0),pt=Math.max(.65,Math.min(gt/1100,1.05));document.documentElement.style.setProperty("--btn-scale",String(pt));const ne=window.innerWidth||0;let be=1;ne<=1366&&(be=.94),ne<=1280&&(be=.9),ne<=1180&&(be=.86),ne<=1100&&(be=.84),ne<=1024&&(be=.82),ne<=980&&(be=.8),ne<=940&&(be=.78),(window.innerHeight||0)<=820&&(be*=.94),(window.innerHeight||0)<=760&&(be*=.92),i&&(be*=.92),be=Math.max(.72,Math.min(be,1)),document.documentElement.style.setProperty("--left-scale",String(be));const De=(window.innerWidth||0)<1280||(window.innerHeight||0)<820;a(De)};return _e(),window.addEventListener("resize",_e,{passive:!0}),()=>window.removeEventListener("resize",_e)},[t,i]),H.useEffect(()=>{t&&l(0)},[t]);const z=H.useRef(null),X=H.useRef(null),te=H.useRef(null),se=H.useRef(null),[ae,ue]=H.useState(null),G=H.useRef(!1),Y=H.useRef(!1);H.useEffect(()=>{const ie=()=>{const _e=window.innerWidth>=1024;n(_e);const Be=window.innerHeight||0,Ze=window.innerWidth||0;Be>=1e3||Be>=900&&Ze>=1400?f("large"):Be>=768?f("medium"):f("small")};return ie(),window.addEventListener("resize",ie),()=>window.removeEventListener("resize",ie)},[]),H.useEffect(()=>{const ie=()=>{const _e=window.innerWidth||0,Be=window.innerHeight||0;let Ze;_e<=1024?Ze=Math.max(40,_e*.06):_e<=1280?Ze=Math.max(60,_e*.08):_e<=1536?Ze=Math.max(80,_e*.09):Ze=Math.max(100,_e*.1);let gt;_e<=1024?gt=Math.min(1e3,_e*.95):_e<=1280?gt=Math.min(1200,_e*.9):_e<=1536?gt=Math.min(1400,_e*.85):gt=Math.min(1600,_e*.8);let pt;_e<=768?pt=Math.max(16,_e*.05):_e<=1024?pt=Math.max(24,_e*.03):_e<=1280?pt=Math.max(32,_e*.025):pt=Math.max(40,_e*.02);let ne;Be<=600?ne=Math.max(20,Be*.03):Be<=800?ne=Math.max(30,Be*.04):Be<=1e3?ne=Math.max(40,Be*.05):ne=Math.max(50,Be*.06),g({columnGap:`${Math.round(Ze)}px`,maxWidth:`${Math.round(gt)}px`,paddingHorizontal:`${Math.round(pt)}px`,marginTop:`${Math.round(ne)}px`})};return ie(),window.addEventListener("resize",ie),()=>window.removeEventListener("resize",ie)},[]),H.useEffect(()=>{if(!z.current||!t)return;let ie=null;const _e=()=>{!se.current||ie||w.current||(ie=requestAnimationFrame(()=>{try{const Be=se.current.getBoundingClientRect(),Ze=se.current.offsetHeight,gt=window.innerHeight;if(Be.top<=0&&Be.bottom>gt){const pt=Math.abs(Be.top),ne=Math.max(Ze-gt,1),be=Math.max(0,Math.min(pt/ne,1));l(be),typeof window<"u"&&(window.__aboutPinnedActive=!0),G.current=!1}else if(Be.top>0)l(0),typeof window<"u"&&(window.__aboutPinnedActive=!1),G.current=!1,E.current=0,b.current=0,U(0),Y.current=!1;else if(l(1),typeof window<"u"&&(window.__aboutPinnedActive=!1),E.current=0,b.current=0,U(0),Y.current=!1,!G.current&&typeof window<"u"){try{const pt=new CustomEvent("aboutPinnedEnded");window.dispatchEvent(pt)}catch{}G.current=!0}}catch{l(0)}finally{ie=null}}))};return window.addEventListener("scroll",_e,{passive:!0}),()=>{window.removeEventListener("scroll",_e),ie&&cancelAnimationFrame(ie),typeof window<"u"&&(window.__aboutPinnedActive=!1)}},[t]),H.useEffect(()=>{if(!z.current||!t)return;const ie={passive:!1,capture:!0},_e=40;let Be=null;const Ze=300,gt=400,pt=20,ne=re=>{if(w.current||!se.current)return;const Ve=se.current.getBoundingClientRect(),Ke=typeof window<"u"?window.innerHeight:0;if(!(Ve.top<=0&&Ve.bottom>Ke)||typeof re.deltaY!="number"||re.deltaY<=0)return;if(!Y.current){Y.current=!0,E.current=0,b.current=0,U(.2),re.preventDefault(),re.stopPropagation();return}const _t=Date.now();if(_t-b.current>gt&&(E.current=Math.max(0,E.current-(_t-b.current)/gt*30)),re.deltaY>=pt&&(E.current+=re.deltaY,b.current=_t,U(Math.min(1,E.current/Ze))),E.current<Ze){re.preventDefault(),re.stopPropagation();return}E.current=0,b.current=0,U(0),re.preventDefault(),re.stopPropagation(),w.current=!0;try{typeof window<"u"&&(window.__videoHandoffActive=!0)}catch{}const vt=ze=>{try{ze.preventDefault(),ze.stopPropagation()}catch{}return!1};try{R.current=document.body.style.overflow,C.current=document.body.style.touchAction,A.current=document.documentElement.style.overscrollBehavior,document.body.style.overflow="hidden",document.body.style.touchAction="none",document.documentElement.style.overscrollBehavior="none"}catch{}document.addEventListener("wheel",vt,ie),document.addEventListener("touchmove",vt,ie),document.addEventListener("touchstart",vt,ie),document.addEventListener("touchend",vt,ie),document.addEventListener("scroll",vt,ie),document.addEventListener("keydown",vt,ie);try{typeof window<"u"&&(window.addEventListener("wheel",vt,ie),window.addEventListener("touchmove",vt,ie),window.addEventListener("touchstart",vt,ie),window.addEventListener("touchend",vt,ie),window.addEventListener("scroll",vt,ie))}catch{}const $=P,q=typeof performance<"u"?performance.now():Date.now(),xe=Math.max(0,Math.min(s,1)),Ne=ze=>{const Ue=ze||(typeof performance<"u"?performance.now():Date.now()),mt=Math.max(0,Math.min((Ue-q)/$,1)),ht=1-Math.pow(1-mt,4),Dt=xe+(1-xe)*ht;if(l(Dt),L(mt),mt<1)requestAnimationFrame(Ne);else{try{typeof window<"u"&&(window.__videoHandoffActive=!1)}catch{}try{typeof window<"u"&&(window.__aboutPinnedActive=!1)}catch{}document.removeEventListener("wheel",vt,ie),document.removeEventListener("touchmove",vt,ie),document.removeEventListener("touchstart",vt,ie),document.removeEventListener("touchend",vt,ie),document.removeEventListener("scroll",vt,ie),document.removeEventListener("keydown",vt,ie);try{typeof window<"u"&&(window.removeEventListener("wheel",vt,ie),window.removeEventListener("touchmove",vt,ie),window.removeEventListener("touchstart",vt,ie),window.removeEventListener("touchend",vt,ie),window.removeEventListener("scroll",vt,ie))}catch{}try{document.body.style.overflow=R.current||"",document.body.style.touchAction=C.current||"",document.documentElement.style.overscrollBehavior=A.current||""}catch{}try{if(typeof window<"u"){l(1);const wt=new CustomEvent("aboutPinnedEnded");window.dispatchEvent(wt)}}catch{}try{G.current=!0}catch{}w.current=!1,L(1),Y.current=!1}};requestAnimationFrame(Ne)},be=z.current;be.addEventListener("wheel",ne,ie);const De=re=>{if(!se.current)return;const Ve=se.current.getBoundingClientRect(),Ke=typeof window<"u"?window.innerHeight:0;if(Ve.top<=0&&Ve.bottom>Ke)try{Be=re.touches&&re.touches[0]?re.touches[0].clientY:null}catch{Be=null}},Ye=re=>{if(w.current||!se.current)return;const Ve=se.current.getBoundingClientRect(),Ke=typeof window<"u"?window.innerHeight:0;if(!(Ve.top<=0&&Ve.bottom>Ke)||Be==null)return;const _t=re.changedTouches&&re.changedTouches[0]?re.changedTouches[0].clientY:Be;if(Be-_t<_e)return;if(!Y.current){Y.current=!0,re.preventDefault(),re.stopPropagation();return}re.preventDefault(),re.stopPropagation(),w.current=!0;try{typeof window<"u"&&(window.__videoHandoffActive=!0)}catch{}const $=Ue=>{try{Ue.preventDefault(),Ue.stopPropagation()}catch{}return!1};try{R.current=document.body.style.overflow,C.current=document.body.style.touchAction,A.current=document.documentElement.style.overscrollBehavior,document.body.style.overflow="hidden",document.body.style.touchAction="none",document.documentElement.style.overscrollBehavior="none"}catch{}document.addEventListener("wheel",$,ie),document.addEventListener("touchmove",$,ie),document.addEventListener("touchstart",$,ie),document.addEventListener("touchend",$,ie),document.addEventListener("scroll",$,ie),document.addEventListener("keydown",$,ie);try{typeof window<"u"&&(window.addEventListener("wheel",$,ie),window.addEventListener("touchmove",$,ie),window.addEventListener("touchstart",$,ie),window.addEventListener("touchend",$,ie),window.addEventListener("scroll",$,ie))}catch{}const q=P,xe=typeof performance<"u"?performance.now():Date.now(),Ne=Math.max(0,Math.min(s,1)),ze=Ue=>{const mt=Ue||(typeof performance<"u"?performance.now():Date.now()),ht=Math.max(0,Math.min((mt-xe)/q,1)),Dt=1-Math.pow(1-ht,4),wt=Ne+(1-Ne)*Dt;if(l(wt),L(ht),ht<1)requestAnimationFrame(ze);else{try{typeof window<"u"&&(window.__videoHandoffActive=!1)}catch{}try{typeof window<"u"&&(window.__aboutPinnedActive=!1)}catch{}document.removeEventListener("wheel",$,ie),document.removeEventListener("touchmove",$,ie),document.removeEventListener("touchstart",$,ie),document.removeEventListener("touchend",$,ie),document.removeEventListener("scroll",$,ie),document.removeEventListener("keydown",$,ie);try{typeof window<"u"&&(window.removeEventListener("wheel",$,ie),window.removeEventListener("touchmove",$,ie),window.removeEventListener("touchstart",$,ie),window.removeEventListener("touchend",$,ie),window.removeEventListener("scroll",$,ie))}catch{}try{document.body.style.overflow=R.current||"",document.body.style.touchAction=C.current||"",document.documentElement.style.overscrollBehavior=A.current||""}catch{}try{if(typeof window<"u"){l(1);const it=new CustomEvent("aboutPinnedEnded");window.dispatchEvent(it)}}catch{}try{G.current=!0}catch{}w.current=!1,L(1),Y.current=!1}};requestAnimationFrame(ze)};return be.addEventListener("touchstart",De,ie),be.addEventListener("touchend",Ye,ie),()=>{be.removeEventListener("wheel",ne,ie),be.removeEventListener("touchstart",De,ie),be.removeEventListener("touchend",Ye,ie)}},[t,s]),H.useEffect(()=>{if(!t){ue(null);return}const ie=()=>{if(te.current){const _e=te.current.getBoundingClientRect();ue({left:_e.left,top:_e.top,width:_e.width,height:_e.height})}};return ie(),window.addEventListener("resize",ie),()=>window.removeEventListener("resize",ie)},[t]);const ye=(ie=>ie<.5?4*ie*ie*ie:1-Math.pow(-2*ie+2,3)/2)(s),F=-300*ye,fe=1-ye,Se=200/P,Ce=Math.max(0,Math.min(1,(N-Se)/Math.max(1e-4,1-Se))),ke=Math.min(1,Ce*1),we=1+.1*Ce,ee=1-.2*Ce;return I.jsxs(I.Fragment,{children:[!t&&I.jsx($le,{}),t&&I.jsx("div",{ref:se,className:"relative",style:{height:"300vh"},children:I.jsxs("section",{id:"about",ref:z,"data-theme":"light",className:"sticky top-0 bg-white flex items-center justify-center",style:{height:"100vh",width:"100vw",overflow:"hidden",paddingTop:"calc(var(--nav-h, 64px) + 1.5cm)"},children:[I.jsx("div",{className:"w-full h-full",style:{marginTop:p.marginTop,overflowY:r?"auto":"visible",WebkitOverflowScrolling:r?"touch":void 0,height:"100%",maxHeight:"100%",paddingBottom:r?"16px":0,maxWidth:p.maxWidth,marginLeft:"auto",marginRight:"auto"},children:I.jsxs("div",{className:"w-full mx-auto grid grid-cols-2 items-center",style:{columnGap:p.columnGap,maxWidth:p.maxWidth,paddingLeft:p.paddingHorizontal,paddingRight:p.paddingHorizontal},children:[I.jsxs("div",{ref:X,className:"flex flex-col justify-center",style:{transform:`translateX(${F}px) translateY(0px)`,opacity:fe,transition:typeof window<"u"&&window.innerWidth>=1024?"transform 0.8s ease-out, opacity 0.8s ease-out":"none",pointerEvents:fe<.05?"none":"auto",maxHeight:i?u==="small"?"calc(100vh - 220px)":u==="medium"?"calc(100vh - 200px)":u==="large"?"calc(100vh - 25vh)":"calc(100vh - 180px)":"calc(100vh - 180px)",overflow:"visible",minHeight:i?"auto":u==="large"?"calc(100vh - 30vh)":"calc(100vh - 200px)",paddingTop:"12px",paddingBottom:"12px"},children:[I.jsxs("div",{style:{marginTop:i?u==="large"?"0px":v("-10px","-15px","30px"):"0px",transition:typeof window<"u"&&window.innerWidth>=1024?"margin-top 0.8s ease-out":"none"},children:[I.jsxs("p",{className:"font-normal mb-2 flex items-center",style:{fontFamily:"Inter, sans-serif",fontSize:_("17px","22px","23px"),color:"#092646",lineHeight:1.1,gap:v("5px","6px","7px"),flex:"none",order:0,flexGrow:0,whiteSpace:"nowrap"},children:[I.jsx("img",{src:aR,alt:"Icon",style:{width:S("16px","21px","26px"),height:S("16px","21px","26px")}}),"Know our story"]}),I.jsx("h1",{className:"mb-4 font-bold text-[#1966BB]",style:{fontFamily:"EB Garamond, serif",fontSize:_("40px","56px","50px"),lineHeight:_("40px","60px","56px"),letterSpacing:v("-0.18px","-0.2px","0px"),display:"flex",alignItems:"center",flex:"none",order:0,flexGrow:0,marginBottom:i?v("14px","18px","16px"):v("18px","24px","40px")},children:I.jsx("span",{className:"block",children:"About BaFT"})})]}),I.jsx(Jle,{content:`We're Vibha, Dion and Saket, the trio behind BaFT Technology. We started this company with a simple goal: to make banking in India less of a headache and more of a smooth, dare we say... enjoyable experience.

Somewhere between dodging endless forms and wondering if "technical glitch" was just a lifestyle, we figured there had to be a better way to do things. So, armed with ambition, caffeine, and a shared love for solving messy problems, we got to work and BaFT Technology was born.

At BaFT, we build smart, seamless solutions that cut through the clutter of traditional banking. No more confusing interfaces, endless queues, or mysterious errors. Just clean, user-friendly tools designed for real people.`,onExpandChange:e,compact:r,screenSize:u})]}),I.jsx("div",{className:"flex justify-end",children:I.jsx("div",{ref:te,className:"about-right-responsive relative rounded-3xl overflow-hidden",style:{width:"100%",maxWidth:"500px",height:"auto",minHeight:"400px"},children:I.jsx("div",{className:"w-full h-full",style:{opacity:1-ye,transition:"opacity 120ms linear"},children:I.jsx(S4,{disabled:ye>.1})})})})]})}),I.jsx("div",{className:"fixed inset-0 pointer-events-none",children:ae&&(()=>{const ie=typeof window<"u"?window.innerWidth:0,_e=typeof window<"u"?window.innerHeight:0,Be=ie,Ze=_e,gt=ae.width+(Be-ae.width)*ye,pt=ae.height+(Ze-ae.height)*ye,ne=0,be=0,De=ae.left+(ne-ae.left)*ye,Ye=ae.top+(be-ae.top)*ye,re=Math.max(0,24*(1-ye)),Ve=.25*(1-ye);return I.jsxs("div",{className:"absolute",style:{left:`${De}px`,top:`${Ye}px`,width:`${gt}px`,height:`${pt}px`,borderRadius:`${re}px`,overflow:"hidden",boxShadow:`0 40px 120px rgba(0,0,0,${Ve})`,pointerEvents:"none",transform:`scale(${we})`,transformOrigin:"center center",transition:"transform 120ms linear"},children:[I.jsx("div",{className:"relative w-full h-full",style:{opacity:ee},children:I.jsx(S4,{disabled:!0})}),I.jsx("div",{style:{position:"absolute",inset:0,background:"#000",opacity:ke,pointerEvents:"none"}})]})})()})]})})]})},ece=({onOpenThanks:i})=>{const[e,t]=H.useState(""),[n,r]=H.useState(!1),[a,s]=H.useState(""),l=p=>/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(p.trim()),u=l(e),f=async p=>{p.preventDefault(),s("");const g=e.trim().toLowerCase();if(!l(g)){s("Please enter a valid email address.");return}r(!0);try{const{error:v}=await eE.from("subscribers").insert([{email:g}]);if(v){console.error("Supabase insert error:",v),s("Something went wrong. Please try again.");return}t(""),i()}catch(v){console.error("Unexpected error:",v),s("Something went wrong. Please try again.")}finally{r(!1)}};return I.jsxs("section",{className:"relative text-white mx-auto overflow-visible px-4 sm:px-6 flex",style:{width:"clamp(327px, 85vw, 500px)",height:"clamp(160px, 40vh, 220px)",borderRadius:"20px",background:"linear-gradient(92.61deg, #092646 3.49%, #3766B7 98.57%)",opacity:1,top:"16px",margin:"0 auto",border:"1px solid rgba(255, 255, 255, 0.1)",boxShadow:"0 8px 32px rgba(0, 0, 0, 0.3)"},children:[I.jsx("div",{className:"py-4 sm:py-6 lg:py-8 relative z-20 px-3 sm:px-4 lg:px-6 w-3/5",children:I.jsxs("div",{className:"flex flex-col items-start text-left gap-3 sm:gap-4 lg:gap-6",children:[I.jsx("h2",{className:"mb-3 sm:mb-4 lg:mb-6",style:{width:"clamp(54px, 15vw, 80px)",height:"clamp(19px, 5vw, 28px)",fontFamily:"EB Garamond",fontWeight:700,fontStyle:"Bold",fontSize:"clamp(16px, 4.5vw, 24px)",lineHeight:"100%",letterSpacing:"-1%",color:"#FFFFFF",opacity:1,transform:"rotate(0deg)",margin:"0",whiteSpace:"nowrap",overflow:"hidden"},children:"Sign Up"}),I.jsx("p",{className:"mb-3 sm:mb-4 lg:mb-6",style:{width:"clamp(195px, 50vw, 280px)",height:"clamp(42px, 10vw, 60px)",fontFamily:"Inter",fontWeight:400,fontStyle:"Regular",fontSize:"clamp(12px, 3vw, 16px)",lineHeight:"120%",letterSpacing:"-1%",color:"#FFFFFFC4",opacity:1,transform:"rotate(0deg)",margin:"0"},children:"Get early access, updates, and exclusive perks. Enter your email below – no spam, we promise."}),I.jsxs("form",{onSubmit:f,className:"flex flex-col items-start gap-3 sm:gap-4 lg:gap-5 w-full",children:[I.jsx("input",{type:"email",placeholder:"Enter Your Email",value:e,onChange:p=>t(p.target.value),className:"w-full text-white placeholder-white/60 border border-white/20 focus:outline-none focus:ring-2 focus:ring-white/30",style:{boxSizing:"border-box",display:"flex",flexDirection:"row",alignItems:"center",padding:"clamp(2px, 0.8vw, 3px) clamp(15px, 4vw, 20px)",gap:"clamp(4px, 1.2vw, 6px)",width:"clamp(200px, 50vw, 350px)",height:"clamp(36px, 9vw, 50px)",background:"rgba(247, 247, 247, 0.18)",backdropFilter:"blur(7.4622px)",borderRadius:"clamp(10px, 3vw, 15px)",fontSize:"clamp(14px, 3.5vw, 18px)",color:"#FFFFFF"}}),a&&I.jsx("span",{className:"text-red-500 text-sm",children:a}),I.jsx("button",{type:"submit",disabled:n||!u,className:`font-medium transition ${e.trim()?"cursor-pointer hover:bg-gray-100":"cursor-not-allowed opacity-50"}`,style:{width:"clamp(80px, 20vw, 120px)",height:"clamp(28px, 7vw, 36px)",minHeight:"clamp(28px, 7vw, 36px)",maxHeight:"clamp(28px, 7vw, 36px)",justifyContent:"center",opacity:e.trim()?1:.5,top:"15px",borderRadius:"9999px",borderWidth:"0.28px",borderStyle:"solid",padding:"0",margin:"0",lineHeight:"1",color:e.trim()?"#000000":"#666666",backgroundColor:e.trim()?"#FFFFFF":"#E5E5E5",border:"0.28px solid",borderImageSource:"linear-gradient(121.31deg, rgba(49, 49, 49, 0.048) -10.95%, rgba(49, 49, 49, 0) 146.16%), linear-gradient(297.75deg, rgba(255, 255, 255, 0.048) 22.05%, rgba(0, 0, 0, 0) 120.83%, rgba(255, 255, 255, 0) 120.83%)",display:"flex",alignItems:"center",fontSize:"clamp(10px, 2.5vw, 14px)",boxSizing:"border-box"},children:n?"Submitting…":"Subscribe"})]})]})}),I.jsx("div",{className:"absolute z-10",style:{width:"clamp(160px, 35vw, 220px)",height:"auto",right:"10px",bottom:"0px"},children:I.jsx("img",{src:"/hand_iphone_image.svg",alt:"Signup Illustration",className:"w-full h-full object-contain"})})]})},tce=[{id:1,icon:I.jsx(hh,{icon:J8}),url:"https://www.instagram.com/baft_tech?igsh=dTFueG81Z3pmbzk0&utm_source=qr"},{id:3,icon:I.jsx(hh,{icon:K8}),url:"https://www.linkedin.com/company/baft-technology/"},{id:4,icon:I.jsx(hh,{icon:$8}),url:"https://www.facebook.com/share/1Aj45FuP4i/?mibextid=wwXIfr"}],nce=()=>{const[i,e]=H.useState(!1);return I.jsxs("footer",{id:"footer","data-theme":"dark",className:"combined-footer smooth-scroll",children:[I.jsxs("div",{className:"pre-footer-container relative bg-black w-screen min-h-screen flex items-center justify-center overflow-hidden py-8 sm:py-12 lg:py-16 xl:py-20",children:[I.jsx("div",{"aria-hidden":!0,style:{position:"absolute",width:"clamp(300px, 80vw, 600px)",height:"clamp(300px, 80vw, 600px)",left:"0px",top:"0px",pointerEvents:"none",zIndex:0,background:"radial-gradient(closest-side at 0 0, rgba(255,255,255,0.3), rgba(255,255,255,0))",backgroundRepeat:"no-repeat",mixBlendMode:"screen",filter:"none",transform:"translateZ(0)"}}),I.jsx("div",{"aria-hidden":!0,style:{position:"absolute",width:"507.43px",height:"508px",left:"calc(50% - 507.43px/2 - 0.3px)",top:"calc(50% - 508px/2)",opacity:.6,pointerEvents:"none",zIndex:0,maskImage:"linear-gradient(to bottom, rgba(0,0,0,0) 0%, rgba(0,0,0,0.3) 20%, rgba(0,0,0,0.8) 40%, rgba(0,0,0,1) 50%, rgba(0,0,0,0.8) 60%, rgba(0,0,0,0.3) 80%, rgba(0,0,0,0) 100%)",WebkitMaskImage:"linear-gradient(to bottom, rgba(0,0,0,0) 0%, rgba(0,0,0,0.3) 20%, rgba(0,0,0,0.8) 40%, rgba(0,0,0,1) 50%, rgba(0,0,0,0.8) 60%, rgba(0,0,0,0.3) 80%, rgba(0,0,0,0) 100%)",mixBlendMode:"screen",filter:"blur(0.8px) drop-shadow(0 0 25px rgba(255,255,255,0.35))"},children:[.3,.4,.5,.6,.7,.8,.9,1].map((t,n)=>{const r=(t-.3)/.7,a=.12+.18*(1-Math.abs(.5-r)*2);return I.jsx("div",{style:{position:"absolute",left:`${(1-t)*50}%`,top:`${(1-t)*50}%`,width:`${t*100}%`,height:`${t*100}%`,borderRadius:"50%",border:`1px solid rgba(255,255,255,${a.toFixed(3)})`,boxSizing:"border-box",boxShadow:`inset 0 0 15px rgba(255,255,255,${(a*.7).toFixed(3)})`}},n)})}),I.jsx("div",{className:"star-groups",style:{position:"relative",zIndex:1},children:I.jsxs("svg",{width:"100%",height:"100%",viewBox:"0 0 400 400",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[I.jsxs("g",{className:"star-group-1",children:[I.jsx("circle",{cx:"200",cy:"200",r:"2",fill:"rgba(255,255,255,0.5)"}),I.jsx("circle",{cx:"150",cy:"150",r:"1.5",fill:"rgba(255,255,255,0.4)"}),I.jsx("circle",{cx:"250",cy:"150",r:"1.5",fill:"rgba(255,255,255,0.4)"}),I.jsx("circle",{cx:"150",cy:"250",r:"1.5",fill:"rgba(255,255,255,0.4)"}),I.jsx("circle",{cx:"250",cy:"250",r:"1.5",fill:"rgba(255,255,255,0.4)"}),I.jsx("circle",{cx:"200",cy:"100",r:"1",fill:"rgba(255,255,255,0.35)"}),I.jsx("circle",{cx:"200",cy:"300",r:"1",fill:"rgba(255,255,255,0.35)"}),I.jsx("circle",{cx:"100",cy:"200",r:"1",fill:"rgba(255,255,255,0.35)"}),I.jsx("circle",{cx:"300",cy:"200",r:"1",fill:"rgba(255,255,255,0.35)"})]}),I.jsxs("g",{className:"star-group-2",children:[I.jsx("circle",{cx:"50",cy:"50",r:"1.5",fill:"rgba(255,255,255,0.5)"}),I.jsx("circle",{cx:"350",cy:"50",r:"1.5",fill:"rgba(255,255,255,0.5)"}),I.jsx("circle",{cx:"50",cy:"350",r:"1.5",fill:"rgba(255,255,255,0.5)"}),I.jsx("circle",{cx:"350",cy:"350",r:"1.5",fill:"rgba(255,255,255,0.5)"}),I.jsx("circle",{cx:"50",cy:"150",r:"1.5",fill:"rgba(255,255,255,0.5)"}),I.jsx("circle",{cx:"350",cy:"150",r:"1.5",fill:"rgba(255,255,255,0.5)"}),I.jsx("circle",{cx:"50",cy:"250",r:"1.5",fill:"rgba(255,255,255,0.5)"}),I.jsx("circle",{cx:"350",cy:"250",r:"1.5",fill:"rgba(255,255,255,0.5)"}),I.jsx("circle",{cx:"100",cy:"100",r:"1",fill:"rgba(255,255,255,0.4)"}),I.jsx("circle",{cx:"300",cy:"100",r:"1",fill:"rgba(255,255,255,0.4)"}),I.jsx("circle",{cx:"100",cy:"300",r:"1",fill:"rgba(255,255,255,0.4)"}),I.jsx("circle",{cx:"300",cy:"300",r:"1",fill:"rgba(255,255,255,0.4)"})]})]})}),I.jsxs("div",{className:"text-container relative z-10 text-center px-4 sm:px-6 lg:px-8",children:[I.jsx("h1",{className:"main-heading mb-3 sm:mb-4 lg:mb-6 font-bold text-center",style:{width:"min(284px, 90vw)",height:"auto",minHeight:"32px",fontFamily:"Satoshi",fontWeight:700,fontSize:"clamp(24px, 6vw, 40px)",lineHeight:"100%",letterSpacing:"0%",background:"linear-gradient(101.23deg, #EDEDED 24.07%, #B6B6B6 96.8%)",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent",backgroundClip:"text",maxWidth:"100%",margin:"0 auto"},children:"Banking was never easy…"}),I.jsx("p",{className:"sub-heading font-medium text-center",style:{width:"100%",maxWidth:"400px",height:"auto",minHeight:"19px",fontFamily:"Satoshi",fontWeight:500,fontSize:"clamp(16px, 4vw, 22px)",lineHeight:"100%",letterSpacing:"0%",color:"#9898A8",margin:"0 auto",whiteSpace:"nowrap"},children:"BaFT – Built for You, Powered by Tech"})]})]}),I.jsx("div",{className:"main-footer bg-gray-100 py-6 px-4 shadow-lg border-t border-gray-200",children:I.jsxs("div",{className:"max-w-full mx-auto",children:[I.jsx("div",{className:"mb-6",children:I.jsx(ece,{onOpenThanks:()=>e(!0)})}),I.jsx("div",{className:"mb-10"}),I.jsxs("div",{className:"flex flex-col items-center gap-6",children:[I.jsxs("div",{className:"flex flex-row justify-between items-start gap-8 w-full max-w-md",children:[I.jsxs("div",{className:"flex flex-col items-start gap-2 text-left flex-1 pl-4 sm:pl-6",children:[I.jsx("p",{className:"font-semibold text-[13px] text-[#000000]",style:{fontFamily:"EB Garamond"},children:"CONTACT US"}),I.jsx("a",{href:"tel:+916361042098",className:"font-medium text-[13px] text-[#000000] hover:underline",style:{fontFamily:"Inter"},children:"+91 6361042098"}),I.jsx("a",{href:"mailto:business@thebaft.com",className:"font-medium text-[13px] text-[#000000] hover:underline",style:{fontFamily:"Inter"},children:"business@thebaft.com"}),I.jsx("a",{href:"mailto:support@thebaft.com",className:"font-medium text-[13px] text-[#000000] hover:underline",style:{fontFamily:"Inter"},children:"support@thebaft.com"})]}),I.jsxs("div",{className:"flex flex-col items-center justify-center gap-3 flex-1 text-center h-full",children:[I.jsx("p",{className:"font-medium text-[12px] leading-[1.5] tracking-[0.04em] uppercase text-[#092646]",style:{fontFamily:"Inter"},children:"FOLLOW US"}),I.jsx("div",{className:"flex items-center justify-center gap-3 w-full",children:tce.map(t=>I.jsx("a",{href:t.url,target:"_blank",rel:"noopener noreferrer","aria-label":`Social link ${t.id}`,className:"border border-gray-300 rounded-full p-2.5 text-[#092646] hover:bg-[#092646] hover:text-white transition duration-300 text-lg",children:t.icon},t.id))})]})]}),I.jsxs("div",{className:"flex flex-col items-center gap-2 text-center mt-[-6] pt-0 border-none border-gray-300",children:[I.jsx("img",{src:"/baft_pic.png",alt:"BaFT Logo",className:"p-2 w-[70px] h-[70px] rounded-[20px] object-cover"}),I.jsx("h6",{className:"font-bold text-[16px] leading-[1.2] tracking-[-0.01em] text-[#092646]",style:{fontFamily:"EB Garamond"},children:"BaFT Technology Pvt.Ltd"}),I.jsx("p",{className:"font-normal text-[13px] leading-[1.3] tracking-[-0.01em] text-[#3E3E3E] px-4",style:{fontFamily:"Inter"},children:"3rd Floor, No. 38, Greenleaf Extension, 3rd Cross, 80 Feet Rd, 4th Block, Koramangala, Bengaluru, Karnataka 560034"}),I.jsx("div",{className:"mt-4 pt-3 border-t border-gray-300",children:I.jsx("p",{style:{fontFamily:"Inter",fontWeight:400,fontSize:"8px",lineHeight:"150%",letterSpacing:"0%",textAlign:"center",color:"#36382E"},children:"© 2025 — Copyright BaFT"})})]})]})]})}),i&&I.jsx(Q8,{isOpen:!0,onClose:()=>e(!1)})]})},ice=({onOpenThanks:i})=>{const[e,t]=H.useState(""),[n,r]=H.useState(!1),[a,s]=H.useState(""),[l,u]=H.useState(!1),f=v=>/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(v.trim()),p=f(e.trim().toLowerCase()),g=async v=>{v.preventDefault(),s("");const _=e.trim().toLowerCase();if(!f(_)){s("Please enter a valid email address.");return}r(!0);try{const{error:S}=await eE.from("subscribers").insert([{email:_}]);if(S){console.error("Supabase insert error:",S),s("Something went wrong. Please try again.");return}t(""),i()}catch(S){console.error("Unexpected error:",S),s("Something went wrong. Please try again.")}finally{r(!1)}};return I.jsxs("section",{className:"relative text-white mx-auto w-full max-w-screen-xl overflow-visible px-4 sm:px-6 lg:px-8",style:{borderRadius:"30px",background:"linear-gradient(92.61deg, #092646 3.49%, #3766B7 98.57%)",width:"95%"},children:[I.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-y-6 md:gap-x-8 py-8 md:py-10 lg:py-14 relative z-10",children:I.jsxs("div",{className:"flex flex-col justify-center text-center md:text-left order-2 md:order-1",children:[I.jsx("h2",{className:"text-2xl sm:text-3xl lg:text-4xl font-semibold mb-3",style:{fontFamily:"EB Garamond",fontWeight:700,letterSpacing:"-1%",lineHeight:"120%"},children:"Sign Up"}),I.jsx("p",{className:"text-sm sm:text-base text-gray-200 mb-6",style:{fontFamily:"Inter",fontWeight:200,letterSpacing:"-1%",lineHeight:"150%"},children:"Get early access, updates, and exclusive perks. Enter your email below – no spam, we promise."}),I.jsxs("form",{onSubmit:g,className:"flex flex-col sm:flex-row items-center gap-3",children:[I.jsx("input",{type:"email",placeholder:"Enter Your Email",value:e,onChange:v=>t(v.target.value),onFocus:()=>u(!0),className:"w-full sm:flex-1 px-4 py-2.5 rounded-full bg-white/10 backdrop-blur-sm text-white placeholder-white/60 border border-white/20 focus:outline-none focus:ring-2 focus:ring-white/30",style:{borderRadius:"17.15px"},disabled:n}),I.jsx("button",{type:"submit",disabled:n||!p,className:"cursor-pointer w-full sm:w-auto px-5 py-2.5 rounded-full font-medium transition bg-white text-black hover:bg-gray-100 disabled:opacity-50 disabled:cursor-not-allowed",style:{minWidth:"110px"},children:I.jsx("span",{style:{fontFamily:"Inter",fontWeight:500,fontSize:"13px",lineHeight:"16px"},children:n?"Submitting...":"Subscribe"})})]}),a&&I.jsx("p",{className:"mt-2 text-red-500 text-sm",children:a})]})}),I.jsx("div",{className:"absolute right-4 md:right-8 -bottom-0 md:-bottom-3 lg:-bottom-5.5 z-20",children:I.jsx("img",{src:M7,alt:"Signup Illustration",className:"w-[200px] sm:w-[245px] md:w-[300px] lg:w-[350px] object-contain"})})]})},rce=[{id:1,icon:I.jsx(hh,{icon:J8}),url:"https://www.instagram.com/baft_tech"},{id:3,icon:I.jsx(hh,{icon:K8}),url:"https://www.linkedin.com/company/baft-technology/"},{id:4,icon:I.jsx(hh,{icon:$8}),url:"https://www.facebook.com/share/1Aj45FuP4i/"}],ace=()=>{const[i,e]=H.useState(!1),[t,n]=H.useState(!1);return H.useEffect(()=>{const r=()=>{const a=window.innerHeight>window.innerWidth,s=window.innerWidth<=768||window.innerWidth<=1024&&a||/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);n(s&&a)};return r(),window.addEventListener("resize",r),window.addEventListener("orientationchange",r),()=>{window.removeEventListener("resize",r),window.removeEventListener("orientationchange",r)}},[]),t?I.jsx(nce,{}):I.jsxs("footer",{id:"footer","data-theme":"dark",className:"combined-footer smooth-scroll",children:[I.jsxs("div",{className:"pre-footer-container",style:{position:"relative"},children:[I.jsx("div",{"aria-hidden":!0,style:{position:"absolute",width:"887px",height:"888px",left:"0px",top:"0px",pointerEvents:"none",zIndex:0,background:"radial-gradient(closest-side at 0 0, rgba(255,255,255,0.4), rgba(255,255,255,0))",backgroundRepeat:"no-repeat",mixBlendMode:"screen",filter:"none",transform:"translateZ(0)"}}),I.jsx("div",{"aria-hidden":!0,style:{position:"absolute",width:"clamp(820px, 95vmin, 2600px)",aspectRatio:"887 / 888",left:"50%",top:"50%",transform:"translate(-50%, -50%)",opacity:.8,pointerEvents:"none",zIndex:0,maskImage:"linear-gradient(to bottom, rgba(0,0,0,0) 0%, rgba(0,0,0,0.3) 20%, rgba(0,0,0,0.8) 40%, rgba(0,0,0,1) 50%, rgba(0,0,0,0.8) 60%, rgba(0,0,0,0.3) 80%, rgba(0,0,0,0) 100%)",WebkitMaskImage:"linear-gradient(to bottom, rgba(0,0,0,0) 0%, rgba(0,0,0,0.3) 20%, rgba(0,0,0,0.8) 40%, rgba(0,0,0,1) 50%, rgba(0,0,0,0.8) 60%, rgba(0,0,0,0.3) 80%, rgba(0,0,0,0) 100%)",mixBlendMode:"screen",filter:"blur(0.8px) drop-shadow(0 0 25px rgba(255,255,255,0.35))"},children:[.3,.4,.5,.6,.7,.8,.9,1].map((r,a)=>{const s=(r-.3)/.7,l=.18+.25*(1-Math.abs(.5-s)*2);return I.jsx("div",{style:{position:"absolute",left:`${(1-r)*50}%`,top:`${(1-r)*50}%`,width:`${r*100}%`,height:`${r*100}%`,borderRadius:"50%",border:`1px solid rgba(255,255,255,${l.toFixed(3)})`,boxSizing:"border-box",boxShadow:`inset 0 0 15px rgba(255,255,255,${(l*.7).toFixed(3)})`}},a)})}),I.jsx("div",{className:"star-groups",style:{position:"relative",zIndex:1},children:I.jsxs("svg",{width:"100%",height:"100%",viewBox:"0 0 1920 1080",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[I.jsxs("g",{className:"star-group-1",children:[I.jsx("circle",{cx:"960",cy:"540",r:"2",fill:"rgba(255,255,255,0.6)"}),I.jsx("circle",{cx:"800",cy:"400",r:"1.5",fill:"rgba(255,255,255,0.5)"}),I.jsx("circle",{cx:"1120",cy:"400",r:"1.5",fill:"rgba(255,255,255,0.5)"}),I.jsx("circle",{cx:"800",cy:"680",r:"1.5",fill:"rgba(255,255,255,0.5)"}),I.jsx("circle",{cx:"1120",cy:"680",r:"1.5",fill:"rgba(255,255,255,0.5)"}),I.jsx("circle",{cx:"960",cy:"300",r:"1",fill:"rgba(255,255,255,0.4)"}),I.jsx("circle",{cx:"960",cy:"780",r:"1",fill:"rgba(255,255,255,0.4)"}),I.jsx("circle",{cx:"700",cy:"540",r:"1",fill:"rgba(255,255,255,0.4)"}),I.jsx("circle",{cx:"1220",cy:"540",r:"1",fill:"rgba(255,255,255,0.4)"})]}),I.jsxs("g",{className:"star-group-2",children:[I.jsx("circle",{cx:"200",cy:"200",r:"1.5",fill:"rgba(255,255,255,0.6)"}),I.jsx("circle",{cx:"1720",cy:"200",r:"1.5",fill:"rgba(255,255,255,0.6)"}),I.jsx("circle",{cx:"200",cy:"880",r:"1.5",fill:"rgba(255,255,255,0.6)"}),I.jsx("circle",{cx:"1720",cy:"880",r:"1.5",fill:"rgba(255,255,255,0.6)"}),I.jsx("circle",{cx:"200",cy:"400",r:"1.5",fill:"rgba(255,255,255,0.6)"}),I.jsx("circle",{cx:"1720",cy:"400",r:"1.5",fill:"rgba(255,255,255,0.6)"}),I.jsx("circle",{cx:"200",cy:"680",r:"1.5",fill:"rgba(255,255,255,0.6)"}),I.jsx("circle",{cx:"1720",cy:"680",r:"1.5",fill:"rgba(255,255,255,0.6)"}),I.jsx("circle",{cx:"400",cy:"300",r:"1",fill:"rgba(255,255,255,0.5)"}),I.jsx("circle",{cx:"1520",cy:"300",r:"1",fill:"rgba(255,255,255,0.5)"}),I.jsx("circle",{cx:"400",cy:"780",r:"1",fill:"rgba(255,255,255,0.5)"}),I.jsx("circle",{cx:"1520",cy:"780",r:"1",fill:"rgba(255,255,255,0.5)"})]})]})}),I.jsxs("div",{className:"text-container",children:[I.jsx("h1",{className:"main-heading",children:"Banking was never easy…"}),I.jsx("p",{className:"sub-heading",children:"BaFT – Built for You, Powered by Tech"})]})]}),I.jsx("div",{className:"main-footer bg-gray-100 py-6 md:py-12 px-4 shadow-lg border-t border-gray-200",children:I.jsxs("div",{className:"max-w-full mx-auto",children:[I.jsx("div",{className:"mb-6 md:mb-8",children:I.jsx(ice,{onOpenThanks:()=>e(!0)})}),I.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center px-4 md:px-8 lg:px-12 bg-transparent rounded-lg gap-6 md:gap-4",children:[I.jsxs("div",{className:"flex flex-col items-center md:items-start gap-1 w-full md:w-[280px]",children:[I.jsx("img",{src:T7,alt:"BaFT Logo",className:"p-2 w-[80px] h-[80px] rounded-[20px] object-cover"}),I.jsx("h6",{className:"font-bold text-[18px] md:text-[20px] leading-[1.2] tracking-[-0.01em] text-[#092646] text-center md:text-left",style:{fontFamily:"EB Garamond"},children:"BaFT Technology Pvt.Ltd"}),I.jsx("p",{className:"font-normal text-[14px] md:text-[16px] leading-[1.2] tracking-[-0.01em] text-[#3E3E3E] text-center md:text-left",style:{fontFamily:"Inter"},children:"3rd Floor, No. 38, Greenleaf Extension, 3rd Cross, 80 Feet Rd, 4th Block, Koramangala, Bengaluru, Karnataka 560034"})]}),I.jsxs("div",{className:"flex flex-col items-center gap-2 w-full md:w-[180px] h-auto md:h-[60px] my-4 md:my-0",children:[I.jsx("p",{className:"font-medium text-[13px] leading-[1.5] tracking-[0.04em] uppercase text-[#092646] text-center",style:{fontFamily:"Inter"},children:"FOLLOW US"}),I.jsx("div",{className:"flex items-center gap-2",children:rce.map(r=>I.jsx("a",{href:r.url,target:"_blank",rel:"noopener noreferrer","aria-label":`Social link ${r.id}`,className:"border border-gray-300 rounded-full p-2 text-[#092646] hover:bg-[#092646] hover:text-white transition duration-300 text-lg",children:r.icon},r.id))})]}),I.jsx("div",{className:"flex flex-col justify-center items-center md:items-end w-full md:w-[280px] h-auto md:h-[120px] text-[#000000] space-y-1",children:[{label:"CONTACT US"},{label:"+91 6361042098",href:"tel:+916361042098"},{label:"business@thebaft.com",href:"mailto:business@thebaft.com"},{label:"support@thebaft.com",href:"mailto:support@thebaft.com"}].map(({label:r,href:a},s)=>I.jsx("p",{className:s===0?"mb-1 font-semibold":"mb-0 font-medium",style:{fontFamily:s===0?"EB Garamond":"Inter",fontSize:s===0?14:13,lineHeight:"150%",letterSpacing:"0.04em",textAlign:"center"},children:a?I.jsx("a",{href:a,className:"hover:underline",children:r}):r},s))})]})]})}),i&&I.jsx(Q8,{isOpen:!0,onClose:()=>e(!1)})]})},sce=()=>{const[i,e]=H.useState(0);H.useEffect(()=>{const r=["/baft_card1.svg","/baft_card2.svg","/baft_card3.svg","/baft_card4.svg"].map(a=>{const s=new Image;return s.decoding="async",s.src=a,s});return()=>{r.forEach(a=>a.src="")}},[]);const t=n=>{e(n)};return I.jsxs("div",{className:"min-h-screen",children:[I.jsx(L7,{currentSlide:i,onNavigate:(n,r={})=>{const a=!!r.slow,s=!!r.instant,l=u=>{try{const f=new CustomEvent("navigateToSlide",{detail:{index:u,slow:a,instant:s}});window.dispatchEvent(f)}catch{e(u)}};if(n==="hero"){s?e(0):l(0);return}if(n==="about"){l(6);return}}}),I.jsxs(U7,{currentSlide:i,onSlideChange:t,children:[I.jsx($j,{}),I.jsx(yG,{}),I.jsx(lae,{}),I.jsx(hae,{}),I.jsx(mae,{}),I.jsx(yae,{}),I.jsx(Qle,{}),I.jsx(ace,{})]})]})},oce=()=>I.jsx("div",{children:" NotFound"});function lce(){return H.useEffect(()=>{if(/^((?!chrome|android).)*safari/i.test(navigator.userAgent)){let e=function(){let t=window.innerHeight*.01;document.documentElement.style.setProperty("--vh",`${t}px`)};document.body.classList.add("safari-browser"),e(),window.addEventListener("resize",e),window.addEventListener("orientationchange",e),document.documentElement.style.scrollBehavior="smooth",document.documentElement.style.webkitOverflowScrolling="touch"}},[]),I.jsx(I.Fragment,{children:I.jsx(lV,{children:I.jsxs(kH,{children:[I.jsx($T,{index:!0,element:I.jsx(sce,{})}),I.jsx($T,{path:"*",element:I.jsx(oce,{})})]})})})}const SD=/^((?!chrome|android).)*safari/i.test(navigator.userAgent);if(SD){const i=document.createElement("style");i.textContent=`
    * {
      -webkit-backface-visibility: hidden;
      backface-visibility: hidden;
    }
  `,document.head.appendChild(i),document.querySelectorAll('[style*="mix-blend-mode"]').forEach(l=>{const u=window.getComputedStyle(l);u.mixBlendMode&&(l.style.webkitMixBlendMode=u.mixBlendMode)}),document.querySelectorAll('[style*="backdrop-filter"]').forEach(l=>{const u=window.getComputedStyle(l);u.backdropFilter&&(l.style.webkitBackdropFilter=u.backdropFilter)}),document.querySelectorAll(".coin-text, .eb-garamond-Bfast, .inter-Bfast_sub").forEach(l=>{l.classList.add("safari-text-gradient")}),document.querySelectorAll('[style*="transform"]').forEach(l=>{const u=window.getComputedStyle(l);u.transform&&u.transform!=="none"&&(l.style.webkitTransform=u.transform)}),document.documentElement.style.scrollBehavior="smooth",document.documentElement.style.webkitOverflowScrolling="touch",document.fonts&&document.fonts.ready.then(()=>{document.body.classList.add("fonts-loaded")}),document.querySelectorAll("video").forEach(l=>{l.classList.add("safari-video-fix")}),document.querySelectorAll('[class*="animate"], [class*="transition"]').forEach(l=>{l.classList.add("safari-animation-optimized")})}if(SD){let e=function(){i=!1};var _ce=e;document.addEventListener("touchstart",function(t){t.touches.length>1&&t.preventDefault()},{passive:!1});let i=!1;document.addEventListener("scroll",function(){i||(requestAnimationFrame(e),i=!0)}),window.addEventListener("resize",function(){document.body.offsetHeight})}if(SD){let i=function(){let e=window.innerHeight*.01;document.documentElement.style.setProperty("--vh",`${e}px`)};var xce=i;document.body.classList.add("safari-browser"),i(),window.addEventListener("resize",i),window.addEventListener("orientationchange",i)}try{st.config({nullTargetWarn:!1,trialWarn:!1})}catch{}"serviceWorker"in navigator&&navigator.serviceWorker.getRegistrations().then(i=>{i.forEach(e=>e.unregister())}).catch(()=>{});YF.createRoot(document.getElementById("root")).render(I.jsx(H.StrictMode,{children:I.jsx(lce,{})}));
